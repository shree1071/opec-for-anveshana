const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-8Ut97ab-.js","assets/graph-DymCSyzJ.js","assets/_baseUniq-B9xT6fJl.js","assets/layout-Cp7LAtR1.js","assets/min-Dcsw37-Y.js","assets/clone-DVREdDW9.js","assets/ui-CN1--VT8.js","assets/vendor-Bn2Ybjzt.js","assets/cose-bilkent-S5V4N54A-DqBh4mnA.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-6KKJ-yRx.js","assets/chunk-TZMSLE5B-C7WGa0dL.js","assets/flowDiagram-NV44I4VS-Djd61Q1W.js","assets/chunk-FMBD7UC4-qDaxTYtq.js","assets/chunk-55IACEB6-BfWaatxT.js","assets/chunk-QN33PNHL-COo5WtmN.js","assets/channel-DUew-3gR.js","assets/erDiagram-Q2GNP2WA-CkEE-FRz.js","assets/gitGraphDiagram-NY62KEGX-DAlN0q73.js","assets/chunk-4BX2VUAB-D6L9VISa.js","assets/chunk-QZHKN3VN-DYkDqHX5.js","assets/treemap-KMMF4GRG-C3hDEK32.js","assets/ganttDiagram-JELNMOA3-CE2iVA9b.js","assets/infoDiagram-WHAUD3N6-B4w1YSm8.js","assets/pieDiagram-ADFJNKIX-Chkj73ZS.js","assets/arc-B1S8GGeC.js","assets/quadrantDiagram-AYHSOK5B-YB8MpW2_.js","assets/xychartDiagram-PRI3JC2R-Ydy91Vbh.js","assets/requirementDiagram-UZGBJVZJ-DW5_JALV.js","assets/sequenceDiagram-WL72ISMW-BXGmr3mr.js","assets/classDiagram-2ON5EDUG-weRMH_76.js","assets/chunk-B4BG7PRW-CAR4bmYr.js","assets/classDiagram-v2-WZHVMYZB-weRMH_76.js","assets/stateDiagram-FKZM4ZOC-BenTVfsO.js","assets/chunk-DI55MBZ5-BAqBNMVn.js","assets/stateDiagram-v2-4FDKWEC3-D3BPTyUC.js","assets/journeyDiagram-XKPGCS4Q-D9NRJo57.js","assets/timeline-definition-IT6M3QCI-Co-d7DSg.js","assets/mindmap-definition-VGOIOE7T-bhGDf-1h.js","assets/kanban-definition-3W4ZIXB7-hc8Rc_oo.js","assets/sankeyDiagram-TZEHDZUN-6OiSyhMf.js","assets/diagram-S2PKOQOG-GEgd1Hjl.js","assets/diagram-QEK2KX5R-BxmqVek2.js","assets/blockDiagram-VD42YOAC-C_x0YXF7.js","assets/architectureDiagram-VXUJARFQ-Diaxsxah.js","assets/diagram-PSM6KHXK-CDSCp7Vs.js","assets/index.es-B6YdjvEM.js"])))=>i.map(i=>d[i]);
import{j as S,m as St,X as lv,M as qae,A as fl,S as v1,C as ZA,P as kj,T as om,a as h3,Z as q$,b as H$,B as Tb,R as Hae,c as Wae,d as Vae,e as Gae,F as W$,D as d3,f as Kae,g as f3,E as p3,h as Yae,i as k_,k as Xae,l as m3,U as V$,L as Jae,n as G$,o as Eb,p as K$,H as Zae,q as Qae,r as QA,s as Y$,W as ese,t as id,u as g3,v as X$,w as J$,x as Z$,V as tse,y as Cj,z as Q$,G as nse,I as C_,J as v3,K as rse,N as ise,O as eO,Q as ase,Y as sse,_ as ose,$ as lse,a0 as P5,a1 as cse,a2 as use,a3 as hse,a4 as eq,a5 as dse,a6 as fse,a7 as pse,a8 as mse,a9 as gse,aa as vse,ab as yse,ac as bse}from"./ui-CN1--VT8.js";import{a as T_,b as xse,g as sc,r as j,R as Ue,d as E_,u as tq,L as ul,e as nq,f as wse,N as Sse,B as _se,h as kse,i as jh}from"./vendor-Bn2Ybjzt.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var N5={exports:{}},oy={},L5={exports:{}},M5={};var Tj;function Cse(){return Tj||(Tj=1,(function(t){function e(W,Q){var ee=W.length;W.push(Q);e:for(;0<ee;){var he=ee-1>>>1,Y=W[he];if(0<i(Y,Q))W[he]=Q,W[ee]=Y,ee=he;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],ee=W.pop();if(ee!==Q){W[0]=ee;e:for(var he=0,Y=W.length,ye=Y>>>1;he<ye;){var V=2*(he+1)-1,F=W[V],ae=V+1,le=W[ae];if(0>i(F,ee))ae<Y&&0>i(le,F)?(W[he]=le,W[ae]=ee,he=ae):(W[he]=F,W[V]=ee,he=V);else if(ae<Y&&0>i(le,ee))W[he]=le,W[ae]=ee,he=ae;else break e}}return Q}function i(W,Q){var ee=W.sortIndex-Q.sortIndex;return ee!==0?ee:W.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,m=3,p=!1,v=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(W){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=W)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function P(W){if(b=!1,O(W),!v)if(n(l)!==null)v=!0,L||(L=!0,I());else{var Q=n(c);Q!==null&&J(P,Q.startTime-W)}}var L=!1,B=-1,$=5,U=-1;function G(){return x?!0:!(t.unstable_now()-U<$)}function M(){if(x=!1,L){var W=t.unstable_now();U=W;var Q=!0;try{e:{v=!1,b&&(b=!1,C(B),B=-1),p=!0;var ee=m;try{t:{for(O(W),f=n(l);f!==null&&!(f.expirationTime>W&&G());){var he=f.callback;if(typeof he=="function"){f.callback=null,m=f.priorityLevel;var Y=he(f.expirationTime<=W);if(W=t.unstable_now(),typeof Y=="function"){f.callback=Y,O(W),Q=!0;break t}f===n(l)&&r(l),O(W)}else r(l);f=n(l)}if(f!==null)Q=!0;else{var ye=n(c);ye!==null&&J(P,ye.startTime-W),Q=!1}}break e}finally{f=null,m=ee,p=!1}Q=void 0}}finally{Q?I():L=!1}}}var I;if(typeof E=="function")I=function(){E(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=M,I=function(){H.postMessage(null)}}else I=function(){w(M,0)};function J(W,Q){B=w(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var ee=m;m=Q;try{return W()}finally{m=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=m;m=W;try{return Q()}finally{m=ee}},t.unstable_scheduleCallback=function(W,Q,ee){var he=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?he+ee:he):ee=he,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,W={id:u++,callback:Q,priorityLevel:W,startTime:ee,expirationTime:Y,sortIndex:-1},ee>he?(W.sortIndex=ee,e(c,W),n(l)===null&&W===n(c)&&(b?(C(B),B=-1):b=!0,J(P,ee-he))):(W.sortIndex=Y,e(l,W),v||p||(v=!0,L||(L=!0,I()))),W},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(W){var Q=m;return function(){var ee=m;m=Q;try{return W.apply(this,arguments)}finally{m=ee}}}})(M5)),M5}var Ej;function Tse(){return Ej||(Ej=1,L5.exports=Cse()),L5.exports}var Aj;function Ese(){if(Aj)return oy;Aj=1;var t=Tse(),e=T_(),n=xse();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function a(h){var d=h,g=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(g=d.return),h=d.return;while(h)}return d.tag===3?g:null}function s(h){if(h.tag===13){var d=h.memoizedState;if(d===null&&(h=h.alternate,h!==null&&(d=h.memoizedState)),d!==null)return d.dehydrated}return null}function o(h){if(h.tag===31){var d=h.memoizedState;if(d===null&&(h=h.alternate,h!==null&&(d=h.memoizedState)),d!==null)return d.dehydrated}return null}function l(h){if(a(h)!==h)throw Error(r(188))}function c(h){var d=h.alternate;if(!d){if(d=a(h),d===null)throw Error(r(188));return d!==h?null:h}for(var g=h,y=d;;){var k=g.return;if(k===null)break;var A=k.alternate;if(A===null){if(y=k.return,y!==null){g=y;continue}break}if(k.child===A.child){for(A=k.child;A;){if(A===g)return l(k),h;if(A===y)return l(k),d;A=A.sibling}throw Error(r(188))}if(g.return!==y.return)g=k,y=A;else{for(var q=!1,re=k.child;re;){if(re===g){q=!0,g=k,y=A;break}if(re===y){q=!0,y=k,g=A;break}re=re.sibling}if(!q){for(re=A.child;re;){if(re===g){q=!0,g=A,y=k;break}if(re===y){q=!0,y=A,g=k;break}re=re.sibling}if(!q)throw Error(r(189))}}if(g.alternate!==y)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?h:d}function u(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=u(h),d!==null)return d;h=h.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}var K=Symbol.for("react.client.reference");function H(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===K?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case U:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case v:return"Portal";case E:return h.displayName||"Context";case C:return(h._context.displayName||"Context")+".Consumer";case O:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case B:return d=h.displayName||null,d!==null?d:H(h.type)||"Memo";case $:d=h._payload,h=h._init;try{return H(h(d))}catch{}}return null}var J=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},he=[],Y=-1;function ye(h){return{current:h}}function V(h){0>Y||(h.current=he[Y],he[Y]=null,Y--)}function F(h,d){Y++,he[Y]=h.current,h.current=d}var ae=ye(null),le=ye(null),pe=ye(null),xe=ye(null);function Oe(h,d){switch(F(pe,d),F(le,h),F(ae,null),d.nodeType){case 9:case 11:h=(h=d.documentElement)&&(h=h.namespaceURI)?GI(h):0;break;default:if(h=d.tagName,d=d.namespaceURI)d=GI(d),h=KI(d,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}V(ae),F(ae,h)}function fe(){V(ae),V(le),V(pe)}function Ce(h){h.memoizedState!==null&&F(xe,h);var d=ae.current,g=KI(d,h.type);d!==g&&(F(le,h),F(ae,g))}function Fe(h){le.current===h&&(V(ae),V(le)),xe.current===h&&(V(xe),ry._currentValue=ee)}var Te,nt;function rt(h){if(Te===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);Te=d&&d[1]||"",nt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+h+nt}var se=!1;function lt(h,d){if(!h||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(ze){var Be=ze}Reflect.construct(h,[],Ye)}else{try{Ye.call()}catch(ze){Be=ze}h.call(Ye.prototype)}}else{try{throw Error()}catch(ze){Be=ze}(Ye=h())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(ze){if(ze&&Be&&typeof ze.stack=="string")return[ze.stack,Be.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=y.DetermineComponentFrameRoot(),q=A[0],re=A[1];if(q&&re){var ge=q.split(`
`),Ie=re.split(`
`);for(k=y=0;y<ge.length&&!ge[y].includes("DetermineComponentFrameRoot");)y++;for(;k<Ie.length&&!Ie[k].includes("DetermineComponentFrameRoot");)k++;if(y===ge.length||k===Ie.length)for(y=ge.length-1,k=Ie.length-1;1<=y&&0<=k&&ge[y]!==Ie[k];)k--;for(;1<=y&&0<=k;y--,k--)if(ge[y]!==Ie[k]){if(y!==1||k!==1)do if(y--,k--,0>k||ge[y]!==Ie[k]){var We=`
`+ge[y].replace(" at new "," at ");return h.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",h.displayName)),We}while(1<=y&&0<=k);break}}}finally{se=!1,Error.prepareStackTrace=g}return(g=h?h.displayName||h.name:"")?rt(g):""}function Xt(h,d){switch(h.tag){case 26:case 27:case 5:return rt(h.type);case 16:return rt("Lazy");case 13:return h.child!==d&&d!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return lt(h.type,!1);case 11:return lt(h.type.render,!1);case 1:return lt(h.type,!0);case 31:return rt("Activity");default:return""}}function Tt(h){try{var d="",g=null;do d+=Xt(h,g),g=h,h=h.return;while(h);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Xe=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,Ht=t.unstable_requestPaint,st=t.unstable_now,mt=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,De=t.unstable_UserBlockingPriority,et=t.unstable_NormalPriority,tt=t.unstable_LowPriority,pt=t.unstable_IdlePriority,ht=t.log,Pn=t.unstable_setDisableYieldValue,Wt=null,At=null;function It(h){if(typeof ht=="function"&&Pn(h),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Wt,h)}catch{}}var Jt=Math.clz32?Math.clz32:ln,Ot=Math.log,Nn=Math.LN2;function ln(h){return h>>>=0,h===0?32:31-(Ot(h)/Nn|0)|0}var cn=256,er=262144,kn=4194304;function jt(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Un(h,d,g){var y=h.pendingLanes;if(y===0)return 0;var k=0,A=h.suspendedLanes,q=h.pingedLanes;h=h.warmLanes;var re=y&134217727;return re!==0?(y=re&~A,y!==0?k=jt(y):(q&=re,q!==0?k=jt(q):g||(g=re&~h,g!==0&&(k=jt(g))))):(re=y&~A,re!==0?k=jt(re):q!==0?k=jt(q):g||(g=y&~h,g!==0&&(k=jt(g)))),k===0?0:d!==0&&d!==k&&(d&A)===0&&(A=k&-k,g=d&-d,A>=g||A===32&&(g&4194048)!==0)?d:k}function zs(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function jn(h,d){switch(h){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var h=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),h}function ws(h){for(var d=[],g=0;31>g;g++)d.push(h);return d}function Zt(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function $s(h,d,g,y,k,A){var q=h.pendingLanes;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=g,h.entangledLanes&=g,h.errorRecoveryDisabledLanes&=g,h.shellSuspendCounter=0;var re=h.entanglements,ge=h.expirationTimes,Ie=h.hiddenUpdates;for(g=q&~g;0<g;){var We=31-Jt(g),Ye=1<<We;re[We]=0,ge[We]=-1;var Be=Ie[We];if(Be!==null)for(Ie[We]=null,We=0;We<Be.length;We++){var ze=Be[We];ze!==null&&(ze.lane&=-536870913)}g&=~Ye}y!==0&&qs(h,y,0),A!==0&&k===0&&h.tag!==0&&(h.suspendedLanes|=A&~(q&~d))}function qs(h,d,g){h.pendingLanes|=d,h.suspendedLanes&=~d;var y=31-Jt(d);h.entangledLanes|=d,h.entanglements[y]=h.entanglements[y]|1073741824|g&261930}function Ba(h,d){var g=h.entangledLanes|=d;for(h=h.entanglements;g;){var y=31-Jt(g),k=1<<y;k&d|h[y]&d&&(h[y]|=d),g&=~k}}function es(h,d){var g=d&-d;return g=(g&42)!==0?1:zn(g),(g&(h.suspendedLanes|d))!==0?0:g}function zn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function wr(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function xi(){var h=Q.p;return h!==0?h:(h=window.event,h===void 0?32:vj(h.type))}function Vo(h,d){var g=Q.p;try{return Q.p=h,d()}finally{Q.p=g}}var $i=Math.random().toString(36).slice(2),hr="__reactFiber$"+$i,Xn="__reactProps$"+$i,qi="__reactContainer$"+$i,Fa="__reactEvents$"+$i,ts="__reactListeners$"+$i,kl="__reactHandles$"+$i,Hs="__reactResources$"+$i,Et="__reactMarker$"+$i;function be(h){delete h[hr],delete h[Xn],delete h[Fa],delete h[ts],delete h[kl]}function ot(h){var d=h[hr];if(d)return d;for(var g=h.parentNode;g;){if(d=g[qi]||g[hr]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(h=tj(h);h!==null;){if(g=h[hr])return g;h=tj(h)}return d}h=g,g=h.parentNode}return null}function wt(h){if(h=h[hr]||h[qi]){var d=h.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return h}return null}function tr(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h.stateNode;throw Error(r(33))}function kr(h){var d=h[Hs];return d||(d=h[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Cn(h){h[Et]=!0}var Ei=new Set,Zr={};function ta(h,d){Ws(h,d),Ws(h+"Capture",d)}function Ws(h,d){for(Zr[h]=d,h=0;h<d.length;h++)Ei.add(d[h])}var Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},du={};function qm(h){return Xe.call(du,h)?!0:Xe.call(hu,h)?!1:Qr.test(h)?du[h]=!0:(hu[h]=!0,!1)}function Vs(h,d,g){if(qm(d))if(g===null)h.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":h.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){h.removeAttribute(d);return}}h.setAttribute(d,""+g)}}function lc(h,d,g){if(g===null)h.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(d);return}h.setAttribute(d,""+g)}}function Go(h,d,g,y){if(y===null)h.removeAttribute(g);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttributeNS(d,g,""+y)}}function sr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function np(h){var d=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Cl(h,d,g){var y=Object.getOwnPropertyDescriptor(h.constructor.prototype,d);if(!h.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,A=y.set;return Object.defineProperty(h,d,{configurable:!0,get:function(){return k.call(this)},set:function(q){g=""+q,A.call(this,q)}}),Object.defineProperty(h,d,{enumerable:y.enumerable}),{getValue:function(){return g},setValue:function(q){g=""+q},stopTracking:function(){h._valueTracker=null,delete h[d]}}}}function fu(h){if(!h._valueTracker){var d=np(h)?"checked":"value";h._valueTracker=Cl(h,d,""+h[d])}}function rp(h){if(!h)return!1;var d=h._valueTracker;if(!d)return!0;var g=d.getValue(),y="";return h&&(y=np(h)?h.checked?"true":"false":h.value),h=y,h!==g?(d.setValue(h),!0):!1}function ns(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Hi=/[\n"\\]/g;function Ai(h){return h.replace(Hi,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Od(h,d,g,y,k,A,q,re){h.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?h.type=q:h.removeAttribute("type"),d!=null?q==="number"?(d===0&&h.value===""||h.value!=d)&&(h.value=""+sr(d)):h.value!==""+sr(d)&&(h.value=""+sr(d)):q!=="submit"&&q!=="reset"||h.removeAttribute("value"),d!=null?ip(h,q,sr(d)):g!=null?ip(h,q,sr(g)):y!=null&&h.removeAttribute("value"),k==null&&A!=null&&(h.defaultChecked=!!A),k!=null&&(h.checked=k&&typeof k!="function"&&typeof k!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?h.name=""+sr(re):h.removeAttribute("name")}function Hm(h,d,g,y,k,A,q,re){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(h.type=A),d!=null||g!=null){if(!(A!=="submit"&&A!=="reset"||d!=null)){fu(h);return}g=g!=null?""+sr(g):"",d=d!=null?""+sr(d):g,re||d===h.value||(h.value=d),h.defaultValue=d}y=y??k,y=typeof y!="function"&&typeof y!="symbol"&&!!y,h.checked=re?h.checked:!!y,h.defaultChecked=!!y,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(h.name=q),fu(h)}function ip(h,d,g){d==="number"&&ns(h.ownerDocument)===h||h.defaultValue===""+g||(h.defaultValue=""+g)}function rs(h,d,g,y){if(h=h.options,d){d={};for(var k=0;k<g.length;k++)d["$"+g[k]]=!0;for(g=0;g<h.length;g++)k=d.hasOwnProperty("$"+h[g].value),h[g].selected!==k&&(h[g].selected=k),k&&y&&(h[g].defaultSelected=!0)}else{for(g=""+sr(g),d=null,k=0;k<h.length;k++){if(h[k].value===g){h[k].selected=!0,y&&(h[k].defaultSelected=!0);return}d!==null||h[k].disabled||(d=h[k])}d!==null&&(d.selected=!0)}}function ap(h,d,g){if(d!=null&&(d=""+sr(d),d!==h.value&&(h.value=d),g==null)){h.defaultValue!==d&&(h.defaultValue=d);return}h.defaultValue=g!=null?""+sr(g):""}function sp(h,d,g,y){if(d==null){if(y!=null){if(g!=null)throw Error(r(92));if(J(y)){if(1<y.length)throw Error(r(93));y=y[0]}g=y}g==null&&(g=""),d=g}g=sr(d),h.defaultValue=g,y=h.textContent,y===g&&y!==""&&y!==null&&(h.value=y),fu(h)}function Ko(h,d){if(d){var g=h.firstChild;if(g&&g===h.lastChild&&g.nodeType===3){g.nodeValue=d;return}}h.textContent=d}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wm(h,d,g){var y=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?y?h.setProperty(d,""):d==="float"?h.cssFloat="":h[d]="":y?h.setProperty(d,g):typeof g!="number"||g===0||uh.has(d)?d==="float"?h.cssFloat=g:h[d]=(""+g).trim():h[d]=g+"px"}function Vm(h,d,g){if(d!=null&&typeof d!="object")throw Error(r(62));if(h=h.style,g!=null){for(var y in g)!g.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?h.setProperty(y,""):y==="float"?h.cssFloat="":h[y]="");for(var k in d)y=d[k],d.hasOwnProperty(k)&&g[k]!==y&&Wm(h,k,y)}else for(var A in d)d.hasOwnProperty(A)&&Wm(h,A,d[A])}function op(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(h){return Gm.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function Yo(){}var cc=null;function hh(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var pu=null,hn=null;function Km(h){var d=wt(h);if(d&&(h=d.stateNode)){var g=h[Xn]||null;e:switch(h=d.stateNode,d.type){case"input":if(Od(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=h;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ai(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var y=g[d];if(y!==h&&y.form===h.form){var k=y[Xn]||null;if(!k)throw Error(r(90));Od(y,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(d=0;d<g.length;d++)y=g[d],y.form===h.form&&rp(y)}break e;case"textarea":ap(h,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&rs(h,!!g.multiple,d,!1)}}}var cp=!1;function Ym(h,d,g){if(cp)return h(d,g);cp=!0;try{var y=h(d);return y}finally{if(cp=!1,(pu!==null||hn!==null)&&(_x(),pu&&(d=pu,h=hn,hn=pu=null,Km(d),h)))for(d=0;d<h.length;d++)Km(h[d])}}function Gs(h,d){var g=h.stateNode;if(g===null)return null;var y=g[Xn]||null;if(y===null)return null;g=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(h=h.type,y=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!y;break e;default:h=!1}if(h)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=!1;if(ga)try{var dh={};Object.defineProperty(dh,"passive",{get:function(){up=!0}}),window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{up=!1}var Ks=null,fh=null,Tl=null;function Xm(){if(Tl)return Tl;var h,d=fh,g=d.length,y,k="value"in Ks?Ks.value:Ks.textContent,A=k.length;for(h=0;h<g&&d[h]===k[h];h++);var q=g-h;for(y=1;y<=q&&d[g-y]===k[A-y];y++);return Tl=k.slice(h,1<y?1-y:void 0)}function go(h){var d=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&d===13&&(h=13)):h=d,h===10&&(h=13),32<=h||h===13?h:0}function Pd(){return!0}function Nd(){return!1}function na(h){function d(g,y,k,A,q){this._reactName=g,this._targetInst=k,this.type=y,this.nativeEvent=A,this.target=q,this.currentTarget=null;for(var re in h)h.hasOwnProperty(re)&&(g=h[re],this[re]=g?g(A):A[re]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Pd:Nd,this.isPropagationStopped=Nd,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),d}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=na(El),uc=f({},El,{view:0,detail:0}),Ld=na(uc),ph,hc,dc,mh=f({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==dc&&(dc&&h.type==="mousemove"?(ph=h.screenX-dc.screenX,hc=h.screenY-dc.screenY):hc=ph=0,dc=h),ph)},movementY:function(h){return"movementY"in h?h.movementY:hc}}),hp=na(mh),fc=f({},mh,{dataTransfer:0}),pc=na(fc),Jm=f({},uc,{relatedTarget:0}),mc=na(Jm),Zm=f({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),N=na(Zm),X=f({},El,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),de=na(X),ve=f({},El,{data:0}),Ee=na(ve),Ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kt(h){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(h):(h=Mt[h])?!!d[h]:!1}function gn(){return Kt}var Tn=f({},uc,{key:function(h){if(h.key){var d=Ve[h.key]||h.key;if(d!=="Unidentified")return d}return h.type==="keypress"?(h=go(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?it[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(h){return h.type==="keypress"?go(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?go(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Jn=na(Tn),ei=f({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=na(ei),Lr=f({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn}),Wi=na(Lr),Oi=f({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=na(Oi),gc=f({},mh,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=na(gc),vc=f({},El,{newState:0,oldState:0}),dp=na(vc),Md=[9,13,27,32],Al=ga&&"CompositionEvent"in window,Jo=null;ga&&"documentMode"in document&&(Jo=document.documentMode);var gh=ga&&"TextEvent"in window&&!Jo,yc=ga&&(!Al||Jo&&8<Jo&&11>=Jo),ra=" ",mu=!1;function gu(h,d){switch(h){case"keyup":return Md.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ol=!1;function is(h,d){switch(h){case"compositionend":return Rd(d);case"keypress":return d.which!==32?null:(mu=!0,ra);case"textInput":return h=d.data,h===ra&&mu?null:h;default:return null}}function bc(h,d){if(Ol)return h==="compositionend"||!Al&&gu(h,d)?(h=Xm(),Tl=fh=Ks=null,Ol=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return yc&&d.locale!=="ko"?null:d.data;default:return null}}var Id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d==="input"?!!Id[h.type]:d==="textarea"}function Ys(h,d,g,y){pu?hn?hn.push(y):hn=[y]:pu=y,d=Px(d,"onChange"),0<d.length&&(g=new vo("onChange","change",null,g,y),h.push({event:g,listeners:d}))}var Zo=null,xc=null;function pp(h){zI(h,0)}function Qo(h){var d=tr(h);if(rp(d))return h}function vu(h,d){if(h==="change")return d}var _s=!1;if(ga){var as;if(ga){var Pl="oninput"in document;if(!Pl){var Nl=document.createElement("div");Nl.setAttribute("oninput","return;"),Pl=typeof Nl.oninput=="function"}as=Pl}else as=!1;_s=as&&(!document.documentMode||9<document.documentMode)}function wc(){Zo&&(Zo.detachEvent("onpropertychange",jd),xc=Zo=null)}function jd(h){if(h.propertyName==="value"&&Qo(xc)){var d=[];Ys(d,xc,h,hh(h)),Ym(pp,d)}}function Dd(h,d,g){h==="focusin"?(wc(),Zo=d,xc=g,Zo.attachEvent("onpropertychange",jd)):h==="focusout"&&wc()}function Si(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Qo(xc)}function Qm(h,d){if(h==="click")return Qo(d)}function Ll(h,d){if(h==="input"||h==="change")return Qo(d)}function Ml(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var ya=typeof Object.is=="function"?Object.is:Ml;function Sc(h,d){if(ya(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var g=Object.keys(h),y=Object.keys(d);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var k=g[y];if(!Xe.call(d,k)||!ya(h[k],d[k]))return!1}return!0}function Bd(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Fd(h,d){var g=Bd(h);h=0;for(var y;g;){if(g.nodeType===3){if(y=h+g.textContent.length,h<=d&&y>=d)return{node:g,offset:d-h};h=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Bd(g)}}function _c(h,d){return h&&d?h===d?!0:h&&h.nodeType===3?!1:d&&d.nodeType===3?_c(h,d.parentNode):"contains"in h?h.contains(d):h.compareDocumentPosition?!!(h.compareDocumentPosition(d)&16):!1:!1}function kc(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var d=ns(h.document);d instanceof h.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)h=d.contentWindow;else break;d=ns(h.document)}return d}function Rl(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d&&(d==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||d==="textarea"||h.contentEditable==="true")}var vh=ga&&"documentMode"in document&&11>=document.documentMode,Xs=null,Cc=null,Ua=null,yo=!1;function or(h,d,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;yo||Xs==null||Xs!==ns(y)||(y=Xs,"selectionStart"in y&&Rl(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ua&&Sc(Ua,y)||(Ua=y,y=Px(Cc,"onSelect"),0<y.length&&(d=new vo("onSelect","select",null,d,g),h.push({event:d,listeners:y}),d.target=Xs)))}function Zn(h,d){var g={};return g[h.toLowerCase()]=d.toLowerCase(),g["Webkit"+h]="webkit"+d,g["Moz"+h]="moz"+d,g}var Mr={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},_i={},Il={};ga&&(Il=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function el(h){if(_i[h])return _i[h];if(!Mr[h])return h;var d=Mr[h],g;for(g in d)if(d.hasOwnProperty(g)&&g in Il)return _i[h]=d[g];return h}var yh=el("animationend"),mp=el("animationiteration"),Tv=el("animationstart"),Q1=el("transitionrun"),ex=el("transitionstart"),tx=el("transitioncancel"),Ev=el("transitionend"),Av=new Map,bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bh.push("scrollEnd");function bo(h,d){Av.set(h,d),ta(d,[h])}var gp=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Js=[],xh=0,eg=0;function vp(){for(var h=xh,d=eg=xh=0;d<h;){var g=Js[d];Js[d++]=null;var y=Js[d];Js[d++]=null;var k=Js[d];Js[d++]=null;var A=Js[d];if(Js[d++]=null,y!==null&&k!==null){var q=y.pending;q===null?k.next=k:(k.next=q.next,q.next=k),y.pending=k}A!==0&&bp(g,k,A)}}function yp(h,d,g,y){Js[xh++]=h,Js[xh++]=d,Js[xh++]=g,Js[xh++]=y,eg|=y,h.lanes|=y,h=h.alternate,h!==null&&(h.lanes|=y)}function tg(h,d,g,y){return yp(h,d,g,y),za(h)}function Tc(h,d){return yp(h,null,null,d),za(h)}function bp(h,d,g){h.lanes|=g;var y=h.alternate;y!==null&&(y.lanes|=g);for(var k=!1,A=h.return;A!==null;)A.childLanes|=g,y=A.alternate,y!==null&&(y.childLanes|=g),A.tag===22&&(h=A.stateNode,h===null||h._visibility&1||(k=!0)),h=A,A=A.return;return h.tag===3?(A=h.stateNode,k&&d!==null&&(k=31-Jt(g),h=A.hiddenUpdates,y=h[k],y===null?h[k]=[d]:y.push(d),d.lane=g|536870912),A):null}function za(h){if(50<Xv)throw Xv=0,e5=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}var ba={};function ng(h,d,g,y){this.tag=h,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(h,d,g,y){return new ng(h,d,g,y)}function rg(h){return h=h.prototype,!(!h||!h.isReactComponent)}function xo(h,d){var g=h.alternate;return g===null?(g=$a(h.tag,d,h.key,h.mode),g.elementType=h.elementType,g.type=h.type,g.stateNode=h.stateNode,g.alternate=h,h.alternate=g):(g.pendingProps=d,g.type=h.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=h.flags&65011712,g.childLanes=h.childLanes,g.lanes=h.lanes,g.child=h.child,g.memoizedProps=h.memoizedProps,g.memoizedState=h.memoizedState,g.updateQueue=h.updateQueue,d=h.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=h.sibling,g.index=h.index,g.ref=h.ref,g.refCleanup=h.refCleanup,g}function xp(h,d){h.flags&=65011714;var g=h.alternate;return g===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,d=g.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Ud(h,d,g,y,k,A){var q=0;if(y=h,typeof h=="function")rg(h)&&(q=1);else if(typeof h=="string")q=Nae(h,g,ae.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case U:return h=$a(31,g,d,k),h.elementType=U,h.lanes=A,h;case b:return yu(g.children,k,A,d);case x:q=8,k|=24;break;case w:return h=$a(12,g,d,k|2),h.elementType=w,h.lanes=A,h;case P:return h=$a(13,g,d,k),h.elementType=P,h.lanes=A,h;case L:return h=$a(19,g,d,k),h.elementType=L,h.lanes=A,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case E:q=10;break e;case C:q=9;break e;case O:q=11;break e;case B:q=14;break e;case $:q=16,y=null;break e}q=29,g=Error(r(130,h===null?"null":typeof h,"")),y=null}return d=$a(q,g,d,k),d.elementType=h,d.type=y,d.lanes=A,d}function yu(h,d,g,y){return h=$a(7,h,y,d),h.lanes=g,h}function wp(h,d,g){return h=$a(6,h,null,d),h.lanes=g,h}function ig(h){var d=$a(18,null,null,0);return d.stateNode=h,d}function zd(h,d,g){return d=$a(4,h.children!==null?h.children:[],h.key,d),d.lanes=g,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}var ag=new WeakMap;function wo(h,d){if(typeof h=="object"&&h!==null){var g=ag.get(h);return g!==void 0?g:(d={value:h,source:d,stack:Tt(d)},ag.set(h,d),d)}return{value:h,source:d,stack:Tt(d)}}var $d=[],wh=0,sg=null,Sp=0,So=[],_o=0,bu=null,ko=1,Co="";function Zs(h,d){$d[wh++]=Sp,$d[wh++]=sg,sg=h,Sp=d}function nx(h,d,g){So[_o++]=ko,So[_o++]=Co,So[_o++]=bu,bu=h;var y=ko;h=Co;var k=32-Jt(y)-1;y&=~(1<<k),g+=1;var A=32-Jt(d)+k;if(30<A){var q=k-k%5;A=(y&(1<<q)-1).toString(32),y>>=q,k-=q,ko=1<<32-Jt(d)+k|g<<k|y,Co=A+h}else ko=1<<A|g<<k|y,Co=h}function Ov(h){h.return!==null&&(Zs(h,1),nx(h,1,0))}function og(h){for(;h===sg;)sg=$d[--wh],$d[wh]=null,Sp=$d[--wh],$d[wh]=null;for(;h===bu;)bu=So[--_o],So[_o]=null,Co=So[--_o],So[_o]=null,ko=So[--_o],So[_o]=null}function rx(h,d){So[_o++]=ko,So[_o++]=Co,So[_o++]=bu,ko=d.id,Co=d.overflow,bu=h}var xa=null,Ur=null,$n=!1,ss=null,ui=!1,tl=Error(r(519));function xu(h){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qd(wo(d,h)),tl}function Pv(h){var d=h.stateNode,g=h.type,y=h.memoizedProps;switch(d[hr]=h,d[Xn]=y,g){case"dialog":Hn("cancel",d),Hn("close",d);break;case"iframe":case"object":case"embed":Hn("load",d);break;case"video":case"audio":for(g=0;g<Zv.length;g++)Hn(Zv[g],d);break;case"source":Hn("error",d);break;case"img":case"image":case"link":Hn("error",d),Hn("load",d);break;case"details":Hn("toggle",d);break;case"input":Hn("invalid",d),Hm(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Hn("invalid",d);break;case"textarea":Hn("invalid",d),sp(d,y.value,y.defaultValue,y.children)}g=y.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||y.suppressHydrationWarning===!0||WI(d.textContent,g)?(y.popover!=null&&(Hn("beforetoggle",d),Hn("toggle",d)),y.onScroll!=null&&Hn("scroll",d),y.onScrollEnd!=null&&Hn("scrollend",d),y.onClick!=null&&(d.onclick=Yo),d=!0):d=!1,d||xu(h,!0)}function Ec(h){for(xa=h.return;xa;)switch(xa.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:xa=xa.return}}function wa(h){if(h!==xa)return!1;if(!$n)return Ec(h),$n=!0,!1;var d=h.tag,g;if((g=d!==3&&d!==27)&&((g=d===5)&&(g=h.type,g=!(g!=="form"&&g!=="button")||m5(h.type,h.memoizedProps)),g=!g),g&&Ur&&xu(h),Ec(h),d===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Ur=ej(h)}else if(d===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Ur=ej(h)}else d===27?(d=Ur,rf(h.type)?(h=x5,x5=null,Ur=h):Ur=d):Ur=xa?Fl(h.stateNode.nextSibling):null;return!0}function Sh(){Ur=xa=null,$n=!1}function Nv(){var h=ss;return h!==null&&(No===null?No=h:No.push.apply(No,h),ss=null),h}function qd(h){ss===null?ss=[h]:ss.push(h)}var lg=ye(null),wu=null,jl=null;function Su(h,d,g){F(lg,d._currentValue),d._currentValue=g}function To(h){h._currentValue=lg.current,V(lg)}function Hd(h,d,g){for(;h!==null;){var y=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),h===g)break;h=h.return}}function _h(h,d,g,y){var k=h.child;for(k!==null&&(k.return=h);k!==null;){var A=k.dependencies;if(A!==null){var q=k.child;A=A.firstContext;e:for(;A!==null;){var re=A;A=k;for(var ge=0;ge<d.length;ge++)if(re.context===d[ge]){A.lanes|=g,re=A.alternate,re!==null&&(re.lanes|=g),Hd(A.return,g,h),y||(q=null);break e}A=re.next}}else if(k.tag===18){if(q=k.return,q===null)throw Error(r(341));q.lanes|=g,A=q.alternate,A!==null&&(A.lanes|=g),Hd(q,g,h),q=null}else q=k.child;if(q!==null)q.return=k;else for(q=k;q!==null;){if(q===h){q=null;break}if(k=q.sibling,k!==null){k.return=q.return,q=k;break}q=q.return}k=q}}function _u(h,d,g,y){h=null;for(var k=d,A=!1;k!==null;){if(!A){if((k.flags&524288)!==0)A=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var q=k.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var re=k.type;ya(k.pendingProps.value,q.value)||(h!==null?h.push(re):h=[re])}}else if(k===xe.current){if(q=k.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(h!==null?h.push(ry):h=[ry])}k=k.return}h!==null&&_h(d,h,g,y),d.flags|=262144}function cg(h){for(h=h.firstContext;h!==null;){if(!ya(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function ku(h){wu=h,jl=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Sa(h){return ix(wu,h)}function ug(h,d){return wu===null&&ku(h),ix(h,d)}function ix(h,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},jl===null){if(h===null)throw Error(r(308));jl=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else jl=jl.next=d;return g}var bC=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(g,y){h.push(y)}};this.abort=function(){d.aborted=!0,h.forEach(function(g){return g()})}},xC=t.unstable_scheduleCallback,wC=t.unstable_NormalPriority,ki={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new bC,data:new Map,refCount:0}}function _p(h){h.refCount--,h.refCount===0&&xC(wC,function(){h.controller.abort()})}var kp=null,hg=0,_=0,T=null;function R(h,d){if(kp===null){var g=kp=[];hg=0,_=s5(),T={status:"pending",value:void 0,then:function(y){g.push(y)}}}return hg++,d.then(z,z),d}function z(){if(--hg===0&&kp!==null){T!==null&&(T.status="fulfilled");var h=kp;kp=null,_=0,T=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function Z(h,d){var g=[],y={status:"pending",value:null,reason:null,then:function(k){g.push(k)}};return h.then(function(){y.status="fulfilled",y.value=d;for(var k=0;k<g.length;k++)(0,g[k])(d)},function(k){for(y.status="rejected",y.reason=k,k=0;k<g.length;k++)(0,g[k])(void 0)}),y}var te=W.S;W.S=function(h,d){mI=st(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&R(h,d),te!==null&&te(h,d)};var ne=ye(null);function ie(){var h=ne.current;return h!==null?h:$r.pooledCache}function oe(h,d){d===null?F(ne,ne.current):F(ne,d.pool)}function ue(){var h=ie();return h===null?null:{parent:ki._currentValue,pool:h}}var we=Error(r(460)),Me=Error(r(474)),ce=Error(r(542)),ke={then:function(){}};function Pe(h){return h=h.status,h==="fulfilled"||h==="rejected"}function He(h,d,g){switch(g=h[g],g===void 0?h.push(d):g!==d&&(d.then(Yo,Yo),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,ct(h),h;default:if(typeof d.status=="string")d.then(Yo,Yo);else{if(h=$r,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(y){if(d.status==="pending"){var k=d;k.status="fulfilled",k.value=y}},function(y){if(d.status==="pending"){var k=d;k.status="rejected",k.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,ct(h),h}throw qe=d,we}}function Le(h){try{var d=h._init;return d(h._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(qe=g,we):g}}var qe=null;function Ge(){if(qe===null)throw Error(r(459));var h=qe;return qe=null,h}function ct(h){if(h===we||h===ce)throw Error(r(483))}var Je=null,Dt=0;function kt(h){var d=Dt;return Dt+=1,Je===null&&(Je=[]),He(Je,h,d)}function xn(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function Pt(h,d){throw d.$$typeof===m?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function Dn(h){function d(Ae,Se){if(h){var Re=Ae.deletions;Re===null?(Ae.deletions=[Se],Ae.flags|=16):Re.push(Se)}}function g(Ae,Se){if(!h)return null;for(;Se!==null;)d(Ae,Se),Se=Se.sibling;return null}function y(Ae){for(var Se=new Map;Ae!==null;)Ae.key!==null?Se.set(Ae.key,Ae):Se.set(Ae.index,Ae),Ae=Ae.sibling;return Se}function k(Ae,Se){return Ae=xo(Ae,Se),Ae.index=0,Ae.sibling=null,Ae}function A(Ae,Se,Re){return Ae.index=Re,h?(Re=Ae.alternate,Re!==null?(Re=Re.index,Re<Se?(Ae.flags|=67108866,Se):Re):(Ae.flags|=67108866,Se)):(Ae.flags|=1048576,Se)}function q(Ae){return h&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function re(Ae,Se,Re,Ke){return Se===null||Se.tag!==6?(Se=wp(Re,Ae.mode,Ke),Se.return=Ae,Se):(Se=k(Se,Re),Se.return=Ae,Se)}function ge(Ae,Se,Re,Ke){var an=Re.type;return an===b?We(Ae,Se,Re.props.children,Ke,Re.key):Se!==null&&(Se.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===$&&Le(an)===Se.type)?(Se=k(Se,Re.props),xn(Se,Re),Se.return=Ae,Se):(Se=Ud(Re.type,Re.key,Re.props,null,Ae.mode,Ke),xn(Se,Re),Se.return=Ae,Se)}function Ie(Ae,Se,Re,Ke){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Re.containerInfo||Se.stateNode.implementation!==Re.implementation?(Se=zd(Re,Ae.mode,Ke),Se.return=Ae,Se):(Se=k(Se,Re.children||[]),Se.return=Ae,Se)}function We(Ae,Se,Re,Ke,an){return Se===null||Se.tag!==7?(Se=yu(Re,Ae.mode,Ke,an),Se.return=Ae,Se):(Se=k(Se,Re),Se.return=Ae,Se)}function Ye(Ae,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=wp(""+Se,Ae.mode,Re),Se.return=Ae,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case p:return Re=Ud(Se.type,Se.key,Se.props,null,Ae.mode,Re),xn(Re,Se),Re.return=Ae,Re;case v:return Se=zd(Se,Ae.mode,Re),Se.return=Ae,Se;case $:return Se=Le(Se),Ye(Ae,Se,Re)}if(J(Se)||I(Se))return Se=yu(Se,Ae.mode,Re,null),Se.return=Ae,Se;if(typeof Se.then=="function")return Ye(Ae,kt(Se),Re);if(Se.$$typeof===E)return Ye(Ae,ug(Ae,Se),Re);Pt(Ae,Se)}return null}function Be(Ae,Se,Re,Ke){var an=Se!==null?Se.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return an!==null?null:re(Ae,Se,""+Re,Ke);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case p:return Re.key===an?ge(Ae,Se,Re,Ke):null;case v:return Re.key===an?Ie(Ae,Se,Re,Ke):null;case $:return Re=Le(Re),Be(Ae,Se,Re,Ke)}if(J(Re)||I(Re))return an!==null?null:We(Ae,Se,Re,Ke,null);if(typeof Re.then=="function")return Be(Ae,Se,kt(Re),Ke);if(Re.$$typeof===E)return Be(Ae,Se,ug(Ae,Re),Ke);Pt(Ae,Re)}return null}function ze(Ae,Se,Re,Ke,an){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ae=Ae.get(Re)||null,re(Se,Ae,""+Ke,an);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case p:return Ae=Ae.get(Ke.key===null?Re:Ke.key)||null,ge(Se,Ae,Ke,an);case v:return Ae=Ae.get(Ke.key===null?Re:Ke.key)||null,Ie(Se,Ae,Ke,an);case $:return Ke=Le(Ke),ze(Ae,Se,Re,Ke,an)}if(J(Ke)||I(Ke))return Ae=Ae.get(Re)||null,We(Se,Ae,Ke,an,null);if(typeof Ke.then=="function")return ze(Ae,Se,Re,kt(Ke),an);if(Ke.$$typeof===E)return ze(Ae,Se,Re,ug(Se,Ke),an);Pt(Se,Ke)}return null}function Rt(Ae,Se,Re,Ke){for(var an=null,dr=null,Yt=Se,Ln=Se=0,Yn=null;Yt!==null&&Ln<Re.length;Ln++){Yt.index>Ln?(Yn=Yt,Yt=null):Yn=Yt.sibling;var fr=Be(Ae,Yt,Re[Ln],Ke);if(fr===null){Yt===null&&(Yt=Yn);break}h&&Yt&&fr.alternate===null&&d(Ae,Yt),Se=A(fr,Se,Ln),dr===null?an=fr:dr.sibling=fr,dr=fr,Yt=Yn}if(Ln===Re.length)return g(Ae,Yt),$n&&Zs(Ae,Ln),an;if(Yt===null){for(;Ln<Re.length;Ln++)Yt=Ye(Ae,Re[Ln],Ke),Yt!==null&&(Se=A(Yt,Se,Ln),dr===null?an=Yt:dr.sibling=Yt,dr=Yt);return $n&&Zs(Ae,Ln),an}for(Yt=y(Yt);Ln<Re.length;Ln++)Yn=ze(Yt,Ae,Ln,Re[Ln],Ke),Yn!==null&&(h&&Yn.alternate!==null&&Yt.delete(Yn.key===null?Ln:Yn.key),Se=A(Yn,Se,Ln),dr===null?an=Yn:dr.sibling=Yn,dr=Yn);return h&&Yt.forEach(function(cf){return d(Ae,cf)}),$n&&Zs(Ae,Ln),an}function fn(Ae,Se,Re,Ke){if(Re==null)throw Error(r(151));for(var an=null,dr=null,Yt=Se,Ln=Se=0,Yn=null,fr=Re.next();Yt!==null&&!fr.done;Ln++,fr=Re.next()){Yt.index>Ln?(Yn=Yt,Yt=null):Yn=Yt.sibling;var cf=Be(Ae,Yt,fr.value,Ke);if(cf===null){Yt===null&&(Yt=Yn);break}h&&Yt&&cf.alternate===null&&d(Ae,Yt),Se=A(cf,Se,Ln),dr===null?an=cf:dr.sibling=cf,dr=cf,Yt=Yn}if(fr.done)return g(Ae,Yt),$n&&Zs(Ae,Ln),an;if(Yt===null){for(;!fr.done;Ln++,fr=Re.next())fr=Ye(Ae,fr.value,Ke),fr!==null&&(Se=A(fr,Se,Ln),dr===null?an=fr:dr.sibling=fr,dr=fr);return $n&&Zs(Ae,Ln),an}for(Yt=y(Yt);!fr.done;Ln++,fr=Re.next())fr=ze(Yt,Ae,Ln,fr.value,Ke),fr!==null&&(h&&fr.alternate!==null&&Yt.delete(fr.key===null?Ln:fr.key),Se=A(fr,Se,Ln),dr===null?an=fr:dr.sibling=fr,dr=fr);return h&&Yt.forEach(function($ae){return d(Ae,$ae)}),$n&&Zs(Ae,Ln),an}function Dr(Ae,Se,Re,Ke){if(typeof Re=="object"&&Re!==null&&Re.type===b&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case p:e:{for(var an=Re.key;Se!==null;){if(Se.key===an){if(an=Re.type,an===b){if(Se.tag===7){g(Ae,Se.sibling),Ke=k(Se,Re.props.children),Ke.return=Ae,Ae=Ke;break e}}else if(Se.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===$&&Le(an)===Se.type){g(Ae,Se.sibling),Ke=k(Se,Re.props),xn(Ke,Re),Ke.return=Ae,Ae=Ke;break e}g(Ae,Se);break}else d(Ae,Se);Se=Se.sibling}Re.type===b?(Ke=yu(Re.props.children,Ae.mode,Ke,Re.key),Ke.return=Ae,Ae=Ke):(Ke=Ud(Re.type,Re.key,Re.props,null,Ae.mode,Ke),xn(Ke,Re),Ke.return=Ae,Ae=Ke)}return q(Ae);case v:e:{for(an=Re.key;Se!==null;){if(Se.key===an)if(Se.tag===4&&Se.stateNode.containerInfo===Re.containerInfo&&Se.stateNode.implementation===Re.implementation){g(Ae,Se.sibling),Ke=k(Se,Re.children||[]),Ke.return=Ae,Ae=Ke;break e}else{g(Ae,Se);break}else d(Ae,Se);Se=Se.sibling}Ke=zd(Re,Ae.mode,Ke),Ke.return=Ae,Ae=Ke}return q(Ae);case $:return Re=Le(Re),Dr(Ae,Se,Re,Ke)}if(J(Re))return Rt(Ae,Se,Re,Ke);if(I(Re)){if(an=I(Re),typeof an!="function")throw Error(r(150));return Re=an.call(Re),fn(Ae,Se,Re,Ke)}if(typeof Re.then=="function")return Dr(Ae,Se,kt(Re),Ke);if(Re.$$typeof===E)return Dr(Ae,Se,ug(Ae,Re),Ke);Pt(Ae,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,Se!==null&&Se.tag===6?(g(Ae,Se.sibling),Ke=k(Se,Re),Ke.return=Ae,Ae=Ke):(g(Ae,Se),Ke=wp(Re,Ae.mode,Ke),Ke.return=Ae,Ae=Ke),q(Ae)):g(Ae,Se)}return function(Ae,Se,Re,Ke){try{Dt=0;var an=Dr(Ae,Se,Re,Ke);return Je=null,an}catch(Yt){if(Yt===we||Yt===ce)throw Yt;var dr=$a(29,Yt,null,Ae.mode);return dr.lanes=Ke,dr.return=Ae,dr}}}var zr=Dn(!0),En=Dn(!1),Ct=!1;function gt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ti(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function dn(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function On(h,d,g){var y=h.updateQueue;if(y===null)return null;if(y=y.shared,(br&2)!==0){var k=y.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),y.pending=d,d=za(h),bp(h,null,g),d}return yp(h,y,d,g),za(h)}function vr(h,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194048)!==0)){var y=d.lanes;y&=h.pendingLanes,g|=y,d.lanes=g,Ba(h,g)}}function Vi(h,d){var g=h.updateQueue,y=h.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var k=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var q={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};A===null?k=A=q:A=A.next=q,g=g.next}while(g!==null);A===null?k=A=d:A=A.next=d}else k=A=d;g={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:A,shared:y.shared,callbacks:y.callbacks},h.updateQueue=g;return}h=g.lastBaseUpdate,h===null?g.firstBaseUpdate=d:h.next=d,g.lastBaseUpdate=d}var _a=!1;function Rr(){if(_a){var h=T;if(h!==null)throw h}}function Pi(h,d,g,y){_a=!1;var k=h.updateQueue;Ct=!1;var A=k.firstBaseUpdate,q=k.lastBaseUpdate,re=k.shared.pending;if(re!==null){k.shared.pending=null;var ge=re,Ie=ge.next;ge.next=null,q===null?A=Ie:q.next=Ie,q=ge;var We=h.alternate;We!==null&&(We=We.updateQueue,re=We.lastBaseUpdate,re!==q&&(re===null?We.firstBaseUpdate=Ie:re.next=Ie,We.lastBaseUpdate=ge))}if(A!==null){var Ye=k.baseState;q=0,We=Ie=ge=null,re=A;do{var Be=re.lane&-536870913,ze=Be!==re.lane;if(ze?(Kn&Be)===Be:(y&Be)===Be){Be!==0&&Be===_&&(_a=!0),We!==null&&(We=We.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Rt=h,fn=re;Be=d;var Dr=g;switch(fn.tag){case 1:if(Rt=fn.payload,typeof Rt=="function"){Ye=Rt.call(Dr,Ye,Be);break e}Ye=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=fn.payload,Be=typeof Rt=="function"?Rt.call(Dr,Ye,Be):Rt,Be==null)break e;Ye=f({},Ye,Be);break e;case 2:Ct=!0}}Be=re.callback,Be!==null&&(h.flags|=64,ze&&(h.flags|=8192),ze=k.callbacks,ze===null?k.callbacks=[Be]:ze.push(Be))}else ze={lane:Be,tag:re.tag,payload:re.payload,callback:re.callback,next:null},We===null?(Ie=We=ze,ge=Ye):We=We.next=ze,q|=Be;if(re=re.next,re===null){if(re=k.shared.pending,re===null)break;ze=re,re=ze.next,ze.next=null,k.lastBaseUpdate=ze,k.shared.pending=null}}while(!0);We===null&&(ge=Ye),k.baseState=ge,k.firstBaseUpdate=Ie,k.lastBaseUpdate=We,A===null&&(k.shared.lanes=0),Zd|=q,h.lanes=q,h.memoizedState=Ye}}function qa(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function Ni(h,d){var g=h.callbacks;if(g!==null)for(h.callbacks=null,h=0;h<g.length;h++)qa(g[h],d)}var In=ye(null),nr=ye(0);function ni(h,d){h=Mh,F(nr,h),F(In,d),Mh=h|d.baseLanes}function lr(){F(nr,Mh),F(In,In.current)}function Gi(){Mh=nr.current,V(In),V(nr)}var ri=ye(null),rr=null;function Ci(h){var d=h.alternate;F(Qn,Qn.current&1),F(ri,h),rr===null&&(d===null||In.current!==null||d.memoizedState!==null)&&(rr=h)}function yr(h){F(Qn,Qn.current),F(ri,h),rr===null&&(rr=h)}function Li(h){h.tag===22?(F(Qn,Qn.current),F(ri,h),rr===null&&(rr=h)):Mi()}function Mi(){F(Qn,Qn.current),F(ri,ri.current)}function Cr(h){V(ri),rr===h&&(rr=null),V(Qn)}var Qn=ye(0);function Ha(h){for(var d=h;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||y5(g)||b5(g)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var hi=0,nn=null,rn=null,ir=null,ks=!1,Eo=!1,os=!1,Ri=0,Cu=0,Tu=null,dg=0;function Ir(){throw Error(r(321))}function Lv(h,d){if(d===null)return!1;for(var g=0;g<d.length&&g<h.length;g++)if(!ya(h[g],d[g]))return!1;return!0}function Mv(h,d,g,y,k,A){return hi=A,nn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,W.H=h===null||h.memoizedState===null?TR:OC,os=!1,A=g(y,k),os=!1,Eo&&(A=Ac(d,g,y,k)),fg(h),A}function fg(h){W.H=zv;var d=rn!==null&&rn.next!==null;if(hi=0,ir=rn=nn=null,ks=!1,Cu=0,Tu=null,d)throw Error(r(300));h===null||aa||(h=h.dependencies,h!==null&&cg(h)&&(aa=!0))}function Ac(h,d,g,y){nn=h;var k=0;do{if(Eo&&(Tu=null),Cu=0,Eo=!1,25<=k)throw Error(r(301));if(k+=1,ir=rn=null,h.updateQueue!=null){var A=h.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}W.H=ER,A=d(g,y)}while(Eo);return A}function SC(){var h=W.H,d=h.useState()[0];return d=typeof d.then=="function"?Eu(d):d,h=h.useState()[0],(rn!==null?rn.memoizedState:null)!==h&&(nn.flags|=1024),d}function Rv(){var h=Ri!==0;return Ri=0,h}function Iv(h,d,g){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~g}function pg(h){if(ks){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}ks=!1}hi=0,ir=rn=nn=null,Eo=!1,Cu=Ri=0,Tu=null}function ia(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?nn.memoizedState=ir=h:ir=ir.next=h,ir}function di(){if(rn===null){var h=nn.alternate;h=h!==null?h.memoizedState:null}else h=rn.next;var d=ir===null?nn.memoizedState:ir.next;if(d!==null)ir=d,rn=h;else{if(h===null)throw nn.alternate===null?Error(r(467)):Error(r(310));rn=h,h={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},ir===null?nn.memoizedState=ir=h:ir=ir.next=h}return ir}function Cp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(h){var d=Cu;return Cu+=1,Tu===null&&(Tu=[]),h=He(Tu,h,d),d=nn,(ir===null?d.memoizedState:ir.next)===null&&(d=d.alternate,W.H=d===null||d.memoizedState===null?TR:OC),h}function Vd(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Eu(h);if(h.$$typeof===E)return Sa(h)}throw Error(r(438,String(h)))}function kh(h){var d=null,g=nn.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var y=nn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(k){return k.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=Cp(),nn.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(h),y=0;y<h;y++)g[y]=G;return d.index++,g}function Dl(h,d){return typeof d=="function"?d(h):d}function mg(h){var d=di();return Gd(d,rn,h)}function Gd(h,d,g){var y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=g;var k=h.baseQueue,A=y.pending;if(A!==null){if(k!==null){var q=k.next;k.next=A.next,A.next=q}d.baseQueue=k=A,y.pending=null}if(A=h.baseState,k===null)h.memoizedState=A;else{d=k.next;var re=q=null,ge=null,Ie=d,We=!1;do{var Ye=Ie.lane&-536870913;if(Ye!==Ie.lane?(Kn&Ye)===Ye:(hi&Ye)===Ye){var Be=Ie.revertLane;if(Be===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Ye===_&&(We=!0);else if((hi&Be)===Be){Ie=Ie.next,Be===_&&(We=!0);continue}else Ye={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(re=ge=Ye,q=A):ge=ge.next=Ye,nn.lanes|=Be,Zd|=Be;Ye=Ie.action,os&&g(A,Ye),A=Ie.hasEagerState?Ie.eagerState:g(A,Ye)}else Be={lane:Ye,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(re=ge=Be,q=A):ge=ge.next=Be,nn.lanes|=Ye,Zd|=Ye;Ie=Ie.next}while(Ie!==null&&Ie!==d);if(ge===null?q=A:ge.next=re,!ya(A,h.memoizedState)&&(aa=!0,We&&(g=T,g!==null)))throw g;h.memoizedState=A,h.baseState=q,h.baseQueue=ge,y.lastRenderedState=A}return k===null&&(y.lanes=0),[h.memoizedState,y.dispatch]}function gg(h){var d=di(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var y=g.dispatch,k=g.pending,A=d.memoizedState;if(k!==null){g.pending=null;var q=k=k.next;do A=h(A,q.action),q=q.next;while(q!==k);ya(A,d.memoizedState)||(aa=!0),d.memoizedState=A,d.baseQueue===null&&(d.baseState=A),g.lastRenderedState=A}return[A,y]}function vg(h,d,g){var y=nn,k=di(),A=$n;if(A){if(g===void 0)throw Error(r(407));g=g()}else g=d();var q=!ya((rn||k).memoizedState,g);if(q&&(k.memoizedState=g,aa=!0),k=k.queue,_C(Dv.bind(null,y,k,h),[h]),k.getSnapshot!==d||q||ir!==null&&ir.memoizedState.tag&1){if(y.flags|=2048,Th(9,{destroy:void 0},jv.bind(null,y,k,g,d),null),$r===null)throw Error(r(349));A||(hi&127)!==0||Oc(y,d,g)}return g}function Oc(h,d,g){h.flags|=16384,h={getSnapshot:d,value:g},d=nn.updateQueue,d===null?(d=Cp(),nn.updateQueue=d,d.stores=[h]):(g=d.stores,g===null?d.stores=[h]:g.push(h))}function jv(h,d,g,y){d.value=g,d.getSnapshot=y,ax(d)&&Bv(h)}function Dv(h,d,g){return g(function(){ax(d)&&Bv(h)})}function ax(h){var d=h.getSnapshot;h=h.value;try{var g=d();return!ya(h,g)}catch{return!0}}function Bv(h){var d=Tc(h,2);d!==null&&Lo(d,h,2)}function Au(h){var d=ia();if(typeof h=="function"){var g=h;if(h=g(),os){It(!0);try{g()}finally{It(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:h},d}function sx(h,d,g,y){return h.baseState=g,Gd(h,rn,typeof y=="function"?y:Dl)}function ox(h,d,g,y,k){if(hx(h))throw Error(r(485));if(h=d.action,h!==null){var A={payload:k,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){A.listeners.push(q)}};W.T!==null?g(!0):A.isTransition=!1,y(A),g=d.pending,g===null?(A.next=d.pending=A,lx(d,A)):(A.next=g.next,d.pending=g.next=A)}}function lx(h,d){var g=d.action,y=d.payload,k=h.state;if(d.isTransition){var A=W.T,q={};W.T=q;try{var re=g(k,y),ge=W.S;ge!==null&&ge(q,re),Fv(h,d,re)}catch(Ie){Ch(h,d,Ie)}finally{A!==null&&q.types!==null&&(A.types=q.types),W.T=A}}else try{A=g(k,y),Fv(h,d,A)}catch(Ie){Ch(h,d,Ie)}}function Fv(h,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(y){cx(h,d,y)},function(y){return Ch(h,d,y)}):cx(h,d,g)}function cx(h,d,g){d.status="fulfilled",d.value=g,yg(d),h.state=g,d=h.pending,d!==null&&(g=d.next,g===d?h.pending=null:(g=g.next,d.next=g,lx(h,g)))}function Ch(h,d,g){var y=h.pending;if(h.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=g,yg(d),d=d.next;while(d!==y)}h.action=null}function yg(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function Tp(h,d){return d}function Bl(h,d){if($n){var g=$r.formState;if(g!==null){e:{var y=nn;if($n){if(Ur){t:{for(var k=Ur,A=ui;k.nodeType!==8;){if(!A){k=null;break t}if(k=Fl(k.nextSibling),k===null){k=null;break t}}A=k.data,k=A==="F!"||A==="F"?k:null}if(k){Ur=Fl(k.nextSibling),y=k.data==="F!";break e}}xu(y)}y=!1}y&&(d=g[0])}}return g=ia(),g.memoizedState=g.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:d},g.queue=y,g=_R.bind(null,nn,y),y.dispatch=g,y=Au(!1),A=AC.bind(null,nn,!1,y.queue),y=ia(),k={state:d,dispatch:null,action:h,pending:null},y.queue=k,g=ox.bind(null,nn,k,A,g),k.dispatch=g,y.memoizedState=h,[d,g,!1]}function Pc(h){var d=di();return Nc(d,rn,h)}function Nc(h,d,g){if(d=Gd(h,d,Tp)[0],h=mg(Dl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Eu(d)}catch(q){throw q===we?ce:q}else y=d;d=di();var k=d.queue,A=k.dispatch;return g!==d.memoizedState&&(nn.flags|=2048,Th(9,{destroy:void 0},bg.bind(null,k,g),null)),[y,A,h]}function bg(h,d){h.action=d}function xg(h){var d=di(),g=rn;if(g!==null)return Nc(d,g,h);di(),d=d.memoizedState,g=di();var y=g.queue.dispatch;return g.memoizedState=h,[d,y,!1]}function Th(h,d,g,y){return h={tag:h,create:g,deps:y,inst:d,next:null},d=nn.updateQueue,d===null&&(d=Cp(),nn.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=h.next=h:(y=g.next,g.next=h,h.next=y,d.lastEffect=h),h}function ux(){return di().memoizedState}function Kd(h,d,g,y){var k=ia();nn.flags|=h,k.memoizedState=Th(1|d,{destroy:void 0},g,y===void 0?null:y)}function Yd(h,d,g,y){var k=di();y=y===void 0?null:y;var A=k.memoizedState.inst;rn!==null&&y!==null&&Lv(y,rn.memoizedState.deps)?k.memoizedState=Th(d,A,g,y):(nn.flags|=h,k.memoizedState=Th(1|d,A,g,y))}function cR(h,d){Kd(8390656,8,h,d)}function _C(h,d){Yd(2048,8,h,d)}function jie(h){nn.flags|=4;var d=nn.updateQueue;if(d===null)d=Cp(),nn.updateQueue=d,d.events=[h];else{var g=d.events;g===null?d.events=[h]:g.push(h)}}function uR(h){var d=di().memoizedState;return jie({ref:d,nextImpl:h}),function(){if((br&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function hR(h,d){return Yd(4,2,h,d)}function dR(h,d){return Yd(4,4,h,d)}function fR(h,d){if(typeof d=="function"){h=h();var g=d(h);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function pR(h,d,g){g=g!=null?g.concat([h]):null,Yd(4,4,fR.bind(null,d,h),g)}function kC(){}function mR(h,d){var g=di();d=d===void 0?null:d;var y=g.memoizedState;return d!==null&&Lv(d,y[1])?y[0]:(g.memoizedState=[h,d],h)}function gR(h,d){var g=di();d=d===void 0?null:d;var y=g.memoizedState;if(d!==null&&Lv(d,y[1]))return y[0];if(y=h(),os){It(!0);try{h()}finally{It(!1)}}return g.memoizedState=[y,d],y}function CC(h,d,g){return g===void 0||(hi&1073741824)!==0&&(Kn&261930)===0?h.memoizedState=d:(h.memoizedState=g,h=vI(),nn.lanes|=h,Zd|=h,g)}function vR(h,d,g,y){return ya(g,d)?g:In.current!==null?(h=CC(h,g,y),ya(h,d)||(aa=!0),h):(hi&42)===0||(hi&1073741824)!==0&&(Kn&261930)===0?(aa=!0,h.memoizedState=g):(h=vI(),nn.lanes|=h,Zd|=h,d)}function yR(h,d,g,y,k){var A=Q.p;Q.p=A!==0&&8>A?A:8;var q=W.T,re={};W.T=re,AC(h,!1,d,g);try{var ge=k(),Ie=W.S;if(Ie!==null&&Ie(re,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var We=Z(ge,y);Uv(h,d,We,il(h))}else Uv(h,d,y,il(h))}catch(Ye){Uv(h,d,{then:function(){},status:"rejected",reason:Ye},il())}finally{Q.p=A,q!==null&&re.types!==null&&(q.types=re.types),W.T=q}}function Die(){}function TC(h,d,g,y){if(h.tag!==5)throw Error(r(476));var k=bR(h).queue;yR(h,k,d,ee,g===null?Die:function(){return xR(h),g(y)})}function bR(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:ee},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:g},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function xR(h){var d=bR(h);d.next===null&&(d=h.alternate.memoizedState),Uv(h,d.next.queue,{},il())}function EC(){return Sa(ry)}function wR(){return di().memoizedState}function SR(){return di().memoizedState}function Bie(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var g=il();h=dn(g);var y=On(d,h,g);y!==null&&(Lo(y,d,g),vr(y,d,g)),d={cache:Wd()},h.payload=d;return}d=d.return}}function Fie(h,d,g){var y=il();g={lane:y,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},hx(h)?kR(d,g):(g=tg(h,d,g,y),g!==null&&(Lo(g,h,y),CR(g,d,y)))}function _R(h,d,g){var y=il();Uv(h,d,g,y)}function Uv(h,d,g,y){var k={lane:y,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(hx(h))kR(d,k);else{var A=h.alternate;if(h.lanes===0&&(A===null||A.lanes===0)&&(A=d.lastRenderedReducer,A!==null))try{var q=d.lastRenderedState,re=A(q,g);if(k.hasEagerState=!0,k.eagerState=re,ya(re,q))return yp(h,d,k,0),$r===null&&vp(),!1}catch{}if(g=tg(h,d,k,y),g!==null)return Lo(g,h,y),CR(g,d,y),!0}return!1}function AC(h,d,g,y){if(y={lane:2,revertLane:s5(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},hx(h)){if(d)throw Error(r(479))}else d=tg(h,g,y,2),d!==null&&Lo(d,h,2)}function hx(h){var d=h.alternate;return h===nn||d!==null&&d===nn}function kR(h,d){Eo=ks=!0;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}function CR(h,d,g){if((g&4194048)!==0){var y=d.lanes;y&=h.pendingLanes,g|=y,d.lanes=g,Ba(h,g)}}var zv={readContext:Sa,use:Vd,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useLayoutEffect:Ir,useInsertionEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useSyncExternalStore:Ir,useId:Ir,useHostTransitionStatus:Ir,useFormState:Ir,useActionState:Ir,useOptimistic:Ir,useMemoCache:Ir,useCacheRefresh:Ir};zv.useEffectEvent=Ir;var TR={readContext:Sa,use:Vd,useCallback:function(h,d){return ia().memoizedState=[h,d===void 0?null:d],h},useContext:Sa,useEffect:cR,useImperativeHandle:function(h,d,g){g=g!=null?g.concat([h]):null,Kd(4194308,4,fR.bind(null,d,h),g)},useLayoutEffect:function(h,d){return Kd(4194308,4,h,d)},useInsertionEffect:function(h,d){Kd(4,2,h,d)},useMemo:function(h,d){var g=ia();d=d===void 0?null:d;var y=h();if(os){It(!0);try{h()}finally{It(!1)}}return g.memoizedState=[y,d],y},useReducer:function(h,d,g){var y=ia();if(g!==void 0){var k=g(d);if(os){It(!0);try{g(d)}finally{It(!1)}}}else k=d;return y.memoizedState=y.baseState=k,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:k},y.queue=h,h=h.dispatch=Fie.bind(null,nn,h),[y.memoizedState,h]},useRef:function(h){var d=ia();return h={current:h},d.memoizedState=h},useState:function(h){h=Au(h);var d=h.queue,g=_R.bind(null,nn,d);return d.dispatch=g,[h.memoizedState,g]},useDebugValue:kC,useDeferredValue:function(h,d){var g=ia();return CC(g,h,d)},useTransition:function(){var h=Au(!1);return h=yR.bind(null,nn,h.queue,!0,!1),ia().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,g){var y=nn,k=ia();if($n){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),$r===null)throw Error(r(349));(Kn&127)!==0||Oc(y,d,g)}k.memoizedState=g;var A={value:g,getSnapshot:d};return k.queue=A,cR(Dv.bind(null,y,A,h),[h]),y.flags|=2048,Th(9,{destroy:void 0},jv.bind(null,y,A,g,d),null),g},useId:function(){var h=ia(),d=$r.identifierPrefix;if($n){var g=Co,y=ko;g=(y&~(1<<32-Jt(y)-1)).toString(32)+g,d="_"+d+"R_"+g,g=Ri++,0<g&&(d+="H"+g.toString(32)),d+="_"}else g=dg++,d="_"+d+"r_"+g.toString(32)+"_";return h.memoizedState=d},useHostTransitionStatus:EC,useFormState:Bl,useActionState:Bl,useOptimistic:function(h){var d=ia();d.memoizedState=d.baseState=h;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=AC.bind(null,nn,!0,g),g.dispatch=d,[h,d]},useMemoCache:kh,useCacheRefresh:function(){return ia().memoizedState=Bie.bind(null,nn)},useEffectEvent:function(h){var d=ia(),g={impl:h};return d.memoizedState=g,function(){if((br&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},OC={readContext:Sa,use:Vd,useCallback:mR,useContext:Sa,useEffect:_C,useImperativeHandle:pR,useInsertionEffect:hR,useLayoutEffect:dR,useMemo:gR,useReducer:mg,useRef:ux,useState:function(){return mg(Dl)},useDebugValue:kC,useDeferredValue:function(h,d){var g=di();return vR(g,rn.memoizedState,h,d)},useTransition:function(){var h=mg(Dl)[0],d=di().memoizedState;return[typeof h=="boolean"?h:Eu(h),d]},useSyncExternalStore:vg,useId:wR,useHostTransitionStatus:EC,useFormState:Pc,useActionState:Pc,useOptimistic:function(h,d){var g=di();return sx(g,rn,h,d)},useMemoCache:kh,useCacheRefresh:SR};OC.useEffectEvent=uR;var ER={readContext:Sa,use:Vd,useCallback:mR,useContext:Sa,useEffect:_C,useImperativeHandle:pR,useInsertionEffect:hR,useLayoutEffect:dR,useMemo:gR,useReducer:gg,useRef:ux,useState:function(){return gg(Dl)},useDebugValue:kC,useDeferredValue:function(h,d){var g=di();return rn===null?CC(g,h,d):vR(g,rn.memoizedState,h,d)},useTransition:function(){var h=gg(Dl)[0],d=di().memoizedState;return[typeof h=="boolean"?h:Eu(h),d]},useSyncExternalStore:vg,useId:wR,useHostTransitionStatus:EC,useFormState:xg,useActionState:xg,useOptimistic:function(h,d){var g=di();return rn!==null?sx(g,rn,h,d):(g.baseState=h,[h,g.queue.dispatch])},useMemoCache:kh,useCacheRefresh:SR};ER.useEffectEvent=uR;function PC(h,d,g,y){d=h.memoizedState,g=g(y,d),g=g==null?d:f({},d,g),h.memoizedState=g,h.lanes===0&&(h.updateQueue.baseState=g)}var NC={enqueueSetState:function(h,d,g){h=h._reactInternals;var y=il(),k=dn(y);k.payload=d,g!=null&&(k.callback=g),d=On(h,k,y),d!==null&&(Lo(d,h,y),vr(d,h,y))},enqueueReplaceState:function(h,d,g){h=h._reactInternals;var y=il(),k=dn(y);k.tag=1,k.payload=d,g!=null&&(k.callback=g),d=On(h,k,y),d!==null&&(Lo(d,h,y),vr(d,h,y))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var g=il(),y=dn(g);y.tag=2,d!=null&&(y.callback=d),d=On(h,y,g),d!==null&&(Lo(d,h,g),vr(d,h,g))}};function AR(h,d,g,y,k,A,q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(y,A,q):d.prototype&&d.prototype.isPureReactComponent?!Sc(g,y)||!Sc(k,A):!0}function OR(h,d,g,y){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,y),d.state!==h&&NC.enqueueReplaceState(d,d.state,null)}function Ep(h,d){var g=d;if("ref"in d){g={};for(var y in d)y!=="ref"&&(g[y]=d[y])}if(h=h.defaultProps){g===d&&(g=f({},g));for(var k in h)g[k]===void 0&&(g[k]=h[k])}return g}function PR(h){gp(h)}function NR(h){console.error(h)}function LR(h){gp(h)}function dx(h,d){try{var g=h.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function MR(h,d,g){try{var y=h.onCaughtError;y(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function LC(h,d,g){return g=dn(g),g.tag=3,g.payload={element:null},g.callback=function(){dx(h,d)},g}function RR(h){return h=dn(h),h.tag=3,h}function IR(h,d,g,y){var k=g.type.getDerivedStateFromError;if(typeof k=="function"){var A=y.value;h.payload=function(){return k(A)},h.callback=function(){MR(d,g,y)}}var q=g.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(h.callback=function(){MR(d,g,y),typeof k!="function"&&(Qd===null?Qd=new Set([this]):Qd.add(this));var re=y.stack;this.componentDidCatch(y.value,{componentStack:re!==null?re:""})})}function Uie(h,d,g,y,k){if(g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=g.alternate,d!==null&&_u(d,g,k,!0),g=ri.current,g!==null){switch(g.tag){case 31:case 13:return rr===null?kx():g.alternate===null&&Ii===0&&(Ii=3),g.flags&=-257,g.flags|=65536,g.lanes=k,y===ke?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([y]):d.add(y),r5(h,y,k)),!1;case 22:return g.flags|=65536,y===ke?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([y]):g.add(y)),r5(h,y,k)),!1}throw Error(r(435,g.tag))}return r5(h,y,k),kx(),!1}if($n)return d=ri.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=k,y!==tl&&(h=Error(r(422),{cause:y}),qd(wo(h,g)))):(y!==tl&&(d=Error(r(423),{cause:y}),qd(wo(d,g))),h=h.current.alternate,h.flags|=65536,k&=-k,h.lanes|=k,y=wo(y,g),k=LC(h.stateNode,y,k),Vi(h,k),Ii!==4&&(Ii=2)),!1;var A=Error(r(520),{cause:y});if(A=wo(A,g),Yv===null?Yv=[A]:Yv.push(A),Ii!==4&&(Ii=2),d===null)return!0;y=wo(y,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,h=k&-k,g.lanes|=h,h=LC(g.stateNode,y,h),Vi(g,h),!1;case 1:if(d=g.type,A=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Qd===null||!Qd.has(A))))return g.flags|=65536,k&=-k,g.lanes|=k,k=RR(k),IR(k,h,g,y),Vi(g,k),!1}g=g.return}while(g!==null);return!1}var MC=Error(r(461)),aa=!1;function ls(h,d,g,y){d.child=h===null?En(d,null,g,y):zr(d,h.child,g,y)}function jR(h,d,g,y,k){g=g.render;var A=d.ref;if("ref"in y){var q={};for(var re in y)re!=="ref"&&(q[re]=y[re])}else q=y;return ku(d),y=Mv(h,d,g,q,A,k),re=Rv(),h!==null&&!aa?(Iv(h,d,k),Eh(h,d,k)):($n&&re&&Ov(d),d.flags|=1,ls(h,d,y,k),d.child)}function DR(h,d,g,y,k){if(h===null){var A=g.type;return typeof A=="function"&&!rg(A)&&A.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=A,BR(h,d,A,y,k)):(h=Ud(g.type,null,y,d,d.mode,k),h.ref=d.ref,h.return=d,d.child=h)}if(A=h.child,!zC(h,k)){var q=A.memoizedProps;if(g=g.compare,g=g!==null?g:Sc,g(q,y)&&h.ref===d.ref)return Eh(h,d,k)}return d.flags|=1,h=xo(A,y),h.ref=d.ref,h.return=d,d.child=h}function BR(h,d,g,y,k){if(h!==null){var A=h.memoizedProps;if(Sc(A,y)&&h.ref===d.ref)if(aa=!1,d.pendingProps=y=A,zC(h,k))(h.flags&131072)!==0&&(aa=!0);else return d.lanes=h.lanes,Eh(h,d,k)}return RC(h,d,g,y,k)}function FR(h,d,g,y){var k=y.children,A=h!==null?h.memoizedState:null;if(h===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(A=A!==null?A.baseLanes|g:g,h!==null){for(y=d.child=h.child,k=0;y!==null;)k=k|y.lanes|y.childLanes,y=y.sibling;y=k&~A}else y=0,d.child=null;return UR(h,d,A,g,y)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&oe(d,A!==null?A.cachePool:null),A!==null?ni(d,A):lr(),Li(d);else return y=d.lanes=536870912,UR(h,d,A!==null?A.baseLanes|g:g,g,y)}else A!==null?(oe(d,A.cachePool),ni(d,A),Mi(),d.memoizedState=null):(h!==null&&oe(d,null),lr(),Mi());return ls(h,d,k,g),d.child}function $v(h,d){return h!==null&&h.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function UR(h,d,g,y,k){var A=ie();return A=A===null?null:{parent:ki._currentValue,pool:A},d.memoizedState={baseLanes:g,cachePool:A},h!==null&&oe(d,null),lr(),Li(d),h!==null&&_u(h,d,y,!0),d.childLanes=k,null}function fx(h,d){return d=mx({mode:d.mode,children:d.children},h.mode),d.ref=h.ref,h.child=d,d.return=h,d}function zR(h,d,g){return zr(d,h.child,null,g),h=fx(d,d.pendingProps),h.flags|=2,Cr(d),d.memoizedState=null,h}function zie(h,d,g){var y=d.pendingProps,k=(d.flags&128)!==0;if(d.flags&=-129,h===null){if($n){if(y.mode==="hidden")return h=fx(d,y),d.lanes=536870912,$v(null,h);if(yr(d),(h=Ur)?(h=QI(h,ui),h=h!==null&&h.data==="&"?h:null,h!==null&&(d.memoizedState={dehydrated:h,treeContext:bu!==null?{id:ko,overflow:Co}:null,retryLane:536870912,hydrationErrors:null},g=ig(h),g.return=d,d.child=g,xa=d,Ur=null)):h=null,h===null)throw xu(d);return d.lanes=536870912,null}return fx(d,y)}var A=h.memoizedState;if(A!==null){var q=A.dehydrated;if(yr(d),k)if(d.flags&256)d.flags&=-257,d=zR(h,d,g);else if(d.memoizedState!==null)d.child=h.child,d.flags|=128,d=null;else throw Error(r(558));else if(aa||_u(h,d,g,!1),k=(g&h.childLanes)!==0,aa||k){if(y=$r,y!==null&&(q=es(y,g),q!==0&&q!==A.retryLane))throw A.retryLane=q,Tc(h,q),Lo(y,h,q),MC;kx(),d=zR(h,d,g)}else h=A.treeContext,Ur=Fl(q.nextSibling),xa=d,$n=!0,ss=null,ui=!1,h!==null&&rx(d,h),d=fx(d,y),d.flags|=4096;return d}return h=xo(h.child,{mode:y.mode,children:y.children}),h.ref=d.ref,d.child=h,h.return=d,h}function px(h,d){var g=d.ref;if(g===null)h!==null&&h.ref!==null&&(d.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(h===null||h.ref!==g)&&(d.flags|=4194816)}}function RC(h,d,g,y,k){return ku(d),g=Mv(h,d,g,y,void 0,k),y=Rv(),h!==null&&!aa?(Iv(h,d,k),Eh(h,d,k)):($n&&y&&Ov(d),d.flags|=1,ls(h,d,g,k),d.child)}function $R(h,d,g,y,k,A){return ku(d),d.updateQueue=null,g=Ac(d,y,g,k),fg(h),y=Rv(),h!==null&&!aa?(Iv(h,d,A),Eh(h,d,A)):($n&&y&&Ov(d),d.flags|=1,ls(h,d,g,A),d.child)}function qR(h,d,g,y,k){if(ku(d),d.stateNode===null){var A=ba,q=g.contextType;typeof q=="object"&&q!==null&&(A=Sa(q)),A=new g(y,A),d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=NC,d.stateNode=A,A._reactInternals=d,A=d.stateNode,A.props=y,A.state=d.memoizedState,A.refs={},gt(d),q=g.contextType,A.context=typeof q=="object"&&q!==null?Sa(q):ba,A.state=d.memoizedState,q=g.getDerivedStateFromProps,typeof q=="function"&&(PC(d,g,q,y),A.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(q=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),q!==A.state&&NC.enqueueReplaceState(A,A.state,null),Pi(d,y,A,k),Rr(),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(h===null){A=d.stateNode;var re=d.memoizedProps,ge=Ep(g,re);A.props=ge;var Ie=A.context,We=g.contextType;q=ba,typeof We=="object"&&We!==null&&(q=Sa(We));var Ye=g.getDerivedStateFromProps;We=typeof Ye=="function"||typeof A.getSnapshotBeforeUpdate=="function",re=d.pendingProps!==re,We||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(re||Ie!==q)&&OR(d,A,y,q),Ct=!1;var Be=d.memoizedState;A.state=Be,Pi(d,y,A,k),Rr(),Ie=d.memoizedState,re||Be!==Ie||Ct?(typeof Ye=="function"&&(PC(d,g,Ye,y),Ie=d.memoizedState),(ge=Ct||AR(d,g,ge,y,Be,Ie,q))?(We||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=Ie),A.props=y,A.state=Ie,A.context=q,y=ge):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{A=d.stateNode,ti(h,d),q=d.memoizedProps,We=Ep(g,q),A.props=We,Ye=d.pendingProps,Be=A.context,Ie=g.contextType,ge=ba,typeof Ie=="object"&&Ie!==null&&(ge=Sa(Ie)),re=g.getDerivedStateFromProps,(Ie=typeof re=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q!==Ye||Be!==ge)&&OR(d,A,y,ge),Ct=!1,Be=d.memoizedState,A.state=Be,Pi(d,y,A,k),Rr();var ze=d.memoizedState;q!==Ye||Be!==ze||Ct||h!==null&&h.dependencies!==null&&cg(h.dependencies)?(typeof re=="function"&&(PC(d,g,re,y),ze=d.memoizedState),(We=Ct||AR(d,g,We,y,Be,ze,ge)||h!==null&&h.dependencies!==null&&cg(h.dependencies))?(Ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,ze,ge),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,ze,ge)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||q===h.memoizedProps&&Be===h.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===h.memoizedProps&&Be===h.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=ze),A.props=y,A.state=ze,A.context=ge,y=We):(typeof A.componentDidUpdate!="function"||q===h.memoizedProps&&Be===h.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===h.memoizedProps&&Be===h.memoizedState||(d.flags|=1024),y=!1)}return A=y,px(h,d),y=(d.flags&128)!==0,A||y?(A=d.stateNode,g=y&&typeof g.getDerivedStateFromError!="function"?null:A.render(),d.flags|=1,h!==null&&y?(d.child=zr(d,h.child,null,k),d.child=zr(d,null,g,k)):ls(h,d,g,k),d.memoizedState=A.state,h=d.child):h=Eh(h,d,k),h}function HR(h,d,g,y){return Sh(),d.flags|=256,ls(h,d,g,y),d.child}var IC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jC(h){return{baseLanes:h,cachePool:ue()}}function DC(h,d,g){return h=h!==null?h.childLanes&~g:0,d&&(h|=rl),h}function WR(h,d,g){var y=d.pendingProps,k=!1,A=(d.flags&128)!==0,q;if((q=A)||(q=h!==null&&h.memoizedState===null?!1:(Qn.current&2)!==0),q&&(k=!0,d.flags&=-129),q=(d.flags&32)!==0,d.flags&=-33,h===null){if($n){if(k?Ci(d):Mi(),(h=Ur)?(h=QI(h,ui),h=h!==null&&h.data!=="&"?h:null,h!==null&&(d.memoizedState={dehydrated:h,treeContext:bu!==null?{id:ko,overflow:Co}:null,retryLane:536870912,hydrationErrors:null},g=ig(h),g.return=d,d.child=g,xa=d,Ur=null)):h=null,h===null)throw xu(d);return b5(h)?d.lanes=32:d.lanes=536870912,null}var re=y.children;return y=y.fallback,k?(Mi(),k=d.mode,re=mx({mode:"hidden",children:re},k),y=yu(y,k,g,null),re.return=d,y.return=d,re.sibling=y,d.child=re,y=d.child,y.memoizedState=jC(g),y.childLanes=DC(h,q,g),d.memoizedState=IC,$v(null,y)):(Ci(d),BC(d,re))}var ge=h.memoizedState;if(ge!==null&&(re=ge.dehydrated,re!==null)){if(A)d.flags&256?(Ci(d),d.flags&=-257,d=FC(h,d,g)):d.memoizedState!==null?(Mi(),d.child=h.child,d.flags|=128,d=null):(Mi(),re=y.fallback,k=d.mode,y=mx({mode:"visible",children:y.children},k),re=yu(re,k,g,null),re.flags|=2,y.return=d,re.return=d,y.sibling=re,d.child=y,zr(d,h.child,null,g),y=d.child,y.memoizedState=jC(g),y.childLanes=DC(h,q,g),d.memoizedState=IC,d=$v(null,y));else if(Ci(d),b5(re)){if(q=re.nextSibling&&re.nextSibling.dataset,q)var Ie=q.dgst;q=Ie,y=Error(r(419)),y.stack="",y.digest=q,qd({value:y,source:null,stack:null}),d=FC(h,d,g)}else if(aa||_u(h,d,g,!1),q=(g&h.childLanes)!==0,aa||q){if(q=$r,q!==null&&(y=es(q,g),y!==0&&y!==ge.retryLane))throw ge.retryLane=y,Tc(h,y),Lo(q,h,y),MC;y5(re)||kx(),d=FC(h,d,g)}else y5(re)?(d.flags|=192,d.child=h.child,d=null):(h=ge.treeContext,Ur=Fl(re.nextSibling),xa=d,$n=!0,ss=null,ui=!1,h!==null&&rx(d,h),d=BC(d,y.children),d.flags|=4096);return d}return k?(Mi(),re=y.fallback,k=d.mode,ge=h.child,Ie=ge.sibling,y=xo(ge,{mode:"hidden",children:y.children}),y.subtreeFlags=ge.subtreeFlags&65011712,Ie!==null?re=xo(Ie,re):(re=yu(re,k,g,null),re.flags|=2),re.return=d,y.return=d,y.sibling=re,d.child=y,$v(null,y),y=d.child,re=h.child.memoizedState,re===null?re=jC(g):(k=re.cachePool,k!==null?(ge=ki._currentValue,k=k.parent!==ge?{parent:ge,pool:ge}:k):k=ue(),re={baseLanes:re.baseLanes|g,cachePool:k}),y.memoizedState=re,y.childLanes=DC(h,q,g),d.memoizedState=IC,$v(h.child,y)):(Ci(d),g=h.child,h=g.sibling,g=xo(g,{mode:"visible",children:y.children}),g.return=d,g.sibling=null,h!==null&&(q=d.deletions,q===null?(d.deletions=[h],d.flags|=16):q.push(h)),d.child=g,d.memoizedState=null,g)}function BC(h,d){return d=mx({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function mx(h,d){return h=$a(22,h,null,d),h.lanes=0,h}function FC(h,d,g){return zr(d,h.child,null,g),h=BC(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function VR(h,d,g){h.lanes|=d;var y=h.alternate;y!==null&&(y.lanes|=d),Hd(h.return,d,g)}function UC(h,d,g,y,k,A){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:k,treeForkCount:A}:(q.isBackwards=d,q.rendering=null,q.renderingStartTime=0,q.last=y,q.tail=g,q.tailMode=k,q.treeForkCount=A)}function GR(h,d,g){var y=d.pendingProps,k=y.revealOrder,A=y.tail;y=y.children;var q=Qn.current,re=(q&2)!==0;if(re?(q=q&1|2,d.flags|=128):q&=1,F(Qn,q),ls(h,d,y,g),y=$n?Sp:0,!re&&h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&VR(h,g,d);else if(h.tag===19)VR(h,g,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(k){case"forwards":for(g=d.child,k=null;g!==null;)h=g.alternate,h!==null&&Ha(h)===null&&(k=g),g=g.sibling;g=k,g===null?(k=d.child,d.child=null):(k=g.sibling,g.sibling=null),UC(d,!1,k,g,A,y);break;case"backwards":case"unstable_legacy-backwards":for(g=null,k=d.child,d.child=null;k!==null;){if(h=k.alternate,h!==null&&Ha(h)===null){d.child=k;break}h=k.sibling,k.sibling=g,g=k,k=h}UC(d,!0,g,null,A,y);break;case"together":UC(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Eh(h,d,g){if(h!==null&&(d.dependencies=h.dependencies),Zd|=d.lanes,(g&d.childLanes)===0)if(h!==null){if(_u(h,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,g=xo(h,h.pendingProps),d.child=g,g.return=d;h.sibling!==null;)h=h.sibling,g=g.sibling=xo(h,h.pendingProps),g.return=d;g.sibling=null}return d.child}function zC(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&cg(h)))}function $ie(h,d,g){switch(d.tag){case 3:Oe(d,d.stateNode.containerInfo),Su(d,ki,h.memoizedState.cache),Sh();break;case 27:case 5:Ce(d);break;case 4:Oe(d,d.stateNode.containerInfo);break;case 10:Su(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,yr(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Ci(d),d.flags|=128,null):(g&d.child.childLanes)!==0?WR(h,d,g):(Ci(d),h=Eh(h,d,g),h!==null?h.sibling:null);Ci(d);break;case 19:var k=(h.flags&128)!==0;if(y=(g&d.childLanes)!==0,y||(_u(h,d,g,!1),y=(g&d.childLanes)!==0),k){if(y)return GR(h,d,g);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),F(Qn,Qn.current),y)break;return null;case 22:return d.lanes=0,FR(h,d,g,d.pendingProps);case 24:Su(d,ki,h.memoizedState.cache)}return Eh(h,d,g)}function KR(h,d,g){if(h!==null)if(h.memoizedProps!==d.pendingProps)aa=!0;else{if(!zC(h,g)&&(d.flags&128)===0)return aa=!1,$ie(h,d,g);aa=(h.flags&131072)!==0}else aa=!1,$n&&(d.flags&1048576)!==0&&nx(d,Sp,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(h=Le(d.elementType),d.type=h,typeof h=="function")rg(h)?(y=Ep(h,y),d.tag=1,d=qR(null,d,h,y,g)):(d.tag=0,d=RC(null,d,h,y,g));else{if(h!=null){var k=h.$$typeof;if(k===O){d.tag=11,d=jR(null,d,h,y,g);break e}else if(k===B){d.tag=14,d=DR(null,d,h,y,g);break e}}throw d=H(h)||h,Error(r(306,d,""))}}return d;case 0:return RC(h,d,d.type,d.pendingProps,g);case 1:return y=d.type,k=Ep(y,d.pendingProps),qR(h,d,y,k,g);case 3:e:{if(Oe(d,d.stateNode.containerInfo),h===null)throw Error(r(387));y=d.pendingProps;var A=d.memoizedState;k=A.element,ti(h,d),Pi(d,y,null,g);var q=d.memoizedState;if(y=q.cache,Su(d,ki,y),y!==A.cache&&_h(d,[ki],g,!0),Rr(),y=q.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:q.cache},d.updateQueue.baseState=A,d.memoizedState=A,d.flags&256){d=HR(h,d,y,g);break e}else if(y!==k){k=wo(Error(r(424)),d),qd(k),d=HR(h,d,y,g);break e}else for(h=d.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,Ur=Fl(h.firstChild),xa=d,$n=!0,ss=null,ui=!0,g=En(d,null,y,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Sh(),y===k){d=Eh(h,d,g);break e}ls(h,d,y,g)}d=d.child}return d;case 26:return px(h,d),h===null?(g=aj(d.type,null,d.pendingProps,null))?d.memoizedState=g:$n||(g=d.type,h=d.pendingProps,y=Nx(pe.current).createElement(g),y[hr]=d,y[Xn]=h,cs(y,g,h),Cn(y),d.stateNode=y):d.memoizedState=aj(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:return Ce(d),h===null&&$n&&(y=d.stateNode=nj(d.type,d.pendingProps,pe.current),xa=d,ui=!0,k=Ur,rf(d.type)?(x5=k,Ur=Fl(y.firstChild)):Ur=k),ls(h,d,d.pendingProps.children,g),px(h,d),h===null&&(d.flags|=4194304),d.child;case 5:return h===null&&$n&&((k=y=Ur)&&(y=yae(y,d.type,d.pendingProps,ui),y!==null?(d.stateNode=y,xa=d,Ur=Fl(y.firstChild),ui=!1,k=!0):k=!1),k||xu(d)),Ce(d),k=d.type,A=d.pendingProps,q=h!==null?h.memoizedProps:null,y=A.children,m5(k,A)?y=null:q!==null&&m5(k,q)&&(d.flags|=32),d.memoizedState!==null&&(k=Mv(h,d,SC,null,null,g),ry._currentValue=k),px(h,d),ls(h,d,y,g),d.child;case 6:return h===null&&$n&&((h=g=Ur)&&(g=bae(g,d.pendingProps,ui),g!==null?(d.stateNode=g,xa=d,Ur=null,h=!0):h=!1),h||xu(d)),null;case 13:return WR(h,d,g);case 4:return Oe(d,d.stateNode.containerInfo),y=d.pendingProps,h===null?d.child=zr(d,null,y,g):ls(h,d,y,g),d.child;case 11:return jR(h,d,d.type,d.pendingProps,g);case 7:return ls(h,d,d.pendingProps,g),d.child;case 8:return ls(h,d,d.pendingProps.children,g),d.child;case 12:return ls(h,d,d.pendingProps.children,g),d.child;case 10:return y=d.pendingProps,Su(d,d.type,y.value),ls(h,d,y.children,g),d.child;case 9:return k=d.type._context,y=d.pendingProps.children,ku(d),k=Sa(k),y=y(k),d.flags|=1,ls(h,d,y,g),d.child;case 14:return DR(h,d,d.type,d.pendingProps,g);case 15:return BR(h,d,d.type,d.pendingProps,g);case 19:return GR(h,d,g);case 31:return zie(h,d,g);case 22:return FR(h,d,g,d.pendingProps);case 24:return ku(d),y=Sa(ki),h===null?(k=ie(),k===null&&(k=$r,A=Wd(),k.pooledCache=A,A.refCount++,A!==null&&(k.pooledCacheLanes|=g),k=A),d.memoizedState={parent:y,cache:k},gt(d),Su(d,ki,k)):((h.lanes&g)!==0&&(ti(h,d),Pi(d,null,null,g),Rr()),k=h.memoizedState,A=d.memoizedState,k.parent!==y?(k={parent:y,cache:y},d.memoizedState=k,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=k),Su(d,ki,y)):(y=A.cache,Su(d,ki,y),y!==k.cache&&_h(d,[ki],g,!0))),ls(h,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ah(h){h.flags|=4}function $C(h,d,g,y,k){if((d=(h.mode&32)!==0)&&(d=!1),d){if(h.flags|=16777216,(k&335544128)===k)if(h.stateNode.complete)h.flags|=8192;else if(wI())h.flags|=8192;else throw qe=ke,Me}else h.flags&=-16777217}function YR(h,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!uj(d))if(wI())h.flags|=8192;else throw qe=ke,Me}function gx(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?ma():536870912,h.lanes|=d,kg|=d)}function qv(h,d){if(!$n)switch(h.tailMode){case"hidden":d=h.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?h.tail=null:g.sibling=null;break;case"collapsed":g=h.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:y.sibling=null}}function ii(h){var d=h.alternate!==null&&h.alternate.child===h.child,g=0,y=0;if(d)for(var k=h.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags&65011712,y|=k.flags&65011712,k.return=h,k=k.sibling;else for(k=h.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=h,k=k.sibling;return h.subtreeFlags|=y,h.childLanes=g,d}function qie(h,d,g){var y=d.pendingProps;switch(og(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(d),null;case 1:return ii(d),null;case 3:return g=d.stateNode,y=null,h!==null&&(y=h.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),To(ki),fe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(h===null||h.child===null)&&(wa(d)?Ah(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Nv())),ii(d),null;case 26:var k=d.type,A=d.memoizedState;return h===null?(Ah(d),A!==null?(ii(d),YR(d,A)):(ii(d),$C(d,k,null,y,g))):A?A!==h.memoizedState?(Ah(d),ii(d),YR(d,A)):(ii(d),d.flags&=-16777217):(h=h.memoizedProps,h!==y&&Ah(d),ii(d),$C(d,k,h,y,g)),null;case 27:if(Fe(d),g=pe.current,k=d.type,h!==null&&d.stateNode!=null)h.memoizedProps!==y&&Ah(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return ii(d),null}h=ae.current,wa(d)?Pv(d):(h=nj(k,y,g),d.stateNode=h,Ah(d))}return ii(d),null;case 5:if(Fe(d),k=d.type,h!==null&&d.stateNode!=null)h.memoizedProps!==y&&Ah(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return ii(d),null}if(A=ae.current,wa(d))Pv(d);else{var q=Nx(pe.current);switch(A){case 1:A=q.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:A=q.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":A=q.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":A=q.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":A=q.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof y.is=="string"?q.createElement("select",{is:y.is}):q.createElement("select"),y.multiple?A.multiple=!0:y.size&&(A.size=y.size);break;default:A=typeof y.is=="string"?q.createElement(k,{is:y.is}):q.createElement(k)}}A[hr]=d,A[Xn]=y;e:for(q=d.child;q!==null;){if(q.tag===5||q.tag===6)A.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===d)break e;for(;q.sibling===null;){if(q.return===null||q.return===d)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}d.stateNode=A;e:switch(cs(A,k,y),k){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Ah(d)}}return ii(d),$C(d,d.type,h===null?null:h.memoizedProps,d.pendingProps,g),null;case 6:if(h&&d.stateNode!=null)h.memoizedProps!==y&&Ah(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(h=pe.current,wa(d)){if(h=d.stateNode,g=d.memoizedProps,y=null,k=xa,k!==null)switch(k.tag){case 27:case 5:y=k.memoizedProps}h[hr]=d,h=!!(h.nodeValue===g||y!==null&&y.suppressHydrationWarning===!0||WI(h.nodeValue,g)),h||xu(d,!0)}else h=Nx(h).createTextNode(y),h[hr]=d,d.stateNode=h}return ii(d),null;case 31:if(g=d.memoizedState,h===null||h.memoizedState!==null){if(y=wa(d),g!==null){if(h===null){if(!y)throw Error(r(318));if(h=d.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(557));h[hr]=d}else Sh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ii(d),h=!1}else g=Nv(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=g),h=!0;if(!h)return d.flags&256?(Cr(d),d):(Cr(d),null);if((d.flags&128)!==0)throw Error(r(558))}return ii(d),null;case 13:if(y=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(k=wa(d),y!==null&&y.dehydrated!==null){if(h===null){if(!k)throw Error(r(318));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[hr]=d}else Sh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ii(d),k=!1}else k=Nv(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=k),k=!0;if(!k)return d.flags&256?(Cr(d),d):(Cr(d),null)}return Cr(d),(d.flags&128)!==0?(d.lanes=g,d):(g=y!==null,h=h!==null&&h.memoizedState!==null,g&&(y=d.child,k=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(k=y.alternate.memoizedState.cachePool.pool),A=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==k&&(y.flags|=2048)),g!==h&&g&&(d.child.flags|=8192),gx(d,d.updateQueue),ii(d),null);case 4:return fe(),h===null&&u5(d.stateNode.containerInfo),ii(d),null;case 10:return To(d.type),ii(d),null;case 19:if(V(Qn),y=d.memoizedState,y===null)return ii(d),null;if(k=(d.flags&128)!==0,A=y.rendering,A===null)if(k)qv(y,!1);else{if(Ii!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(A=Ha(h),A!==null){for(d.flags|=128,qv(y,!1),h=A.updateQueue,d.updateQueue=h,gx(d,h),d.subtreeFlags=0,h=g,g=d.child;g!==null;)xp(g,h),g=g.sibling;return F(Qn,Qn.current&1|2),$n&&Zs(d,y.treeForkCount),d.child}h=h.sibling}y.tail!==null&&st()>wx&&(d.flags|=128,k=!0,qv(y,!1),d.lanes=4194304)}else{if(!k)if(h=Ha(A),h!==null){if(d.flags|=128,k=!0,h=h.updateQueue,d.updateQueue=h,gx(d,h),qv(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!$n)return ii(d),null}else 2*st()-y.renderingStartTime>wx&&g!==536870912&&(d.flags|=128,k=!0,qv(y,!1),d.lanes=4194304);y.isBackwards?(A.sibling=d.child,d.child=A):(h=y.last,h!==null?h.sibling=A:d.child=A,y.last=A)}return y.tail!==null?(h=y.tail,y.rendering=h,y.tail=h.sibling,y.renderingStartTime=st(),h.sibling=null,g=Qn.current,F(Qn,k?g&1|2:g&1),$n&&Zs(d,y.treeForkCount),h):(ii(d),null);case 22:case 23:return Cr(d),Gi(),y=d.memoizedState!==null,h!==null?h.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(g&536870912)!==0&&(d.flags&128)===0&&(ii(d),d.subtreeFlags&6&&(d.flags|=8192)):ii(d),g=d.updateQueue,g!==null&&gx(d,g.retryQueue),g=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048),h!==null&&V(ne),null;case 24:return g=null,h!==null&&(g=h.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),To(ki),ii(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Hie(h,d){switch(og(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return To(ki),fe(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return Fe(d),null;case 31:if(d.memoizedState!==null){if(Cr(d),d.alternate===null)throw Error(r(340));Sh()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 13:if(Cr(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Sh()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return V(Qn),null;case 4:return fe(),null;case 10:return To(d.type),null;case 22:case 23:return Cr(d),Gi(),h!==null&&V(ne),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return To(ki),null;case 25:return null;default:return null}}function XR(h,d){switch(og(d),d.tag){case 3:To(ki),fe();break;case 26:case 27:case 5:Fe(d);break;case 4:fe();break;case 31:d.memoizedState!==null&&Cr(d);break;case 13:Cr(d);break;case 19:V(Qn);break;case 10:To(d.type);break;case 22:case 23:Cr(d),Gi(),h!==null&&V(ne);break;case 24:To(ki)}}function Hv(h,d){try{var g=d.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var k=y.next;g=k;do{if((g.tag&h)===h){y=void 0;var A=g.create,q=g.inst;y=A(),q.destroy=y}g=g.next}while(g!==k)}}catch(re){Er(d,d.return,re)}}function Xd(h,d,g){try{var y=d.updateQueue,k=y!==null?y.lastEffect:null;if(k!==null){var A=k.next;y=A;do{if((y.tag&h)===h){var q=y.inst,re=q.destroy;if(re!==void 0){q.destroy=void 0,k=d;var ge=g,Ie=re;try{Ie()}catch(We){Er(k,ge,We)}}}y=y.next}while(y!==A)}}catch(We){Er(d,d.return,We)}}function JR(h){var d=h.updateQueue;if(d!==null){var g=h.stateNode;try{Ni(d,g)}catch(y){Er(h,h.return,y)}}}function ZR(h,d,g){g.props=Ep(h.type,h.memoizedProps),g.state=h.memoizedState;try{g.componentWillUnmount()}catch(y){Er(h,d,y)}}function Wv(h,d){try{var g=h.ref;if(g!==null){switch(h.tag){case 26:case 27:case 5:var y=h.stateNode;break;case 30:y=h.stateNode;break;default:y=h.stateNode}typeof g=="function"?h.refCleanup=g(y):g.current=y}}catch(k){Er(h,d,k)}}function Ou(h,d){var g=h.ref,y=h.refCleanup;if(g!==null)if(typeof y=="function")try{y()}catch(k){Er(h,d,k)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(k){Er(h,d,k)}else g.current=null}function QR(h){var d=h.type,g=h.memoizedProps,y=h.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&y.focus();break e;case"img":g.src?y.src=g.src:g.srcSet&&(y.srcset=g.srcSet)}}catch(k){Er(h,h.return,k)}}function qC(h,d,g){try{var y=h.stateNode;dae(y,h.type,g,d),y[Xn]=d}catch(k){Er(h,h.return,k)}}function eI(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&rf(h.type)||h.tag===4}function HC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||eI(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&rf(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function WC(h,d,g){var y=h.tag;if(y===5||y===6)h=h.stateNode,d?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(h,d):(d=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,d.appendChild(h),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Yo));else if(y!==4&&(y===27&&rf(h.type)&&(g=h.stateNode,d=null),h=h.child,h!==null))for(WC(h,d,g),h=h.sibling;h!==null;)WC(h,d,g),h=h.sibling}function vx(h,d,g){var y=h.tag;if(y===5||y===6)h=h.stateNode,d?g.insertBefore(h,d):g.appendChild(h);else if(y!==4&&(y===27&&rf(h.type)&&(g=h.stateNode),h=h.child,h!==null))for(vx(h,d,g),h=h.sibling;h!==null;)vx(h,d,g),h=h.sibling}function tI(h){var d=h.stateNode,g=h.memoizedProps;try{for(var y=h.type,k=d.attributes;k.length;)d.removeAttributeNode(k[0]);cs(d,y,g),d[hr]=h,d[Xn]=g}catch(A){Er(h,h.return,A)}}var Oh=!1,sa=!1,VC=!1,nI=typeof WeakSet=="function"?WeakSet:Set,Wa=null;function Wie(h,d){if(h=h.containerInfo,f5=Bx,h=kc(h),Rl(h)){if("selectionStart"in h)var g={start:h.selectionStart,end:h.selectionEnd};else e:{g=(g=h.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var k=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var q=0,re=-1,ge=-1,Ie=0,We=0,Ye=h,Be=null;t:for(;;){for(var ze;Ye!==g||k!==0&&Ye.nodeType!==3||(re=q+k),Ye!==A||y!==0&&Ye.nodeType!==3||(ge=q+y),Ye.nodeType===3&&(q+=Ye.nodeValue.length),(ze=Ye.firstChild)!==null;)Be=Ye,Ye=ze;for(;;){if(Ye===h)break t;if(Be===g&&++Ie===k&&(re=q),Be===A&&++We===y&&(ge=q),(ze=Ye.nextSibling)!==null)break;Ye=Be,Be=Ye.parentNode}Ye=ze}g=re===-1||ge===-1?null:{start:re,end:ge}}else g=null}g=g||{start:0,end:0}}else g=null;for(p5={focusedElem:h,selectionRange:g},Bx=!1,Wa=d;Wa!==null;)if(d=Wa,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Wa=h;else for(;Wa!==null;){switch(d=Wa,A=d.alternate,h=d.flags,d.tag){case 0:if((h&4)!==0&&(h=d.updateQueue,h=h!==null?h.events:null,h!==null))for(g=0;g<h.length;g++)k=h[g],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&A!==null){h=void 0,g=d,k=A.memoizedProps,A=A.memoizedState,y=g.stateNode;try{var Rt=Ep(g.type,k);h=y.getSnapshotBeforeUpdate(Rt,A),y.__reactInternalSnapshotBeforeUpdate=h}catch(fn){Er(g,g.return,fn)}}break;case 3:if((h&1024)!==0){if(h=d.stateNode.containerInfo,g=h.nodeType,g===9)v5(h);else if(g===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":v5(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=d.sibling,h!==null){h.return=d.return,Wa=h;break}Wa=d.return}}function rI(h,d,g){var y=g.flags;switch(g.tag){case 0:case 11:case 15:Nh(h,g),y&4&&Hv(5,g);break;case 1:if(Nh(h,g),y&4)if(h=g.stateNode,d===null)try{h.componentDidMount()}catch(q){Er(g,g.return,q)}else{var k=Ep(g.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(k,d,h.__reactInternalSnapshotBeforeUpdate)}catch(q){Er(g,g.return,q)}}y&64&&JR(g),y&512&&Wv(g,g.return);break;case 3:if(Nh(h,g),y&64&&(h=g.updateQueue,h!==null)){if(d=null,g.child!==null)switch(g.child.tag){case 27:case 5:d=g.child.stateNode;break;case 1:d=g.child.stateNode}try{Ni(h,d)}catch(q){Er(g,g.return,q)}}break;case 27:d===null&&y&4&&tI(g);case 26:case 5:Nh(h,g),d===null&&y&4&&QR(g),y&512&&Wv(g,g.return);break;case 12:Nh(h,g);break;case 31:Nh(h,g),y&4&&sI(h,g);break;case 13:Nh(h,g),y&4&&oI(h,g),y&64&&(h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(g=eae.bind(null,g),xae(h,g))));break;case 22:if(y=g.memoizedState!==null||Oh,!y){d=d!==null&&d.memoizedState!==null||sa,k=Oh;var A=sa;Oh=y,(sa=d)&&!A?Lh(h,g,(g.subtreeFlags&8772)!==0):Nh(h,g),Oh=k,sa=A}break;case 30:break;default:Nh(h,g)}}function iI(h){var d=h.alternate;d!==null&&(h.alternate=null,iI(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&be(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var fi=null,Ao=!1;function Ph(h,d,g){for(g=g.child;g!==null;)aI(h,d,g),g=g.sibling}function aI(h,d,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Wt,g)}catch{}switch(g.tag){case 26:sa||Ou(g,d),Ph(h,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:sa||Ou(g,d);var y=fi,k=Ao;rf(g.type)&&(fi=g.stateNode,Ao=!1),Ph(h,d,g),ey(g.stateNode),fi=y,Ao=k;break;case 5:sa||Ou(g,d);case 6:if(y=fi,k=Ao,fi=null,Ph(h,d,g),fi=y,Ao=k,fi!==null)if(Ao)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(g.stateNode)}catch(A){Er(g,d,A)}else try{fi.removeChild(g.stateNode)}catch(A){Er(g,d,A)}break;case 18:fi!==null&&(Ao?(h=fi,JI(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,g.stateNode),Lg(h)):JI(fi,g.stateNode));break;case 4:y=fi,k=Ao,fi=g.stateNode.containerInfo,Ao=!0,Ph(h,d,g),fi=y,Ao=k;break;case 0:case 11:case 14:case 15:Xd(2,g,d),sa||Xd(4,g,d),Ph(h,d,g);break;case 1:sa||(Ou(g,d),y=g.stateNode,typeof y.componentWillUnmount=="function"&&ZR(g,d,y)),Ph(h,d,g);break;case 21:Ph(h,d,g);break;case 22:sa=(y=sa)||g.memoizedState!==null,Ph(h,d,g),sa=y;break;default:Ph(h,d,g)}}function sI(h,d){if(d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{Lg(h)}catch(g){Er(d,d.return,g)}}}function oI(h,d){if(d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Lg(h)}catch(g){Er(d,d.return,g)}}function Vie(h){switch(h.tag){case 31:case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new nI),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new nI),d;default:throw Error(r(435,h.tag))}}function yx(h,d){var g=Vie(h);d.forEach(function(y){if(!g.has(y)){g.add(y);var k=tae.bind(null,h,y);y.then(k,k)}})}function Oo(h,d){var g=d.deletions;if(g!==null)for(var y=0;y<g.length;y++){var k=g[y],A=h,q=d,re=q;e:for(;re!==null;){switch(re.tag){case 27:if(rf(re.type)){fi=re.stateNode,Ao=!1;break e}break;case 5:fi=re.stateNode,Ao=!1;break e;case 3:case 4:fi=re.stateNode.containerInfo,Ao=!0;break e}re=re.return}if(fi===null)throw Error(r(160));aI(A,q,k),fi=null,Ao=!1,A=k.alternate,A!==null&&(A.return=null),k.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)lI(d,h),d=d.sibling}var Lc=null;function lI(h,d){var g=h.alternate,y=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Oo(d,h),Po(h),y&4&&(Xd(3,h,h.return),Hv(3,h),Xd(5,h,h.return));break;case 1:Oo(d,h),Po(h),y&512&&(sa||g===null||Ou(g,g.return)),y&64&&Oh&&(h=h.updateQueue,h!==null&&(y=h.callbacks,y!==null&&(g=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=g===null?y:g.concat(y))));break;case 26:var k=Lc;if(Oo(d,h),Po(h),y&512&&(sa||g===null||Ou(g,g.return)),y&4){var A=g!==null?g.memoizedState:null;if(y=h.memoizedState,g===null)if(y===null)if(h.stateNode===null){e:{y=h.type,g=h.memoizedProps,k=k.ownerDocument||k;t:switch(y){case"title":A=k.getElementsByTagName("title")[0],(!A||A[Et]||A[hr]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=k.createElement(y),k.head.insertBefore(A,k.querySelector("head > title"))),cs(A,y,g),A[hr]=h,Cn(A),y=A;break e;case"link":var q=lj("link","href",k).get(y+(g.href||""));if(q){for(var re=0;re<q.length;re++)if(A=q[re],A.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&A.getAttribute("rel")===(g.rel==null?null:g.rel)&&A.getAttribute("title")===(g.title==null?null:g.title)&&A.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){q.splice(re,1);break t}}A=k.createElement(y),cs(A,y,g),k.head.appendChild(A);break;case"meta":if(q=lj("meta","content",k).get(y+(g.content||""))){for(re=0;re<q.length;re++)if(A=q[re],A.getAttribute("content")===(g.content==null?null:""+g.content)&&A.getAttribute("name")===(g.name==null?null:g.name)&&A.getAttribute("property")===(g.property==null?null:g.property)&&A.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&A.getAttribute("charset")===(g.charSet==null?null:g.charSet)){q.splice(re,1);break t}}A=k.createElement(y),cs(A,y,g),k.head.appendChild(A);break;default:throw Error(r(468,y))}A[hr]=h,Cn(A),y=A}h.stateNode=y}else cj(k,h.type,h.stateNode);else h.stateNode=oj(k,y,h.memoizedProps);else A!==y?(A===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):A.count--,y===null?cj(k,h.type,h.stateNode):oj(k,y,h.memoizedProps)):y===null&&h.stateNode!==null&&qC(h,h.memoizedProps,g.memoizedProps)}break;case 27:Oo(d,h),Po(h),y&512&&(sa||g===null||Ou(g,g.return)),g!==null&&y&4&&qC(h,h.memoizedProps,g.memoizedProps);break;case 5:if(Oo(d,h),Po(h),y&512&&(sa||g===null||Ou(g,g.return)),h.flags&32){k=h.stateNode;try{Ko(k,"")}catch(Rt){Er(h,h.return,Rt)}}y&4&&h.stateNode!=null&&(k=h.memoizedProps,qC(h,k,g!==null?g.memoizedProps:k)),y&1024&&(VC=!0);break;case 6:if(Oo(d,h),Po(h),y&4){if(h.stateNode===null)throw Error(r(162));y=h.memoizedProps,g=h.stateNode;try{g.nodeValue=y}catch(Rt){Er(h,h.return,Rt)}}break;case 3:if(Rx=null,k=Lc,Lc=Lx(d.containerInfo),Oo(d,h),Lc=k,Po(h),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Lg(d.containerInfo)}catch(Rt){Er(h,h.return,Rt)}VC&&(VC=!1,cI(h));break;case 4:y=Lc,Lc=Lx(h.stateNode.containerInfo),Oo(d,h),Po(h),Lc=y;break;case 12:Oo(d,h),Po(h);break;case 31:Oo(d,h),Po(h),y&4&&(y=h.updateQueue,y!==null&&(h.updateQueue=null,yx(h,y)));break;case 13:Oo(d,h),Po(h),h.child.flags&8192&&h.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(xx=st()),y&4&&(y=h.updateQueue,y!==null&&(h.updateQueue=null,yx(h,y)));break;case 22:k=h.memoizedState!==null;var ge=g!==null&&g.memoizedState!==null,Ie=Oh,We=sa;if(Oh=Ie||k,sa=We||ge,Oo(d,h),sa=We,Oh=Ie,Po(h),y&8192)e:for(d=h.stateNode,d._visibility=k?d._visibility&-2:d._visibility|1,k&&(g===null||ge||Oh||sa||Ap(h)),g=null,d=h;;){if(d.tag===5||d.tag===26){if(g===null){ge=g=d;try{if(A=ge.stateNode,k)q=A.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{re=ge.stateNode;var Ye=ge.memoizedProps.style,Be=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;re.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(Rt){Er(ge,ge.return,Rt)}}}else if(d.tag===6){if(g===null){ge=d;try{ge.stateNode.nodeValue=k?"":ge.memoizedProps}catch(Rt){Er(ge,ge.return,Rt)}}}else if(d.tag===18){if(g===null){ge=d;try{var ze=ge.stateNode;k?ZI(ze,!0):ZI(ge.stateNode,!1)}catch(Rt){Er(ge,ge.return,Rt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=h.updateQueue,y!==null&&(g=y.retryQueue,g!==null&&(y.retryQueue=null,yx(h,g))));break;case 19:Oo(d,h),Po(h),y&4&&(y=h.updateQueue,y!==null&&(h.updateQueue=null,yx(h,y)));break;case 30:break;case 21:break;default:Oo(d,h),Po(h)}}function Po(h){var d=h.flags;if(d&2){try{for(var g,y=h.return;y!==null;){if(eI(y)){g=y;break}y=y.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var k=g.stateNode,A=HC(h);vx(h,A,k);break;case 5:var q=g.stateNode;g.flags&32&&(Ko(q,""),g.flags&=-33);var re=HC(h);vx(h,re,q);break;case 3:case 4:var ge=g.stateNode.containerInfo,Ie=HC(h);WC(h,Ie,ge);break;default:throw Error(r(161))}}catch(We){Er(h,h.return,We)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function cI(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;cI(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),h=h.sibling}}function Nh(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)rI(h,d.alternate,d),d=d.sibling}function Ap(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:Xd(4,d,d.return),Ap(d);break;case 1:Ou(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&ZR(d,d.return,g),Ap(d);break;case 27:ey(d.stateNode);case 26:case 5:Ou(d,d.return),Ap(d);break;case 22:d.memoizedState===null&&Ap(d);break;case 30:Ap(d);break;default:Ap(d)}h=h.sibling}}function Lh(h,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,k=h,A=d,q=A.flags;switch(A.tag){case 0:case 11:case 15:Lh(k,A,g),Hv(4,A);break;case 1:if(Lh(k,A,g),y=A,k=y.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Ie){Er(y,y.return,Ie)}if(y=A,k=y.updateQueue,k!==null){var re=y.stateNode;try{var ge=k.shared.hiddenCallbacks;if(ge!==null)for(k.shared.hiddenCallbacks=null,k=0;k<ge.length;k++)qa(ge[k],re)}catch(Ie){Er(y,y.return,Ie)}}g&&q&64&&JR(A),Wv(A,A.return);break;case 27:tI(A);case 26:case 5:Lh(k,A,g),g&&y===null&&q&4&&QR(A),Wv(A,A.return);break;case 12:Lh(k,A,g);break;case 31:Lh(k,A,g),g&&q&4&&sI(k,A);break;case 13:Lh(k,A,g),g&&q&4&&oI(k,A);break;case 22:A.memoizedState===null&&Lh(k,A,g),Wv(A,A.return);break;case 30:break;default:Lh(k,A,g)}d=d.sibling}}function GC(h,d){var g=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==g&&(h!=null&&h.refCount++,g!=null&&_p(g))}function KC(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&_p(h))}function Mc(h,d,g,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)uI(h,d,g,y),d=d.sibling}function uI(h,d,g,y){var k=d.flags;switch(d.tag){case 0:case 11:case 15:Mc(h,d,g,y),k&2048&&Hv(9,d);break;case 1:Mc(h,d,g,y);break;case 3:Mc(h,d,g,y),k&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&_p(h)));break;case 12:if(k&2048){Mc(h,d,g,y),h=d.stateNode;try{var A=d.memoizedProps,q=A.id,re=A.onPostCommit;typeof re=="function"&&re(q,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ge){Er(d,d.return,ge)}}else Mc(h,d,g,y);break;case 31:Mc(h,d,g,y);break;case 13:Mc(h,d,g,y);break;case 23:break;case 22:A=d.stateNode,q=d.alternate,d.memoizedState!==null?A._visibility&2?Mc(h,d,g,y):Vv(h,d):A._visibility&2?Mc(h,d,g,y):(A._visibility|=2,wg(h,d,g,y,(d.subtreeFlags&10256)!==0||!1)),k&2048&&GC(q,d);break;case 24:Mc(h,d,g,y),k&2048&&KC(d.alternate,d);break;default:Mc(h,d,g,y)}}function wg(h,d,g,y,k){for(k=k&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var A=h,q=d,re=g,ge=y,Ie=q.flags;switch(q.tag){case 0:case 11:case 15:wg(A,q,re,ge,k),Hv(8,q);break;case 23:break;case 22:var We=q.stateNode;q.memoizedState!==null?We._visibility&2?wg(A,q,re,ge,k):Vv(A,q):(We._visibility|=2,wg(A,q,re,ge,k)),k&&Ie&2048&&GC(q.alternate,q);break;case 24:wg(A,q,re,ge,k),k&&Ie&2048&&KC(q.alternate,q);break;default:wg(A,q,re,ge,k)}d=d.sibling}}function Vv(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=h,y=d,k=y.flags;switch(y.tag){case 22:Vv(g,y),k&2048&&GC(y.alternate,y);break;case 24:Vv(g,y),k&2048&&KC(y.alternate,y);break;default:Vv(g,y)}d=d.sibling}}var Gv=8192;function Sg(h,d,g){if(h.subtreeFlags&Gv)for(h=h.child;h!==null;)hI(h,d,g),h=h.sibling}function hI(h,d,g){switch(h.tag){case 26:Sg(h,d,g),h.flags&Gv&&h.memoizedState!==null&&Lae(g,Lc,h.memoizedState,h.memoizedProps);break;case 5:Sg(h,d,g);break;case 3:case 4:var y=Lc;Lc=Lx(h.stateNode.containerInfo),Sg(h,d,g),Lc=y;break;case 22:h.memoizedState===null&&(y=h.alternate,y!==null&&y.memoizedState!==null?(y=Gv,Gv=16777216,Sg(h,d,g),Gv=y):Sg(h,d,g));break;default:Sg(h,d,g)}}function dI(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function Kv(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];Wa=y,pI(y,h)}dI(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)fI(h),h=h.sibling}function fI(h){switch(h.tag){case 0:case 11:case 15:Kv(h),h.flags&2048&&Xd(9,h,h.return);break;case 3:Kv(h);break;case 12:Kv(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&2&&(h.return===null||h.return.tag!==13)?(d._visibility&=-3,bx(h)):Kv(h);break;default:Kv(h)}}function bx(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];Wa=y,pI(y,h)}dI(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:Xd(8,d,d.return),bx(d);break;case 22:g=d.stateNode,g._visibility&2&&(g._visibility&=-3,bx(d));break;default:bx(d)}h=h.sibling}}function pI(h,d){for(;Wa!==null;){var g=Wa;switch(g.tag){case 0:case 11:case 15:Xd(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var y=g.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:_p(g.memoizedState.cache)}if(y=g.child,y!==null)y.return=g,Wa=y;else e:for(g=h;Wa!==null;){y=Wa;var k=y.sibling,A=y.return;if(iI(y),y===g){Wa=null;break e}if(k!==null){k.return=A,Wa=k;break e}Wa=A}}}var Gie={getCacheForType:function(h){var d=Sa(ki),g=d.data.get(h);return g===void 0&&(g=h(),d.data.set(h,g)),g},cacheSignal:function(){return Sa(ki).controller.signal}},Kie=typeof WeakMap=="function"?WeakMap:Map,br=0,$r=null,qn=null,Kn=0,Tr=0,nl=null,Jd=!1,_g=!1,YC=!1,Mh=0,Ii=0,Zd=0,Op=0,XC=0,rl=0,kg=0,Yv=null,No=null,JC=!1,xx=0,mI=0,wx=1/0,Sx=null,Qd=null,ka=0,ef=null,Cg=null,Rh=0,ZC=0,QC=null,gI=null,Xv=0,e5=null;function il(){return(br&2)!==0&&Kn!==0?Kn&-Kn:W.T!==null?s5():xi()}function vI(){if(rl===0)if((Kn&536870912)===0||$n){var h=er;er<<=1,(er&3932160)===0&&(er=262144),rl=h}else rl=536870912;return h=ri.current,h!==null&&(h.flags|=32),rl}function Lo(h,d,g){(h===$r&&(Tr===2||Tr===9)||h.cancelPendingCommit!==null)&&(Tg(h,0),tf(h,Kn,rl,!1)),Zt(h,g),((br&2)===0||h!==$r)&&(h===$r&&((br&2)===0&&(Op|=g),Ii===4&&tf(h,Kn,rl,!1)),Pu(h))}function yI(h,d,g){if((br&6)!==0)throw Error(r(327));var y=!g&&(d&127)===0&&(d&h.expiredLanes)===0||zs(h,d),k=y?Jie(h,d):n5(h,d,!0),A=y;do{if(k===0){_g&&!y&&tf(h,d,0,!1);break}else{if(g=h.current.alternate,A&&!Yie(g)){k=n5(h,d,!1),A=!1;continue}if(k===2){if(A=d,h.errorRecoveryDisabledLanes&A)var q=0;else q=h.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){d=q;e:{var re=h;k=Yv;var ge=re.current.memoizedState.isDehydrated;if(ge&&(Tg(re,q).flags|=256),q=n5(re,q,!1),q!==2){if(YC&&!ge){re.errorRecoveryDisabledLanes|=A,Op|=A,k=4;break e}A=No,No=k,A!==null&&(No===null?No=A:No.push.apply(No,A))}k=q}if(A=!1,k!==2)continue}}if(k===1){Tg(h,0),tf(h,d,0,!0);break}e:{switch(y=h,A=k,A){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:tf(y,d,rl,!Jd);break e;case 2:No=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(k=xx+300-st(),10<k)){if(tf(y,d,rl,!Jd),Un(y,0,!0)!==0)break e;Rh=d,y.timeoutHandle=YI(bI.bind(null,y,g,No,Sx,JC,d,rl,Op,kg,Jd,A,"Throttled",-0,0),k);break e}bI(y,g,No,Sx,JC,d,rl,Op,kg,Jd,A,null,-0,0)}}break}while(!0);Pu(h)}function bI(h,d,g,y,k,A,q,re,ge,Ie,We,Ye,Be,ze){if(h.timeoutHandle=-1,Ye=d.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yo},hI(d,A,Ye);var Rt=(A&62914560)===A?xx-st():(A&4194048)===A?mI-st():0;if(Rt=Mae(Ye,Rt),Rt!==null){Rh=A,h.cancelPendingCommit=Rt(EI.bind(null,h,d,A,g,y,k,q,re,ge,We,Ye,null,Be,ze)),tf(h,A,q,!Ie);return}}EI(h,d,A,g,y,k,q,re,ge)}function Yie(h){for(var d=h;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var y=0;y<g.length;y++){var k=g[y],A=k.getSnapshot;k=k.value;try{if(!ya(A(),k))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function tf(h,d,g,y){d&=~XC,d&=~Op,h.suspendedLanes|=d,h.pingedLanes&=~d,y&&(h.warmLanes|=d),y=h.expirationTimes;for(var k=d;0<k;){var A=31-Jt(k),q=1<<A;y[A]=-1,k&=~q}g!==0&&qs(h,g,d)}function _x(){return(br&6)===0?(Jv(0),!1):!0}function t5(){if(qn!==null){if(Tr===0)var h=qn.return;else h=qn,jl=wu=null,pg(h),Je=null,Dt=0,h=qn;for(;h!==null;)XR(h.alternate,h),h=h.return;qn=null}}function Tg(h,d){var g=h.timeoutHandle;g!==-1&&(h.timeoutHandle=-1,mae(g)),g=h.cancelPendingCommit,g!==null&&(h.cancelPendingCommit=null,g()),Rh=0,t5(),$r=h,qn=g=xo(h.current,null),Kn=d,Tr=0,nl=null,Jd=!1,_g=zs(h,d),YC=!1,kg=rl=XC=Op=Zd=Ii=0,No=Yv=null,JC=!1,(d&8)!==0&&(d|=d&32);var y=h.entangledLanes;if(y!==0)for(h=h.entanglements,y&=d;0<y;){var k=31-Jt(y),A=1<<k;d|=h[k],y&=~A}return Mh=d,vp(),g}function xI(h,d){nn=null,W.H=zv,d===we||d===ce?(d=Ge(),Tr=3):d===Me?(d=Ge(),Tr=4):Tr=d===MC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,nl=d,qn===null&&(Ii=1,dx(h,wo(d,h.current)))}function wI(){var h=ri.current;return h===null?!0:(Kn&4194048)===Kn?rr===null:(Kn&62914560)===Kn||(Kn&536870912)!==0?h===rr:!1}function SI(){var h=W.H;return W.H=zv,h===null?zv:h}function _I(){var h=W.A;return W.A=Gie,h}function kx(){Ii=4,Jd||(Kn&4194048)!==Kn&&ri.current!==null||(_g=!0),(Zd&134217727)===0&&(Op&134217727)===0||$r===null||tf($r,Kn,rl,!1)}function n5(h,d,g){var y=br;br|=2;var k=SI(),A=_I();($r!==h||Kn!==d)&&(Sx=null,Tg(h,d)),d=!1;var q=Ii;e:do try{if(Tr!==0&&qn!==null){var re=qn,ge=nl;switch(Tr){case 8:t5(),q=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(d=!0);var Ie=Tr;if(Tr=0,nl=null,Eg(h,re,ge,Ie),g&&_g){q=0;break e}break;default:Ie=Tr,Tr=0,nl=null,Eg(h,re,ge,Ie)}}Xie(),q=Ii;break}catch(We){xI(h,We)}while(!0);return d&&h.shellSuspendCounter++,jl=wu=null,br=y,W.H=k,W.A=A,qn===null&&($r=null,Kn=0,vp()),q}function Xie(){for(;qn!==null;)kI(qn)}function Jie(h,d){var g=br;br|=2;var y=SI(),k=_I();$r!==h||Kn!==d?(Sx=null,wx=st()+500,Tg(h,d)):_g=zs(h,d);e:do try{if(Tr!==0&&qn!==null){d=qn;var A=nl;t:switch(Tr){case 1:Tr=0,nl=null,Eg(h,d,A,1);break;case 2:case 9:if(Pe(A)){Tr=0,nl=null,CI(d);break}d=function(){Tr!==2&&Tr!==9||$r!==h||(Tr=7),Pu(h)},A.then(d,d);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:Pe(A)?(Tr=0,nl=null,CI(d)):(Tr=0,nl=null,Eg(h,d,A,7));break;case 5:var q=null;switch(qn.tag){case 26:q=qn.memoizedState;case 5:case 27:var re=qn;if(q?uj(q):re.stateNode.complete){Tr=0,nl=null;var ge=re.sibling;if(ge!==null)qn=ge;else{var Ie=re.return;Ie!==null?(qn=Ie,Cx(Ie)):qn=null}break t}}Tr=0,nl=null,Eg(h,d,A,5);break;case 6:Tr=0,nl=null,Eg(h,d,A,6);break;case 8:t5(),Ii=6;break e;default:throw Error(r(462))}}Zie();break}catch(We){xI(h,We)}while(!0);return jl=wu=null,W.H=y,W.A=k,br=g,qn!==null?0:($r=null,Kn=0,vp(),Ii)}function Zie(){for(;qn!==null&&!Gt();)kI(qn)}function kI(h){var d=KR(h.alternate,h,Mh);h.memoizedProps=h.pendingProps,d===null?Cx(h):qn=d}function CI(h){var d=h,g=d.alternate;switch(d.tag){case 15:case 0:d=$R(g,d,d.pendingProps,d.type,void 0,Kn);break;case 11:d=$R(g,d,d.pendingProps,d.type.render,d.ref,Kn);break;case 5:pg(d);default:XR(g,d),d=qn=xp(d,Mh),d=KR(g,d,Mh)}h.memoizedProps=h.pendingProps,d===null?Cx(h):qn=d}function Eg(h,d,g,y){jl=wu=null,pg(d),Je=null,Dt=0;var k=d.return;try{if(Uie(h,k,d,g,Kn)){Ii=1,dx(h,wo(g,h.current)),qn=null;return}}catch(A){if(k!==null)throw qn=k,A;Ii=1,dx(h,wo(g,h.current)),qn=null;return}d.flags&32768?($n||y===1?h=!0:_g||(Kn&536870912)!==0?h=!1:(Jd=h=!0,(y===2||y===9||y===3||y===6)&&(y=ri.current,y!==null&&y.tag===13&&(y.flags|=16384))),TI(d,h)):Cx(d)}function Cx(h){var d=h;do{if((d.flags&32768)!==0){TI(d,Jd);return}h=d.return;var g=qie(d.alternate,d,Mh);if(g!==null){qn=g;return}if(d=d.sibling,d!==null){qn=d;return}qn=d=h}while(d!==null);Ii===0&&(Ii=5)}function TI(h,d){do{var g=Hie(h.alternate,h);if(g!==null){g.flags&=32767,qn=g;return}if(g=h.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(h=h.sibling,h!==null)){qn=h;return}qn=h=g}while(h!==null);Ii=6,qn=null}function EI(h,d,g,y,k,A,q,re,ge){h.cancelPendingCommit=null;do Tx();while(ka!==0);if((br&6)!==0)throw Error(r(327));if(d!==null){if(d===h.current)throw Error(r(177));if(A=d.lanes|d.childLanes,A|=eg,$s(h,g,A,q,re,ge),h===$r&&(qn=$r=null,Kn=0),Cg=d,ef=h,Rh=g,ZC=A,QC=k,gI=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,nae(et,function(){return LI(),null})):(h.callbackNode=null,h.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=W.T,W.T=null,k=Q.p,Q.p=2,q=br,br|=4;try{Wie(h,d,g)}finally{br=q,Q.p=k,W.T=y}}ka=1,AI(),OI(),PI()}}function AI(){if(ka===1){ka=0;var h=ef,d=Cg,g=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||g){g=W.T,W.T=null;var y=Q.p;Q.p=2;var k=br;br|=4;try{lI(d,h);var A=p5,q=kc(h.containerInfo),re=A.focusedElem,ge=A.selectionRange;if(q!==re&&re&&re.ownerDocument&&_c(re.ownerDocument.documentElement,re)){if(ge!==null&&Rl(re)){var Ie=ge.start,We=ge.end;if(We===void 0&&(We=Ie),"selectionStart"in re)re.selectionStart=Ie,re.selectionEnd=Math.min(We,re.value.length);else{var Ye=re.ownerDocument||document,Be=Ye&&Ye.defaultView||window;if(Be.getSelection){var ze=Be.getSelection(),Rt=re.textContent.length,fn=Math.min(ge.start,Rt),Dr=ge.end===void 0?fn:Math.min(ge.end,Rt);!ze.extend&&fn>Dr&&(q=Dr,Dr=fn,fn=q);var Ae=Fd(re,fn),Se=Fd(re,Dr);if(Ae&&Se&&(ze.rangeCount!==1||ze.anchorNode!==Ae.node||ze.anchorOffset!==Ae.offset||ze.focusNode!==Se.node||ze.focusOffset!==Se.offset)){var Re=Ye.createRange();Re.setStart(Ae.node,Ae.offset),ze.removeAllRanges(),fn>Dr?(ze.addRange(Re),ze.extend(Se.node,Se.offset)):(Re.setEnd(Se.node,Se.offset),ze.addRange(Re))}}}}for(Ye=[],ze=re;ze=ze.parentNode;)ze.nodeType===1&&Ye.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<Ye.length;re++){var Ke=Ye[re];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Bx=!!f5,p5=f5=null}finally{br=k,Q.p=y,W.T=g}}h.current=d,ka=2}}function OI(){if(ka===2){ka=0;var h=ef,d=Cg,g=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||g){g=W.T,W.T=null;var y=Q.p;Q.p=2;var k=br;br|=4;try{rI(h,d.alternate,d)}finally{br=k,Q.p=y,W.T=g}}ka=3}}function PI(){if(ka===4||ka===3){ka=0,Ht();var h=ef,d=Cg,g=Rh,y=gI;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ka=5:(ka=0,Cg=ef=null,NI(h,h.pendingLanes));var k=h.pendingLanes;if(k===0&&(Qd=null),wr(g),d=d.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Wt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=W.T,k=Q.p,Q.p=2,W.T=null;try{for(var A=h.onRecoverableError,q=0;q<y.length;q++){var re=y[q];A(re.value,{componentStack:re.stack})}}finally{W.T=d,Q.p=k}}(Rh&3)!==0&&Tx(),Pu(h),k=h.pendingLanes,(g&261930)!==0&&(k&42)!==0?h===e5?Xv++:(Xv=0,e5=h):Xv=0,Jv(0)}}function NI(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,_p(d)))}function Tx(){return AI(),OI(),PI(),LI()}function LI(){if(ka!==5)return!1;var h=ef,d=ZC;ZC=0;var g=wr(Rh),y=W.T,k=Q.p;try{Q.p=32>g?32:g,W.T=null,g=QC,QC=null;var A=ef,q=Rh;if(ka=0,Cg=ef=null,Rh=0,(br&6)!==0)throw Error(r(331));var re=br;if(br|=4,fI(A.current),uI(A,A.current,q,g),br=re,Jv(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Wt,A)}catch{}return!0}finally{Q.p=k,W.T=y,NI(h,d)}}function MI(h,d,g){d=wo(g,d),d=LC(h.stateNode,d,2),h=On(h,d,2),h!==null&&(Zt(h,2),Pu(h))}function Er(h,d,g){if(h.tag===3)MI(h,h,g);else for(;d!==null;){if(d.tag===3){MI(d,h,g);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Qd===null||!Qd.has(y))){h=wo(g,h),g=RR(2),y=On(d,g,2),y!==null&&(IR(g,y,d,h),Zt(y,2),Pu(y));break}}d=d.return}}function r5(h,d,g){var y=h.pingCache;if(y===null){y=h.pingCache=new Kie;var k=new Set;y.set(d,k)}else k=y.get(d),k===void 0&&(k=new Set,y.set(d,k));k.has(g)||(YC=!0,k.add(g),h=Qie.bind(null,h,d,g),d.then(h,h))}function Qie(h,d,g){var y=h.pingCache;y!==null&&y.delete(d),h.pingedLanes|=h.suspendedLanes&g,h.warmLanes&=~g,$r===h&&(Kn&g)===g&&(Ii===4||Ii===3&&(Kn&62914560)===Kn&&300>st()-xx?(br&2)===0&&Tg(h,0):XC|=g,kg===Kn&&(kg=0)),Pu(h)}function RI(h,d){d===0&&(d=ma()),h=Tc(h,d),h!==null&&(Zt(h,d),Pu(h))}function eae(h){var d=h.memoizedState,g=0;d!==null&&(g=d.retryLane),RI(h,g)}function tae(h,d){var g=0;switch(h.tag){case 31:case 13:var y=h.stateNode,k=h.memoizedState;k!==null&&(g=k.retryLane);break;case 19:y=h.stateNode;break;case 22:y=h.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(d),RI(h,g)}function nae(h,d){return Lt(h,d)}var Ex=null,Ag=null,i5=!1,Ax=!1,a5=!1,nf=0;function Pu(h){h!==Ag&&h.next===null&&(Ag===null?Ex=Ag=h:Ag=Ag.next=h),Ax=!0,i5||(i5=!0,iae())}function Jv(h,d){if(!a5&&Ax){a5=!0;do for(var g=!1,y=Ex;y!==null;){if(h!==0){var k=y.pendingLanes;if(k===0)var A=0;else{var q=y.suspendedLanes,re=y.pingedLanes;A=(1<<31-Jt(42|h)+1)-1,A&=k&~(q&~re),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(g=!0,BI(y,A))}else A=Kn,A=Un(y,y===$r?A:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(A&3)===0||zs(y,A)||(g=!0,BI(y,A));y=y.next}while(g);a5=!1}}function rae(){II()}function II(){Ax=i5=!1;var h=0;nf!==0&&pae()&&(h=nf);for(var d=st(),g=null,y=Ex;y!==null;){var k=y.next,A=jI(y,d);A===0?(y.next=null,g===null?Ex=k:g.next=k,k===null&&(Ag=g)):(g=y,(h!==0||(A&3)!==0)&&(Ax=!0)),y=k}ka!==0&&ka!==5||Jv(h),nf!==0&&(nf=0)}function jI(h,d){for(var g=h.suspendedLanes,y=h.pingedLanes,k=h.expirationTimes,A=h.pendingLanes&-62914561;0<A;){var q=31-Jt(A),re=1<<q,ge=k[q];ge===-1?((re&g)===0||(re&y)!==0)&&(k[q]=jn(re,d)):ge<=d&&(h.expiredLanes|=re),A&=~re}if(d=$r,g=Kn,g=Un(h,h===d?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),y=h.callbackNode,g===0||h===d&&(Tr===2||Tr===9)||h.cancelPendingCommit!==null)return y!==null&&y!==null&&xt(y),h.callbackNode=null,h.callbackPriority=0;if((g&3)===0||zs(h,g)){if(d=g&-g,d===h.callbackPriority)return d;switch(y!==null&&xt(y),wr(g)){case 2:case 8:g=De;break;case 32:g=et;break;case 268435456:g=pt;break;default:g=et}return y=DI.bind(null,h),g=Lt(g,y),h.callbackPriority=d,h.callbackNode=g,d}return y!==null&&y!==null&&xt(y),h.callbackPriority=2,h.callbackNode=null,2}function DI(h,d){if(ka!==0&&ka!==5)return h.callbackNode=null,h.callbackPriority=0,null;var g=h.callbackNode;if(Tx()&&h.callbackNode!==g)return null;var y=Kn;return y=Un(h,h===$r?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),y===0?null:(yI(h,y,d),jI(h,st()),h.callbackNode!=null&&h.callbackNode===g?DI.bind(null,h):null)}function BI(h,d){if(Tx())return null;yI(h,d,!0)}function iae(){gae(function(){(br&6)!==0?Lt(_e,rae):II()})}function s5(){if(nf===0){var h=_;h===0&&(h=cn,cn<<=1,(cn&261888)===0&&(cn=256)),nf=h}return nf}function FI(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Ss(""+h)}function UI(h,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,h.id&&g.setAttribute("form",h.id),d.parentNode.insertBefore(g,d),h=new FormData(h),g.parentNode.removeChild(g),h}function aae(h,d,g,y,k){if(d==="submit"&&g&&g.stateNode===k){var A=FI((k[Xn]||null).action),q=y.submitter;q&&(d=(d=q[Xn]||null)?FI(d.formAction):q.getAttribute("formAction"),d!==null&&(A=d,q=null));var re=new vo("action","action",null,y,k);h.push({event:re,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(nf!==0){var ge=q?UI(k,q):new FormData(k);TC(g,{pending:!0,data:ge,method:k.method,action:A},null,ge)}}else typeof A=="function"&&(re.preventDefault(),ge=q?UI(k,q):new FormData(k),TC(g,{pending:!0,data:ge,method:k.method,action:A},A,ge))},currentTarget:k}]})}}for(var o5=0;o5<bh.length;o5++){var l5=bh[o5],sae=l5.toLowerCase(),oae=l5[0].toUpperCase()+l5.slice(1);bo(sae,"on"+oae)}bo(yh,"onAnimationEnd"),bo(mp,"onAnimationIteration"),bo(Tv,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(Q1,"onTransitionRun"),bo(ex,"onTransitionStart"),bo(tx,"onTransitionCancel"),bo(Ev,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lae=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zv));function zI(h,d){d=(d&4)!==0;for(var g=0;g<h.length;g++){var y=h[g],k=y.event;y=y.listeners;e:{var A=void 0;if(d)for(var q=y.length-1;0<=q;q--){var re=y[q],ge=re.instance,Ie=re.currentTarget;if(re=re.listener,ge!==A&&k.isPropagationStopped())break e;A=re,k.currentTarget=Ie;try{A(k)}catch(We){gp(We)}k.currentTarget=null,A=ge}else for(q=0;q<y.length;q++){if(re=y[q],ge=re.instance,Ie=re.currentTarget,re=re.listener,ge!==A&&k.isPropagationStopped())break e;A=re,k.currentTarget=Ie;try{A(k)}catch(We){gp(We)}k.currentTarget=null,A=ge}}}}function Hn(h,d){var g=d[Fa];g===void 0&&(g=d[Fa]=new Set);var y=h+"__bubble";g.has(y)||($I(d,h,2,!1),g.add(y))}function c5(h,d,g){var y=0;d&&(y|=4),$I(g,h,y,d)}var Ox="_reactListening"+Math.random().toString(36).slice(2);function u5(h){if(!h[Ox]){h[Ox]=!0,Ei.forEach(function(g){g!=="selectionchange"&&(lae.has(g)||c5(g,!1,h),c5(g,!0,h))});var d=h.nodeType===9?h:h.ownerDocument;d===null||d[Ox]||(d[Ox]=!0,c5("selectionchange",!1,d))}}function $I(h,d,g,y){switch(vj(d)){case 2:var k=jae;break;case 8:k=Dae;break;default:k=C5}g=k.bind(null,d,g,h),k=void 0,!up||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),y?k!==void 0?h.addEventListener(d,g,{capture:!0,passive:k}):h.addEventListener(d,g,!0):k!==void 0?h.addEventListener(d,g,{passive:k}):h.addEventListener(d,g,!1)}function h5(h,d,g,y,k){var A=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var q=y.tag;if(q===3||q===4){var re=y.stateNode.containerInfo;if(re===k)break;if(q===4)for(q=y.return;q!==null;){var ge=q.tag;if((ge===3||ge===4)&&q.stateNode.containerInfo===k)return;q=q.return}for(;re!==null;){if(q=ot(re),q===null)return;if(ge=q.tag,ge===5||ge===6||ge===26||ge===27){y=A=q;continue e}re=re.parentNode}}y=y.return}Ym(function(){var Ie=A,We=hh(g),Ye=[];e:{var Be=Av.get(h);if(Be!==void 0){var ze=vo,Rt=h;switch(h){case"keypress":if(go(g)===0)break e;case"keydown":case"keyup":ze=Jn;break;case"focusin":Rt="focus",ze=mc;break;case"focusout":Rt="blur",ze=mc;break;case"beforeblur":case"afterblur":ze=mc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Wi;break;case yh:case mp:case Tv:ze=N;break;case Ev:ze=va;break;case"scroll":case"scrollend":ze=Ld;break;case"wheel":ze=Xo;break;case"copy":case"cut":case"paste":ze=de;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=wi;break;case"toggle":case"beforetoggle":ze=dp}var fn=(d&4)!==0,Dr=!fn&&(h==="scroll"||h==="scrollend"),Ae=fn?Be!==null?Be+"Capture":null:Be;fn=[];for(var Se=Ie,Re;Se!==null;){var Ke=Se;if(Re=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Re===null||Ae===null||(Ke=Gs(Se,Ae),Ke!=null&&fn.push(Qv(Se,Ke,Re))),Dr)break;Se=Se.return}0<fn.length&&(Be=new ze(Be,Rt,null,g,We),Ye.push({event:Be,listeners:fn}))}}if((d&7)===0){e:{if(Be=h==="mouseover"||h==="pointerover",ze=h==="mouseout"||h==="pointerout",Be&&g!==cc&&(Rt=g.relatedTarget||g.fromElement)&&(ot(Rt)||Rt[qi]))break e;if((ze||Be)&&(Be=We.window===We?We:(Be=We.ownerDocument)?Be.defaultView||Be.parentWindow:window,ze?(Rt=g.relatedTarget||g.toElement,ze=Ie,Rt=Rt?ot(Rt):null,Rt!==null&&(Dr=a(Rt),fn=Rt.tag,Rt!==Dr||fn!==5&&fn!==27&&fn!==6)&&(Rt=null)):(ze=null,Rt=Ie),ze!==Rt)){if(fn=hp,Ke="onMouseLeave",Ae="onMouseEnter",Se="mouse",(h==="pointerout"||h==="pointerover")&&(fn=wi,Ke="onPointerLeave",Ae="onPointerEnter",Se="pointer"),Dr=ze==null?Be:tr(ze),Re=Rt==null?Be:tr(Rt),Be=new fn(Ke,Se+"leave",ze,g,We),Be.target=Dr,Be.relatedTarget=Re,Ke=null,ot(We)===Ie&&(fn=new fn(Ae,Se+"enter",Rt,g,We),fn.target=Re,fn.relatedTarget=Dr,Ke=fn),Dr=Ke,ze&&Rt)t:{for(fn=cae,Ae=ze,Se=Rt,Re=0,Ke=Ae;Ke;Ke=fn(Ke))Re++;Ke=0;for(var an=Se;an;an=fn(an))Ke++;for(;0<Re-Ke;)Ae=fn(Ae),Re--;for(;0<Ke-Re;)Se=fn(Se),Ke--;for(;Re--;){if(Ae===Se||Se!==null&&Ae===Se.alternate){fn=Ae;break t}Ae=fn(Ae),Se=fn(Se)}fn=null}else fn=null;ze!==null&&qI(Ye,Be,ze,fn,!1),Rt!==null&&Dr!==null&&qI(Ye,Dr,Rt,fn,!0)}}e:{if(Be=Ie?tr(Ie):window,ze=Be.nodeName&&Be.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Be.type==="file")var dr=vu;else if(fp(Be))if(_s)dr=Ll;else{dr=Si;var Yt=Dd}else ze=Be.nodeName,!ze||ze.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Ie&&op(Ie.elementType)&&(dr=vu):dr=Qm;if(dr&&(dr=dr(h,Ie))){Ys(Ye,dr,g,We);break e}Yt&&Yt(h,Be,Ie),h==="focusout"&&Ie&&Be.type==="number"&&Ie.memoizedProps.value!=null&&ip(Be,"number",Be.value)}switch(Yt=Ie?tr(Ie):window,h){case"focusin":(fp(Yt)||Yt.contentEditable==="true")&&(Xs=Yt,Cc=Ie,Ua=null);break;case"focusout":Ua=Cc=Xs=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,or(Ye,g,We);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":or(Ye,g,We)}var Ln;if(Al)e:{switch(h){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else Ol?gu(h,g)&&(Yn="onCompositionEnd"):h==="keydown"&&g.keyCode===229&&(Yn="onCompositionStart");Yn&&(yc&&g.locale!=="ko"&&(Ol||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&Ol&&(Ln=Xm()):(Ks=We,fh="value"in Ks?Ks.value:Ks.textContent,Ol=!0)),Yt=Px(Ie,Yn),0<Yt.length&&(Yn=new Ee(Yn,h,null,g,We),Ye.push({event:Yn,listeners:Yt}),Ln?Yn.data=Ln:(Ln=Rd(g),Ln!==null&&(Yn.data=Ln)))),(Ln=gh?is(h,g):bc(h,g))&&(Yn=Px(Ie,"onBeforeInput"),0<Yn.length&&(Yt=new Ee("onBeforeInput","beforeinput",null,g,We),Ye.push({event:Yt,listeners:Yn}),Yt.data=Ln)),aae(Ye,h,Ie,g,We)}zI(Ye,d)})}function Qv(h,d,g){return{instance:h,listener:d,currentTarget:g}}function Px(h,d){for(var g=d+"Capture",y=[];h!==null;){var k=h,A=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||A===null||(k=Gs(h,g),k!=null&&y.unshift(Qv(h,k,A)),k=Gs(h,d),k!=null&&y.push(Qv(h,k,A))),h.tag===3)return y;h=h.return}return[]}function cae(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function qI(h,d,g,y,k){for(var A=d._reactName,q=[];g!==null&&g!==y;){var re=g,ge=re.alternate,Ie=re.stateNode;if(re=re.tag,ge!==null&&ge===y)break;re!==5&&re!==26&&re!==27||Ie===null||(ge=Ie,k?(Ie=Gs(g,A),Ie!=null&&q.unshift(Qv(g,Ie,ge))):k||(Ie=Gs(g,A),Ie!=null&&q.push(Qv(g,Ie,ge)))),g=g.return}q.length!==0&&h.push({event:d,listeners:q})}var uae=/\r\n?/g,hae=/\u0000|\uFFFD/g;function HI(h){return(typeof h=="string"?h:""+h).replace(uae,`
`).replace(hae,"")}function WI(h,d){return d=HI(d),HI(h)===d}function jr(h,d,g,y,k,A){switch(g){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Ko(h,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Ko(h,""+y);break;case"className":lc(h,"class",y);break;case"tabIndex":lc(h,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":lc(h,g,y);break;case"style":Vm(h,y,A);break;case"data":if(d!=="object"){lc(h,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||g!=="href")){h.removeAttribute(g);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){h.removeAttribute(g);break}y=Ss(""+y),h.setAttribute(g,y);break;case"action":case"formAction":if(typeof y=="function"){h.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(g==="formAction"?(d!=="input"&&jr(h,d,"name",k.name,k,null),jr(h,d,"formEncType",k.formEncType,k,null),jr(h,d,"formMethod",k.formMethod,k,null),jr(h,d,"formTarget",k.formTarget,k,null)):(jr(h,d,"encType",k.encType,k,null),jr(h,d,"method",k.method,k,null),jr(h,d,"target",k.target,k,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){h.removeAttribute(g);break}y=Ss(""+y),h.setAttribute(g,y);break;case"onClick":y!=null&&(h.onclick=Yo);break;case"onScroll":y!=null&&Hn("scroll",h);break;case"onScrollEnd":y!=null&&Hn("scrollend",h);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(g=y.__html,g!=null){if(k.children!=null)throw Error(r(60));h.innerHTML=g}}break;case"multiple":h.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":h.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){h.removeAttribute("xlink:href");break}g=Ss(""+y),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?h.setAttribute(g,""+y):h.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?h.setAttribute(g,""):h.removeAttribute(g);break;case"capture":case"download":y===!0?h.setAttribute(g,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?h.setAttribute(g,y):h.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?h.setAttribute(g,y):h.removeAttribute(g);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?h.removeAttribute(g):h.setAttribute(g,y);break;case"popover":Hn("beforetoggle",h),Hn("toggle",h),Vs(h,"popover",y);break;case"xlinkActuate":Go(h,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Go(h,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Go(h,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Go(h,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Go(h,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Go(h,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Go(h,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Go(h,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Go(h,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Vs(h,"is",y);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=lp.get(g)||g,Vs(h,g,y))}}function d5(h,d,g,y,k,A){switch(g){case"style":Vm(h,y,A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(g=y.__html,g!=null){if(k.children!=null)throw Error(r(60));h.innerHTML=g}}break;case"children":typeof y=="string"?Ko(h,y):(typeof y=="number"||typeof y=="bigint")&&Ko(h,""+y);break;case"onScroll":y!=null&&Hn("scroll",h);break;case"onScrollEnd":y!=null&&Hn("scrollend",h);break;case"onClick":y!=null&&(h.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(k=g.endsWith("Capture"),d=g.slice(2,k?g.length-7:void 0),A=h[Xn]||null,A=A!=null?A[g]:null,typeof A=="function"&&h.removeEventListener(d,A,k),typeof y=="function")){typeof A!="function"&&A!==null&&(g in h?h[g]=null:h.hasAttribute(g)&&h.removeAttribute(g)),h.addEventListener(d,y,k);break e}g in h?h[g]=y:y===!0?h.setAttribute(g,""):Vs(h,g,y)}}}function cs(h,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hn("error",h),Hn("load",h);var y=!1,k=!1,A;for(A in g)if(g.hasOwnProperty(A)){var q=g[A];if(q!=null)switch(A){case"src":y=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:jr(h,d,A,q,g,null)}}k&&jr(h,d,"srcSet",g.srcSet,g,null),y&&jr(h,d,"src",g.src,g,null);return;case"input":Hn("invalid",h);var re=A=q=k=null,ge=null,Ie=null;for(y in g)if(g.hasOwnProperty(y)){var We=g[y];if(We!=null)switch(y){case"name":k=We;break;case"type":q=We;break;case"checked":ge=We;break;case"defaultChecked":Ie=We;break;case"value":A=We;break;case"defaultValue":re=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,d));break;default:jr(h,d,y,We,g,null)}}Hm(h,A,re,ge,Ie,q,k,!1);return;case"select":Hn("invalid",h),y=q=A=null;for(k in g)if(g.hasOwnProperty(k)&&(re=g[k],re!=null))switch(k){case"value":A=re;break;case"defaultValue":q=re;break;case"multiple":y=re;default:jr(h,d,k,re,g,null)}d=A,g=q,h.multiple=!!y,d!=null?rs(h,!!y,d,!1):g!=null&&rs(h,!!y,g,!0);return;case"textarea":Hn("invalid",h),A=k=y=null;for(q in g)if(g.hasOwnProperty(q)&&(re=g[q],re!=null))switch(q){case"value":y=re;break;case"defaultValue":k=re;break;case"children":A=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(91));break;default:jr(h,d,q,re,g,null)}sp(h,y,k,A);return;case"option":for(ge in g)g.hasOwnProperty(ge)&&(y=g[ge],y!=null)&&(ge==="selected"?h.selected=y&&typeof y!="function"&&typeof y!="symbol":jr(h,d,ge,y,g,null));return;case"dialog":Hn("beforetoggle",h),Hn("toggle",h),Hn("cancel",h),Hn("close",h);break;case"iframe":case"object":Hn("load",h);break;case"video":case"audio":for(y=0;y<Zv.length;y++)Hn(Zv[y],h);break;case"image":Hn("error",h),Hn("load",h);break;case"details":Hn("toggle",h);break;case"embed":case"source":case"link":Hn("error",h),Hn("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in g)if(g.hasOwnProperty(Ie)&&(y=g[Ie],y!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:jr(h,d,Ie,y,g,null)}return;default:if(op(d)){for(We in g)g.hasOwnProperty(We)&&(y=g[We],y!==void 0&&d5(h,d,We,y,g,void 0));return}}for(re in g)g.hasOwnProperty(re)&&(y=g[re],y!=null&&jr(h,d,re,y,g,null))}function dae(h,d,g,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,A=null,q=null,re=null,ge=null,Ie=null,We=null;for(ze in g){var Ye=g[ze];if(g.hasOwnProperty(ze)&&Ye!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":ge=Ye;default:y.hasOwnProperty(ze)||jr(h,d,ze,null,y,Ye)}}for(var Be in y){var ze=y[Be];if(Ye=g[Be],y.hasOwnProperty(Be)&&(ze!=null||Ye!=null))switch(Be){case"type":A=ze;break;case"name":k=ze;break;case"checked":Ie=ze;break;case"defaultChecked":We=ze;break;case"value":q=ze;break;case"defaultValue":re=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,d));break;default:ze!==Ye&&jr(h,d,Be,ze,y,Ye)}}Od(h,q,re,ge,Ie,We,A,k);return;case"select":ze=q=re=Be=null;for(A in g)if(ge=g[A],g.hasOwnProperty(A)&&ge!=null)switch(A){case"value":break;case"multiple":ze=ge;default:y.hasOwnProperty(A)||jr(h,d,A,null,y,ge)}for(k in y)if(A=y[k],ge=g[k],y.hasOwnProperty(k)&&(A!=null||ge!=null))switch(k){case"value":Be=A;break;case"defaultValue":re=A;break;case"multiple":q=A;default:A!==ge&&jr(h,d,k,A,y,ge)}d=re,g=q,y=ze,Be!=null?rs(h,!!g,Be,!1):!!y!=!!g&&(d!=null?rs(h,!!g,d,!0):rs(h,!!g,g?[]:"",!1));return;case"textarea":ze=Be=null;for(re in g)if(k=g[re],g.hasOwnProperty(re)&&k!=null&&!y.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:jr(h,d,re,null,y,k)}for(q in y)if(k=y[q],A=g[q],y.hasOwnProperty(q)&&(k!=null||A!=null))switch(q){case"value":Be=k;break;case"defaultValue":ze=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==A&&jr(h,d,q,k,y,A)}ap(h,Be,ze);return;case"option":for(var Rt in g)Be=g[Rt],g.hasOwnProperty(Rt)&&Be!=null&&!y.hasOwnProperty(Rt)&&(Rt==="selected"?h.selected=!1:jr(h,d,Rt,null,y,Be));for(ge in y)Be=y[ge],ze=g[ge],y.hasOwnProperty(ge)&&Be!==ze&&(Be!=null||ze!=null)&&(ge==="selected"?h.selected=Be&&typeof Be!="function"&&typeof Be!="symbol":jr(h,d,ge,Be,y,ze));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in g)Be=g[fn],g.hasOwnProperty(fn)&&Be!=null&&!y.hasOwnProperty(fn)&&jr(h,d,fn,null,y,Be);for(Ie in y)if(Be=y[Ie],ze=g[Ie],y.hasOwnProperty(Ie)&&Be!==ze&&(Be!=null||ze!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,d));break;default:jr(h,d,Ie,Be,y,ze)}return;default:if(op(d)){for(var Dr in g)Be=g[Dr],g.hasOwnProperty(Dr)&&Be!==void 0&&!y.hasOwnProperty(Dr)&&d5(h,d,Dr,void 0,y,Be);for(We in y)Be=y[We],ze=g[We],!y.hasOwnProperty(We)||Be===ze||Be===void 0&&ze===void 0||d5(h,d,We,Be,y,ze);return}}for(var Ae in g)Be=g[Ae],g.hasOwnProperty(Ae)&&Be!=null&&!y.hasOwnProperty(Ae)&&jr(h,d,Ae,null,y,Be);for(Ye in y)Be=y[Ye],ze=g[Ye],!y.hasOwnProperty(Ye)||Be===ze||Be==null&&ze==null||jr(h,d,Ye,Be,y,ze)}function VI(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fae(){if(typeof performance.getEntriesByType=="function"){for(var h=0,d=0,g=performance.getEntriesByType("resource"),y=0;y<g.length;y++){var k=g[y],A=k.transferSize,q=k.initiatorType,re=k.duration;if(A&&re&&VI(q)){for(q=0,re=k.responseEnd,y+=1;y<g.length;y++){var ge=g[y],Ie=ge.startTime;if(Ie>re)break;var We=ge.transferSize,Ye=ge.initiatorType;We&&VI(Ye)&&(ge=ge.responseEnd,q+=We*(ge<re?1:(re-Ie)/(ge-Ie)))}if(--y,d+=8*(A+q)/(k.duration/1e3),h++,10<h)break}}if(0<h)return d/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var f5=null,p5=null;function Nx(h){return h.nodeType===9?h:h.ownerDocument}function GI(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KI(h,d){if(h===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&d==="foreignObject"?0:h}function m5(h,d){return h==="textarea"||h==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var g5=null;function pae(){var h=window.event;return h&&h.type==="popstate"?h===g5?!1:(g5=h,!0):(g5=null,!1)}var YI=typeof setTimeout=="function"?setTimeout:void 0,mae=typeof clearTimeout=="function"?clearTimeout:void 0,XI=typeof Promise=="function"?Promise:void 0,gae=typeof queueMicrotask=="function"?queueMicrotask:typeof XI<"u"?function(h){return XI.resolve(null).then(h).catch(vae)}:YI;function vae(h){setTimeout(function(){throw h})}function rf(h){return h==="head"}function JI(h,d){var g=d,y=0;do{var k=g.nextSibling;if(h.removeChild(g),k&&k.nodeType===8)if(g=k.data,g==="/$"||g==="/&"){if(y===0){h.removeChild(k),Lg(d);return}y--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")y++;else if(g==="html")ey(h.ownerDocument.documentElement);else if(g==="head"){g=h.ownerDocument.head,ey(g);for(var A=g.firstChild;A;){var q=A.nextSibling,re=A.nodeName;A[Et]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&A.rel.toLowerCase()==="stylesheet"||g.removeChild(A),A=q}}else g==="body"&&ey(h.ownerDocument.body);g=k}while(g);Lg(d)}function ZI(h,d){var g=h;h=0;do{var y=g.nextSibling;if(g.nodeType===1?d?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(d?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),y&&y.nodeType===8)if(g=y.data,g==="/$"){if(h===0)break;h--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||h++;g=y}while(g)}function v5(h){var d=h.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":v5(g),be(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}h.removeChild(g)}}function yae(h,d,g,y){for(;h.nodeType===1;){var k=g;if(h.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(y){if(!h[Et])switch(d){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(A=h.getAttribute("rel"),A==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(A!==k.rel||h.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||h.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||h.getAttribute("title")!==(k.title==null?null:k.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(A=h.getAttribute("src"),(A!==(k.src==null?null:k.src)||h.getAttribute("type")!==(k.type==null?null:k.type)||h.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&A&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(d==="input"&&h.type==="hidden"){var A=k.name==null?null:""+k.name;if(k.type==="hidden"&&h.getAttribute("name")===A)return h}else return h;if(h=Fl(h.nextSibling),h===null)break}return null}function bae(h,d,g){if(d==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!g||(h=Fl(h.nextSibling),h===null))return null;return h}function QI(h,d){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!d||(h=Fl(h.nextSibling),h===null))return null;return h}function y5(h){return h.data==="$?"||h.data==="$~"}function b5(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function xae(h,d){var g=h.ownerDocument;if(h.data==="$~")h._reactRetry=d;else if(h.data!=="$?"||g.readyState!=="loading")d();else{var y=function(){d(),g.removeEventListener("DOMContentLoaded",y)};g.addEventListener("DOMContentLoaded",y),h._reactRetry=y}}function Fl(h){for(;h!=null;h=h.nextSibling){var d=h.nodeType;if(d===1||d===3)break;if(d===8){if(d=h.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return h}var x5=null;function ej(h){h=h.nextSibling;for(var d=0;h;){if(h.nodeType===8){var g=h.data;if(g==="/$"||g==="/&"){if(d===0)return Fl(h.nextSibling);d--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||d++}h=h.nextSibling}return null}function tj(h){h=h.previousSibling;for(var d=0;h;){if(h.nodeType===8){var g=h.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(d===0)return h;d--}else g!=="/$"&&g!=="/&"||d++}h=h.previousSibling}return null}function nj(h,d,g){switch(d=Nx(g),h){case"html":if(h=d.documentElement,!h)throw Error(r(452));return h;case"head":if(h=d.head,!h)throw Error(r(453));return h;case"body":if(h=d.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function ey(h){for(var d=h.attributes;d.length;)h.removeAttributeNode(d[0]);be(h)}var Ul=new Map,rj=new Set;function Lx(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Ih=Q.d;Q.d={f:wae,r:Sae,D:_ae,C:kae,L:Cae,m:Tae,X:Aae,S:Eae,M:Oae};function wae(){var h=Ih.f(),d=_x();return h||d}function Sae(h){var d=wt(h);d!==null&&d.tag===5&&d.type==="form"?xR(d):Ih.r(h)}var Og=typeof document>"u"?null:document;function ij(h,d,g){var y=Og;if(y&&typeof d=="string"&&d){var k=Ai(d);k='link[rel="'+h+'"][href="'+k+'"]',typeof g=="string"&&(k+='[crossorigin="'+g+'"]'),rj.has(k)||(rj.add(k),h={rel:h,crossOrigin:g,href:d},y.querySelector(k)===null&&(d=y.createElement("link"),cs(d,"link",h),Cn(d),y.head.appendChild(d)))}}function _ae(h){Ih.D(h),ij("dns-prefetch",h,null)}function kae(h,d){Ih.C(h,d),ij("preconnect",h,d)}function Cae(h,d,g){Ih.L(h,d,g);var y=Og;if(y&&h&&d){var k='link[rel="preload"][as="'+Ai(d)+'"]';d==="image"&&g&&g.imageSrcSet?(k+='[imagesrcset="'+Ai(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(k+='[imagesizes="'+Ai(g.imageSizes)+'"]')):k+='[href="'+Ai(h)+'"]';var A=k;switch(d){case"style":A=Pg(h);break;case"script":A=Ng(h)}Ul.has(A)||(h=f({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:h,as:d},g),Ul.set(A,h),y.querySelector(k)!==null||d==="style"&&y.querySelector(ty(A))||d==="script"&&y.querySelector(ny(A))||(d=y.createElement("link"),cs(d,"link",h),Cn(d),y.head.appendChild(d)))}}function Tae(h,d){Ih.m(h,d);var g=Og;if(g&&h){var y=d&&typeof d.as=="string"?d.as:"script",k='link[rel="modulepreload"][as="'+Ai(y)+'"][href="'+Ai(h)+'"]',A=k;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Ng(h)}if(!Ul.has(A)&&(h=f({rel:"modulepreload",href:h},d),Ul.set(A,h),g.querySelector(k)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ny(A)))return}y=g.createElement("link"),cs(y,"link",h),Cn(y),g.head.appendChild(y)}}}function Eae(h,d,g){Ih.S(h,d,g);var y=Og;if(y&&h){var k=kr(y).hoistableStyles,A=Pg(h);d=d||"default";var q=k.get(A);if(!q){var re={loading:0,preload:null};if(q=y.querySelector(ty(A)))re.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":d},g),(g=Ul.get(A))&&w5(h,g);var ge=q=y.createElement("link");Cn(ge),cs(ge,"link",h),ge._p=new Promise(function(Ie,We){ge.onload=Ie,ge.onerror=We}),ge.addEventListener("load",function(){re.loading|=1}),ge.addEventListener("error",function(){re.loading|=2}),re.loading|=4,Mx(q,d,y)}q={type:"stylesheet",instance:q,count:1,state:re},k.set(A,q)}}}function Aae(h,d){Ih.X(h,d);var g=Og;if(g&&h){var y=kr(g).hoistableScripts,k=Ng(h),A=y.get(k);A||(A=g.querySelector(ny(k)),A||(h=f({src:h,async:!0},d),(d=Ul.get(k))&&S5(h,d),A=g.createElement("script"),Cn(A),cs(A,"link",h),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(k,A))}}function Oae(h,d){Ih.M(h,d);var g=Og;if(g&&h){var y=kr(g).hoistableScripts,k=Ng(h),A=y.get(k);A||(A=g.querySelector(ny(k)),A||(h=f({src:h,async:!0,type:"module"},d),(d=Ul.get(k))&&S5(h,d),A=g.createElement("script"),Cn(A),cs(A,"link",h),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(k,A))}}function aj(h,d,g,y){var k=(k=pe.current)?Lx(k):null;if(!k)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=Pg(g.href),g=kr(k).hoistableStyles,y=g.get(d),y||(y={type:"style",instance:null,count:0,state:null},g.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){h=Pg(g.href);var A=kr(k).hoistableStyles,q=A.get(h);if(q||(k=k.ownerDocument||k,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(h,q),(A=k.querySelector(ty(h)))&&!A._p&&(q.instance=A,q.state.loading=5),Ul.has(h)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ul.set(h,g),A||Pae(k,h,g,q.state))),d&&y===null)throw Error(r(528,""));return q}if(d&&y!==null)throw Error(r(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Ng(g),g=kr(k).hoistableScripts,y=g.get(d),y||(y={type:"script",instance:null,count:0,state:null},g.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function Pg(h){return'href="'+Ai(h)+'"'}function ty(h){return'link[rel="stylesheet"]['+h+"]"}function sj(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Pae(h,d,g,y){h.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=h.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),cs(d,"link",g),Cn(d),h.head.appendChild(d))}function Ng(h){return'[src="'+Ai(h)+'"]'}function ny(h){return"script[async]"+h}function oj(h,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var y=h.querySelector('style[data-href~="'+Ai(g.href)+'"]');if(y)return d.instance=y,Cn(y),y;var k=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return y=(h.ownerDocument||h).createElement("style"),Cn(y),cs(y,"style",k),Mx(y,g.precedence,h),d.instance=y;case"stylesheet":k=Pg(g.href);var A=h.querySelector(ty(k));if(A)return d.state.loading|=4,d.instance=A,Cn(A),A;y=sj(g),(k=Ul.get(k))&&w5(y,k),A=(h.ownerDocument||h).createElement("link"),Cn(A);var q=A;return q._p=new Promise(function(re,ge){q.onload=re,q.onerror=ge}),cs(A,"link",y),d.state.loading|=4,Mx(A,g.precedence,h),d.instance=A;case"script":return A=Ng(g.src),(k=h.querySelector(ny(A)))?(d.instance=k,Cn(k),k):(y=g,(k=Ul.get(A))&&(y=f({},g),S5(y,k)),h=h.ownerDocument||h,k=h.createElement("script"),Cn(k),cs(k,"link",y),h.head.appendChild(k),d.instance=k);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Mx(y,g.precedence,h));return d.instance}function Mx(h,d,g){for(var y=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=y.length?y[y.length-1]:null,A=k,q=0;q<y.length;q++){var re=y[q];if(re.dataset.precedence===d)A=re;else if(A!==k)break}A?A.parentNode.insertBefore(h,A.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(h,d.firstChild))}function w5(h,d){h.crossOrigin==null&&(h.crossOrigin=d.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=d.referrerPolicy),h.title==null&&(h.title=d.title)}function S5(h,d){h.crossOrigin==null&&(h.crossOrigin=d.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=d.referrerPolicy),h.integrity==null&&(h.integrity=d.integrity)}var Rx=null;function lj(h,d,g){if(Rx===null){var y=new Map,k=Rx=new Map;k.set(g,y)}else k=Rx,y=k.get(g),y||(y=new Map,k.set(g,y));if(y.has(h))return y;for(y.set(h,null),g=g.getElementsByTagName(h),k=0;k<g.length;k++){var A=g[k];if(!(A[Et]||A[hr]||h==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var q=A.getAttribute(d)||"";q=h+q;var re=y.get(q);re?re.push(A):y.set(q,[A])}}return y}function cj(h,d,g){h=h.ownerDocument||h,h.head.insertBefore(g,d==="title"?h.querySelector("head > title"):null)}function Nae(h,d,g){if(g===1||d.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(h=d.disabled,typeof d.precedence=="string"&&h==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function uj(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function Lae(h,d,g,y){if(g.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var k=Pg(y.href),A=d.querySelector(ty(k));if(A){d=A._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(h.count++,h=Ix.bind(h),d.then(h,h)),g.state.loading|=4,g.instance=A,Cn(A);return}A=d.ownerDocument||d,y=sj(y),(k=Ul.get(k))&&w5(y,k),A=A.createElement("link"),Cn(A);var q=A;q._p=new Promise(function(re,ge){q.onload=re,q.onerror=ge}),cs(A,"link",y),g.instance=A}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(g,d),(d=g.state.preload)&&(g.state.loading&3)===0&&(h.count++,g=Ix.bind(h),d.addEventListener("load",g),d.addEventListener("error",g))}}var _5=0;function Mae(h,d){return h.stylesheets&&h.count===0&&Dx(h,h.stylesheets),0<h.count||0<h.imgCount?function(g){var y=setTimeout(function(){if(h.stylesheets&&Dx(h,h.stylesheets),h.unsuspend){var A=h.unsuspend;h.unsuspend=null,A()}},6e4+d);0<h.imgBytes&&_5===0&&(_5=62500*fae());var k=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&Dx(h,h.stylesheets),h.unsuspend)){var A=h.unsuspend;h.unsuspend=null,A()}},(h.imgBytes>_5?50:800)+d);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(y),clearTimeout(k)}}:null}function Ix(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dx(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var jx=null;function Dx(h,d){h.stylesheets=null,h.unsuspend!==null&&(h.count++,jx=new Map,d.forEach(Rae,h),jx=null,Ix.call(h))}function Rae(h,d){if(!(d.state.loading&4)){var g=jx.get(h);if(g)var y=g.get(null);else{g=new Map,jx.set(h,g);for(var k=h.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<k.length;A++){var q=k[A];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(g.set(q.dataset.precedence,q),y=q)}y&&g.set(null,y)}k=d.instance,q=k.getAttribute("data-precedence"),A=g.get(q)||y,A===y&&g.set(null,k),g.set(q,k),this.count++,y=Ix.bind(this),k.addEventListener("load",y),k.addEventListener("error",y),A?A.parentNode.insertBefore(k,A.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(k,h.firstChild)),d.state.loading|=4}}var ry={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Iae(h,d,g,y,k,A,q,re,ge){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=y,this.onUncaughtError=k,this.onCaughtError=A,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function hj(h,d,g,y,k,A,q,re,ge,Ie,We,Ye){return h=new Iae(h,d,g,q,ge,Ie,We,Ye,re),d=1,A===!0&&(d|=24),A=$a(3,null,null,d),h.current=A,A.stateNode=h,d=Wd(),d.refCount++,h.pooledCache=d,d.refCount++,A.memoizedState={element:y,isDehydrated:g,cache:d},gt(A),h}function dj(h){return h?(h=ba,h):ba}function fj(h,d,g,y,k,A){k=dj(k),y.context===null?y.context=k:y.pendingContext=k,y=dn(d),y.payload={element:g},A=A===void 0?null:A,A!==null&&(y.callback=A),g=On(h,y,d),g!==null&&(Lo(g,h,d),vr(g,h,d))}function pj(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var g=h.retryLane;h.retryLane=g!==0&&g<d?g:d}}function k5(h,d){pj(h,d),(h=h.alternate)&&pj(h,d)}function mj(h){if(h.tag===13||h.tag===31){var d=Tc(h,67108864);d!==null&&Lo(d,h,67108864),k5(h,67108864)}}function gj(h){if(h.tag===13||h.tag===31){var d=il();d=zn(d);var g=Tc(h,d);g!==null&&Lo(g,h,d),k5(h,d)}}var Bx=!0;function jae(h,d,g,y){var k=W.T;W.T=null;var A=Q.p;try{Q.p=2,C5(h,d,g,y)}finally{Q.p=A,W.T=k}}function Dae(h,d,g,y){var k=W.T;W.T=null;var A=Q.p;try{Q.p=8,C5(h,d,g,y)}finally{Q.p=A,W.T=k}}function C5(h,d,g,y){if(Bx){var k=T5(y);if(k===null)h5(h,d,y,Fx,g),yj(h,y);else if(Fae(k,h,d,g,y))y.stopPropagation();else if(yj(h,y),d&4&&-1<Bae.indexOf(h)){for(;k!==null;){var A=wt(k);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var q=jt(A.pendingLanes);if(q!==0){var re=A;for(re.pendingLanes|=2,re.entangledLanes|=2;q;){var ge=1<<31-Jt(q);re.entanglements[1]|=ge,q&=~ge}Pu(A),(br&6)===0&&(wx=st()+500,Jv(0))}}break;case 31:case 13:re=Tc(A,2),re!==null&&Lo(re,A,2),_x(),k5(A,2)}if(A=T5(y),A===null&&h5(h,d,y,Fx,g),A===k)break;k=A}k!==null&&y.stopPropagation()}else h5(h,d,y,null,g)}}function T5(h){return h=hh(h),E5(h)}var Fx=null;function E5(h){if(Fx=null,h=ot(h),h!==null){var d=a(h);if(d===null)h=null;else{var g=d.tag;if(g===13){if(h=s(d),h!==null)return h;h=null}else if(g===31){if(h=o(d),h!==null)return h;h=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;h=null}else d!==h&&(h=null)}}return Fx=h,null}function vj(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case _e:return 2;case De:return 8;case et:case tt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var A5=!1,af=null,sf=null,of=null,iy=new Map,ay=new Map,lf=[],Bae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yj(h,d){switch(h){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":of=null;break;case"pointerover":case"pointerout":iy.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ay.delete(d.pointerId)}}function sy(h,d,g,y,k,A){return h===null||h.nativeEvent!==A?(h={blockedOn:d,domEventName:g,eventSystemFlags:y,nativeEvent:A,targetContainers:[k]},d!==null&&(d=wt(d),d!==null&&mj(d)),h):(h.eventSystemFlags|=y,d=h.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),h)}function Fae(h,d,g,y,k){switch(d){case"focusin":return af=sy(af,h,d,g,y,k),!0;case"dragenter":return sf=sy(sf,h,d,g,y,k),!0;case"mouseover":return of=sy(of,h,d,g,y,k),!0;case"pointerover":var A=k.pointerId;return iy.set(A,sy(iy.get(A)||null,h,d,g,y,k)),!0;case"gotpointercapture":return A=k.pointerId,ay.set(A,sy(ay.get(A)||null,h,d,g,y,k)),!0}return!1}function bj(h){var d=ot(h.target);if(d!==null){var g=a(d);if(g!==null){if(d=g.tag,d===13){if(d=s(g),d!==null){h.blockedOn=d,Vo(h.priority,function(){gj(g)});return}}else if(d===31){if(d=o(g),d!==null){h.blockedOn=d,Vo(h.priority,function(){gj(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){h.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Ux(h){if(h.blockedOn!==null)return!1;for(var d=h.targetContainers;0<d.length;){var g=T5(h.nativeEvent);if(g===null){g=h.nativeEvent;var y=new g.constructor(g.type,g);cc=y,g.target.dispatchEvent(y),cc=null}else return d=wt(g),d!==null&&mj(d),h.blockedOn=g,!1;d.shift()}return!0}function xj(h,d,g){Ux(h)&&g.delete(d)}function Uae(){A5=!1,af!==null&&Ux(af)&&(af=null),sf!==null&&Ux(sf)&&(sf=null),of!==null&&Ux(of)&&(of=null),iy.forEach(xj),ay.forEach(xj)}function zx(h,d){h.blockedOn===d&&(h.blockedOn=null,A5||(A5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uae)))}var $x=null;function wj(h){$x!==h&&($x=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$x===h&&($x=null);for(var d=0;d<h.length;d+=3){var g=h[d],y=h[d+1],k=h[d+2];if(typeof y!="function"){if(E5(y||g)===null)continue;break}var A=wt(g);A!==null&&(h.splice(d,3),d-=3,TC(A,{pending:!0,data:k,method:g.method,action:y},y,k))}}))}function Lg(h){function d(ge){return zx(ge,h)}af!==null&&zx(af,h),sf!==null&&zx(sf,h),of!==null&&zx(of,h),iy.forEach(d),ay.forEach(d);for(var g=0;g<lf.length;g++){var y=lf[g];y.blockedOn===h&&(y.blockedOn=null)}for(;0<lf.length&&(g=lf[0],g.blockedOn===null);)bj(g),g.blockedOn===null&&lf.shift();if(g=(h.ownerDocument||h).$$reactFormReplay,g!=null)for(y=0;y<g.length;y+=3){var k=g[y],A=g[y+1],q=k[Xn]||null;if(typeof A=="function")q||wj(g);else if(q){var re=null;if(A&&A.hasAttribute("formAction")){if(k=A,q=A[Xn]||null)re=q.formAction;else if(E5(k)!==null)continue}else re=q.action;typeof re=="function"?g[y+1]=re:(g.splice(y,3),y-=3),wj(g)}}}function Sj(){function h(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(q){return k=q})},focusReset:"manual",scroll:"manual"})}function d(){k!==null&&(k(),k=null),y||setTimeout(g,20)}function g(){if(!y&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,k=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(g,100),function(){y=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),k!==null&&(k(),k=null)}}}function O5(h){this._internalRoot=h}qx.prototype.render=O5.prototype.render=function(h){var d=this._internalRoot;if(d===null)throw Error(r(409));var g=d.current,y=il();fj(g,y,h,d,null,null)},qx.prototype.unmount=O5.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var d=h.containerInfo;fj(h.current,2,null,h,null,null),_x(),d[qi]=null}};function qx(h){this._internalRoot=h}qx.prototype.unstable_scheduleHydration=function(h){if(h){var d=xi();h={blockedOn:null,target:h,priority:d};for(var g=0;g<lf.length&&d!==0&&d<lf[g].priority;g++);lf.splice(g,0,h),g===0&&bj(h)}};var _j=e.version;if(_j!=="19.2.3")throw Error(r(527,_j,"19.2.3"));Q.findDOMNode=function(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=c(d),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var zae={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hx.isDisabled&&Hx.supportsFiber)try{Wt=Hx.inject(zae),At=Hx}catch{}}return oy.createRoot=function(h,d){if(!i(h))throw Error(r(299));var g=!1,y="",k=PR,A=NR,q=LR;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(k=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(q=d.onRecoverableError)),d=hj(h,1,!1,null,null,g,y,null,k,A,q,Sj),h[qi]=d.current,u5(h),new O5(d)},oy.hydrateRoot=function(h,d,g){if(!i(h))throw Error(r(299));var y=!1,k="",A=PR,q=NR,re=LR,ge=null;return g!=null&&(g.unstable_strictMode===!0&&(y=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onUncaughtError!==void 0&&(A=g.onUncaughtError),g.onCaughtError!==void 0&&(q=g.onCaughtError),g.onRecoverableError!==void 0&&(re=g.onRecoverableError),g.formState!==void 0&&(ge=g.formState)),d=hj(h,1,!0,d,g??null,y,k,ge,A,q,re,Sj),d.context=dj(null),g=d.current,y=il(),y=zn(y),k=dn(y),k.callback=null,On(g,k,y),g=y,d.current.lanes=g,Zt(d,g),Pu(d),h[qi]=d.current,u5(h),new qx(d)},oy.version="19.2.3",oy}var Oj;function Ase(){if(Oj)return N5.exports;Oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N5.exports=Ese(),N5.exports}var Ose=Ase();const Pse=sc(Ose),Or=({children:t,onClick:e,variant:n="primary",className:r="",...i})=>{const a="px-6 py-3 rounded-full font-semibold transition-all duration-200 flex items-center justify-center gap-2",s={primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-blue-500/30",secondary:"bg-white text-slate-800 border border-slate-200 hover:bg-slate-50 hover:border-slate-300",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50",ghost:"text-slate-600 hover:text-slate-900 hover:bg-slate-100"};return S.jsx(St.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`${a} ${s[n]} ${r}`,onClick:e,...i,children:t})};var Nse=class rq extends Error{static kind="ClerkError";clerkError=!0;code;longMessage;docsUrl;cause;get name(){return this.constructor.name}constructor(e){super(new.target.formatMessage(new.target.kind,e.message,e.code,e.docsUrl),{cause:e.cause}),Object.setPrototypeOf(this,rq.prototype),this.code=e.code,this.docsUrl=e.docsUrl,this.longMessage=e.longMessage,this.cause=e.cause}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(e,n,r,i){const a="Clerk:",s=new RegExp(a.replace(" ","\\s*"),"i");return n=n.replace(s,""),n=`${a} ${n.trim()}

(code="${r}")

`,i&&(n+=`

Docs: ${i}`),n}};const Lse=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function iq({packageName:t,customMessages:e}){let n=t;function r(a,s){if(!s)return`${n}: ${a}`;let o=a;const l=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const c of l){const u=(s[c[1]]||"").toString();o=o.replace(`{{${c[1]}}}`,u)}return`${n}: ${o}`}const i={...Lse,...e};return{setPackageName({packageName:a}){return typeof a=="string"&&(n=a),this},setMessages({customMessages:a}){return Object.assign(i,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(r(i.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(r(i.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(r(i.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(r(i.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw new Error(r(i.MissingClerkProvider,a))},throw(a){throw new Error(r(a))}}}var tO=class aq extends Nse{static kind="ClerkRuntimeError";clerkRuntimeError=!0;constructor(e,n){super({...n,message:e}),Object.setPrototypeOf(this,aq.prototype)}};const Mse={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},Rse=new Set(["first_factor","second_factor","multi_factor"]),Ise=new Set(["strict_mfa","strict","moderate","lax"]),jse=t=>typeof t=="number"&&t>0,Dse=t=>Rse.has(t),Bse=t=>Ise.has(t),R5=t=>t.replace(/^(org:)*/,"org:"),Fse=(t,e)=>{const{orgId:n,orgRole:r,orgPermissions:i}=e;return!t.role&&!t.permission||!n||!r||!i?null:t.permission?i.includes(R5(t.permission)):t.role?R5(r)===R5(t.role):null},Pj=(t,e)=>{const{org:n,user:r}=zse(t),[i,a]=e.split(":"),s=a||i;return i==="org"?n.includes(s):i==="user"?r.includes(s):[...n,...r].includes(s)},Use=(t,e)=>{const{features:n,plans:r}=e;return t.feature&&n?Pj(n,t.feature):t.plan&&r?Pj(r,t.plan):null},zse=t=>{const e=t?t.split(",").map(n=>n.trim()):[];return{org:e.filter(n=>n.split(":")[0].includes("o")).map(n=>n.split(":")[1]),user:e.filter(n=>n.split(":")[0].includes("u")).map(n=>n.split(":")[1])}},$se=t=>{if(!t)return!1;const e=i=>typeof i=="string"?Mse[i]:i,n=typeof t=="string"&&Bse(t),r=typeof t=="object"&&Dse(t.level)&&jse(t.afterMinutes);return n||r?e.bind(null,t):!1},qse=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;const n=$se(t.reverification);if(!n)return null;const{level:r,afterMinutes:i}=n(),[a,s]=e,o=a!==-1?i>a:null,l=s!==-1?i>s:null;switch(r){case"first_factor":return o;case"second_factor":return s!==-1?l:o;case"multi_factor":return s===-1?o:o&&l}},Hse=t=>e=>{if(!t.userId)return!1;const n=Use(e,t),r=Fse(e,t),i=qse(e,t);return[n||r,i].some(a=>a===null)?[n||r,i].some(a=>a===!0):[n||r,i].every(a=>a===!0)},Wse=({authObject:{sessionId:t,sessionStatus:e,userId:n,actor:r,orgId:i,orgRole:a,orgSlug:s,signOut:o,getToken:l,has:c,sessionClaims:u},options:{treatPendingAsSignedOut:f=!0}})=>{if(t===void 0&&n===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:t,sessionClaims:void 0,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:o,getToken:l};if(t===null&&n===null)return{isLoaded:!0,isSignedIn:!1,sessionId:t,userId:n,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:o,getToken:l};if(f&&e==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:o,getToken:l};if(t&&u&&n&&i&&a)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:u,userId:n,actor:r||null,orgId:i,orgRole:a,orgSlug:s||null,has:c,signOut:o,getToken:l};if(t&&u&&n&&!i)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:u,userId:n,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:c,signOut:o,getToken:l}},Vse=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],sq=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof global<"u"&&global.Buffer?new global.Buffer(t,"base64").toString():t,oq="pk_live_",Gse="pk_test_";function lq(t){if(!t.endsWith("$"))return!1;const e=t.slice(0,-1);return e.includes("$")?!1:e.includes(".")}function Nj(t,e={}){if(t=t||"",!t||!nO(t)){if(e.fatal&&!t)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!nO(t))throw new Error("Publishable key not valid.");return null}const n=t.startsWith(oq)?"production":"development";let r;try{r=sq(t.split("_")[2])}catch{if(e.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!lq(r)){if(e.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let i=r.slice(0,-1);return e.proxyUrl?i=e.proxyUrl:n!=="development"&&e.domain&&e.isSatellite&&(i=`clerk.${e.domain}`),{instanceType:n,frontendApi:i}}function nO(t=""){try{if(!(t.startsWith(oq)||t.startsWith(Gse)))return!1;const e=t.split("_");if(e.length!==3)return!1;const n=e[2];return n?lq(sq(n)):!1}catch{return!1}}function Kse(){const t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;const n=typeof e=="string"?e:e.hostname;let r=t.get(n);return r===void 0&&(r=Vse.some(i=>n.endsWith(i)),t.set(n,r)),r}}}const Yse="METHOD_CALLED",Xse=.1;function cq(t,e){return{event:Yse,eventSamplingRate:Xse,payload:{method:t,...e}}}var I5={exports:{}},j5={};var Lj;function Jse(){if(Lj)return j5;Lj=1;var t=T_();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(f,m){var p=m(),v=r({inst:{value:p,getSnapshot:m}}),b=v[0].inst,x=v[1];return a(function(){b.value=p,b.getSnapshot=m,l(b)&&x({inst:b})},[f,p,m]),i(function(){return l(b)&&x({inst:b}),f(function(){l(b)&&x({inst:b})})},[f]),s(p),p}function l(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!n(f,p)}catch{return!0}}function c(f,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return j5.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,j5}var Mj;function uq(){return Mj||(Mj=1,I5.exports=Jse()),I5.exports}uq();const Zse=0,Qse=1,eoe=2;var Rj=Object.prototype.hasOwnProperty;function rO(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&rO(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Rj.call(t,n)&&++r&&!Rj.call(e,n)||!(n in e)||!rO(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const _f=new WeakMap,Af=()=>{},dl=Af(),O2=Object,Jc=t=>t===dl,kf=t=>typeof t=="function",lm=(t,e)=>({...t,...e}),toe=t=>kf(t.then),D5={},Wx={},hq="undefined",A_=typeof window!=hq,iO=typeof document!=hq,noe=A_&&"Deno"in window,roe=(t,e)=>{const n=_f.get(t);return[()=>!Jc(e)&&t.get(e)||D5,r=>{if(!Jc(e)){const i=t.get(e);e in Wx||(Wx[e]=i),n[5](e,lm(i,r),i||D5)}},n[6],()=>!Jc(e)&&e in Wx?Wx[e]:!Jc(e)&&t.get(e)||D5]};let aO=!0;const ioe=()=>aO,[sO,oO]=A_&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Af,Af],aoe=()=>{const t=iO&&document.visibilityState;return Jc(t)||t!=="hidden"},soe=t=>(iO&&document.addEventListener("visibilitychange",t),sO("focus",t),()=>{iO&&document.removeEventListener("visibilitychange",t),oO("focus",t)}),ooe=t=>{const e=()=>{aO=!0,t()},n=()=>{aO=!1};return sO("online",e),sO("offline",n),()=>{oO("online",e),oO("offline",n)}},loe={isOnline:ioe,isVisible:aoe},coe={initFocus:soe,initReconnect:ooe};Ue.useId;const y3=!A_||noe,uoe=y3?j.useEffect:j.useLayoutEffect,B5=typeof navigator<"u"&&navigator.connection,Ij=!y3&&B5&&(["slow-2g","2g"].includes(B5.effectiveType)||B5.saveData),Vx=new WeakMap,hoe=t=>O2.prototype.toString.call(t),F5=(t,e)=>t===`[object ${e}]`;let doe=0;const lO=t=>{const e=typeof t,n=hoe(t),r=F5(n,"Date"),i=F5(n,"RegExp"),a=F5(n,"Object");let s,o;if(O2(t)===t&&!r&&!i){if(s=Vx.get(t),s)return s;if(s=++doe+"~",Vx.set(t,s),Array.isArray(t)){for(s="@",o=0;o<t.length;o++)s+=lO(t[o])+",";Vx.set(t,s)}if(a){s="#";const l=O2.keys(t).sort();for(;!Jc(o=l.pop());)Jc(t[o])||(s+=o+":"+lO(t[o])+",");Vx.set(t,s)}}else s=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},dq=t=>{if(kf(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?lO(t):"",[t,e]};let foe=0;const jj=()=>++foe;async function poe(...t){const[e,n,r,i]=t,a=lm({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=a.populateCache;const o=a.rollbackOnError;let l=a.optimisticData;const c=m=>typeof o=="function"?o(m):o!==!1,u=a.throwOnError;if(kf(n)){const m=n,p=[],v=e.keys();for(const b of v)!/^\$(inf|sub)\$/.test(b)&&m(e.get(b)._k)&&p.push(b);return Promise.all(p.map(f))}return f(n);async function f(m){const[p]=dq(m);if(!p)return;const[v,b]=roe(e,p),[x,w,C,E]=_f.get(e),O=()=>{const H=x[p];return(kf(a.revalidate)?a.revalidate(v().data,m):a.revalidate!==!1)&&(delete C[p],delete E[p],H&&H[0])?H[0](eoe).then(()=>v().data):v().data};if(t.length<3)return O();let P=r,L,B=!1;const $=jj();w[p]=[$,0];const U=!Jc(l),G=v(),M=G.data,I=G._c,K=Jc(I)?M:I;if(U&&(l=kf(l)?l(K,M):l,b({data:l,_c:K})),kf(P))try{P=P(K)}catch(H){L=H,B=!0}if(P&&toe(P))if(P=await P.catch(H=>{L=H,B=!0}),$!==w[p][0]){if(B)throw L;return P}else B&&U&&c(L)&&(s=!0,b({data:K,_c:dl}));if(s&&!B)if(kf(s)){const H=s(P,K);b({data:H,error:dl,_c:dl})}else b({data:P,error:dl,_c:dl});if(w[p][1]=jj(),Promise.resolve(O()).then(()=>{b({_c:dl})}),B){if(u)throw L;return}return P}}const Dj=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},fq=(t,e)=>{if(!_f.has(t)){const n=lm(coe,e),r=Object.create(null),i=poe.bind(dl,t);let a=Af;const s=Object.create(null),o=(u,f)=>{const m=s[u]||[];return s[u]=m,m.push(f),()=>m.splice(m.indexOf(f),1)},l=(u,f,m)=>{t.set(u,f);const p=s[u];if(p)for(const v of p)v(f,m)},c=()=>{if(!_f.has(t)&&(_f.set(t,[r,Object.create(null),Object.create(null),Object.create(null),i,l,o]),!y3)){const u=n.initFocus(setTimeout.bind(dl,Dj.bind(dl,r,Zse))),f=n.initReconnect(setTimeout.bind(dl,Dj.bind(dl,r,Qse)));a=()=>{u&&u(),f&&f(),_f.delete(t)}}};return c(),[t,i,c,a]}return[t,_f.get(t)[4]]},moe=(t,e,n,r,i)=>{const a=n.errorRetryCount,s=i.retryCount,o=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!Jc(a)&&s>a||setTimeout(r,o,i)},goe=rO,[b3,voe]=fq(new Map),yoe=lm({onLoadingSlow:Af,onSuccess:Af,onError:Af,onErrorRetry:moe,onDiscarded:Af,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ij?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ij?5e3:3e3,compare:goe,isPaused:()=>!1,cache:b3,mutate:voe,fallback:{}},loe),boe=(t,e)=>{const n=lm(t,e);if(e){const{use:r,fallback:i}=t,{use:a,fallback:s}=e;r&&a&&(n.use=r.concat(a)),i&&s&&(n.fallback=lm(i,s))}return n},Bj=j.createContext({}),xoe=t=>{const{value:e}=t,n=j.useContext(Bj),r=kf(e),i=j.useMemo(()=>r?e(n):e,[r,n,e]),a=j.useMemo(()=>r?i:boe(n,i),[r,n,i]),s=i&&i.provider,o=j.useRef(dl);s&&!o.current&&(o.current=fq(s(a.cache||b3),i));const l=o.current;return l&&(a.cache=l[0],a.mutate=l[1]),uoe(()=>{if(l)return l[2]&&l[2](),l[3]},[]),j.createElement(Bj.Provider,lm(t,{value:a}))},woe="$inf$",pq=A_&&window.__SWR_DEVTOOLS_USE__,Soe=pq?window.__SWR_DEVTOOLS_USE__:[],_oe=()=>{pq&&(window.__SWR_DEVTOOLS_REACT__=Ue)},koe=t=>(e,n,r)=>t(e,n&&((...a)=>{const[s]=dq(e),[,,,o]=_f.get(b3);if(s.startsWith(woe))return n(...a);const l=o[s];return Jc(l)?n(...a):(delete o[s],l)}),r);Soe.concat(koe);_oe();Ue.use;const Coe=O2.defineProperty(xoe,"defaultValue",{value:yoe});var Fj=Object.prototype.hasOwnProperty;function Uj(t,e,n){for(n of t.keys())if(nb(n,e))return n}function nb(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&nb(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=Uj(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=Uj(e,i),!i)||!nb(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Fj.call(t,n)&&++r&&!Fj.call(e,n)||!(n in e)||!nb(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Toe(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}const bd=(t,e)=>{const{assertCtxFn:n=Toe}={},r=Ue.createContext(void 0);return r.displayName=t,[r,()=>{const s=Ue.useContext(r);return n(s,`${t} not found`),s.value},()=>{const s=Ue.useContext(r);return s?s.value:{}}]};function Eoe({swrConfig:t,children:e}){return Ue.createElement(Coe,{value:t},e)}const[mq,gq]=bd("ClerkInstanceContext"),[Aoe,Ooe]=bd("UserContext"),[Poe]=bd("ClientContext"),[Noe]=bd("SessionContext");Ue.createContext({});const[Loe]=bd("CheckoutContext"),Moe=({children:t,...e})=>Ue.createElement(Loe.Provider,{value:{value:e}},t),[Roe]=bd("OrganizationContext"),Ioe=({children:t,organization:e,swrConfig:n})=>Ue.createElement(Eoe,{swrConfig:n},Ue.createElement(Roe.Provider,{value:{value:{organization:e}}},t));function vq(t){if(!Ue.useContext(mq)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;const zj="useUser";function y1(){vq(zj);const t=Ooe();return gq().telemetry?.record(cq(zj)),t===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:t===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}const $j=nb,joe=t=>{const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e.current},al=(t,e,n)=>{const r=!!n,i=j.useRef(n);j.useEffect(()=>{i.current=n},[n]),j.useEffect(()=>{if(!r||!t)return()=>{};const a=(...s)=>{i.current&&i.current(...s)};return t.on(e,a),()=>{t.off(e,a)}},[r,e,t,i])},yq=Ue.createContext(null);yq.displayName="ElementsContext";const Doe=(t,e)=>{if(!t)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${e} in an <Elements> provider.`);return t},P2=t=>t!==null&&typeof t=="object",Boe=(t,e,n)=>P2(t)?Object.keys(t).reduce((r,i)=>{const a=!P2(e)||!bq(t[i],e[i]);return n.includes(i)?(a&&console.warn(`Unsupported prop change: options.${i} is not a mutable property.`),r):a?{...r||{},[i]:t[i]}:r},null):null,qj="[object Object]",bq=(t,e)=>{if(!P2(t)||!P2(e))return t===e;const n=Array.isArray(t);if(n!==Array.isArray(e))return!1;const r=Object.prototype.toString.call(t)===qj;if(r!==(Object.prototype.toString.call(e)===qj))return!1;if(!r&&!n)return t===e;const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;const s={};for(let f=0;f<i.length;f+=1)s[i[f]]=!0;for(let f=0;f<a.length;f+=1)s[a[f]]=!0;const o=Object.keys(s);if(o.length!==i.length)return!1;const l=t,c=e,u=f=>bq(l[f],c[f]);return o.every(u)},Hj=t=>Doe(Ue.useContext(yq),t),Foe=t=>t.charAt(0).toUpperCase()+t.slice(1),Uoe=(t,e)=>{const n=`${Foe(t)}Element`,a=e?s=>{Hj(`mounts <${n}>`);const{id:o,className:l}=s;return Ue.createElement("div",{id:o,className:l})}:({id:s,className:o,fallback:l,options:c={},onBlur:u,onFocus:f,onReady:m,onChange:p,onEscape:v,onClick:b,onLoadError:x,onLoaderStart:w,onNetworksChange:C,onConfirm:E,onCancel:O,onShippingAddressChange:P,onShippingRateChange:L})=>{const B=Hj(`mounts <${n}>`),$="elements"in B?B.elements:null,[U,G]=Ue.useState(null),M=Ue.useRef(null),I=Ue.useRef(null),[K,H]=j.useState(!1);al(U,"blur",u),al(U,"focus",f),al(U,"escape",v),al(U,"click",b),al(U,"loaderror",x),al(U,"loaderstart",w),al(U,"networkschange",C),al(U,"confirm",E),al(U,"cancel",O),al(U,"shippingaddresschange",P),al(U,"shippingratechange",L),al(U,"change",p);let J;m&&(J=()=>{H(!0),m(U)}),al(U,"ready",J),Ue.useLayoutEffect(()=>{if(M.current===null&&I.current!==null&&$){let Q=null;$&&(Q=$.create(t,c)),M.current=Q,G(Q),Q&&Q.mount(I.current)}},[$,c]);const W=joe(c);return Ue.useEffect(()=>{if(!M.current)return;const Q=Boe(c,W,["paymentRequest"]);Q&&"update"in M.current&&M.current.update(Q)},[c,W]),Ue.useLayoutEffect(()=>()=>{if(M.current&&typeof M.current.destroy=="function")try{M.current.destroy(),M.current=null}catch{}},[]),Ue.createElement(Ue.Fragment,null,!K&&l,Ue.createElement("div",{id:s,style:{height:K?"unset":"0px",visibility:K?"visible":"hidden"},className:o,ref:I}))};return a.displayName=n,a.__elementType=t,a};Uoe("payment",typeof window>"u");bd("PaymentElementContext");bd("StripeUtilsContext");var Qc=iq({packageName:"@clerk/clerk-react"});function zoe(t){Qc.setMessages(t).setPackageName(t)}var[$oe,qoe]=bd("AuthContext"),Hoe=mq,xq=gq,Woe="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Voe=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,Goe="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",U5="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Koe="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Yoe="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Xoe="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Joe="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Zoe=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,Qoe=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,ele=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,tle="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",nle="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",rle="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",ile="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",ale="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",sle="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",ole="Missing props. <UserButton.Action /> component requires the following props: label.",O_=t=>{vq(()=>{Qc.throwMissingClerkProviderError({source:t})})},wq=t=>new Promise(e=>{const n=r=>{["ready","degraded"].includes(r)&&(e(),t.off("status",n))};t.on("status",n,{notify:!0})}),lle=t=>async e=>(await wq(t),t.session?t.session.getToken(e):null),cle=t=>async(...e)=>(await wq(t),t.signOut(...e)),Sq=(t={})=>{var e;O_("useAuth");const{treatPendingAsSignedOut:n,...r}=t??{},i=r;let s=qoe();s.sessionId===void 0&&s.userId===void 0&&(s=i??{});const o=xq(),l=j.useCallback(lle(o),[o]),c=j.useCallback(cle(o),[o]);return(e=o.telemetry)==null||e.record(cq("useAuth",{treatPendingAsSignedOut:n})),ule({...s,getToken:l,signOut:c},{treatPendingAsSignedOut:n})};function ule(t,{treatPendingAsSignedOut:e=!0}={}){const{userId:n,orgId:r,orgRole:i,has:a,signOut:s,getToken:o,orgPermissions:l,factorVerificationAge:c,sessionClaims:u}=t??{},f=j.useCallback(p=>a?a(p):Hse({userId:n,orgId:r,orgRole:i,orgPermissions:l,factorVerificationAge:c,features:u?.fea||"",plans:u?.pla||""})(p),[a,n,r,i,l,c,u]),m=Wse({authObject:{...t,getToken:o,signOut:s,has:f},options:{treatPendingAsSignedOut:e}});return m||Qc.throw(Goe)}var Jr=(t,e)=>{const r=(typeof e=="string"?e:e?.component)||t.displayName||t.name||"Component";t.displayName=r;const i=typeof e=="string"?void 0:e,a=s=>{O_(r||"withClerk");const o=xq();return!o.loaded&&!i?.renderWhileLoading?null:Ue.createElement(t,{...s,component:r,clerk:o})};return a.displayName=`withClerk(${r})`,a};const hle=()=>{try{return!1}catch{}return!1},dle=()=>{try{return!1}catch{}return!1},fle=()=>{try{return!0}catch{}return!1},Wj=new Set,x3=(t,e,n)=>{const r=dle()||fle(),i=t;Wj.has(i)||r||(Wj.add(i),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))};var N2=({children:t,treatPendingAsSignedOut:e})=>{O_("SignedIn");const{userId:n}=Sq({treatPendingAsSignedOut:e});return n?t:null},cO=({children:t,treatPendingAsSignedOut:e})=>{O_("SignedOut");const{userId:n}=Sq({treatPendingAsSignedOut:e});return n===null?t:null};Jr(({clerk:t,...e})=>{const{client:n,session:r}=t,i=n.signedInSessions?n.signedInSessions.length>0:n.activeSessions&&n.activeSessions.length>0;return Ue.useEffect(()=>{r===null&&i?t.redirectToAfterSignOut():t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");Jr(({clerk:t,...e})=>(Ue.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");Jr(({clerk:t,...e})=>(Ue.useEffect(()=>{t.redirectToTasks(e)},[]),null),"RedirectToTasks");Jr(({clerk:t})=>(Ue.useEffect(()=>{x3("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Jr(({clerk:t})=>(Ue.useEffect(()=>{x3("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Jr(({clerk:t})=>(Ue.useEffect(()=>{x3("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Jr(({clerk:t,...e})=>(Ue.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");function z5(t,e,n){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof n<"u")return n}const ro=t=>{hle()&&console.error(`Clerk: ${t}`)},Vj=(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n};var P_=t=>e=>{try{return Ue.Children.only(t)}catch{return Qc.throw(Voe(e))}},N_=(t,e)=>(t||(t=e),typeof t=="string"&&(t=Ue.createElement("button",null,t)),t),L_=t=>(...e)=>{if(t&&typeof t=="function")return t(...e)};function ple(t){return typeof t=="function"}var Gx=new Map;function mle(t,e,n=1){Ue.useEffect(()=>{const r=Gx.get(t)||0;return r==n?Qc.throw(e):(Gx.set(t,r+1),()=>{Gx.set(t,(Gx.get(t)||1)-1)})},[])}function gle(t,e,n){const r=t.displayName||t.name||e||"Component",i=a=>(mle(e,n),Ue.createElement(t,{...a}));return i.displayName=`withMaxAllowedInstancesGuard(${r})`,i}var rb=t=>{const[e,n]=j.useState(new Map);return t.map(r=>({id:r.id,mount:i=>n(a=>new Map(a).set(String(r.id),i)),unmount:()=>n(i=>{const a=new Map(i);return a.set(String(r.id),null),a}),portal:()=>{const i=e.get(String(r.id));return i?E_.createPortal(r.component,i):null}}))},eo=(t,e)=>!!t&&Ue.isValidElement(t)&&t?.type===e,_q=(t,e)=>Tq({children:t,reorderItemsLabels:["account","security","billing","apiKeys"],LinkComponent:x1,PageComponent:b1,MenuItemsComponent:R_,componentName:"UserProfile"},e),kq=(t,e)=>Tq({children:t,reorderItemsLabels:["general","members","billing","apiKeys"],LinkComponent:j_,PageComponent:I_,componentName:"OrganizationProfile"},e),Cq=t=>{const e=[],n=[j_,I_,R_,b1,x1];return Ue.Children.forEach(t,r=>{n.some(i=>eo(r,i))||e.push(r)}),e},Tq=(t,e)=>{const{children:n,LinkComponent:r,PageComponent:i,MenuItemsComponent:a,reorderItemsLabels:s,componentName:o}=t,{allowForAnyChildren:l=!1}=e||{},c=[];Ue.Children.forEach(n,C=>{if(!eo(C,i)&&!eo(C,r)&&!eo(C,a)){C&&!l&&ro(Zoe(o));return}const{props:E}=C,{children:O,label:P,url:L,labelIcon:B}=E;if(eo(C,i))if(Gj(E,s))c.push({label:P});else if($5(E))c.push({label:P,labelIcon:B,children:O,url:L});else{ro(Qoe(o));return}if(eo(C,r))if(q5(E))c.push({label:P,labelIcon:B,url:L});else{ro(ele(o));return}});const u=[],f=[],m=[];c.forEach((C,E)=>{if($5(C)){u.push({component:C.children,id:E}),f.push({component:C.labelIcon,id:E});return}q5(C)&&m.push({component:C.labelIcon,id:E})});const p=rb(u),v=rb(f),b=rb(m),x=[],w=[];return c.forEach((C,E)=>{if(Gj(C,s)){x.push({label:C.label});return}if($5(C)){const{portal:O,mount:P,unmount:L}=p.find(G=>G.id===E),{portal:B,mount:$,unmount:U}=v.find(G=>G.id===E);x.push({label:C.label,url:C.url,mount:P,unmount:L,mountIcon:$,unmountIcon:U}),w.push(O),w.push(B);return}if(q5(C)){const{portal:O,mount:P,unmount:L}=b.find(B=>B.id===E);x.push({label:C.label,url:C.url,mountIcon:P,unmountIcon:L}),w.push(O);return}}),{customPages:x,customPagesPortals:w}},Gj=(t,e)=>{const{children:n,label:r,url:i,labelIcon:a}=t;return!n&&!i&&!a&&e.some(s=>s===r)},$5=t=>{const{children:e,label:n,url:r,labelIcon:i}=t;return!!e&&!!r&&!!i&&!!n},q5=t=>{const{children:e,label:n,url:r,labelIcon:i}=t;return!e&&!!r&&!!i&&!!n},vle=(t,e)=>{var n;return yle({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:R_,MenuActionComponent:Aq,MenuLinkComponent:Oq,UserProfileLinkComponent:x1,UserProfilePageComponent:b1,allowForAnyChildren:(n=e?.allowForAnyChildren)!=null?n:!1})},yle=({children:t,MenuItemsComponent:e,MenuActionComponent:n,MenuLinkComponent:r,UserProfileLinkComponent:i,UserProfilePageComponent:a,reorderItemsLabels:s,allowForAnyChildren:o=!1})=>{const l=[],c=[],u=[];Ue.Children.forEach(t,b=>{if(!eo(b,e)&&!eo(b,i)&&!eo(b,a)){b&&!o&&ro(tle);return}if(eo(b,i)||eo(b,a))return;const{props:x}=b;Ue.Children.forEach(x.children,w=>{if(!eo(w,n)&&!eo(w,r)){w&&ro(nle);return}const{props:C}=w,{label:E,labelIcon:O,href:P,onClick:L,open:B}=C;if(eo(w,n))if(Kj(C,s))l.push({label:E});else if(H5(C)){const $={label:E,labelIcon:O};if(L!==void 0)l.push({...$,onClick:L});else if(B!==void 0)l.push({...$,open:B.startsWith("/")?B:`/${B}`});else{ro("Custom menu item must have either onClick or open property");return}}else{ro(ole);return}if(eo(w,r))if(W5(C))l.push({label:E,labelIcon:O,href:P});else{ro(sle);return}})});const f=[],m=[];l.forEach((b,x)=>{H5(b)&&f.push({component:b.labelIcon,id:x}),W5(b)&&m.push({component:b.labelIcon,id:x})});const p=rb(f),v=rb(m);return l.forEach((b,x)=>{if(Kj(b,s)&&c.push({label:b.label}),H5(b)){const{portal:w,mount:C,unmount:E}=p.find(P=>P.id===x),O={label:b.label,mountIcon:C,unmountIcon:E};"onClick"in b?O.onClick=b.onClick:"open"in b&&(O.open=b.open),c.push(O),u.push(w)}if(W5(b)){const{portal:w,mount:C,unmount:E}=v.find(O=>O.id===x);c.push({label:b.label,href:b.href,mountIcon:C,unmountIcon:E}),u.push(w)}}),{customMenuItems:c,customMenuItemsPortals:u}},Kj=(t,e)=>{const{children:n,label:r,onClick:i,labelIcon:a}=t;return!n&&!i&&!a&&e.some(s=>s===r)},H5=t=>{const{label:e,labelIcon:n,onClick:r,open:i}=t;return!!n&&!!e&&(typeof r=="function"||typeof i=="string")},W5=t=>{const{label:e,href:n,labelIcon:r}=t;return!!n&&!!r&&!!e},ble=t=>{const e=t?.isReady;return n=>new Promise((r,i)=>{const{root:a=document?.body,selector:s,timeout:o=0}=n;if(!a){i(new Error("No root element provided"));return}let l=a;if(s&&(l=a?.querySelector(s)),e(l,s)){r();return}const c=new MutationObserver(u=>{for(const f of u)if(!l&&s&&(l=a?.querySelector(s)),(t.childList&&f.type==="childList"||t.attributes&&f.type==="attributes")&&e(l,s)){c.disconnect(),r();return}});c.observe(a,t),o>0&&setTimeout(()=>{c.disconnect(),i(new Error(`Timeout waiting for ${s}`))},o)})},xle=ble({childList:!0,subtree:!0,isReady:(t,e)=>{var n;return!!t?.childElementCount&&((n=t?.matches)==null?void 0:n.call(t,e))&&t.childElementCount>0}});function fo(t,e){const n=j.useRef(),[r,i]=j.useState("rendering");return j.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!n.current){const a=`[data-clerk-component="${t}"]`,s=e?.selector;n.current=xle({selector:s?a+s:a}).then(()=>{i("rendered")}).catch(()=>{i("error")})}},[t,e?.selector]),r}var Kx=t=>"mount"in t,Yj=t=>"open"in t,Xj=t=>t?.map(({mountIcon:e,unmountIcon:n,...r})=>r),bs=class extends Ue.PureComponent{constructor(){super(...arguments),this.rootRef=Ue.createRef()}componentDidUpdate(t){var e,n,r,i;if(!Kx(t)||!Kx(this.props))return;const a=Vj(t.props,"customPages","customMenuItems","children"),s=Vj(this.props.props,"customPages","customMenuItems","children"),o=((e=a.customPages)==null?void 0:e.length)!==((n=s.customPages)==null?void 0:n.length),l=((r=a.customMenuItems)==null?void 0:r.length)!==((i=s.customMenuItems)==null?void 0:i.length),c=Xj(t.props.customMenuItems),u=Xj(this.props.props.customMenuItems);(!$j(a,s)||!$j(c,u)||o||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Kx(this.props)&&this.props.mount(this.rootRef.current,this.props.props),Yj(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Kx(this.props)&&this.props.unmount(this.rootRef.current),Yj(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return Ue.createElement(Ue.Fragment,null,!t&&Ue.createElement("div",{...e}),this.props.children)}},M_=t=>{var e,n;return Ue.createElement(Ue.Fragment,null,(e=t?.customPagesPortals)==null?void 0:e.map((r,i)=>j.createElement(r,{key:i})),(n=t?.customMenuItemsPortals)==null?void 0:n.map((r,i)=>j.createElement(r,{key:i})))},wle=Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"SignIn",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"SignUp",renderWhileLoading:!0});function b1({children:t}){return ro(Koe),Ue.createElement(Ue.Fragment,null,t)}function x1({children:t}){return ro(Yoe),Ue.createElement(Ue.Fragment,null,t)}var Sle=Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:l}=_q(r.children);return Ue.createElement(Ue.Fragment,null,a&&n,Ue.createElement(bs,{component:e,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...r,customPages:o},rootProps:s},Ue.createElement(M_,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Sle,{Page:b1,Link:x1});var Eq=j.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),_le=Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:l}=_q(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),c={...r.userProfileProps,customPages:o},{customMenuItems:u,customMenuItemsPortals:f}=vle(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),m=Cq(r.children),p={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...r,userProfileProps:c,customMenuItems:u}},v={customPagesPortals:l,customMenuItemsPortals:f};return Ue.createElement(Eq.Provider,{value:p},a&&n,t.loaded&&Ue.createElement(bs,{component:e,...p,hideRootHtmlElement:!!r.__experimental_asProvider,rootProps:s},r.__experimental_asProvider?m:null,Ue.createElement(M_,{...v})))},{component:"UserButton",renderWhileLoading:!0});function R_({children:t}){return ro(rle),Ue.createElement(Ue.Fragment,null,t)}function Aq({children:t}){return ro(ile),Ue.createElement(Ue.Fragment,null,t)}function Oq({children:t}){return ro(ale),Ue.createElement(Ue.Fragment,null,t)}function kle(t){const e=j.useContext(Eq),n={...e,props:{...e.props,...t}};return Ue.createElement(bs,{...n})}var Cle=Object.assign(_le,{UserProfilePage:b1,UserProfileLink:x1,MenuItems:R_,Action:Aq,Link:Oq,__experimental_Outlet:kle});function I_({children:t}){return ro(Xoe),Ue.createElement(Ue.Fragment,null,t)}function j_({children:t}){return ro(Joe),Ue.createElement(Ue.Fragment,null,t)}var Tle=Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:l}=kq(r.children);return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...r,customPages:o},rootProps:s},Ue.createElement(M_,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Tle,{Page:I_,Link:j_});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"CreateOrganization",renderWhileLoading:!0});var Pq=j.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Ele=Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:l}=kq(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),c={...r.organizationProfileProps,customPages:o},u=Cq(r.children),f={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...r,organizationProfileProps:c},rootProps:s,component:e};return t.__experimental_prefetchOrganizationSwitcher(),Ue.createElement(Pq.Provider,{value:f},Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{...f,hideRootHtmlElement:!!r.__experimental_asProvider},r.__experimental_asProvider?u:null,Ue.createElement(M_,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Ale(t){const e=j.useContext(Pq),n={...e,props:{...e.props,...t}};return Ue.createElement(bs,{...n})}Object.assign(Ele,{OrganizationProfilePage:I_,OrganizationProfileLink:j_,__experimental_Outlet:Ale});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"OrganizationList",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"GoogleOneTap",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"Waitlist",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e,{selector:'[data-component-status="ready"]'})==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountPricingTable,unmount:t.unmountPricingTable,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"PricingTable",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountAPIKeys,unmount:t.unmountAPIKeys,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"ApiKeys",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountUserAvatar,unmount:t.unmountUserAvatar,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"UserAvatar",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountTaskChooseOrganization,unmount:t.unmountTaskChooseOrganization,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});Jr(({clerk:t,component:e,fallback:n,...r})=>{const a=fo(e)==="rendering"||!t.loaded,s={...a&&n&&{style:{display:"none"}}};return Ue.createElement(Ue.Fragment,null,a&&n,t.loaded&&Ue.createElement(bs,{component:e,mount:t.mountTaskResetPassword,unmount:t.unmountTaskResetPassword,updateProps:t.__unstable__updateProps,props:r,rootProps:s}))},{component:"TaskResetPassword",renderWhileLoading:!0});var Nq=t=>{throw TypeError(t)},w3=(t,e,n)=>e.has(t)||Nq("Cannot "+n),ai=(t,e,n)=>(w3(t,e,"read from private field"),n?n.call(t):e.get(t)),mf=(t,e,n)=>e.has(t)?Nq("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pp=(t,e,n,r)=>(w3(t,e,"write to private field"),e.set(t,n),n),V5=(t,e,n)=>(w3(t,e,"access private method"),n);const Ole={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!1,jitter:!0},Ple=100,Lq=async t=>new Promise(e=>setTimeout(e,t)),Mq=(t,e)=>e?t*(1+Math.random()):t,Nle=t=>{let e=0;const n=()=>{const r=t.initialDelay,i=t.factor;let a=r*Math.pow(i,e);return a=Mq(a,t.jitter),Math.min(t.maxDelayBetweenRetries||a,a)};return async()=>{await Lq(n()),e++}},Lle=async(t,e={})=>{let n=0;const{shouldRetry:r,initialDelay:i,maxDelayBetweenRetries:a,factor:s,retryImmediately:o,jitter:l,onBeforeRetry:c}={...Ole,...e},u=Nle({initialDelay:i,maxDelayBetweenRetries:a,factor:s,jitter:l});for(;;)try{return await t()}catch(f){if(n++,!r(f,n))throw f;c&&await c(n),o&&n===1?await Lq(Mq(Ple,l)):await u()}},Mle="loadScript cannot be called when document does not exist",Rle="loadScript cannot be called without a src";async function Ile(t="",e){const{async:n,defer:r,beforeLoad:i,crossOrigin:a,nonce:s}=e||{};return Lle(()=>new Promise((l,c)=>{t||c(new Error(Rle)),(!document||!document.body)&&c(new Error(Mle));const u=document.createElement("script");a&&u.setAttribute("crossorigin",a),u.async=n||!1,u.defer=r||!1,u.addEventListener("load",()=>{u.remove(),l(u)}),u.addEventListener("error",f=>{u.remove(),c(f.error??new Error(`failed to load script: ${t}`))}),u.src=t,u.nonce=s,i?.(u),document.body.appendChild(u)}),{shouldRetry:(l,c)=>c<=5})}function jle(t){return t?Dle(t)||Rq(t):!0}function Dle(t){return/^http(s)?:\/\//.test(t||"")}function Rq(t){return t.startsWith("/")}function Ble(t){return t?Rq(t)?new URL(t,window.location.origin).toString():t:""}function Fle(t){if(!t)return"";let e;if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}return`clerk.${t.replace(e,"")}`}const Ule=(t,e="5.118.0")=>{if(t)return t;const n=zle(e);return n?n==="snapshot"?"5.118.0":n:$le(e)},zle=t=>t.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1],$le=t=>t.trim().replace(/^v/,"").split(".")[0],Iq="failed_to_load_clerk_js",qle="failed_to_load_clerk_js_timeout",uO="Failed to load Clerk",{isDevOrStagingUrl:Hle}=Kse(),jq=iq({packageName:"@clerk/shared"});function Wle(t){jq.setPackageName({packageName:t})}function hO(){if(typeof window>"u"||!window.Clerk)return!1;const t=window.Clerk;return typeof t=="object"&&typeof t.load=="function"}function Vle(t){if(typeof window>"u"||!window.performance)return!1;const e=performance.getEntriesByName(t,"resource");if(e.length===0)return!1;const n=e[e.length-1];return n.transferSize===0&&n.decodedBodySize===0&&(n.responseEnd===0||n.responseEnd>0&&n.responseStart>0||"responseStatus"in n&&(n.responseStatus>=400||n.responseStatus===0))}function Jj(t,e){return new Promise((n,r)=>{let i=!1;const a=(u,f)=>{clearTimeout(u),clearInterval(f)};e?.addEventListener("error",()=>{a(l,c),r(new tO(uO,{code:Iq}))});const s=()=>{i||hO()&&(i=!0,a(l,c),n(null))},l=setTimeout(()=>{i||(i=!0,a(l,c),hO()?n(null):r(new tO(uO,{code:qle})))},t);s();const c=setInterval(()=>{if(i){clearInterval(c);return}s()},100)})}const Gle=async t=>{const e=t?.scriptLoadTimeout??15e3;if(hO())return null;if(!t?.publishableKey)return jq.throwMissingPublishableKeyError(),null;const n=Kle(t),r=document.querySelector("script[data-clerk-js-script]");if(r)if(Vle(n))r.remove();else try{return await Jj(e,r),null}catch{r.remove()}const i=Jj(e);return Ile(n,{async:!0,crossOrigin:"anonymous",nonce:t.nonce,beforeLoad:Xle(t)}).catch(a=>{throw new tO(uO+(a.message?`, ${a.message}`:""),{code:Iq,cause:a})}),i},Kle=t=>{const{clerkJSUrl:e,clerkJSVariant:n,clerkJSVersion:r,proxyUrl:i,domain:a,publishableKey:s}=t;if(e)return e;let o="";i&&jle(i)?o=Ble(i).replace(/http(s)?:\/\//,""):a&&!Hle(Nj(s)?.frontendApi||"")?o=Fle(a):o=Nj(s)?.frontendApi||"";const l=n?`${n.replace(/\.+$/,"")}.`:"",c=Ule(r);return`https://${o}/npm/@clerk/clerk-js@${c}/dist/clerk.${l}browser.js`},Yle=t=>{const e={};return t.publishableKey&&(e["data-clerk-publishable-key"]=t.publishableKey),t.proxyUrl&&(e["data-clerk-proxy-url"]=t.proxyUrl),t.domain&&(e["data-clerk-domain"]=t.domain),t.nonce&&(e.nonce=t.nonce),e},Xle=t=>e=>{const n=Yle(t);for(const r in n)e.setAttribute(r,n[r])},Jle=(t,e,n)=>!t&&n?Zle(n):Qle(e),Zle=t=>{const e=t.userId,n=t.user,r=t.sessionId,i=t.sessionStatus,a=t.sessionClaims;return{userId:e,user:n,sessionId:r,session:t.session,sessionStatus:i,sessionClaims:a,organization:t.organization,orgId:t.orgId,orgRole:t.orgRole,orgPermissions:t.orgPermissions,orgSlug:t.orgSlug,actor:t.actor,factorVerificationAge:t.factorVerificationAge}},Qle=t=>{const e=t.user?t.user.id:t.user,n=t.user,r=t.session?t.session.id:t.session,i=t.session,a=t.session?.status,s=t.session?t.session.lastActiveToken?.jwt?.claims:null,o=t.session?t.session.factorVerificationAge:null,l=i?.actor,c=t.organization,u=t.organization?t.organization.id:t.organization,f=c?.slug,m=c&&n?.organizationMemberships?.find(v=>v.organization.id===u),p=m&&m.permissions;return{userId:e,user:n,sessionId:r,session:i,sessionStatus:a,sessionClaims:s,organization:c,orgId:u,orgRole:m&&m.role,orgSlug:f,orgPermissions:p,actor:l,factorVerificationAge:o}};function L2(){return typeof window<"u"}const Zj=(t,e,n,r,i)=>{const{notify:a}=i||{};let s=t.get(n);s||(s=[],t.set(n,s)),s.push(r),a&&e.has(n)&&r(e.get(n))},Qj=(t,e,n)=>(t.get(e)||[]).map(r=>r(n)),eD=(t,e,n)=>{const r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},ece=()=>{const t=new Map,e=new Map,n=new Map;return{on:(...i)=>Zj(t,e,...i),prioritizedOn:(...i)=>Zj(n,e,...i),emit:(i,a)=>{e.set(i,a),Qj(n,i,a),Qj(t,i,a)},off:(...i)=>eD(t,...i),prioritizedOff:(...i)=>eD(n,...i),internal:{retrieveListeners:i=>t.get(i)||[]}}},Yx={Status:"status"},tce=()=>ece();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var nce=Jr(({clerk:t,children:e,...n})=>{const{signUpFallbackRedirectUrl:r,forceRedirectUrl:i,fallbackRedirectUrl:a,signUpForceRedirectUrl:s,mode:o,initialValues:l,withSignUp:c,oauthFlow:u,...f}=n;e=N_(e,"Sign in");const m=P_(e)("SignInButton"),p=()=>{const x={forceRedirectUrl:i,fallbackRedirectUrl:a,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:s,initialValues:l,withSignUp:c,oauthFlow:u};return o==="modal"?t.openSignIn({...x,appearance:n.appearance}):t.redirectToSignIn({...x,signInFallbackRedirectUrl:a,signInForceRedirectUrl:i})},b={...f,onClick:async x=>(m&&typeof m=="object"&&"props"in m&&await L_(m.props.onClick)(x),p())};return Ue.cloneElement(m,b)},{component:"SignInButton",renderWhileLoading:!0});Jr(({clerk:t,children:e,...n})=>{const{redirectUrl:r,...i}=n;e=N_(e,"Sign in with Metamask");const a=P_(e)("SignInWithMetamaskButton"),s=async()=>{async function c(){await t.authenticateWithMetamask({redirectUrl:r||void 0})}c()},l={...i,onClick:async c=>(await L_(a.props.onClick)(c),s())};return Ue.cloneElement(a,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});Jr(({clerk:t,children:e,...n})=>{const{redirectUrl:r="/",signOutOptions:i,...a}=n;e=N_(e,"Sign out");const s=P_(e)("SignOutButton"),o=()=>t.signOut({redirectUrl:r,...i}),c={...a,onClick:async u=>(await L_(s.props.onClick)(u),o())};return Ue.cloneElement(s,c)},{component:"SignOutButton",renderWhileLoading:!0});var tD=Jr(({clerk:t,children:e,...n})=>{const{fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:a,signInForceRedirectUrl:s,mode:o,initialValues:l,oauthFlow:c,...u}=n;e=N_(e,"Sign up");const f=P_(e)("SignUpButton"),m=()=>{const b={fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:a,signInForceRedirectUrl:s,initialValues:l,oauthFlow:c};return o==="modal"?t.openSignUp({...b,appearance:n.appearance,unsafeMetadata:n.unsafeMetadata}):t.redirectToSignUp({...b,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:i})},v={...u,onClick:async b=>(f&&typeof f=="object"&&"props"in f&&await L_(f.props.onClick)(b),m())};return Ue.cloneElement(f,v)},{component:"SignUpButton",renderWhileLoading:!0}),rce=()=>({fields:{identifier:null,password:null,code:null},raw:null,global:null}),ice=()=>({fields:{firstName:null,lastName:null,emailAddress:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),ace=class{constructor(t){this.isomorphicClerk=t,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const t=this.gateProperty.bind(this),e=()=>this.client.signIn.__internal_future;return{errors:rce(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return t(e,"id",void 0)},get supportedFirstFactors(){return t(e,"supportedFirstFactors",[])},get supportedSecondFactors(){return t(e,"supportedSecondFactors",[])},get secondFactorVerification(){return t(e,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return t(e,"identifier",null)},get createdSessionId(){return t(e,"createdSessionId",null)},get userData(){return t(e,"userData",{})},get firstFactorVerification(){return t(e,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(e,"create"),password:this.gateMethod(e,"password"),sso:this.gateMethod(e,"sso"),finalize:this.gateMethod(e,"finalize"),emailCode:this.wrapMethods(()=>e().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>e().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>e().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>e().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>e().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(e,"ticket"),passkey:this.gateMethod(e,"passkey"),web3:this.gateMethod(e,"web3")}}}buildSignUpProxy(){const t=this.gateProperty.bind(this),e=this.gateMethod.bind(this),n=this.wrapMethods.bind(this),r=()=>this.client.signUp.__internal_future;return{errors:ice(),fetchStatus:"idle",signUp:{get id(){return t(r,"id",void 0)},get requiredFields(){return t(r,"requiredFields",[])},get optionalFields(){return t(r,"optionalFields",[])},get missingFields(){return t(r,"missingFields",[])},get username(){return t(r,"username",null)},get firstName(){return t(r,"firstName",null)},get lastName(){return t(r,"lastName",null)},get emailAddress(){return t(r,"emailAddress",null)},get phoneNumber(){return t(r,"phoneNumber",null)},get web3Wallet(){return t(r,"web3Wallet",null)},get hasPassword(){return t(r,"hasPassword",!1)},get unsafeMetadata(){return t(r,"unsafeMetadata",{})},get createdSessionId(){return t(r,"createdSessionId",null)},get createdUserId(){return t(r,"createdUserId",null)},get abandonAt(){return t(r,"abandonAt",null)},get legalAcceptedAt(){return t(r,"legalAcceptedAt",null)},get locale(){return t(r,"locale",null)},get status(){return t(r,"status","missing_requirements")},get unverifiedFields(){return t(r,"unverifiedFields",[])},get isTransferable(){return t(r,"isTransferable",!1)},create:e(r,"create"),update:e(r,"update"),sso:e(r,"sso"),password:e(r,"password"),ticket:e(r,"ticket"),web3:e(r,"web3"),finalize:e(r,"finalize"),verifications:n(()=>r().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(t){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(t){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const t=this.isomorphicClerk.client;if(!t)throw new Error("Clerk client not ready");return t}gateProperty(t,e,n){return!L2()||!this.isomorphicClerk.loaded?n:t()[e]}gateMethod(t,e){return(async(...n)=>{if(!L2())return Qc.throw(`Attempted to call a method (${e}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(i=>this.isomorphicClerk.addOnLoaded(i));const r=t();return r[e].apply(r,n)})}wrapMethods(t,e){return Object.fromEntries(e.map(n=>[n,this.gateMethod(t,n)]))}wrapStruct(t,e,n,r){const i={};for(const a of e)i[a]=this.gateMethod(t,a);for(const a of n)Object.defineProperty(i,a,{get:()=>this.gateProperty(t,a,r[a]),enumerable:!0});return i}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var sce={name:"@clerk/clerk-react",version:"5.59.3",environment:"production"},zw,Xg,Jg,gf,Ru,$w,bf,zy,qw,Dq=class Bq{constructor(e){mf(this,zy),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenEnableOrganizationsPrompt=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountAPIKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountTaskResetPasswordNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],mf(this,zw,"loading"),mf(this,Xg),mf(this,Jg),mf(this,gf),mf(this,Ru,tce()),mf(this,$w),this.buildSignInUrl=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignInUrl(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignInUrl",a)},this.buildSignUpUrl=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignUpUrl(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignUpUrl",a)},this.buildAfterSignInUrl=(...i)=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignInUrl(...i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignInUrl",a)},this.buildAfterSignUpUrl=(...i)=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignUpUrl(...i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignUpUrl",a)},this.buildAfterSignOutUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignOutUrl",i)},this.buildNewSubscriptionRedirectUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",i)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",i)},this.buildUserProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUserProfileUrl",i)},this.buildCreateOrganizationUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildCreateOrganizationUrl",i)},this.buildOrganizationProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildOrganizationProfileUrl",i)},this.buildWaitlistUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildWaitlistUrl",i)},this.buildTasksUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildTasksUrl",i)},this.buildUrlWithAuth=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildUrlWithAuth(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUrlWithAuth",a)},this.handleUnauthenticated=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleUnauthenticated()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("handleUnauthenticated",i)},this.on=(...i)=>{var a;if((a=this.clerkjs)!=null&&a.on)return this.clerkjs.on(...i);ai(this,Ru).on(...i)},this.off=(...i)=>{var a;if((a=this.clerkjs)!=null&&a.off)return this.clerkjs.off(...i);ai(this,Ru).off(...i)},this.addOnLoaded=i=>{this.loadedListeners.push(i),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(i=>i()),this.loadedListeners=[]},this.beforeLoad=i=>{if(!i)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=i=>{var a,s;if(!i)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=i,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=i.addListener(l)}),(a=ai(this,Ru).internal.retrieveListeners("status"))==null||a.forEach(o=>{this.on("status",o,{notify:!0})}),(s=ai(this,Ru).internal.retrieveListeners("queryClientStatus"))==null||s.forEach(o=>{this.on("queryClientStatus",o,{notify:!0})}),this.preopenSignIn!==null&&i.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&i.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&i.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&i.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&i.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&i.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&i.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&i.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&i.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&i.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&i.openWaitlist(this.preOpenWaitlist),this.preopenEnableOrganizationsPrompt&&i.__internal_openEnableOrganizationsPrompt(this.preopenEnableOrganizationsPrompt),this.premountSignInNodes.forEach((o,l)=>{i.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{i.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{i.mountUserProfile(l,o)}),this.premountUserAvatarNodes.forEach((o,l)=>{i.mountUserAvatar(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{i.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{i.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{i.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{i.mountPricingTable(l,o)}),this.premountAPIKeysNodes.forEach((o,l)=>{i.mountAPIKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{i.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{i.mountTaskChooseOrganization(l,o)}),this.premountTaskResetPasswordNodes.forEach((o,l)=>{i.mountTaskResetPassword(l,o)}),typeof this.clerkjs.status>"u"&&ai(this,Ru).emit(Yx.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...i)=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_checkout(...i)},this.__unstable__updateProps=async i=>{const a=await V5(this,zy,qw).call(this);if(a&&"__unstable__updateProps"in a)return a.__unstable__updateProps(i)},this.setActive=i=>this.clerkjs?this.clerkjs.setActive(i):Promise.reject(),this.openSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(i):this.preopenSignIn=i},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(i):this.preopenCheckout=i},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(i):this.preopenPlanDetails=i},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(i):this.preopenSubscriptionDetails=i??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(i):this.preopenUserVerification=i},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.__internal_openEnableOrganizationsPrompt=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openEnableOrganizationsPrompt(i):this.preopenEnableOrganizationsPrompt=i},this.__internal_closeEnableOrganizationsPrompt=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeEnableOrganizationsPrompt():this.preopenEnableOrganizationsPrompt=null},this.openGoogleOneTap=i=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(i):this.preopenOneTap=i},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(i):this.preopenUserProfile=i},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(i):this.preopenOrganizationProfile=i},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(i):this.preopenCreateOrganization=i},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(i):this.preOpenWaitlist=i},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(i):this.preopenSignUp=i},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(i,a):this.premountSignInNodes.set(i,a)},this.unmountSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(i):this.premountSignInNodes.delete(i)},this.mountSignUp=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(i,a):this.premountSignUpNodes.set(i,a)},this.unmountSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(i):this.premountSignUpNodes.delete(i)},this.mountUserAvatar=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(i,a):this.premountUserAvatarNodes.set(i,a)},this.unmountUserAvatar=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(i):this.premountUserAvatarNodes.delete(i)},this.mountUserProfile=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(i,a):this.premountUserProfileNodes.set(i,a)},this.unmountUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(i):this.premountUserProfileNodes.delete(i)},this.mountOrganizationProfile=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(i,a):this.premountOrganizationProfileNodes.set(i,a)},this.unmountOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(i):this.premountOrganizationProfileNodes.delete(i)},this.mountCreateOrganization=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(i,a):this.premountCreateOrganizationNodes.set(i,a)},this.unmountCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(i):this.premountCreateOrganizationNodes.delete(i)},this.mountOrganizationSwitcher=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(i,a):this.premountOrganizationSwitcherNodes.set(i,a)},this.unmountOrganizationSwitcher=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(i):this.premountOrganizationSwitcherNodes.delete(i)},this.__experimental_prefetchOrganizationSwitcher=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",i)},this.mountOrganizationList=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(i,a):this.premountOrganizationListNodes.set(i,a)},this.unmountOrganizationList=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(i):this.premountOrganizationListNodes.delete(i)},this.mountUserButton=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(i,a):this.premountUserButtonNodes.set(i,a)},this.unmountUserButton=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(i):this.premountUserButtonNodes.delete(i)},this.mountWaitlist=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(i,a):this.premountWaitlistNodes.set(i,a)},this.unmountWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(i):this.premountWaitlistNodes.delete(i)},this.mountPricingTable=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(i,a):this.premountPricingTableNodes.set(i,a)},this.unmountPricingTable=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(i):this.premountPricingTableNodes.delete(i)},this.mountAPIKeys=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountAPIKeys(i,a):this.premountAPIKeysNodes.set(i,a)},this.unmountAPIKeys=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountAPIKeys(i):this.premountAPIKeysNodes.delete(i)},this.__internal_mountOAuthConsent=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(i,a):this.premountOAuthConsentNodes.set(i,a)},this.__internal_unmountOAuthConsent=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(i):this.premountOAuthConsentNodes.delete(i)},this.mountTaskChooseOrganization=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(i,a):this.premountTaskChooseOrganizationNodes.set(i,a)},this.unmountTaskChooseOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(i):this.premountTaskChooseOrganizationNodes.delete(i)},this.mountTaskResetPassword=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskResetPassword(i,a):this.premountTaskResetPasswordNodes.set(i,a)},this.unmountTaskResetPassword=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskResetPassword(i):this.premountTaskResetPasswordNodes.delete(i)},this.addListener=i=>{if(this.clerkjs)return this.clerkjs.addListener(i);{const a=()=>{var s;const o=this.premountAddListenerCalls.get(i);o&&((s=o.nativeUnsubscribe)==null||s.call(o),this.premountAddListenerCalls.delete(i))};return this.premountAddListenerCalls.set(i,{unsubscribe:a,nativeUnsubscribe:void 0}),a}},this.navigate=i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.navigate(i)};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("navigate",a)},this.redirectWithAuth=async(...i)=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectWithAuth(...i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectWithAuth",a)},this.redirectToSignIn=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignIn(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignIn",a)},this.redirectToSignUp=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignUp(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignUp",a)},this.redirectToUserProfile=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToUserProfile",i)},this.redirectToAfterSignUp=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToAfterSignUp",i)},this.redirectToAfterSignIn=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignIn()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignIn",i)},this.redirectToAfterSignOut=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignOut()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignOut",i)},this.redirectToOrganizationProfile=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToOrganizationProfile",i)},this.redirectToCreateOrganization=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToCreateOrganization",i)},this.redirectToWaitlist=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToWaitlist",i)},this.redirectToTasks=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToTasks(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToTasks",a)},this.handleRedirectCallback=async i=>{var a;const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleRedirectCallback(i)};this.clerkjs&&this.loaded?(a=s())==null||a.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",s)},this.handleGoogleOneTapCallback=async(i,a)=>{var s;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(i,a)};this.clerkjs&&this.loaded?(s=o())==null||s.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",o)},this.handleEmailLinkVerification=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.handleEmailLinkVerification(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("handleEmailLinkVerification",a)},this.authenticateWithMetamask=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithMetamask(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithMetamask",a)},this.authenticateWithCoinbaseWallet=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithCoinbaseWallet(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",a)},this.authenticateWithBase=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithBase(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithBase",a)},this.authenticateWithOKXWallet=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithOKXWallet(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithOKXWallet",a)},this.authenticateWithSolana=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithSolana(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithSolana",a)},this.authenticateWithWeb3=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithWeb3(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithWeb3",a)},this.authenticateWithGoogleOneTap=async i=>(await V5(this,zy,qw).call(this)).authenticateWithGoogleOneTap(i),this.__internal_loadStripeJs=async()=>(await V5(this,zy,qw).call(this)).__internal_loadStripeJs(),this.createOrganization=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.createOrganization(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("createOrganization",a)},this.getOrganization=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.getOrganization(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("getOrganization",a)},this.joinWaitlist=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.joinWaitlist(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("joinWaitlist",a)},this.signOut=async(...i)=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.signOut(...i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("signOut",a)},this.__internal_attemptToEnableEnvironmentSetting=i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.__internal_attemptToEnableEnvironmentSetting(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("__internal_attemptToEnableEnvironmentSetting",a)};const{Clerk:n=null,publishableKey:r}=e||{};Pp(this,gf,r),Pp(this,Jg,e?.proxyUrl),Pp(this,Xg,e?.domain),this.options=e,this.Clerk=n,this.mode=L2()?"browser":"server",Pp(this,$w,new ace(this)),this.options.sdkMetadata||(this.options.sdkMetadata=sce),ai(this,Ru).emit(Yx.Status,"loading"),ai(this,Ru).prioritizedOn(Yx.Status,i=>Pp(this,zw,i)),ai(this,gf)&&this.loadClerkJS()}get publishableKey(){return ai(this,gf)}get loaded(){var e;return((e=this.clerkjs)==null?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?((e=this.clerkjs)==null?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):ai(this,zw)}static getOrCreateInstance(e){return(!L2()||!ai(this,bf)||e.Clerk&&ai(this,bf).Clerk!==e.Clerk||ai(this,bf).publishableKey!==e.publishableKey)&&Pp(this,bf,new Bq(e)),ai(this,bf)}static clearInstance(){Pp(this,bf,null)}get domain(){return typeof window<"u"&&window.location?z5(ai(this,Xg),new URL(window.location.href),""):typeof ai(this,Xg)=="function"?Qc.throw(U5):ai(this,Xg)||""}get proxyUrl(){return typeof window<"u"&&window.location?z5(ai(this,Jg),new URL(window.location.href),""):typeof ai(this,Jg)=="function"?Qc.throw(U5):ai(this,Jg)||""}__internal_getOption(e){var n,r;return(n=this.clerkjs)!=null&&n.__internal_getOption?(r=this.clerkjs)==null?void 0:r.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get __internal_queryClient(){var e;return(e=this.clerkjs)==null?void 0:e.__internal_queryClient}get isSatellite(){return typeof window<"u"&&window.location?z5(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Qc.throw(U5):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=ai(this,gf),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;ple(this.Clerk)?(n=new this.Clerk(ai(this,gf),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(n),await n.load(this.options)):(n=this.Clerk,n.loaded||(this.beforeLoad(n),await n.load(this.options))),global.Clerk=n}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Gle({...this.options,publishableKey:ai(this,gf),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(e=global.Clerk)!=null&&e.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const r=n;ai(this,Ru).emit(Yx.Status,"error"),console.error(r.stack||r.message||r);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var e;return(e=this.clerkjs)==null?void 0:e.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:ai(this,$w)}get apiKeys(){var e;return(e=this.clerkjs)==null?void 0:e.apiKeys}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};zw=new WeakMap;Xg=new WeakMap;Jg=new WeakMap;gf=new WeakMap;Ru=new WeakMap;$w=new WeakMap;bf=new WeakMap;zy=new WeakSet;qw=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};mf(Dq,bf);var nD=Dq;function oce(t){const{isomorphicClerkOptions:e,initialState:n,children:r}=t,{isomorphicClerk:i,clerkStatus:a}=lce(e),[s,o]=Ue.useState({client:i.client,session:i.session,user:i.user,organization:i.organization});Ue.useEffect(()=>i.addListener(I=>o({...I})),[]);const l=Jle(i.loaded,s,n),c=Ue.useMemo(()=>({value:i}),[a]),u=Ue.useMemo(()=>({value:s.client}),[s.client]),{sessionId:f,sessionStatus:m,sessionClaims:p,session:v,userId:b,user:x,orgId:w,actor:C,organization:E,orgRole:O,orgSlug:P,orgPermissions:L,factorVerificationAge:B}=l,$=Ue.useMemo(()=>({value:{sessionId:f,sessionStatus:m,sessionClaims:p,userId:b,actor:C,orgId:w,orgRole:O,orgSlug:P,orgPermissions:L,factorVerificationAge:B}}),[f,m,b,C,w,O,P,B,p?.__raw]),U=Ue.useMemo(()=>({value:v}),[f,v]),G=Ue.useMemo(()=>({value:x}),[b,x]),M=Ue.useMemo(()=>({value:{organization:E}}),[w,E]);return Ue.createElement(Hoe.Provider,{value:c},Ue.createElement(Poe.Provider,{value:u},Ue.createElement(Noe.Provider,{value:U},Ue.createElement(Ioe,{...M.value},Ue.createElement($oe.Provider,{value:$},Ue.createElement(Aoe.Provider,{value:G},Ue.createElement(Moe,{value:void 0},r)))))))}var lce=t=>{const e=Ue.useRef(nD.getOrCreateInstance(t)),[n,r]=Ue.useState(e.current.status);return Ue.useEffect(()=>{e.current.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),Ue.useEffect(()=>{e.current.__unstable__updateProps({options:t})},[t.localization]),Ue.useEffect(()=>(e.current.on("status",r),()=>{e.current&&e.current.off("status",r),nD.clearInstance()}),[]),{isomorphicClerk:e.current,clerkStatus:n}};function cce(t){const{initialState:e,children:n,__internal_bypassMissingPublishableKey:r,...i}=t,{publishableKey:a="",Clerk:s}=i;return!s&&!r&&(a?a&&!nO(a)&&Qc.throwInvalidPublishableKeyError({key:a}):Qc.throwMissingPublishableKeyError()),Ue.createElement(oce,{initialState:e,isomorphicClerkOptions:i},n)}var Fq=gle(cce,"ClerkProvider",Woe);Fq.displayName="ClerkProvider";zoe({packageName:"@clerk/clerk-react"});Wle("@clerk/clerk-react");function uce(){const[t,e]=j.useState(!1),n=tq(),r=n.pathname!=="/"&&n.pathname!=="/opec/onboarding";return S.jsxs("nav",{className:"fixed top-0 w-full bg-white/80 backdrop-blur-md z-50 border-b border-slate-100",children:[S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex justify-between items-center h-16",children:[S.jsxs(ul,{to:"/",className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold shadow-sm",children:S.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:S.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),S.jsx("span",{className:"text-xl font-bold text-blue-600 tracking-tight",children:"OPEC"})]}),S.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[S.jsx(ul,{to:"/",className:"text-slate-600 hover:text-blue-600 font-medium transition-colors",children:"Home"}),S.jsx(ul,{to:"/about",className:"text-slate-600 hover:text-blue-600 font-medium transition-colors",children:"How it Works"}),S.jsx(ul,{to:"/industry",className:"text-slate-600 hover:text-blue-600 font-medium transition-colors",children:"Industry Insights"}),S.jsx(ul,{to:"/colleges",className:"text-slate-600 hover:text-blue-600 font-medium transition-colors",children:"Colleges"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(cO,{children:S.jsx(nce,{mode:"modal",children:S.jsx("button",{className:"text-slate-600 hover:text-slate-900 font-medium",children:"Sign In"})})}),S.jsxs(N2,{children:[S.jsx(Cle,{}),r&&S.jsx(ul,{to:"/opec/simulate",children:S.jsx(Or,{variant:"primary",className:"py-2 px-4 text-sm hidden sm:block",children:"Start Simulation"})})]}),S.jsx("div",{className:"md:hidden",children:S.jsx("button",{onClick:()=>e(!t),className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:t?S.jsx(lv,{className:"w-6 h-6"}):S.jsx(qae,{className:"w-6 h-6"})})})]})]})}),S.jsx(fl,{children:t&&S.jsx(St.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-slate-100 shadow-lg overflow-hidden",children:S.jsxs("div",{className:"flex flex-col px-4 pt-2 pb-6 space-y-1",children:[[{to:"/",label:"Home"},{to:"/about",label:"How it Works"},{to:"/industry",label:"Industry Insights"},{to:"/colleges",label:"Colleges"}].map(i=>S.jsx(ul,{to:i.to,onClick:()=>e(!1),className:"py-3 px-4 text-slate-600 hover:text-blue-600 hover:bg-slate-50 rounded-lg font-medium transition-colors",children:i.label},i.to)),S.jsx(N2,{children:r&&S.jsx(ul,{to:"/opec/simulate",onClick:()=>e(!1),className:"mt-4 block",children:S.jsx(Or,{className:"w-full justify-center",children:"Start Simulation"})})})]})})})]})}function Uq({children:t}){return S.jsxs("div",{className:"min-h-screen bg-slate-50",children:[S.jsx(uce,{}),S.jsx("main",{className:"pt-16",children:t}),S.jsx("footer",{className:"bg-white border-t border-slate-100 py-12 mt-20",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-slate-500",children:S.jsx("p",{children:" 2026 OPEC AI. All rights reserved."})})})]})}const li=({children:t,className:e="",delay:n=0})=>S.jsx(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n},className:`bg-white rounded-xl shadow-sm border border-slate-100 p-6 ${e}`,children:t}),G5={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},ly={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},rD={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1}}},hce={hidden:{opacity:0,rotateX:20,y:100},visible:{opacity:1,rotateX:2,y:0,transition:{duration:1,ease:"easeOut",type:"spring",damping:20}}},iD=[{name:"Google",slug:"google"},{name:"Meta",slug:"meta"},{name:"Netflix",slug:"netflix"},{name:"Tesla",slug:"tesla"},{name:"OpenAI",slug:"openai"},{name:"Spotify",slug:"spotify"},{name:"Uber",slug:"uber"}],dce=[...iD,...iD];function fce(){return S.jsxs("div",{className:"font-sans bg-[#F9F8F6] text-slate-900 min-h-screen selection:bg-indigo-100 selection:text-indigo-900",children:[S.jsxs("section",{className:"relative pt-20 pb-12 lg:pt-32 lg:pb-20 overflow-hidden perspective-[1200px]",children:[S.jsx("div",{className:"absolute inset-0 -z-10 bg-[#F9F8F6] bg-grid-slate-200 [mask-image:linear-gradient(to_bottom,white,transparent)]"}),S.jsx(St.div,{animate:{rotate:360},transition:{duration:50,repeat:1/0,ease:"linear"},className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-gradient-to-tr from-blue-100/40 via-purple-100/40 to-indigo-100/40 rounded-full blur-3xl -z-20 origin-center"}),S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:S.jsxs(St.div,{variants:rD,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"flex flex-col items-center",children:[S.jsx(St.div,{variants:G5,className:"mb-4",children:S.jsxs("span",{className:"inline-flex items-center gap-2 py-1.5 px-4 rounded-full bg-white border border-slate-200 shadow-sm text-sm font-semibold text-slate-600 hover:scale-105 transition-transform cursor-default",children:[S.jsx(v1,{className:"w-4 h-4 text-amber-400",fill:"currentColor"}),S.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Introducing OPEC Methodology v1.0"})]})}),S.jsxs(St.h1,{variants:rD,className:"text-5xl sm:text-7xl md:text-8xl font-bold text-slate-900 tracking-tight mb-12 flex flex-col items-center leading-none",children:[S.jsxs("span",{className:"block overflow-hidden py-2",children:[S.jsx(St.span,{variants:ly,className:"inline-block",children:"Career"})," ",S.jsx(St.span,{variants:ly,className:"inline-block",children:"Clarity"})]}),S.jsxs("span",{className:"relative block",children:[S.jsxs("span",{className:"relative z-10 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent",children:[S.jsx(St.span,{variants:ly,className:"inline-block",children:"Simplified"})," ",S.jsx(St.span,{variants:ly,className:"inline-block",children:"by"})," ",S.jsx(St.span,{variants:ly,className:"inline-block",children:"AI"})]}),S.jsx("span",{className:"absolute -bottom-2 left-0 right-0 h-4 bg-indigo-100/50 -z-10 skew-x-12 transform origin-left scale-x-0 animate-scale-in",style:{animationFillMode:"forwards",animationDelay:"1s"}})]})]}),S.jsxs(St.p,{variants:G5,className:"text-xl sm:text-2xl text-slate-600 max-w-3xl mx-auto mb-8 leading-relaxed font-light",children:["Stop guessing your future. Let our ",S.jsx("span",{className:"font-semibold text-slate-800",children:"4 specialized AI agents"})," guide you from confusion to a data-backed career roadmap in minutes."]}),S.jsxs(St.div,{variants:G5,className:"flex flex-col sm:flex-row gap-5 w-full justify-center px-4",children:[S.jsx(cO,{children:S.jsx(tD,{mode:"modal",forceRedirectUrl:"/opec/onboarding",children:S.jsxs(Or,{className:"h-16 px-10 text-xl font-bold bg-slate-900 text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 hover:shadow-2xl hover:shadow-slate-900/20 hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto rounded-xl",children:["Start Your Journey",S.jsx(ZA,{className:"w-6 h-6 ml-2"})]})})}),S.jsx(N2,{children:S.jsx(ul,{to:"/opec/onboarding",children:S.jsxs(Or,{className:"h-16 px-10 text-xl font-bold bg-slate-900 text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 hover:shadow-2xl hover:shadow-slate-900/20 hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto rounded-xl",children:["Go to Dashboard",S.jsx(ZA,{className:"w-6 h-6 ml-2"})]})})}),S.jsxs(Or,{variant:"outline",className:"h-16 px-10 text-lg font-semibold border-2 border-slate-200 text-slate-600 hover:border-slate-300 hover:bg-slate-50 w-full sm:w-auto rounded-xl",children:[S.jsx(kj,{className:"w-5 h-5 mr-2 fill-slate-600"}),"See How It Works"]})]}),S.jsxs(St.div,{variants:hce,className:"mt-12 relative w-full max-w-5xl mx-auto aspect-[16/9] bg-gradient-to-b from-slate-900 to-slate-800 rounded-2xl shadow-2xl border border-slate-700/50 overflow-hidden hidden md:block",style:{transformStyle:"preserve-3d"},children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),S.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] [mask-image:linear-gradient(to_bottom,transparent,black)]"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:S.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 450",fill:"none",children:[S.jsx("path",{d:"M 50 225 Q 200 225 250 150 T 450 150 T 650 300 T 800 225",stroke:"url(#gradient-path)",strokeWidth:"4",fill:"none",className:"drop-shadow-[0_0_10px_rgba(99,102,241,0.5)]"}),S.jsx("defs",{children:S.jsxs("linearGradient",{id:"gradient-path",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[S.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"0"}),S.jsx("stop",{offset:"20%",stopColor:"#6366f1"}),S.jsx("stop",{offset:"80%",stopColor:"#8b5cf6"}),S.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})}),S.jsxs("g",{transform:"translate(250, 150)",children:[S.jsx("circle",{r:"6",fill:"#6366f1",className:"animate-pulse"}),S.jsx("circle",{r:"12",fill:"#6366f1",fillOpacity:"0.2",className:"animate-ping"}),S.jsx("foreignObject",{x:"-60",y:"-50",width:"120",height:"40",children:S.jsx("div",{className:"bg-slate-800/90 backdrop-blur border border-indigo-500/30 rounded-lg p-2 text-center shadow-lg",children:S.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase tracking-wider",children:"Analysis"})})})]}),S.jsxs("g",{transform:"translate(450, 150)",children:[S.jsx("circle",{r:"6",fill:"#8b5cf6"}),S.jsx("foreignObject",{x:"-60",y:"20",width:"120",height:"40",children:S.jsx("div",{className:"bg-slate-800/90 backdrop-blur border border-purple-500/30 rounded-lg p-2 text-center shadow-lg",children:S.jsx("div",{className:"text-[10px] text-purple-300 font-bold uppercase tracking-wider",children:"Skill Strategy"})})})]}),S.jsxs("g",{transform:"translate(650, 300)",children:[S.jsx("circle",{r:"8",fill:"#ec4899"}),S.jsx("circle",{r:"16",fill:"#ec4899",fillOpacity:"0.1"}),S.jsx("foreignObject",{x:"-70",y:"-55",width:"140",height:"60",children:S.jsxs("div",{className:"bg-slate-800/90 backdrop-blur border border-pink-500/30 rounded-lg p-2 text-center shadow-lg flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded bg-gradient-to-tr from-pink-500 to-rose-500 flex items-center justify-center text-white font-bold text-xs",children:""}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"text-[10px] text-pink-300 font-bold uppercase",children:"Goal Reached"}),S.jsx("div",{className:"text-[10px] text-slate-400",children:"Product Manager"})]})]})})]})]})}),S.jsxs("div",{className:"absolute top-10 right-10 p-4 bg-slate-800/80 backdrop-blur-md rounded-xl border border-slate-700 w-48 shadow-xl",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx("div",{className:"p-1.5 bg-green-500/20 rounded text-green-400",children:S.jsx(om,{className:"w-4 h-4"})}),S.jsx("div",{className:"text-xs font-medium text-slate-300",children:"Salary Growth"})]}),S.jsx("div",{className:"text-xl font-bold text-white",children:" 24.5 LPA"}),S.jsx("div",{className:"text-[10px] text-green-400 mt-1",children:"+140% vs Avg"})]}),S.jsxs("div",{className:"absolute bottom-10 left-10 p-4 bg-slate-800/80 backdrop-blur-md rounded-xl border border-slate-700 w-56 shadow-xl",children:[S.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"Next Action Step"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white shrink-0",children:S.jsx(kj,{className:"w-4 h-4 ml-0.5 fill-white"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-semibold text-white",children:"System Design"}),S.jsx("div",{className:"text-[10px] text-indigo-300",children:"Module 4  45 mins"})]})]})]})]})]})})]}),S.jsxs("section",{className:"py-10 bg-white border-y border-slate-100 overflow-hidden",children:[S.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-10 text-center",children:S.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-[0.2em]",children:"Teams at these companies build their careers with us"})}),S.jsxs("div",{className:"relative w-full",children:[S.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-32 md:w-64 bg-gradient-to-r from-white to-transparent z-10"}),S.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-32 md:w-64 bg-gradient-to-l from-white to-transparent z-10"}),S.jsx("div",{className:"flex w-max animate-scroll hover:[animation-play-state:paused] items-center gap-24 md:gap-40",children:dce.map((t,e)=>S.jsx("div",{className:"group relative transition-transform duration-300 hover:scale-110 cursor-pointer",children:S.jsx("img",{src:`https://cdn.simpleicons.org/${t.slug}`,alt:t.name,className:"h-16 md:h-24 w-auto object-contain brightness-100",title:t.name})},`logo-${e}`))})]})]}),S.jsxs("section",{className:"py-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-slate-900 mb-6",children:["Built for Clarity. ",S.jsx("br",{})," Designed for Action."]}),S.jsxs("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:["Most tools give generic advice. We built a system that understands ",S.jsx("em",{children:"you"})," and connects you to the ",S.jsx("em",{children:"real world"}),"."]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[400px]",children:[S.jsxs(St.div,{whileHover:{scale:1.02},className:"md:col-span-2 relative bg-white border border-slate-200 rounded-3xl p-8 overflow-hidden flex flex-col justify-between shadow-xl",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mb-6",children:[S.jsxs("span",{className:"relative flex h-2 w-2",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Live Market Intelligence"]}),S.jsx("h3",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Real-Time Job Data"}),S.jsx("p",{className:"text-lg text-slate-500 max-w-md",children:"Don't plan in a vacuum. See live job openings, salary trends, and skill demands directly from the market. Powered by Adzuna."})]}),S.jsx("div",{className:"absolute right-0 bottom-0 w-3/4 h-3/4 bg-slate-50 rounded-tl-3xl border-t border-l border-slate-100 p-6 translate-x-1/4 translate-y-1/4",children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-slate-800",children:"React Developer"}),S.jsx("div",{className:"text-xs text-slate-500",children:"Google  Bangalore"})]}),S.jsx("div",{className:"text-sm font-bold text-green-600",children:"18L - 24L"})]}),S.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex items-center justify-between opacity-70",children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-slate-800",children:"Frontend Engineer"}),S.jsx("div",{className:"text-xs text-slate-500",children:"Swiggy  Remote"})]}),S.jsx("div",{className:"text-sm font-bold text-green-600",children:"15L - 22L"})]})]})})]}),S.jsxs(St.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-3xl p-8 text-white shadow-xl flex flex-col justify-between overflow-hidden relative",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mb-6",children:S.jsx(h3,{className:"w-6 h-6 text-white"})}),S.jsx("h3",{className:"text-2xl font-bold mb-2",children:"AI Mock Interviews"}),S.jsx("p",{className:"text-indigo-100 text-sm",children:"Practice with a Senior Dev AI before the real thing. Company-specific prep."})]}),S.jsx("div",{className:"flex items-end gap-1 h-12 mt-4 opacity-50",children:[40,70,30,80,50,90,40,60,30].map((t,e)=>S.jsx("div",{className:"w-2 bg-white rounded-full animate-pulse",style:{height:`${t}%`,animationDelay:`${e*.1}s`}},e))})]}),S.jsxs(St.div,{whileHover:{scale:1.02},className:"bg-slate-900 rounded-3xl p-8 border border-slate-800 shadow-xl flex flex-col justify-between text-white",children:[S.jsxs("div",{children:[S.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-2xl flex items-center justify-center mb-6",children:S.jsx(q$,{className:"w-6 h-6 text-purple-400"})}),S.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Career Simulator"}),S.jsx("p",{className:"text-slate-400 text-sm",children:"Fast-forward 5 years. visualize your path, risks, and rewards."})]}),S.jsxs("div",{className:"mt-4 flex -space-x-2",children:[[1,2,3].map(t=>S.jsx("div",{className:`w-8 h-8 rounded-full border-2 border-slate-900 flex items-center justify-center text-[10px] font-bold ${t===1?"bg-blue-500":t===2?"bg-purple-500":"bg-pink-500"}`,children:2024+t},t)),S.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-slate-900 bg-slate-700 flex items-center justify-center text-[10px]",children:"+2"})]})]}),S.jsxs(St.div,{whileHover:{scale:1.02},className:"md:col-span-2 relative bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-3xl p-8 overflow-hidden flex flex-col justify-between shadow-lg",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white rounded-full text-xs font-semibold mb-6 border border-indigo-100 text-indigo-600",children:[S.jsx(H$,{className:"w-3 h-3"})," Deep Discovery"]}),S.jsx("h3",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Unpack Your Potential"}),S.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"An empathetic AI listener that helps you understand your own core values and hidden strengths through deep conversation."})]}),S.jsxs("div",{className:"absolute right-0 bottom-0 w-1/2 h-full bg-gradient-to-l from-white/50 to-transparent",children:[S.jsx("div",{className:"absolute top-1/4 right-10 bg-white p-3 rounded-2xl rounded-tr-none shadow-md border border-indigo-50 text-xs text-slate-600 w-48",children:'"I feel stuck between coding and design..."'}),S.jsx("div",{className:"absolute top-1/2 right-20 bg-indigo-600 p-3 rounded-2xl rounded-tl-none shadow-md text-xs text-white w-52",children:`"It sounds like you might enjoy a Product Design role. Let's explore that path."`})]})]})]})]}),S.jsx("section",{className:"py-20 bg-white border-t border-slate-100",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"The OPEC Engine"}),S.jsx("p",{className:"text-slate-500 mt-2",children:"How our agents collaborate for you"})]}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{letter:"O",title:"Observation",text:"Deep listening",color:"bg-blue-50 text-blue-600"},{letter:"P",title:"Pattern",text:"Connecting dots",color:"bg-indigo-50 text-indigo-600"},{letter:"E",title:"Evaluation",text:"Market analysis",color:"bg-purple-50 text-purple-600"},{letter:"C",title:"Clarity",text:"Action plan",color:"bg-green-50 text-green-600"}].map((t,e)=>S.jsxs(li,{className:"p-6 text-center border-none shadow-none bg-slate-50 hover:bg-white hover:shadow-lg transition-all duration-300",children:[S.jsx("div",{className:`w-16 h-16 mx-auto ${t.color} rounded-2xl flex items-center justify-center text-2xl font-bold mb-4`,children:t.letter}),S.jsx("h3",{className:"font-bold text-slate-900",children:t.title}),S.jsx("p",{className:"text-sm text-slate-500",children:t.text})]},e))})]})}),S.jsxs("section",{className:"py-24 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[S.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Ready to launch your career?"}),S.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:"Join the platform that treats your career like a high-growth startup. Smart, data-driven, and ambitious."}),S.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[S.jsx(cO,{children:S.jsx(tD,{mode:"modal",forceRedirectUrl:"/opec/onboarding",children:S.jsx(Or,{className:"h-14 px-8 text-lg bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow-lg hover:shadow-indigo-200 transition-all",children:"Get Started for Free"})})}),S.jsx(N2,{children:S.jsx(ul,{to:"/opec/onboarding",children:S.jsx(Or,{className:"h-14 px-8 text-lg bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow-lg hover:shadow-indigo-200 transition-all",children:"Go to Dashboard"})})})]})]})]})}function K5({label:t,...e}){return S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),S.jsx("input",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",...e})]})}function aD({label:t,options:e,...n}){return S.jsxs("div",{className:"mb-4",children:[t&&S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),S.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",...n,children:[S.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.map(r=>S.jsx("option",{value:r.value,children:r.label},r.value))]})]})}function pce(){const[t,e]=j.useState(0),[n,r]=j.useState(0),i=[" AI agents are analyzing your profile..."," Calculating market trends..."," Identifying skill gaps..."," Projecting salary growth..."," Creating your personalized roadmap..."," Almost there! Finalizing details..."];return j.useEffect(()=>{const a=setInterval(()=>{e(o=>o+1)},1e3),s=setInterval(()=>{r(o=>(o+1)%i.length)},3e3);return()=>{clearInterval(a),clearInterval(s)}},[]),S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:S.jsx("div",{className:"max-w-md w-full",children:S.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 text-center",children:[S.jsx("div",{className:"relative mb-6",children:S.jsx(St.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"inline-block",children:S.jsxs("div",{className:"relative",children:[S.jsx(Tb,{className:"w-20 h-20 text-blue-600"}),S.jsx(St.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-blue-400 rounded-full blur-xl"})]})})}),S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Generating Your Career Path"}),S.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:S.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[S.jsx(St.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:""}),S.jsxs("span",{className:"text-3xl font-bold",children:[t,"s"]})]})}),S.jsx("div",{className:"mb-6",children:S.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:S.jsx(St.div,{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:15,ease:"linear"}})})}),S.jsx(St.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-slate-600 mb-6",children:i[n]},n),S.jsx("div",{className:"flex justify-center gap-4",children:[v1,Hae,om].map((a,s)=>S.jsx(St.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,delay:s*.3},children:S.jsx(a,{className:"w-6 h-6 text-indigo-400"})},s))}),S.jsx(St.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"mt-6 text-xs text-slate-400",children:" Did you know? Our AI analyzes 1000+ career paths per second!"})]})})})}const sD="http://localhost:5000",zq={simulate:`${sD}/api/simulate`,chat:`${sD}/api/chat`};function mce(){const{user:t}=y1(),[e,n]=j.useState(1),[r,i]=j.useState({education:"",field_of_interest:"",skills:"",career_goals:"",salary_range:"",location:"",risk_appetite:"moderate"}),[a,s]=j.useState(!1),o=nq(),l=()=>n(m=>Math.min(m+1,4)),c=()=>n(m=>Math.max(m-1,1)),u=m=>{i({...r,[m.target.name]:m.target.value})},f=async()=>{s(!0);try{const m=await fetch(zq.simulate,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clerk_id:t?.id,user_profile:r})}),p=await m.json();m.ok?o("/results",{state:{result:p}}):(console.error("Simulation failed:",p),alert("Simulation failed. Please try again."))}catch(m){console.error("Error connecting to server:",m),alert("Backend not reachable. Ensure Flask is running on port 5000.")}finally{s(!1)}};return a?S.jsx(pce,{}):S.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12",style:{backgroundColor:"transparent"},children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500 mb-2",children:[S.jsxs("span",{children:["Step ",e," of 4"]}),S.jsxs("span",{children:[Math.round(e/4*100),"% Completed"]})]}),S.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:S.jsx(St.div,{className:"h-full bg-blue-600",initial:{width:0},animate:{width:`${e/4*100}%`},transition:{duration:.3}})})]}),S.jsxs(li,{className:"relative overflow-hidden min-h-[400px] flex flex-col",children:[S.jsx(fl,{mode:"wait",children:S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex-1",children:[e===1&&S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Education & Background"}),S.jsx(aD,{label:"Current Education Level",name:"education",value:r.education,onChange:u,options:[{value:"high_school",label:"High School"},{value:"undergrad",label:"Undergraduate"},{value:"graduate",label:"Graduate (Masters/PhD)"},{value:"bootcamp",label:"Bootcamp / Self-Taught"}]}),S.jsx(K5,{label:"Field of Interest / Major",name:"field_of_interest",placeholder:"e.g. Computer Science, Digital Marketing...",value:r.field_of_interest,onChange:u})]}),e===2&&S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Skills & Strengths"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Technical Skills (comma separated)"}),S.jsx("textarea",{name:"skills",rows:4,className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g. React, Python, Data Analysis, Leadership...",value:r.skills,onChange:u})]})]}),e===3&&S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Goals & Preferences"}),S.jsx(K5,{label:"Career Goal (Short term)",name:"career_goals",placeholder:"e.g. Become a Senior Developer",value:r.career_goals,onChange:u}),S.jsx(aD,{label:"Target Salary Range",name:"salary_range",value:r.salary_range,onChange:u,options:[{value:"0-50k",label:"< $50,000"},{value:"50k-80k",label:"$50,000 - $80,000"},{value:"80k-120k",label:"$80,000 - $120,000"},{value:"120k+",label:"$120,000+"}]}),S.jsx(K5,{label:"Preferred Location",name:"location",placeholder:"e.g. Remote, New York, London...",value:r.location,onChange:u})]}),e===4&&S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Risk Profile"}),S.jsx("p",{className:"text-slate-600 mb-4",children:"How do you approach your career decisions?"}),S.jsx("div",{className:"grid gap-4",children:[{val:"safe",title:"Safe & Steady",desc:"Prioritize job security and stable growth."},{val:"moderate",title:"Balanced",desc:"Open to calculated risks for better rewards."},{val:"aggressive",title:"High Growth / High Risk",desc:"Startup mindset, maximizing potential upside."}].map(m=>S.jsxs("div",{onClick:()=>i({...r,risk_appetite:m.val}),className:`p-4 border rounded-xl cursor-pointer transition-all ${r.risk_appetite===m.val?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200 hover:border-blue-300"}`,children:[S.jsx("h3",{className:"font-semibold text-slate-900",children:m.title}),S.jsx("p",{className:"text-sm text-slate-500",children:m.desc})]},m.val))})]})]},e)}),S.jsxs("div",{className:"flex justify-between mt-8 pt-4 border-t border-slate-100",children:[S.jsxs(Or,{variant:"ghost",onClick:c,disabled:e===1,className:`${e===1?"invisible":"visible"}`,children:[S.jsx(Wae,{className:"w-4 h-4 mr-2"})," Back"]}),e<4?S.jsxs(Or,{onClick:l,children:["Next ",S.jsx(ZA,{className:"w-4 h-4 ml-2"})]}):S.jsx(Or,{onClick:f,disabled:a,children:a?"Simulating...":"Start Simulation"})]})]})]})}function oD(){const{user:t}=y1(),e=t?.firstName||t?.fullName||"there";return S.jsxs("div",{className:"bg-[#F9F8F6] min-h-screen pt-20 pb-12",children:[S.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center mb-10",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[S.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold shadow-sm",children:S.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:S.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),S.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"CareerPath Roadmap Builder"})]}),S.jsxs("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed",children:["Hey ",e,"! Let's build your personalized career roadmap based on AI-driven insights and real-world data."]})]}),S.jsx(mce,{})]})}const gce="modulepreload",vce=function(t){return"/"+t},lD={},ur=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=l(n.map(c=>{if(c=vce(c),c in lD)return;lD[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":gce,u||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var cD={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Hw={exports:{}},yce=Hw.exports,uD;function bce(){return uD||(uD=1,(function(t,e){(function(n,r){t.exports=r()})(yce,(function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",f="month",m="quarter",p="year",v="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var J=["th","st","nd","rd"],W=H%100;return"["+H+(J[(W-20)%10]||J[W]||J[0])+"]"}},E=function(H,J,W){var Q=String(H);return!Q||Q.length>=J?H:""+Array(J+1-Q.length).join(W)+H},O={s:E,z:function(H){var J=-H.utcOffset(),W=Math.abs(J),Q=Math.floor(W/60),ee=W%60;return(J<=0?"+":"-")+E(Q,2,"0")+":"+E(ee,2,"0")},m:function H(J,W){if(J.date()<W.date())return-H(W,J);var Q=12*(W.year()-J.year())+(W.month()-J.month()),ee=J.clone().add(Q,f),he=W-ee<0,Y=J.clone().add(Q+(he?-1:1),f);return+(-(Q+(W-ee)/(he?ee-Y:Y-ee))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:f,y:p,w:u,d:c,D:v,h:l,m:o,s,ms:a,Q:m}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},P="en",L={};L[P]=C;var B="$isDayjsObject",$=function(H){return H instanceof I||!(!H||!H[B])},U=function H(J,W,Q){var ee;if(!J)return P;if(typeof J=="string"){var he=J.toLowerCase();L[he]&&(ee=he),W&&(L[he]=W,ee=he);var Y=J.split("-");if(!ee&&Y.length>1)return H(Y[0])}else{var ye=J.name;L[ye]=J,ee=ye}return!Q&&ee&&(P=ee),ee||!Q&&P},G=function(H,J){if($(H))return H.clone();var W=typeof J=="object"?J:{};return W.date=H,W.args=arguments,new I(W)},M=O;M.l=U,M.i=$,M.w=function(H,J){return G(H,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var I=(function(){function H(W){this.$L=U(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[B]=!0}var J=H.prototype;return J.parse=function(W){this.$d=(function(Q){var ee=Q.date,he=Q.utc;if(ee===null)return new Date(NaN);if(M.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var Y=ee.match(x);if(Y){var ye=Y[2]-1||0,V=(Y[7]||"0").substring(0,3);return he?new Date(Date.UTC(Y[1],ye,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,V)):new Date(Y[1],ye,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,V)}}return new Date(ee)})(W),this.init()},J.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},J.$utils=function(){return M},J.isValid=function(){return this.$d.toString()!==b},J.isSame=function(W,Q){var ee=G(W);return this.startOf(Q)<=ee&&ee<=this.endOf(Q)},J.isAfter=function(W,Q){return G(W)<this.startOf(Q)},J.isBefore=function(W,Q){return this.endOf(Q)<G(W)},J.$g=function(W,Q,ee){return M.u(W)?this[Q]:this.set(ee,W)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(W,Q){var ee=this,he=!!M.u(Q)||Q,Y=M.p(W),ye=function(fe,Ce){var Fe=M.w(ee.$u?Date.UTC(ee.$y,Ce,fe):new Date(ee.$y,Ce,fe),ee);return he?Fe:Fe.endOf(c)},V=function(fe,Ce){return M.w(ee.toDate()[fe].apply(ee.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(Ce)),ee)},F=this.$W,ae=this.$M,le=this.$D,pe="set"+(this.$u?"UTC":"");switch(Y){case p:return he?ye(1,0):ye(31,11);case f:return he?ye(1,ae):ye(0,ae+1);case u:var xe=this.$locale().weekStart||0,Oe=(F<xe?F+7:F)-xe;return ye(he?le-Oe:le+(6-Oe),ae);case c:case v:return V(pe+"Hours",0);case l:return V(pe+"Minutes",1);case o:return V(pe+"Seconds",2);case s:return V(pe+"Milliseconds",3);default:return this.clone()}},J.endOf=function(W){return this.startOf(W,!1)},J.$set=function(W,Q){var ee,he=M.p(W),Y="set"+(this.$u?"UTC":""),ye=(ee={},ee[c]=Y+"Date",ee[v]=Y+"Date",ee[f]=Y+"Month",ee[p]=Y+"FullYear",ee[l]=Y+"Hours",ee[o]=Y+"Minutes",ee[s]=Y+"Seconds",ee[a]=Y+"Milliseconds",ee)[he],V=he===c?this.$D+(Q-this.$W):Q;if(he===f||he===p){var F=this.clone().set(v,1);F.$d[ye](V),F.init(),this.$d=F.set(v,Math.min(this.$D,F.daysInMonth())).$d}else ye&&this.$d[ye](V);return this.init(),this},J.set=function(W,Q){return this.clone().$set(W,Q)},J.get=function(W){return this[M.p(W)]()},J.add=function(W,Q){var ee,he=this;W=Number(W);var Y=M.p(Q),ye=function(ae){var le=G(he);return M.w(le.date(le.date()+Math.round(ae*W)),he)};if(Y===f)return this.set(f,this.$M+W);if(Y===p)return this.set(p,this.$y+W);if(Y===c)return ye(1);if(Y===u)return ye(7);var V=(ee={},ee[o]=r,ee[l]=i,ee[s]=n,ee)[Y]||1,F=this.$d.getTime()+W*V;return M.w(F,this)},J.subtract=function(W,Q){return this.add(-1*W,Q)},J.format=function(W){var Q=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||b;var he=W||"YYYY-MM-DDTHH:mm:ssZ",Y=M.z(this),ye=this.$H,V=this.$m,F=this.$M,ae=ee.weekdays,le=ee.months,pe=ee.meridiem,xe=function(Ce,Fe,Te,nt){return Ce&&(Ce[Fe]||Ce(Q,he))||Te[Fe].slice(0,nt)},Oe=function(Ce){return M.s(ye%12||12,Ce,"0")},fe=pe||function(Ce,Fe,Te){var nt=Ce<12?"AM":"PM";return Te?nt.toLowerCase():nt};return he.replace(w,(function(Ce,Fe){return Fe||(function(Te){switch(Te){case"YY":return String(Q.$y).slice(-2);case"YYYY":return M.s(Q.$y,4,"0");case"M":return F+1;case"MM":return M.s(F+1,2,"0");case"MMM":return xe(ee.monthsShort,F,le,3);case"MMMM":return xe(le,F);case"D":return Q.$D;case"DD":return M.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return xe(ee.weekdaysMin,Q.$W,ae,2);case"ddd":return xe(ee.weekdaysShort,Q.$W,ae,3);case"dddd":return ae[Q.$W];case"H":return String(ye);case"HH":return M.s(ye,2,"0");case"h":return Oe(1);case"hh":return Oe(2);case"a":return fe(ye,V,!0);case"A":return fe(ye,V,!1);case"m":return String(V);case"mm":return M.s(V,2,"0");case"s":return String(Q.$s);case"ss":return M.s(Q.$s,2,"0");case"SSS":return M.s(Q.$ms,3,"0");case"Z":return Y}return null})(Ce)||Y.replace(":","")}))},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(W,Q,ee){var he,Y=this,ye=M.p(Q),V=G(W),F=(V.utcOffset()-this.utcOffset())*r,ae=this-V,le=function(){return M.m(Y,V)};switch(ye){case p:he=le()/12;break;case f:he=le();break;case m:he=le()/3;break;case u:he=(ae-F)/6048e5;break;case c:he=(ae-F)/864e5;break;case l:he=ae/i;break;case o:he=ae/r;break;case s:he=ae/n;break;default:he=ae}return ee?he:M.a(he)},J.daysInMonth=function(){return this.endOf(f).$D},J.$locale=function(){return L[this.$L]},J.locale=function(W,Q){if(!W)return this.$L;var ee=this.clone(),he=U(W,Q,!0);return he&&(ee.$L=he),ee},J.clone=function(){return M.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},H})(),K=I.prototype;return G.prototype=K,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",f],["$y",p],["$D",v]].forEach((function(H){K[H[1]]=function(J){return this.$g(J,H[0],H[1])}})),G.extend=function(H,J){return H.$i||(H(J,I,G),H.$i=!0),G},G.locale=U,G.isDayjs=$,G.unix=function(H){return G(1e3*H)},G.en=L[P],G.Ls=L,G.p={},G}))})(Hw)),Hw.exports}var xce=bce();const wce=sc(xce);var $q=Object.defineProperty,D=(t,e)=>$q(t,"name",{value:e,configurable:!0}),Sce=(t,e)=>{for(var n in e)$q(t,n,{get:e[n],enumerable:!0})},Dh={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Qe={trace:D((...t)=>{},"trace"),debug:D((...t)=>{},"debug"),info:D((...t)=>{},"info"),warn:D((...t)=>{},"warn"),error:D((...t)=>{},"error"),fatal:D((...t)=>{},"fatal")},S3=D(function(t="fatal"){let e=Dh.fatal;typeof t=="string"?t.toLowerCase()in Dh&&(e=Dh[t]):typeof t=="number"&&(e=t),Qe.trace=()=>{},Qe.debug=()=>{},Qe.info=()=>{},Qe.warn=()=>{},Qe.error=()=>{},Qe.fatal=()=>{},e<=Dh.fatal&&(Qe.fatal=console.error?console.error.bind(console,zl("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",zl("FATAL"))),e<=Dh.error&&(Qe.error=console.error?console.error.bind(console,zl("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",zl("ERROR"))),e<=Dh.warn&&(Qe.warn=console.warn?console.warn.bind(console,zl("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",zl("WARN"))),e<=Dh.info&&(Qe.info=console.info?console.info.bind(console,zl("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",zl("INFO"))),e<=Dh.debug&&(Qe.debug=console.debug?console.debug.bind(console,zl("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",zl("DEBUG"))),e<=Dh.trace&&(Qe.trace=console.debug?console.debug.bind(console,zl("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",zl("TRACE")))},"setLogLevel"),zl=D(t=>`%c${wce().format("ss.SSS")} : ${t} : `,"format");const Ww={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,a=2*n-i;switch(r){case"r":return Ww.hue2rgb(a,i,t+1/3)*255;case"g":return Ww.hue2rgb(a,i,t)*255;case"b":return Ww.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),a=Math.min(t,e,n),s=(i+a)/2;if(r==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(r==="s")return l*100;switch(i){case t:return((e-n)/o+(e<n?6:0))*60;case e:return((n-t)/o+2)*60;case n:return((t-e)/o+4)*60;default:return-1}}},_ce={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},kce={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Sn={channel:Ww,lang:_ce,unit:kce},vf={};for(let t=0;t<=255;t++)vf[t]=Sn.unit.dec2hex(t);const Os={ALL:0,RGB:1,HSL:2};class Cce{constructor(){this.type=Os.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Os.ALL}is(e){return this.type===e}}class Tce{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new Cce}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Os.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Sn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Sn.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Sn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Sn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Sn.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Sn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Os.HSL)&&n!==void 0?n:(this._ensureHSL(),Sn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Os.HSL)&&n!==void 0?n:(this._ensureHSL(),Sn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Os.HSL)&&n!==void 0?n:(this._ensureHSL(),Sn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Os.RGB)&&n!==void 0?n:(this._ensureRGB(),Sn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Os.RGB)&&n!==void 0?n:(this._ensureRGB(),Sn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Os.RGB)&&n!==void 0?n:(this._ensureRGB(),Sn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Os.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Os.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Os.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Os.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Os.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Os.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const D_=new Tce({r:0,g:0,b:0,a:0},"transparent"),m0={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(m0.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,c=a?0:-1,u=s?255:15;return D_.set({r:(r>>l*(c+3)&u)*o,g:(r>>l*(c+2)&u)*o,b:(r>>l*(c+1)&u)*o,a:a?(r&u)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${vf[Math.round(e)]}${vf[Math.round(n)]}${vf[Math.round(r)]}${vf[Math.round(i*255)]}`:`#${vf[Math.round(e)]}${vf[Math.round(n)]}${vf[Math.round(r)]}`}},Vp={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Vp.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Sn.channel.clamp.h(parseFloat(n)*.9);case"rad":return Sn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Sn.channel.clamp.h(parseFloat(n)*360)}}return Sn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Vp.re);if(!n)return;const[,r,i,a,s,o]=n;return D_.set({h:Vp._hue2deg(r),s:Sn.channel.clamp.s(parseFloat(i)),l:Sn.channel.clamp.l(parseFloat(a)),a:s?Sn.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Sn.lang.round(e)}, ${Sn.lang.round(n)}%, ${Sn.lang.round(r)}%, ${i})`:`hsl(${Sn.lang.round(e)}, ${Sn.lang.round(n)}%, ${Sn.lang.round(r)}%)`}},ib={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=ib.colors[t];if(e)return m0.parse(e)},stringify:t=>{const e=m0.stringify(t);for(const n in ib.colors)if(ib.colors[n]===e)return n}},$y={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match($y.re);if(!n)return;const[,r,i,a,s,o,l,c,u]=n;return D_.set({r:Sn.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Sn.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Sn.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?Sn.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Sn.lang.round(e)}, ${Sn.lang.round(n)}, ${Sn.lang.round(r)}, ${Sn.lang.round(i)})`:`rgb(${Sn.lang.round(e)}, ${Sn.lang.round(n)}, ${Sn.lang.round(r)})`}},Yu={format:{keyword:ib,hex:m0,rgb:$y,rgba:$y,hsl:Vp,hsla:Vp},parse:t=>{if(typeof t!="string")return t;const e=m0.parse(t)||$y.parse(t)||Vp.parse(t)||ib.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Os.HSL)||t.data.r===void 0?Vp.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?$y.stringify(t):m0.stringify(t)},qq=(t,e)=>{const n=Yu.parse(t);for(const r in e)n[r]=Sn.channel.clamp[r](e[r]);return Yu.stringify(n)},ab=(t,e,n=0,r=1)=>{if(typeof t!="number")return qq(t,{a:e});const i=D_.set({r:Sn.channel.clamp.r(t),g:Sn.channel.clamp.g(e),b:Sn.channel.clamp.b(n),a:Sn.channel.clamp.a(r)});return Yu.stringify(i)},Ece=t=>{const{r:e,g:n,b:r}=Yu.parse(t),i=.2126*Sn.channel.toLinear(e)+.7152*Sn.channel.toLinear(n)+.0722*Sn.channel.toLinear(r);return Sn.lang.round(i)},Ace=t=>Ece(t)>=.5,w1=t=>!Ace(t),Hq=(t,e,n)=>{const r=Yu.parse(t),i=r[e],a=Sn.channel.clamp[e](i+n);return i!==a&&(r[e]=a),Yu.stringify(r)},Ft=(t,e)=>Hq(t,"l",e),sn=(t,e)=>Hq(t,"l",-e),Ne=(t,e)=>{const n=Yu.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return qq(t,r)},Oce=(t,e,n=50)=>{const{r,g:i,b:a,a:s}=Yu.parse(t),{r:o,g:l,b:c,a:u}=Yu.parse(e),f=n/100,m=f*2-1,p=s-u,b=((m*p===-1?m:(m+p)/(1+m*p))+1)/2,x=1-b,w=r*b+o*x,C=i*b+l*x,E=a*b+c*x,O=s*f+u*(1-f);return ab(w,C,E,O)},bt=(t,e=100)=>{const n=Yu.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Oce(n,t,e)};const{entries:Wq,setPrototypeOf:hD,isFrozen:Pce,getPrototypeOf:Nce,getOwnPropertyDescriptor:Lce}=Object;let{freeze:co,seal:Zl,create:dO}=Object,{apply:fO,construct:pO}=typeof Reflect<"u"&&Reflect;co||(co=function(e){return e});Zl||(Zl=function(e){return e});fO||(fO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return e.apply(n,i)});pO||(pO=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const Xx=uo(Array.prototype.forEach),Mce=uo(Array.prototype.lastIndexOf),dD=uo(Array.prototype.pop),cy=uo(Array.prototype.push),Rce=uo(Array.prototype.splice),Vw=uo(String.prototype.toLowerCase),Y5=uo(String.prototype.toString),X5=uo(String.prototype.match),uy=uo(String.prototype.replace),Ice=uo(String.prototype.indexOf),jce=uo(String.prototype.trim),Dc=uo(Object.prototype.hasOwnProperty),Qs=uo(RegExp.prototype.test),hy=Dce(TypeError);function uo(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return fO(t,e,r)}}function Dce(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pO(t,n)}}function Bn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vw;hD&&hD(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const a=n(i);a!==i&&(Pce(e)||(e[r]=a),i=a)}t[i]=!0}return t}function Bce(t){for(let e=0;e<t.length;e++)Dc(t,e)||(t[e]=null);return t}function Iu(t){const e=dO(null);for(const[n,r]of Wq(t))Dc(t,n)&&(Array.isArray(r)?e[n]=Bce(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Iu(r):e[n]=r);return e}function dy(t,e){for(;t!==null;){const r=Lce(t,e);if(r){if(r.get)return uo(r.get);if(typeof r.value=="function")return uo(r.value)}t=Nce(t)}function n(){return null}return n}const fD=co(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J5=co(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Z5=co(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fce=co(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q5=co(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Uce=co(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pD=co(["#text"]),mD=co(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),eT=co(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gD=co(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jx=co(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zce=Zl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$ce=Zl(/<%[\w\W]*|[\w\W]*%>/gm),qce=Zl(/\$\{[\w\W]*/gm),Hce=Zl(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wce=Zl(/^aria-[\-\w]+$/),Vq=Zl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vce=Zl(/^(?:\w+script|data):/i),Gce=Zl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gq=Zl(/^html$/i),Kce=Zl(/^[a-z][.\w]*(-[.\w]+)+$/i);var vD=Object.freeze({__proto__:null,ARIA_ATTR:Wce,ATTR_WHITESPACE:Gce,CUSTOM_ELEMENT:Kce,DATA_ATTR:Hce,DOCTYPE_NAME:Gq,ERB_EXPR:$ce,IS_ALLOWED_URI:Vq,IS_SCRIPT_OR_DATA:Vce,MUSTACHE_EXPR:zce,TMPLIT_EXPR:qce});const fy={element:1,text:3,progressingInstruction:7,comment:8,document:9},Yce=function(){return typeof window>"u"?null:window},Xce=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},yD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Kq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yce();const e=Et=>Kq(Et);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==fy.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:m,trustedTypes:p}=t,v=l.prototype,b=dy(v,"cloneNode"),x=dy(v,"remove"),w=dy(v,"nextSibling"),C=dy(v,"childNodes"),E=dy(v,"parentNode");if(typeof s=="function"){const Et=n.createElement("template");Et.content&&Et.content.ownerDocument&&(n=Et.content.ownerDocument)}let O,P="";const{implementation:L,createNodeIterator:B,createDocumentFragment:$,getElementsByTagName:U}=n,{importNode:G}=r;let M=yD();e.isSupported=typeof Wq=="function"&&typeof E=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:K,TMPLIT_EXPR:H,DATA_ATTR:J,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:Q,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:he}=vD;let{IS_ALLOWED_URI:Y}=vD,ye=null;const V=Bn({},[...fD,...J5,...Z5,...Q5,...pD]);let F=null;const ae=Bn({},[...mD,...eT,...gD,...Jx]);let le=Object.seal(dO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,xe=null;const Oe=Object.seal(dO(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let fe=!0,Ce=!0,Fe=!1,Te=!0,nt=!1,rt=!0,se=!1,lt=!1,Xt=!1,Tt=!1,Xe=!1,Lt=!1,xt=!0,Gt=!1;const Ht="user-content-";let st=!0,mt=!1,_e={},De=null;const et=Bn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let tt=null;const pt=Bn({},["audio","video","img","source","image","track"]);let ht=null;const Pn=Bn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",At="http://www.w3.org/2000/svg",It="http://www.w3.org/1999/xhtml";let Jt=It,Ot=!1,Nn=null;const ln=Bn({},[Wt,At,It],Y5);let cn=Bn({},["mi","mo","mn","ms","mtext"]),er=Bn({},["annotation-xml"]);const kn=Bn({},["title","style","font","a","script"]);let jt=null;const Un=["application/xhtml+xml","text/html"],zs="text/html";let jn=null,ma=null;const ws=n.createElement("form"),Zt=function(be){return be instanceof RegExp||be instanceof Function},$s=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ma&&ma===be)){if((!be||typeof be!="object")&&(be={}),be=Iu(be),jt=Un.indexOf(be.PARSER_MEDIA_TYPE)===-1?zs:be.PARSER_MEDIA_TYPE,jn=jt==="application/xhtml+xml"?Y5:Vw,ye=Dc(be,"ALLOWED_TAGS")?Bn({},be.ALLOWED_TAGS,jn):V,F=Dc(be,"ALLOWED_ATTR")?Bn({},be.ALLOWED_ATTR,jn):ae,Nn=Dc(be,"ALLOWED_NAMESPACES")?Bn({},be.ALLOWED_NAMESPACES,Y5):ln,ht=Dc(be,"ADD_URI_SAFE_ATTR")?Bn(Iu(Pn),be.ADD_URI_SAFE_ATTR,jn):Pn,tt=Dc(be,"ADD_DATA_URI_TAGS")?Bn(Iu(pt),be.ADD_DATA_URI_TAGS,jn):pt,De=Dc(be,"FORBID_CONTENTS")?Bn({},be.FORBID_CONTENTS,jn):et,pe=Dc(be,"FORBID_TAGS")?Bn({},be.FORBID_TAGS,jn):Iu({}),xe=Dc(be,"FORBID_ATTR")?Bn({},be.FORBID_ATTR,jn):Iu({}),_e=Dc(be,"USE_PROFILES")?be.USE_PROFILES:!1,fe=be.ALLOW_ARIA_ATTR!==!1,Ce=be.ALLOW_DATA_ATTR!==!1,Fe=be.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nt=be.SAFE_FOR_TEMPLATES||!1,rt=be.SAFE_FOR_XML!==!1,se=be.WHOLE_DOCUMENT||!1,Tt=be.RETURN_DOM||!1,Xe=be.RETURN_DOM_FRAGMENT||!1,Lt=be.RETURN_TRUSTED_TYPE||!1,Xt=be.FORCE_BODY||!1,xt=be.SANITIZE_DOM!==!1,Gt=be.SANITIZE_NAMED_PROPS||!1,st=be.KEEP_CONTENT!==!1,mt=be.IN_PLACE||!1,Y=be.ALLOWED_URI_REGEXP||Vq,Jt=be.NAMESPACE||It,cn=be.MATHML_TEXT_INTEGRATION_POINTS||cn,er=be.HTML_INTEGRATION_POINTS||er,le=be.CUSTOM_ELEMENT_HANDLING||{},be.CUSTOM_ELEMENT_HANDLING&&Zt(be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),be.CUSTOM_ELEMENT_HANDLING&&Zt(be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),be.CUSTOM_ELEMENT_HANDLING&&typeof be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nt&&(Ce=!1),Xe&&(Tt=!0),_e&&(ye=Bn({},pD),F=[],_e.html===!0&&(Bn(ye,fD),Bn(F,mD)),_e.svg===!0&&(Bn(ye,J5),Bn(F,eT),Bn(F,Jx)),_e.svgFilters===!0&&(Bn(ye,Z5),Bn(F,eT),Bn(F,Jx)),_e.mathMl===!0&&(Bn(ye,Q5),Bn(F,gD),Bn(F,Jx))),be.ADD_TAGS&&(typeof be.ADD_TAGS=="function"?Oe.tagCheck=be.ADD_TAGS:(ye===V&&(ye=Iu(ye)),Bn(ye,be.ADD_TAGS,jn))),be.ADD_ATTR&&(typeof be.ADD_ATTR=="function"?Oe.attributeCheck=be.ADD_ATTR:(F===ae&&(F=Iu(F)),Bn(F,be.ADD_ATTR,jn))),be.ADD_URI_SAFE_ATTR&&Bn(ht,be.ADD_URI_SAFE_ATTR,jn),be.FORBID_CONTENTS&&(De===et&&(De=Iu(De)),Bn(De,be.FORBID_CONTENTS,jn)),be.ADD_FORBID_CONTENTS&&(De===et&&(De=Iu(De)),Bn(De,be.ADD_FORBID_CONTENTS,jn)),st&&(ye["#text"]=!0),se&&Bn(ye,["html","head","body"]),ye.table&&(Bn(ye,["tbody"]),delete pe.tbody),be.TRUSTED_TYPES_POLICY){if(typeof be.TRUSTED_TYPES_POLICY.createHTML!="function")throw hy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw hy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=be.TRUSTED_TYPES_POLICY,P=O.createHTML("")}else O===void 0&&(O=Xce(p,i)),O!==null&&typeof P=="string"&&(P=O.createHTML(""));co&&co(be),ma=be}},qs=Bn({},[...J5,...Z5,...Fce]),Ba=Bn({},[...Q5,...Uce]),es=function(be){let ot=E(be);(!ot||!ot.tagName)&&(ot={namespaceURI:Jt,tagName:"template"});const wt=Vw(be.tagName),tr=Vw(ot.tagName);return Nn[be.namespaceURI]?be.namespaceURI===At?ot.namespaceURI===It?wt==="svg":ot.namespaceURI===Wt?wt==="svg"&&(tr==="annotation-xml"||cn[tr]):!!qs[wt]:be.namespaceURI===Wt?ot.namespaceURI===It?wt==="math":ot.namespaceURI===At?wt==="math"&&er[tr]:!!Ba[wt]:be.namespaceURI===It?ot.namespaceURI===At&&!er[tr]||ot.namespaceURI===Wt&&!cn[tr]?!1:!Ba[wt]&&(kn[wt]||!qs[wt]):!!(jt==="application/xhtml+xml"&&Nn[be.namespaceURI]):!1},zn=function(be){cy(e.removed,{element:be});try{E(be).removeChild(be)}catch{x(be)}},wr=function(be,ot){try{cy(e.removed,{attribute:ot.getAttributeNode(be),from:ot})}catch{cy(e.removed,{attribute:null,from:ot})}if(ot.removeAttribute(be),be==="is")if(Tt||Xe)try{zn(ot)}catch{}else try{ot.setAttribute(be,"")}catch{}},xi=function(be){let ot=null,wt=null;if(Xt)be="<remove></remove>"+be;else{const Cn=X5(be,/^[\r\n\t ]+/);wt=Cn&&Cn[0]}jt==="application/xhtml+xml"&&Jt===It&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");const tr=O?O.createHTML(be):be;if(Jt===It)try{ot=new m().parseFromString(tr,jt)}catch{}if(!ot||!ot.documentElement){ot=L.createDocument(Jt,"template",null);try{ot.documentElement.innerHTML=Ot?P:tr}catch{}}const kr=ot.body||ot.documentElement;return be&&wt&&kr.insertBefore(n.createTextNode(wt),kr.childNodes[0]||null),Jt===It?U.call(ot,se?"html":"body")[0]:se?ot.documentElement:kr},Vo=function(be){return B.call(be.ownerDocument||be,be,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},$i=function(be){return be instanceof f&&(typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof u)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"||typeof be.hasChildNodes!="function")},hr=function(be){return typeof o=="function"&&be instanceof o};function Xn(Et,be,ot){Xx(Et,wt=>{wt.call(e,be,ot,ma)})}const qi=function(be){let ot=null;if(Xn(M.beforeSanitizeElements,be,null),$i(be))return zn(be),!0;const wt=jn(be.nodeName);if(Xn(M.uponSanitizeElement,be,{tagName:wt,allowedTags:ye}),rt&&be.hasChildNodes()&&!hr(be.firstElementChild)&&Qs(/<[/\w!]/g,be.innerHTML)&&Qs(/<[/\w!]/g,be.textContent)||be.nodeType===fy.progressingInstruction||rt&&be.nodeType===fy.comment&&Qs(/<[/\w]/g,be.data))return zn(be),!0;if(!(Oe.tagCheck instanceof Function&&Oe.tagCheck(wt))&&(!ye[wt]||pe[wt])){if(!pe[wt]&&ts(wt)&&(le.tagNameCheck instanceof RegExp&&Qs(le.tagNameCheck,wt)||le.tagNameCheck instanceof Function&&le.tagNameCheck(wt)))return!1;if(st&&!De[wt]){const tr=E(be)||be.parentNode,kr=C(be)||be.childNodes;if(kr&&tr){const Cn=kr.length;for(let Ei=Cn-1;Ei>=0;--Ei){const Zr=b(kr[Ei],!0);Zr.__removalCount=(be.__removalCount||0)+1,tr.insertBefore(Zr,w(be))}}}return zn(be),!0}return be instanceof l&&!es(be)||(wt==="noscript"||wt==="noembed"||wt==="noframes")&&Qs(/<\/no(script|embed|frames)/i,be.innerHTML)?(zn(be),!0):(nt&&be.nodeType===fy.text&&(ot=be.textContent,Xx([I,K,H],tr=>{ot=uy(ot,tr," ")}),be.textContent!==ot&&(cy(e.removed,{element:be.cloneNode()}),be.textContent=ot)),Xn(M.afterSanitizeElements,be,null),!1)},Fa=function(be,ot,wt){if(xt&&(ot==="id"||ot==="name")&&(wt in n||wt in ws))return!1;if(!(Ce&&!xe[ot]&&Qs(J,ot))){if(!(fe&&Qs(W,ot))){if(!(Oe.attributeCheck instanceof Function&&Oe.attributeCheck(ot,be))){if(!F[ot]||xe[ot]){if(!(ts(be)&&(le.tagNameCheck instanceof RegExp&&Qs(le.tagNameCheck,be)||le.tagNameCheck instanceof Function&&le.tagNameCheck(be))&&(le.attributeNameCheck instanceof RegExp&&Qs(le.attributeNameCheck,ot)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(ot,be))||ot==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&Qs(le.tagNameCheck,wt)||le.tagNameCheck instanceof Function&&le.tagNameCheck(wt))))return!1}else if(!ht[ot]){if(!Qs(Y,uy(wt,ee,""))){if(!((ot==="src"||ot==="xlink:href"||ot==="href")&&be!=="script"&&Ice(wt,"data:")===0&&tt[be])){if(!(Fe&&!Qs(Q,uy(wt,ee,"")))){if(wt)return!1}}}}}}}return!0},ts=function(be){return be!=="annotation-xml"&&X5(be,he)},kl=function(be){Xn(M.beforeSanitizeAttributes,be,null);const{attributes:ot}=be;if(!ot||$i(be))return;const wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let tr=ot.length;for(;tr--;){const kr=ot[tr],{name:Cn,namespaceURI:Ei,value:Zr}=kr,ta=jn(Cn),Ws=Zr;let Qr=Cn==="value"?Ws:jce(Ws);if(wt.attrName=ta,wt.attrValue=Qr,wt.keepAttr=!0,wt.forceKeepAttr=void 0,Xn(M.uponSanitizeAttribute,be,wt),Qr=wt.attrValue,Gt&&(ta==="id"||ta==="name")&&(wr(Cn,be),Qr=Ht+Qr),rt&&Qs(/((--!?|])>)|<\/(style|title|textarea)/i,Qr)){wr(Cn,be);continue}if(ta==="attributename"&&X5(Qr,"href")){wr(Cn,be);continue}if(wt.forceKeepAttr)continue;if(!wt.keepAttr){wr(Cn,be);continue}if(!Te&&Qs(/\/>/i,Qr)){wr(Cn,be);continue}nt&&Xx([I,K,H],du=>{Qr=uy(Qr,du," ")});const hu=jn(be.nodeName);if(!Fa(hu,ta,Qr)){wr(Cn,be);continue}if(O&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Ei)switch(p.getAttributeType(hu,ta)){case"TrustedHTML":{Qr=O.createHTML(Qr);break}case"TrustedScriptURL":{Qr=O.createScriptURL(Qr);break}}if(Qr!==Ws)try{Ei?be.setAttributeNS(Ei,Cn,Qr):be.setAttribute(Cn,Qr),$i(be)?zn(be):dD(e.removed)}catch{wr(Cn,be)}}Xn(M.afterSanitizeAttributes,be,null)},Hs=function Et(be){let ot=null;const wt=Vo(be);for(Xn(M.beforeSanitizeShadowDOM,be,null);ot=wt.nextNode();)Xn(M.uponSanitizeShadowNode,ot,null),qi(ot),kl(ot),ot.content instanceof a&&Et(ot.content);Xn(M.afterSanitizeShadowDOM,be,null)};return e.sanitize=function(Et){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=null,wt=null,tr=null,kr=null;if(Ot=!Et,Ot&&(Et="<!-->"),typeof Et!="string"&&!hr(Et))if(typeof Et.toString=="function"){if(Et=Et.toString(),typeof Et!="string")throw hy("dirty is not a string, aborting")}else throw hy("toString is not a function");if(!e.isSupported)return Et;if(lt||$s(be),e.removed=[],typeof Et=="string"&&(mt=!1),mt){if(Et.nodeName){const Zr=jn(Et.nodeName);if(!ye[Zr]||pe[Zr])throw hy("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof o)ot=xi("<!---->"),wt=ot.ownerDocument.importNode(Et,!0),wt.nodeType===fy.element&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?ot=wt:ot.appendChild(wt);else{if(!Tt&&!nt&&!se&&Et.indexOf("<")===-1)return O&&Lt?O.createHTML(Et):Et;if(ot=xi(Et),!ot)return Tt?null:Lt?P:""}ot&&Xt&&zn(ot.firstChild);const Cn=Vo(mt?Et:ot);for(;tr=Cn.nextNode();)qi(tr),kl(tr),tr.content instanceof a&&Hs(tr.content);if(mt)return Et;if(Tt){if(Xe)for(kr=$.call(ot.ownerDocument);ot.firstChild;)kr.appendChild(ot.firstChild);else kr=ot;return(F.shadowroot||F.shadowrootmode)&&(kr=G.call(r,kr,!0)),kr}let Ei=se?ot.outerHTML:ot.innerHTML;return se&&ye["!doctype"]&&ot.ownerDocument&&ot.ownerDocument.doctype&&ot.ownerDocument.doctype.name&&Qs(Gq,ot.ownerDocument.doctype.name)&&(Ei="<!DOCTYPE "+ot.ownerDocument.doctype.name+`>
`+Ei),nt&&Xx([I,K,H],Zr=>{Ei=uy(Ei,Zr," ")}),O&&Lt?O.createHTML(Ei):Ei},e.setConfig=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$s(Et),lt=!0},e.clearConfig=function(){ma=null,lt=!1},e.isValidAttribute=function(Et,be,ot){ma||$s({});const wt=jn(Et),tr=jn(be);return Fa(wt,tr,ot)},e.addHook=function(Et,be){typeof be=="function"&&cy(M[Et],be)},e.removeHook=function(Et,be){if(be!==void 0){const ot=Mce(M[Et],be);return ot===-1?void 0:Rce(M[Et],ot,1)[0]}return dD(M[Et])},e.removeHooks=function(Et){M[Et]=[]},e.removeAllHooks=function(){M=yD()},e}var cm=Kq();const Jce=Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"}));var Yq=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,sb=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Zce=/\s*%%.*\n/gm,I0,Xq=(I0=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},D(I0,"UnknownDiagramError"),I0),um={},_3=D(function(t,e){t=t.replace(Yq,"").replace(sb,"").replace(Zce,`
`);for(const[n,{detector:r}]of Object.entries(um))if(r(t,e))return n;throw new Xq(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),mO=D((...t)=>{for(const{id:e,detector:n,loader:r}of t)Jq(e,n,r)},"registerLazyLoadedDiagrams"),Jq=D((t,e,n)=>{um[t]&&Qe.warn(`Detector with key ${t} already exists. Overwriting.`),um[t]={detector:e,loader:n},Qe.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),Qce=D(t=>um[t].loader,"getDiagramLoader"),gO=D((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>gO(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=gO(t[a],e[a],{depth:n-1,clobber:r})):(r||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),Oa=gO,B_="#ffffff",F_="#f2f2f2",io=D((t,e)=>e?Ne(t,{s:-40,l:10}):Ne(t,{s:-40,l:-10}),"mkBorder"),j0,eue=(j0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ne(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ne(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||io(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||io(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||io(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||io(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||bt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||bt(this.tertiaryColor),this.lineColor=this.lineColor||bt(this.background),this.arrowheadColor=this.arrowheadColor||bt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?sn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||sn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||bt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ft(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||sn(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||sn(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=sn(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=sn(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||bt(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||Ft(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||sn(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||Ne(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||Ne(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ne(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ne(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ne(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ne(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ne(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||w1(this.quadrant1Fill)?Ft(this.quadrant1Fill):sn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?sn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=sn(this.git0,25),this.git1=sn(this.git1,25),this.git2=sn(this.git2,25),this.git3=sn(this.git3,25),this.git4=sn(this.git4,25),this.git5=sn(this.git5,25),this.git6=sn(this.git6,25),this.git7=sn(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||F_}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(j0,"Theme"),j0),tue=D(t=>{const e=new eue;return e.calculate(t),e},"getThemeVariables"),D0,nue=(D0=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ft(this.primaryColor,16),this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.background),this.secondaryBorderColor=io(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=io(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ft(bt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=ab(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=sn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=sn(this.sectionBkgColor,10),this.taskBorderColor=ab(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ab(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||sn(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ft(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ft(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ft(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ne(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ne(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||w1(this.quadrant1Fill)?Ft(this.quadrant1Fill):sn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?sn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.secondaryColor,20),this.git1=Ft(this.pie2||this.secondaryColor,20),this.git2=Ft(this.pie3||this.tertiaryColor,20),this.git3=Ft(this.pie4||Ne(this.primaryColor,{h:-30}),20),this.git4=Ft(this.pie5||Ne(this.primaryColor,{h:-60}),20),this.git5=Ft(this.pie6||Ne(this.primaryColor,{h:-90}),10),this.git6=Ft(this.pie7||Ne(this.primaryColor,{h:60}),10),this.git7=Ft(this.pie8||Ne(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ft(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ft(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(D0,"Theme"),D0),rue=D(t=>{const e=new nue;return e.calculate(t),e},"getThemeVariables"),B0,iue=(B0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ne(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=io(this.primaryColor,this.darkMode),this.secondaryBorderColor=io(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=io(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=ab(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||sn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||sn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=sn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||sn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ne(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ne(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ne(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||bt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||bt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ne(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||w1(this.quadrant1Fill)?Ft(this.quadrant1Fill):sn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=sn(this.git0,25),this.git1=sn(this.git1,25),this.git2=sn(this.git2,25),this.git3=sn(this.git3,25),this.git4=sn(this.git4,25),this.git5=sn(this.git5,25),this.git6=sn(this.git6,25),this.git7=sn(this.git7,25)),this.gitInv0=this.gitInv0||sn(bt(this.git0),25),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||F_}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(B0,"Theme"),B0),aue=D(t=>{const e=new iue;return e.calculate(t),e},"getThemeVariables"),F0,sue=(F0=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ft("#cde498",10),this.primaryBorderColor=io(this.primaryColor,this.darkMode),this.secondaryBorderColor=io(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=io(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.primaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=sn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||sn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||sn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=sn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||sn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ne(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ne(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ne(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||w1(this.quadrant1Fill)?Ft(this.quadrant1Fill):sn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=sn(this.git0,25),this.git1=sn(this.git1,25),this.git2=sn(this.git2,25),this.git3=sn(this.git3,25),this.git4=sn(this.git4,25),this.git5=sn(this.git5,25),this.git6=sn(this.git6,25),this.git7=sn(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||F_}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(F0,"Theme"),F0),oue=D(t=>{const e=new sue;return e.calculate(t),e},"getThemeVariables"),U0,lue=(U0=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ft(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=io(this.primaryColor,this.darkMode),this.secondaryBorderColor=io(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=io(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ft(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||sn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ne(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ne(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ft(this.contrast,30),this.sectionBkgColor2=Ft(this.contrast,30),this.taskBorderColor=sn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ft(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=sn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||w1(this.quadrant1Fill)?Ft(this.quadrant1Fill):sn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=sn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ne(this.primaryColor,{h:-30}),this.git4=this.pie5||Ne(this.primaryColor,{h:-60}),this.git5=this.pie6||Ne(this.primaryColor,{h:-90}),this.git6=this.pie7||Ne(this.primaryColor,{h:60}),this.git7=this.pie8||Ne(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||F_}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(U0,"Theme"),U0),cue=D(t=>{const e=new lue;return e.calculate(t),e},"getThemeVariables"),ad={base:{getThemeVariables:tue},dark:{getThemeVariables:rue},default:{getThemeVariables:aue},forest:{getThemeVariables:oue},neutral:{getThemeVariables:cue}},Nu={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Zq={...Nu,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:ad.default.getThemeVariables(),sequence:{...Nu.sequence,messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:D(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:D(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Nu.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Nu.c4,useWidth:void 0,personFont:D(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Nu.flowchart,inheritDir:!1},external_personFont:D(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:D(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:D(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:D(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:D(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:D(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:D(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:D(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:D(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:D(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:D(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:D(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:D(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:D(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:D(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:D(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:D(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:D(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:D(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:D(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Nu.pie,useWidth:984},xyChart:{...Nu.xyChart,useWidth:void 0},requirement:{...Nu.requirement,useWidth:void 0},packet:{...Nu.packet},radar:{...Nu.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Qq=D((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...Qq(t[r],"")]:[...n,e+r],[]),"keyify"),uue=new Set(Qq(Zq,"")),eH=Zq,M2=D(t=>{if(Qe.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>M2(e));return}for(const e of Object.keys(t)){if(Qe.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!uue.has(e)||t[e]==null){Qe.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){Qe.debug("sanitizing object",e),M2(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(Qe.debug("sanitizing css option",e),t[e]=hue(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}Qe.debug("After sanitization",t)}},"sanitizeDirective"),hue=D(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),q0=Object.freeze(eH),Io=Oa({},q0),R2,hm=[],ob=Oa({},q0),U_=D((t,e)=>{let n=Oa({},t),r={};for(const i of e)rH(i),r=Oa(r,i);if(n=Oa(n,r),r.theme&&r.theme in ad){const i=Oa({},R2),a=Oa(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in ad&&(n.themeVariables=ad[n.theme].getThemeVariables(a))}return ob=n,iH(ob),ob},"updateCurrentConfig"),due=D(t=>(Io=Oa({},q0),Io=Oa(Io,t),t.theme&&ad[t.theme]&&(Io.themeVariables=ad[t.theme].getThemeVariables(t.themeVariables)),U_(Io,hm),Io),"setSiteConfig"),fue=D(t=>{R2=Oa({},t)},"saveConfigFromInitialize"),pue=D(t=>(Io=Oa(Io,t),U_(Io,hm),Io),"updateSiteConfig"),tH=D(()=>Oa({},Io),"getSiteConfig"),nH=D(t=>(iH(t),Oa(ob,t),Rs()),"setConfig"),Rs=D(()=>Oa({},ob),"getConfig"),rH=D(t=>{t&&(["secure",...Io.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(Qe.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&rH(t[e])}))},"sanitize"),mue=D(t=>{M2(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),hm.push(t),U_(Io,hm)},"addDirective"),I2=D((t=Io)=>{hm=[],U_(t,hm)},"reset"),gue={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},bD={},vue=D(t=>{bD[t]||(Qe.warn(gue[t]),bD[t]=!0)},"issueWarning"),iH=D(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&vue("LAZY_LOAD_DEPRECATED")},"checkConfig"),cVe=D(()=>{let t={};R2&&(t=Oa(t,R2));for(const e of hm)t=Oa(t,e);return t},"getUserDefinedConfig"),S1=/<br\s*\/?>/gi,yue=D(t=>t?oH(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),bue=(()=>{let t=!1;return()=>{t||(aH(),t=!0)}})();function aH(){const t="data-temp-href-target";cm.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),cm.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}D(aH,"setupDompurifyHooks");var sH=D(t=>(bue(),cm.sanitize(t)),"removeScript"),xD=D((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=sH(t):n!=="loose"&&(t=oH(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=_ue(t))}return t},"sanitizeMore"),Ql=D((t,e)=>t&&(e.dompurifyConfig?t=cm.sanitize(xD(t,e),e.dompurifyConfig).toString():t=cm.sanitize(xD(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),xue=D((t,e)=>typeof t=="string"?Ql(t,e):t.flat().map(n=>Ql(n,e)),"sanitizeTextOrArray"),wue=D(t=>S1.test(t),"hasBreaks"),Sue=D(t=>t.split(S1),"splitBreaks"),_ue=D(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),oH=D(t=>t.replace(S1,"#br#"),"breakToPlaceholder"),kue=D(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Ma=D(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Cue=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),Tue=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),wD=D(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const a=e[r-1],s=e[r+1];Eue(a,s)&&(i=a+","+s,r++,n.pop())}n.push(Aue(i))}return n.join("")},"parseGenericTypes"),vO=D((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Eue=D((t,e)=>{const n=vO(t,"~"),r=vO(e,"~");return n===1&&r===1},"shouldCombineSets"),Aue=D(t=>{const e=vO(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),a=r.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)r[i]="<",r[a]=">",i=r.indexOf("~"),a=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),SD=D(()=>window.MathMLElement!==void 0,"isMathMLSupported"),yO=/\$\$(.*)\$\$/g,H0=D(t=>(t.match(yO)?.length??0)>0,"hasKatex"),uVe=D(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await k3(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),Oue=D(async(t,e)=>{if(!H0(t))return t;if(!(SD()||e.legacyMathML||e.forceLegacyMathML))return t.replace(yO,"MathML is unsupported in this environment.");{const{default:n}=await ur(async()=>{const{default:i}=await import("./katex-XbL3y5x-.js");return{default:i}},[]),r=e.forceLegacyMathML||!SD()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(S1).map(i=>H0(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(yO,(i,a)=>n.renderToString(a,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),k3=D(async(t,e)=>Ql(await Oue(t,e),e),"renderKatexSanitized"),cv={getRows:yue,sanitizeText:Ql,sanitizeTextOrArray:xue,hasBreaks:wue,splitBreaks:Sue,lineBreakRegex:S1,removeScript:sH,getUrl:kue,evaluate:Ma,getMax:Cue,getMin:Tue},Pue=D(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),Nue=D(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),lH=D(function(t,e,n,r){const i=Nue(e,n,r);Pue(t,i)},"configureSvgSize"),Lue=D(function(t,e,n,r){const i=e.node().getBBox(),a=i.width,s=i.height;Qe.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;Qe.info(`Graph bounds: ${o}x${l}`,t),o=a+n*2,l=s+n*2,Qe.info(`Calculated bounds: ${o}x${l}`),lH(e,l,o,r);const c=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",c)},"setupGraphViewbox"),Gw={},Mue=D((t,e,n)=>{let r="";return t in Gw&&Gw[t]?r=Gw[t](n):Qe.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),Rue=D((t,e)=>{e!==void 0&&(Gw[t]=e)},"addStylesForDiagram"),Iue=Mue,cH={};Sce(cH,{clear:()=>jue,getAccDescription:()=>Uue,getAccTitle:()=>Bue,getDiagramTitle:()=>$ue,setAccDescription:()=>Fue,setAccTitle:()=>Due,setDiagramTitle:()=>zue});var C3="",T3="",E3="",A3=D(t=>Ql(t,Rs()),"sanitizeText"),jue=D(()=>{C3="",E3="",T3=""},"clear"),Due=D(t=>{C3=A3(t).replace(/^\s+/g,"")},"setAccTitle"),Bue=D(()=>C3,"getAccTitle"),Fue=D(t=>{E3=A3(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Uue=D(()=>E3,"getAccDescription"),zue=D(t=>{T3=A3(t)},"setDiagramTitle"),$ue=D(()=>T3,"getDiagramTitle"),_D=Qe,que=S3,Sr=Rs,hVe=nH,dVe=q0,O3=D(t=>Ql(t,Sr()),"sanitizeText"),Hue=Lue,Wue=D(()=>cH,"getCommonDb"),j2={},D2=D((t,e,n)=>{j2[t]&&_D.warn(`Diagram with id ${t} already registered. Overwriting.`),j2[t]=e,n&&Jq(t,n),Rue(t,e.styles),e.injectUtils?.(_D,que,Sr,O3,Hue,Wue(),()=>{})},"registerDiagram"),bO=D(t=>{if(t in j2)return j2[t];throw new Vue(t)},"getDiagram"),z0,Vue=(z0=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},D(z0,"DiagramNotFoundError"),z0);function Mf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P3(t){let e,n,r;t.length!==2?(e=Mf,n=(o,l)=>Mf(t(o),l),r=(o,l)=>t(o)-l):(e=t===Mf||t===Gue?t:Kue,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Kue(){return 0}function uH(t){return t===null?NaN:+t}function*Yue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xue=P3(Mf),_1=Xue.right;P3(uH).center;class kD extends Map{constructor(e,n=Que){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CD(this,e))}has(e){return super.has(CD(this,e))}set(e,n){return super.set(Jue(this,e),n)}delete(e){return super.delete(Zue(this,e))}}function CD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Que(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ehe(t=Mf){if(t===Mf)return hH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const the=Math.sqrt(50),nhe=Math.sqrt(10),rhe=Math.sqrt(2);function B2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=the?10:a>=nhe?5:a>=rhe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?B2(t,e,n*2):[o,l,c]}function xO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?B2(e,t,n):B2(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function wO(t,e,n){return e=+e,t=+t,n=+n,B2(t,e,n)[2]}function SO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wO(e,t,n):wO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function TD(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ED(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function dH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hH:ehe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+m)),v=Math.min(r,Math.floor(e+(l-c)*f/l+m));dH(t,e,p,v,i)}const a=t[e];let s=n,o=r;for(py(t,n,e),i(t[r],a)>0&&py(t,n,r);s<o;){for(py(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?py(t,n,o):(++o,py(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function py(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ihe(t,e,n){if(t=Float64Array.from(Yue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ED(t);if(e>=1)return TD(t);var r,i=(r-1)*e,a=Math.floor(i),s=TD(dH(t,a).subarray(0,a+1)),o=ED(t.subarray(a+1));return s+(o-s)*(i-a)}}function ahe(t,e,n=uH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function she(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var ohe={value:()=>{}};function fH(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kw(n)}function Kw(t){this._=t}function lhe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kw.prototype=fH.prototype={constructor:Kw,on:function(t,e){var n=this._,r=lhe(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=che(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=AD(n[i],t.name,e);else if(e==null)for(i in n)n[i]=AD(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Kw(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function che(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function AD(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ohe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var _O="http://www.w3.org/1999/xhtml";const OD={svg:"http://www.w3.org/2000/svg",xhtml:_O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z_(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),OD.hasOwnProperty(e)?{space:OD[e],local:t}:t}function uhe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_O&&e.documentElement.namespaceURI===_O?e.createElement(t):e.createElementNS(n,t)}}function hhe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pH(t){var e=z_(t);return(e.local?hhe:uhe)(e)}function dhe(){}function N3(t){return t==null?dhe:function(){return this.querySelector(t)}}function fhe(t){typeof t!="function"&&(t=N3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Sl(r,this._parents)}function phe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mhe(){return[]}function mH(t){return t==null?mhe:function(){return this.querySelectorAll(t)}}function ghe(t){return function(){return phe(t.apply(this,arguments))}}function vhe(t){typeof t=="function"?t=ghe(t):t=mH(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new Sl(r,i)}function gH(t){return function(){return this.matches(t)}}function vH(t){return function(e){return e.matches(t)}}var yhe=Array.prototype.find;function bhe(t){return function(){return yhe.call(this.children,t)}}function xhe(){return this.firstElementChild}function whe(t){return this.select(t==null?xhe:bhe(typeof t=="function"?t:vH(t)))}var She=Array.prototype.filter;function _he(){return Array.from(this.children)}function khe(t){return function(){return She.call(this.children,t)}}function Che(t){return this.selectAll(t==null?_he:khe(typeof t=="function"?t:vH(t)))}function The(t){typeof t!="function"&&(t=gH(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Sl(r,this._parents)}function yH(t){return new Array(t.length)}function Ehe(){return new Sl(this._enter||this._groups.map(yH),this._parents)}function F2(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}F2.prototype={constructor:F2,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ahe(t){return function(){return t}}function Ohe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new F2(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Phe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,f=a.length,m=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(m[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<f;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new F2(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(m[o])===l&&(i[o]=l)}function Nhe(t){return t.__data__}function Lhe(t,e){if(!arguments.length)return Array.from(this,Nhe);var n=e?Phe:Ohe,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ahe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],m=f.length,p=Mhe(t.call(u,u&&u.__data__,c,r)),v=p.length,b=o[c]=new Array(v),x=s[c]=new Array(v),w=l[c]=new Array(m);n(u,f,b,x,w,p,e);for(var C=0,E=0,O,P;C<v;++C)if(O=b[C]){for(C>=E&&(E=C+1);!(P=x[E])&&++E<v;);O._next=P||null}}return s=new Sl(s,r),s._enter=o,s._exit=l,s}function Mhe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rhe(){return new Sl(this._exit||this._groups.map(yH),this._parents)}function Ihe(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function jhe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,m=o[l]=new Array(f),p,v=0;v<f;++v)(p=c[v]||u[v])&&(m[v]=p);for(;l<i;++l)o[l]=n[l];return new Sl(o,this._parents)}function Dhe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Bhe(t){t||(t=Fhe);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Sl(i,this._parents).order()}function Fhe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Uhe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zhe(){return Array.from(this)}function $he(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function qhe(){let t=0;for(const e of this)++t;return t}function Hhe(){return!this.node()}function Whe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Vhe(t){return function(){this.removeAttribute(t)}}function Ghe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Khe(t,e){return function(){this.setAttribute(t,e)}}function Yhe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xhe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Jhe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zhe(t,e){var n=z_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ghe:Vhe:typeof e=="function"?n.local?Jhe:Xhe:n.local?Yhe:Khe)(n,e))}function bH(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qhe(t){return function(){this.style.removeProperty(t)}}function ede(t,e,n){return function(){this.style.setProperty(t,e,n)}}function tde(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function nde(t,e,n){return arguments.length>1?this.each((e==null?Qhe:typeof e=="function"?tde:ede)(t,e,n??"")):W0(this.node(),t)}function W0(t,e){return t.style.getPropertyValue(e)||bH(t).getComputedStyle(t,null).getPropertyValue(e)}function rde(t){return function(){delete this[t]}}function ide(t,e){return function(){this[t]=e}}function ade(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sde(t,e){return arguments.length>1?this.each((e==null?rde:typeof e=="function"?ade:ide)(t,e)):this.node()[t]}function xH(t){return t.trim().split(/^|\s+/)}function L3(t){return t.classList||new wH(t)}function wH(t){this._node=t,this._names=xH(t.getAttribute("class")||"")}wH.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function SH(t,e){for(var n=L3(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _H(t,e){for(var n=L3(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ode(t){return function(){SH(this,t)}}function lde(t){return function(){_H(this,t)}}function cde(t,e){return function(){(e.apply(this,arguments)?SH:_H)(this,t)}}function ude(t,e){var n=xH(t+"");if(arguments.length<2){for(var r=L3(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?cde:e?ode:lde)(n,e))}function hde(){this.textContent=""}function dde(t){return function(){this.textContent=t}}function fde(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function pde(t){return arguments.length?this.each(t==null?hde:(typeof t=="function"?fde:dde)(t)):this.node().textContent}function mde(){this.innerHTML=""}function gde(t){return function(){this.innerHTML=t}}function vde(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function yde(t){return arguments.length?this.each(t==null?mde:(typeof t=="function"?vde:gde)(t)):this.node().innerHTML}function bde(){this.nextSibling&&this.parentNode.appendChild(this)}function xde(){return this.each(bde)}function wde(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sde(){return this.each(wde)}function _de(t){var e=typeof t=="function"?t:pH(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function kde(){return null}function Cde(t,e){var n=typeof t=="function"?t:pH(t),r=e==null?kde:typeof e=="function"?e:N3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Tde(){var t=this.parentNode;t&&t.removeChild(this)}function Ede(){return this.each(Tde)}function Ade(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ode(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pde(t){return this.select(t?Ode:Ade)}function Nde(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Lde(t){return function(e){t.call(this,e,this.__data__)}}function Mde(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Rde(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Ide(t,e,n){return function(){var r=this.__on,i,a=Lde(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function jde(t,e,n){var r=Mde(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?Ide:Rde,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function kH(t,e,n){var r=bH(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dde(t,e){return function(){return kH(this,t,e)}}function Bde(t,e){return function(){return kH(this,t,e.apply(this,arguments))}}function Fde(t,e){return this.each((typeof e=="function"?Bde:Dde)(t,e))}function*Ude(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var CH=[null];function Sl(t,e){this._groups=t,this._parents=e}function k1(){return new Sl([[document.documentElement]],CH)}function zde(){return this}Sl.prototype=k1.prototype={constructor:Sl,select:fhe,selectAll:vhe,selectChild:whe,selectChildren:Che,filter:The,data:Lhe,enter:Ehe,exit:Rhe,join:Ihe,merge:jhe,selection:zde,order:Dhe,sort:Bhe,call:Uhe,nodes:zhe,node:$he,size:qhe,empty:Hhe,each:Whe,attr:Zhe,style:nde,property:sde,classed:ude,text:pde,html:yde,raise:xde,lower:Sde,append:_de,insert:Cde,remove:Ede,clone:Pde,datum:Nde,on:jde,dispatch:Fde,[Symbol.iterator]:Ude};function ar(t){return typeof t=="string"?new Sl([[document.querySelector(t)]],[document.documentElement]):new Sl([[t]],CH)}function M3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function C1(){}var Ab=.7,U2=1/Ab,g0="\\s*([+-]?\\d+)\\s*",Ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$de=/^#([0-9a-f]{3,8})$/,qde=new RegExp(`^rgb\\(${g0},${g0},${g0}\\)$`),Hde=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),Wde=new RegExp(`^rgba\\(${g0},${g0},${g0},${Ob}\\)$`),Vde=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${Ob}\\)$`),Gde=new RegExp(`^hsl\\(${Ob},${Gu},${Gu}\\)$`),Kde=new RegExp(`^hsla\\(${Ob},${Gu},${Gu},${Ob}\\)$`),PD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M3(C1,dm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ND,formatHex:ND,formatHex8:Yde,formatHsl:Xde,formatRgb:LD,toString:LD});function ND(){return this.rgb().formatHex()}function Yde(){return this.rgb().formatHex8()}function Xde(){return EH(this).formatHsl()}function LD(){return this.rgb().formatRgb()}function dm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$de.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MD(e):n===3?new Bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qde.exec(t))?new Bo(e[1],e[2],e[3],1):(e=Hde.exec(t))?new Bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wde.exec(t))?Zx(e[1],e[2],e[3],e[4]):(e=Vde.exec(t))?Zx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gde.exec(t))?jD(e[1],e[2]/100,e[3]/100,1):(e=Kde.exec(t))?jD(e[1],e[2]/100,e[3]/100,e[4]):PD.hasOwnProperty(t)?MD(PD[t]):t==="transparent"?new Bo(NaN,NaN,NaN,0):null}function MD(t){return new Bo(t>>16&255,t>>8&255,t&255,1)}function Zx(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bo(t,e,n,r)}function Jde(t){return t instanceof C1||(t=dm(t)),t?(t=t.rgb(),new Bo(t.r,t.g,t.b,t.opacity)):new Bo}function kO(t,e,n,r){return arguments.length===1?Jde(t):new Bo(t,e,n,r??1)}function Bo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}M3(Bo,kO,TH(C1,{brighter(t){return t=t==null?U2:Math.pow(U2,t),new Bo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ab:Math.pow(Ab,t),new Bo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bo(tm(this.r),tm(this.g),tm(this.b),z2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RD,formatHex:RD,formatHex8:Zde,formatRgb:ID,toString:ID}));function RD(){return`#${Gp(this.r)}${Gp(this.g)}${Gp(this.b)}`}function Zde(){return`#${Gp(this.r)}${Gp(this.g)}${Gp(this.b)}${Gp((isNaN(this.opacity)?1:this.opacity)*255)}`}function ID(){const t=z2(this.opacity);return`${t===1?"rgb(":"rgba("}${tm(this.r)}, ${tm(this.g)}, ${tm(this.b)}${t===1?")":`, ${t})`}`}function z2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gp(t){return t=tm(t),(t<16?"0":"")+t.toString(16)}function jD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hc(t,e,n,r)}function EH(t){if(t instanceof Hc)return new Hc(t.h,t.s,t.l,t.opacity);if(t instanceof C1||(t=dm(t)),!t)return new Hc;if(t instanceof Hc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Hc(s,o,l,t.opacity)}function Qde(t,e,n,r){return arguments.length===1?EH(t):new Hc(t,e,n,r??1)}function Hc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}M3(Hc,Qde,TH(C1,{brighter(t){return t=t==null?U2:Math.pow(U2,t),new Hc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ab:Math.pow(Ab,t),new Hc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bo(tT(t>=240?t-240:t+120,i,r),tT(t,i,r),tT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hc(DD(this.h),Qx(this.s),Qx(this.l),z2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=z2(this.opacity);return`${t===1?"hsl(":"hsla("}${DD(this.h)}, ${Qx(this.s)*100}%, ${Qx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DD(t){return t=(t||0)%360,t<0?t+360:t}function Qx(t){return Math.max(0,Math.min(1,t||0))}function tT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $_=t=>()=>t;function AH(t,e){return function(n){return t+n*e}}function efe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fVe(t,e){var n=e-t;return n?AH(t,n>180||n<-180?n-360*Math.round(n/360):n):$_(isNaN(t)?e:t)}function tfe(t){return(t=+t)==1?OH:function(e,n){return n-e?efe(e,n,t):$_(isNaN(e)?n:e)}}function OH(t,e){var n=e-t;return n?AH(t,n):$_(isNaN(t)?e:t)}const $2=(function t(e){var n=tfe(e);function r(i,a){var s=n((i=kO(i)).r,(a=kO(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=OH(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function nfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function rfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ife(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=uv(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function afe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zc(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=uv(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var CO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nT=new RegExp(CO.source,"g");function ofe(t){return function(){return t}}function lfe(t){return function(e){return t(e)+""}}function PH(t,e){var n=CO.lastIndex=nT.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=CO.exec(t))&&(i=nT.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:zc(r,i)})),n=nT.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?lfe(l[0].x):ofe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function uv(t,e){var n=typeof e,r;return e==null||n==="boolean"?$_(e):(n==="number"?zc:n==="string"?(r=dm(e))?(e=r,$2):PH:e instanceof dm?$2:e instanceof Date?afe:rfe(e)?nfe:Array.isArray(e)?ife:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sfe:zc)(t,e)}function R3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var BD=180/Math.PI,TO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function NH(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*BD,skewX:Math.atan(l)*BD,scaleX:s,scaleY:o}}var ew;function cfe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?TO:NH(e.a,e.b,e.c,e.d,e.e,e.f)}function ufe(t){return t==null||(ew||(ew=document.createElementNS("http://www.w3.org/2000/svg","g")),ew.setAttribute("transform",t),!(t=ew.transform.baseVal.consolidate()))?TO:(t=t.matrix,NH(t.a,t.b,t.c,t.d,t.e,t.f))}function LH(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,f,m,p,v){if(c!==f||u!==m){var b=p.push("translate(",null,e,null,n);v.push({i:b-4,x:zc(c,f)},{i:b-2,x:zc(u,m)})}else(f||m)&&p.push("translate("+f+e+m+n)}function s(c,u,f,m){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),m.push({i:f.push(i(f)+"rotate(",null,r)-2,x:zc(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function o(c,u,f,m){c!==u?m.push({i:f.push(i(f)+"skewX(",null,r)-2,x:zc(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,m,p,v){if(c!==f||u!==m){var b=p.push(i(p)+"scale(",null,",",null,")");v.push({i:b-4,x:zc(c,f)},{i:b-2,x:zc(u,m)})}else(f!==1||m!==1)&&p.push(i(p)+"scale("+f+","+m+")")}return function(c,u){var f=[],m=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,f,m),s(c.rotate,u.rotate,f,m),o(c.skewX,u.skewX,f,m),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,m),c=u=null,function(p){for(var v=-1,b=m.length,x;++v<b;)f[(x=m[v]).i]=x.x(p);return f.join("")}}}var hfe=LH(cfe,"px, ","px)","deg)"),dfe=LH(ufe,", ",")",")");function ffe(t,e){e===void 0&&(e=t,t=uv);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}var V0=0,qy=0,my=0,MH=1e3,q2,Hy,H2=0,fm=0,q_=0,Pb=typeof performance=="object"&&performance.now?performance:Date,RH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function I3(){return fm||(RH(pfe),fm=Pb.now()+q_)}function pfe(){fm=0}function W2(){this._call=this._time=this._next=null}W2.prototype=IH.prototype={constructor:W2,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?I3():+n)+(e==null?0:+e),!this._next&&Hy!==this&&(Hy?Hy._next=this:q2=this,Hy=this),this._call=t,this._time=n,EO()},stop:function(){this._call&&(this._call=null,this._time=1/0,EO())}};function IH(t,e,n){var r=new W2;return r.restart(t,e,n),r}function mfe(){I3(),++V0;for(var t=q2,e;t;)(e=fm-t._time)>=0&&t._call.call(void 0,e),t=t._next;--V0}function FD(){fm=(H2=Pb.now())+q_,V0=qy=0;try{mfe()}finally{V0=0,vfe(),fm=0}}function gfe(){var t=Pb.now(),e=t-H2;e>MH&&(q_-=e,H2=t)}function vfe(){for(var t,e=q2,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:q2=n);Hy=t,EO(r)}function EO(t){if(!V0){qy&&(qy=clearTimeout(qy));var e=t-fm;e>24?(t<1/0&&(qy=setTimeout(FD,t-Pb.now()-q_)),my&&(my=clearInterval(my))):(my||(H2=Pb.now(),my=setInterval(gfe,MH)),V0=1,RH(FD))}}function UD(t,e,n){var r=new W2;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yfe=fH("start","end","cancel","interrupt"),bfe=[],jH=0,zD=1,AO=2,Yw=3,$D=4,OO=5,Xw=6;function H_(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;xfe(t,n,{name:e,index:r,group:i,on:yfe,tween:bfe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jH})}function j3(t,e){var n=ou(t,e);if(n.state>jH)throw new Error("too late; already scheduled");return n}function rh(t,e){var n=ou(t,e);if(n.state>Yw)throw new Error("too late; already running");return n}function ou(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xfe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=IH(a,0,n.time);function a(c){n.state=zD,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,m,p;if(n.state!==zD)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===Yw)return UD(s);p.state===$D?(p.state=Xw,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=Xw,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(UD(function(){n.state===Yw&&(n.state=$D,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=AO,n.on.call("start",t,t.__data__,n.index,n.group),n.state===AO){for(n.state=Yw,i=new Array(m=n.tween.length),u=0,f=-1;u<m;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=OO,1),f=-1,m=i.length;++f<m;)i[f].call(t,u);n.state===OO&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Xw,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function wfe(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>AO&&r.state<OO,r.state=Xw,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function Sfe(t){return this.each(function(){wfe(this,t)})}function _fe(t,e){var n,r;return function(){var i=rh(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function kfe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=rh(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function Cfe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ou(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?_fe:kfe)(n,t,e))}function D3(t,e,n){var r=t._id;return t.each(function(){var i=rh(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ou(i,r).value[e]}}function DH(t,e){var n;return(typeof e=="number"?zc:e instanceof dm?$2:(n=dm(e))?(e=n,$2):PH)(t,e)}function Tfe(t){return function(){this.removeAttribute(t)}}function Efe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Afe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function Ofe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function Pfe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function Nfe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function Lfe(t,e){var n=z_(t),r=n==="transform"?dfe:DH;return this.attrTween(t,typeof e=="function"?(n.local?Nfe:Pfe)(n,r,D3(this,"attr."+t,e)):e==null?(n.local?Efe:Tfe)(n):(n.local?Ofe:Afe)(n,r,e))}function Mfe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rfe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ife(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Rfe(t,a)),n}return i._value=e,i}function jfe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Mfe(t,a)),n}return i._value=e,i}function Dfe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=z_(t);return this.tween(n,(r.local?Ife:jfe)(r,e))}function Bfe(t,e){return function(){j3(this,t).delay=+e.apply(this,arguments)}}function Ffe(t,e){return e=+e,function(){j3(this,t).delay=e}}function Ufe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bfe:Ffe)(e,t)):ou(this.node(),e).delay}function zfe(t,e){return function(){rh(this,t).duration=+e.apply(this,arguments)}}function $fe(t,e){return e=+e,function(){rh(this,t).duration=e}}function qfe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zfe:$fe)(e,t)):ou(this.node(),e).duration}function Hfe(t,e){if(typeof e!="function")throw new Error;return function(){rh(this,t).ease=e}}function Wfe(t){var e=this._id;return arguments.length?this.each(Hfe(e,t)):ou(this.node(),e).ease}function Vfe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;rh(this,t).ease=n}}function Gfe(t){if(typeof t!="function")throw new Error;return this.each(Vfe(this._id,t))}function Kfe(t){typeof t!="function"&&(t=gH(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new cd(r,this._parents,this._name,this._id)}function Yfe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,f=s[o]=new Array(u),m,p=0;p<u;++p)(m=l[p]||c[p])&&(f[p]=m);for(;o<r;++o)s[o]=e[o];return new cd(s,this._parents,this._name,this._id)}function Xfe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Jfe(t,e,n){var r,i,a=Xfe(e)?j3:rh;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function Zfe(t,e){var n=this._id;return arguments.length<2?ou(this.node(),n).on.on(t):this.each(Jfe(n,t,e))}function Qfe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function epe(){return this.on("end.remove",Qfe(this._id))}function tpe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=N3(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,f,m=0;m<l;++m)(u=o[m])&&(f=t.call(u,u.__data__,m,o))&&("__data__"in u&&(f.__data__=u.__data__),c[m]=f,H_(c[m],e,n,m,c,ou(u,n)));return new cd(a,this._parents,e,n)}function npe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mH(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var m=t.call(u,u.__data__,f,l),p,v=ou(u,n),b=0,x=m.length;b<x;++b)(p=m[b])&&H_(p,e,n,b,m,v);a.push(m),s.push(u)}return new cd(a,s,e,n)}var rpe=k1.prototype.constructor;function ipe(){return new rpe(this._groups,this._parents)}function ape(t,e){var n,r,i;return function(){var a=W0(this,t),s=(this.style.removeProperty(t),W0(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function BH(t){return function(){this.style.removeProperty(t)}}function spe(t,e,n){var r,i=n+"",a;return function(){var s=W0(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function ope(t,e,n){var r,i,a;return function(){var s=W0(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),W0(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function lpe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=rh(this,t),c=l.on,u=l.value[a]==null?o||(o=BH(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function cpe(t,e,n){var r=(t+="")=="transform"?hfe:DH;return e==null?this.styleTween(t,ape(t,r)).on("end.style."+t,BH(t)):typeof e=="function"?this.styleTween(t,ope(t,r,D3(this,"style."+t,e))).each(lpe(this._id,t)):this.styleTween(t,spe(t,r,e),n).on("end.style."+t,null)}function upe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function hpe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&upe(t,s,n)),r}return a._value=e,a}function dpe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,hpe(t,e,n??""))}function fpe(t){return function(){this.textContent=t}}function ppe(t){return function(){var e=t(this);this.textContent=e??""}}function mpe(t){return this.tween("text",typeof t=="function"?ppe(D3(this,"text",t)):fpe(t==null?"":t+""))}function gpe(t){return function(e){this.textContent=t.call(this,e)}}function vpe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&gpe(i)),e}return r._value=t,r}function ype(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vpe(t))}function bpe(){for(var t=this._name,e=this._id,n=FH(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=ou(l,e);H_(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new cd(r,this._parents,t,n)}function xpe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=rh(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var wpe=0;function cd(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function FH(){return++wpe}var Bh=k1.prototype;cd.prototype={constructor:cd,select:tpe,selectAll:npe,selectChild:Bh.selectChild,selectChildren:Bh.selectChildren,filter:Kfe,merge:Yfe,selection:ipe,transition:bpe,call:Bh.call,nodes:Bh.nodes,node:Bh.node,size:Bh.size,empty:Bh.empty,each:Bh.each,on:Zfe,attr:Lfe,attrTween:Dfe,style:cpe,styleTween:dpe,text:mpe,textTween:ype,remove:epe,tween:Cfe,delay:Ufe,duration:qfe,ease:Wfe,easeVarying:Gfe,end:xpe,[Symbol.iterator]:Bh[Symbol.iterator]};function Spe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _pe={time:null,delay:0,duration:250,ease:Spe};function kpe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Cpe(t){var e,n;t instanceof cd?(e=t._id,t=t._name):(e=FH(),(n=_pe).time=I3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&H_(l,t,e,c,s,n||kpe(l,e));return new cd(r,this._parents,t,e)}k1.prototype.interrupt=Sfe;k1.prototype.transition=Cpe;const PO=Math.PI,NO=2*PO,Rp=1e-6,Tpe=NO-Rp;function UH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Epe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UH;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ape{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UH:Epe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,f=o-n,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Rp)if(!(Math.abs(f*l-c*u)>Rp)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,v=i-o,b=l*l+c*c,x=p*p+v*v,w=Math.sqrt(b),C=Math.sqrt(m),E=a*Math.tan((PO-Math.acos((b+m-x)/(2*w*C)))/2),O=E/C,P=E/w;Math.abs(O-1)>Rp&&this._append`L${e+O*u},${n+O*f}`,this._append`A${a},${a},0,0,${+(f*p>u*v)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Rp||Math.abs(this._y1-u)>Rp)&&this._append`L${c},${u}`,r&&(m<0&&(m=m%NO+NO),m>Tpe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:m>Rp&&this._append`A${r},${r},0,${+(m>=PO)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ope(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function V2(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function G0(t){return t=V2(Math.abs(t)),t?t[1]:NaN}function Ppe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Npe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nb(t){if(!(e=Lpe.exec(t)))throw new Error("invalid format: "+t);var e;return new B3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nb.prototype=B3.prototype;function B3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}B3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var G2;function Rpe(t,e){var n=V2(t,e);if(!n)return G2=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(G2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+V2(t,Math.max(0,e+a-1))[0]}function qD(t,e){var n=V2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ope,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qD(t*100,e),r:qD,s:Rpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WD(t){return t}var VD=Array.prototype.map,GD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ipe(t){var e=t.grouping===void 0||t.thousands===void 0?WD:Ppe(VD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?WD:Npe(VD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,m){f=Nb(f);var p=f.fill,v=f.align,b=f.sign,x=f.symbol,w=f.zero,C=f.width,E=f.comma,O=f.precision,P=f.trim,L=f.type;L==="n"?(E=!0,L="g"):HD[L]||(O===void 0&&(O=12),P=!0,L="g"),(w||p==="0"&&v==="=")&&(w=!0,p="0",v="=");var B=(m&&m.prefix!==void 0?m.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),$=(x==="$"?r:/[%p]/.test(L)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),U=HD[L],G=/[defgprs%]/.test(L);O=O===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function M(I){var K=B,H=$,J,W,Q;if(L==="c")H=U(I)+H,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?l:U(Math.abs(I),O),P&&(I=Mpe(I)),ee&&+I==0&&b!=="+"&&(ee=!1),K=(ee?b==="("?b:o:b==="-"||b==="("?"":b)+K,H=(L==="s"&&!isNaN(I)&&G2!==void 0?GD[8+G2/3]:"")+H+(ee&&b==="("?")":""),G){for(J=-1,W=I.length;++J<W;)if(Q=I.charCodeAt(J),48>Q||Q>57){H=(Q===46?i+I.slice(J+1):I.slice(J))+H,I=I.slice(0,J);break}}}E&&!w&&(I=e(I,1/0));var he=K.length+I.length+H.length,Y=he<C?new Array(C-he+1).join(p):"";switch(E&&w&&(I=e(Y+I,Y.length?C-H.length:1/0),Y=""),v){case"<":I=K+I+H+Y;break;case"=":I=K+Y+I+H;break;case"^":I=Y.slice(0,he=Y.length>>1)+K+I+H+Y.slice(he);break;default:I=Y+K+I+H;break}return a(I)}return M.toString=function(){return f+""},M}function u(f,m){var p=Math.max(-8,Math.min(8,Math.floor(G0(m)/3)))*3,v=Math.pow(10,-p),b=c((f=Nb(f),f.type="f",f),{suffix:GD[8+p/3]});return function(x){return b(v*x)}}return{format:c,formatPrefix:u}}var tw,F3,zH;jpe({thousands:",",grouping:[3],currency:["$",""]});function jpe(t){return tw=Ipe(t),F3=tw.format,zH=tw.formatPrefix,tw}function Dpe(t){return Math.max(0,-G0(Math.abs(t)))}function Bpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(G0(e)/3)))*3-G0(Math.abs(t)))}function Fpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,G0(e)-G0(t))+1}function oc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const LO=Symbol("implicit");function U3(){var t=new kD,e=[],n=[],r=LO;function i(a){let s=t.get(a);if(s===void 0){if(r!==LO)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return U3(e,n).unknown(r)},oc.apply(i,arguments),i}function z3(){var t=U3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var m=e().length,p=i<r,v=p?i:r,b=p?r:i;a=(b-v)/Math.max(1,m-l+c*2),o&&(a=Math.floor(a)),v+=(b-v-a*(m-l))*u,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=she(m).map(function(w){return v+a*w});return n(p?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(o=!!m,f()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),f()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,f()):c},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},t.copy=function(){return z3(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},oc.apply(f(),arguments)}function $H(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $H(e())},t}function Upe(){return $H(z3.apply(null,arguments).paddingInner(1))}function zpe(t){return function(){return t}}function K2(t){return+t}var KD=[0,1];function ao(t){return t}function MO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zpe(isNaN(e)?NaN:.5)}function $pe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=MO(i,r),a=n(s,a)):(r=MO(r,i),a=n(a,s)),function(o){return a(r(o))}}function Hpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=MO(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=_1(t,o,1,r)-1;return a[l](i[l](o))}}function T1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function W_(){var t=KD,e=KD,n=uv,r,i,a,s=ao,o,l,c;function u(){var m=Math.min(t.length,e.length);return s!==ao&&(s=$pe(t[0],t[m-1])),o=m>2?Hpe:qpe,l=c=null,f}function f(m){return m==null||isNaN(m=+m)?a:(l||(l=o(t.map(r),e,n)))(r(s(m)))}return f.invert=function(m){return s(i((c||(c=o(e,t.map(r),zc)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,K2),u()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=R3,u()},f.clamp=function(m){return arguments.length?(s=m?!0:ao,u()):s!==ao},f.interpolate=function(m){return arguments.length?(n=m,u()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,p){return r=m,i=p,u()}}function $3(){return W_()(ao,ao)}function qH(t,e,n,r){var i=SO(t,e,n),a;switch(r=Nb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Bpe(i,s))&&(r.precision=a),zH(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Fpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Dpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return F3(r)}function Gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return xO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=wO(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function HH(){var t=$3();return t.copy=function(){return T1(t,HH())},oc.apply(t,arguments),Gf(t)}function WH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,K2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return WH(t).unknown(e)},t=arguments.length?Array.from(t,K2):[0,1],Gf(n)}function VH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function YD(t){return Math.log(t)}function XD(t){return Math.exp(t)}function Wpe(t){return-Math.log(-t)}function Vpe(t){return-Math.exp(-t)}function Gpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kpe(t){return t===10?Gpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ype(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JD(t){return(e,n)=>-t(-e,n)}function q3(t){const e=t(YD,XD),n=e.domain;let r=10,i,a;function s(){return i=Ype(r),a=Kpe(r),n()[0]<0?(i=JD(i),a=JD(a),t(Wpe,Vpe)):t(YD,XD),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let m=i(c),p=i(u),v,b;const x=o==null?10:+o;let w=[];if(!(r%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),c>0){for(;m<=p;++m)for(v=1;v<r;++v)if(b=m<0?v/a(-m):v*a(m),!(b<c)){if(b>u)break;w.push(b)}}else for(;m<=p;++m)for(v=r-1;v>=1;--v)if(b=m>0?v/a(-m):v*a(m),!(b<c)){if(b>u)break;w.push(b)}w.length*2<x&&(w=xO(c,u,x))}else w=xO(m,p,Math.min(p-m,x)).map(a);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Nb(l)).precision==null&&(l.trim=!0),l=F3(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(VH(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function GH(){const t=q3(W_()).domain([1,10]);return t.copy=()=>T1(t,GH()).base(t.base()),oc.apply(t,arguments),t}function ZD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function H3(t){var e=1,n=t(ZD(e),QD(e));return n.constant=function(r){return arguments.length?t(ZD(e=+r),QD(e)):e},Gf(n)}function KH(){var t=H3(W_());return t.copy=function(){return T1(t,KH()).constant(t.constant())},oc.apply(t,arguments)}function e6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jpe(t){return t<0?-t*t:t*t}function W3(t){var e=t(ao,ao),n=1;function r(){return n===1?t(ao,ao):n===.5?t(Xpe,Jpe):t(e6(n),e6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Gf(e)}function V3(){var t=W3(W_());return t.copy=function(){return T1(t,V3()).exponent(t.exponent())},oc.apply(t,arguments),t}function Zpe(){return V3.apply(null,arguments).exponent(.5)}function t6(t){return Math.sign(t)*t*t}function Qpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YH(){var t=$3(),e=[0,1],n=!1,r;function i(a){var s=Qpe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(t6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,K2)).map(t6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oc.apply(i,arguments),Gf(i)}function XH(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=ahe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[_1(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Mf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return XH().domain(t).range(e).unknown(r)},oc.apply(a,arguments)}function JH(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[_1(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return JH().domain([t,e]).range(i).unknown(a)},oc.apply(Gf(s),arguments)}function ZH(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[_1(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZH().domain(t).range(e).unknown(n)},oc.apply(i,arguments)}const rT=new Date,iT=new Date;function Ra(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Ra(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(rT.setTime(+a),iT.setTime(+s),t(rT),t(iT),Math.floor(n(rT,iT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Y2=Ra(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Y2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ra(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Y2);Y2.range;const td=1e3,Yl=td*60,nd=Yl*60,ud=nd*24,G3=ud*7,n6=ud*30,aT=ud*365,Kp=Ra(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*td)},(t,e)=>(e-t)/td,t=>t.getUTCSeconds());Kp.range;const K3=Ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*td)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getMinutes());K3.range;const Y3=Ra(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getUTCMinutes());Y3.range;const X3=Ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*td-t.getMinutes()*Yl)},(t,e)=>{t.setTime(+t+e*nd)},(t,e)=>(e-t)/nd,t=>t.getHours());X3.range;const J3=Ra(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*nd)},(t,e)=>(e-t)/nd,t=>t.getUTCHours());J3.range;const E1=Ra(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yl)/ud,t=>t.getDate()-1);E1.range;const V_=Ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ud,t=>t.getUTCDate()-1);V_.range;const QH=Ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ud,t=>Math.floor(t/ud));QH.range;function Nm(t){return Ra(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yl)/G3)}const G_=Nm(0),X2=Nm(1),eme=Nm(2),tme=Nm(3),K0=Nm(4),nme=Nm(5),rme=Nm(6);G_.range;X2.range;eme.range;tme.range;K0.range;nme.range;rme.range;function Lm(t){return Ra(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/G3)}const K_=Lm(0),J2=Lm(1),ime=Lm(2),ame=Lm(3),Y0=Lm(4),sme=Lm(5),ome=Lm(6);K_.range;J2.range;ime.range;ame.range;Y0.range;sme.range;ome.range;const Z3=Ra(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Z3.range;const Q3=Ra(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Q3.range;const hd=Ra(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ra(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hd.range;const dd=Ra(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());dd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ra(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});dd.range;function eW(t,e,n,r,i,a){const s=[[Kp,1,td],[Kp,5,5*td],[Kp,15,15*td],[Kp,30,30*td],[a,1,Yl],[a,5,5*Yl],[a,15,15*Yl],[a,30,30*Yl],[i,1,nd],[i,3,3*nd],[i,6,6*nd],[i,12,12*nd],[r,1,ud],[r,2,2*ud],[n,1,G3],[e,1,n6],[e,3,3*n6],[t,1,aT]];function o(c,u,f){const m=u<c;m&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return m?v.reverse():v}function l(c,u,f){const m=Math.abs(u-c)/f,p=P3(([,,x])=>x).right(s,m);if(p===s.length)return t.every(SO(c/aT,u/aT,f));if(p===0)return Y2.every(Math.max(SO(c,u,f),1));const[v,b]=s[m/s[p-1][2]<s[p][2]/m?p-1:p];return v.every(b)}return[o,l]}const[lme,cme]=eW(dd,Q3,K_,QH,J3,Y3),[ume,hme]=eW(hd,Z3,G_,E1,X3,K3);function sT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=vy(i),u=yy(i),f=vy(a),m=yy(a),p=vy(s),v=yy(s),b=vy(o),x=yy(o),w=vy(l),C=yy(l),E={a:Q,A:ee,b:he,B:Y,c:null,d:l6,e:l6,f:Ime,g:Wme,G:Gme,H:Lme,I:Mme,j:Rme,L:tW,m:jme,M:Dme,p:ye,q:V,Q:h6,s:d6,S:Bme,u:Fme,U:Ume,V:zme,w:$me,W:qme,x:null,X:null,y:Hme,Y:Vme,Z:Kme,"%":u6},O={a:F,A:ae,b:le,B:pe,c:null,d:c6,e:c6,f:Zme,g:lge,G:uge,H:Yme,I:Xme,j:Jme,L:rW,m:Qme,M:ege,p:xe,q:Oe,Q:h6,s:d6,S:tge,u:nge,U:rge,V:ige,w:age,W:sge,x:null,X:null,y:oge,Y:cge,Z:hge,"%":u6},P={a:G,A:M,b:I,B:K,c:H,d:s6,e:s6,f:Ame,g:a6,G:i6,H:o6,I:o6,j:kme,L:Eme,m:_me,M:Cme,p:U,q:Sme,Q:Pme,s:Nme,S:Tme,u:vme,U:yme,V:bme,w:gme,W:xme,x:J,X:W,y:a6,Y:i6,Z:wme,"%":Ome};E.x=L(n,E),E.X=L(r,E),E.c=L(e,E),O.x=L(n,O),O.X=L(r,O),O.c=L(e,O);function L(fe,Ce){return function(Fe){var Te=[],nt=-1,rt=0,se=fe.length,lt,Xt,Tt;for(Fe instanceof Date||(Fe=new Date(+Fe));++nt<se;)fe.charCodeAt(nt)===37&&(Te.push(fe.slice(rt,nt)),(Xt=r6[lt=fe.charAt(++nt)])!=null?lt=fe.charAt(++nt):Xt=lt==="e"?" ":"0",(Tt=Ce[lt])&&(lt=Tt(Fe,Xt)),Te.push(lt),rt=nt+1);return Te.push(fe.slice(rt,nt)),Te.join("")}}function B(fe,Ce){return function(Fe){var Te=gy(1900,void 0,1),nt=$(Te,fe,Fe+="",0),rt,se;if(nt!=Fe.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(Ce&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(rt=oT(gy(Te.y,0,1)),se=rt.getUTCDay(),rt=se>4||se===0?J2.ceil(rt):J2(rt),rt=V_.offset(rt,(Te.V-1)*7),Te.y=rt.getUTCFullYear(),Te.m=rt.getUTCMonth(),Te.d=rt.getUTCDate()+(Te.w+6)%7):(rt=sT(gy(Te.y,0,1)),se=rt.getDay(),rt=se>4||se===0?X2.ceil(rt):X2(rt),rt=E1.offset(rt,(Te.V-1)*7),Te.y=rt.getFullYear(),Te.m=rt.getMonth(),Te.d=rt.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),se="Z"in Te?oT(gy(Te.y,0,1)).getUTCDay():sT(gy(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-(se+5)%7:Te.w+Te.U*7-(se+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,oT(Te)):sT(Te)}}function $(fe,Ce,Fe,Te){for(var nt=0,rt=Ce.length,se=Fe.length,lt,Xt;nt<rt;){if(Te>=se)return-1;if(lt=Ce.charCodeAt(nt++),lt===37){if(lt=Ce.charAt(nt++),Xt=P[lt in r6?Ce.charAt(nt++):lt],!Xt||(Te=Xt(fe,Fe,Te))<0)return-1}else if(lt!=Fe.charCodeAt(Te++))return-1}return Te}function U(fe,Ce,Fe){var Te=c.exec(Ce.slice(Fe));return Te?(fe.p=u.get(Te[0].toLowerCase()),Fe+Te[0].length):-1}function G(fe,Ce,Fe){var Te=p.exec(Ce.slice(Fe));return Te?(fe.w=v.get(Te[0].toLowerCase()),Fe+Te[0].length):-1}function M(fe,Ce,Fe){var Te=f.exec(Ce.slice(Fe));return Te?(fe.w=m.get(Te[0].toLowerCase()),Fe+Te[0].length):-1}function I(fe,Ce,Fe){var Te=w.exec(Ce.slice(Fe));return Te?(fe.m=C.get(Te[0].toLowerCase()),Fe+Te[0].length):-1}function K(fe,Ce,Fe){var Te=b.exec(Ce.slice(Fe));return Te?(fe.m=x.get(Te[0].toLowerCase()),Fe+Te[0].length):-1}function H(fe,Ce,Fe){return $(fe,e,Ce,Fe)}function J(fe,Ce,Fe){return $(fe,n,Ce,Fe)}function W(fe,Ce,Fe){return $(fe,r,Ce,Fe)}function Q(fe){return s[fe.getDay()]}function ee(fe){return a[fe.getDay()]}function he(fe){return l[fe.getMonth()]}function Y(fe){return o[fe.getMonth()]}function ye(fe){return i[+(fe.getHours()>=12)]}function V(fe){return 1+~~(fe.getMonth()/3)}function F(fe){return s[fe.getUTCDay()]}function ae(fe){return a[fe.getUTCDay()]}function le(fe){return l[fe.getUTCMonth()]}function pe(fe){return o[fe.getUTCMonth()]}function xe(fe){return i[+(fe.getUTCHours()>=12)]}function Oe(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ce=L(fe+="",E);return Ce.toString=function(){return fe},Ce},parse:function(fe){var Ce=B(fe+="",!1);return Ce.toString=function(){return fe},Ce},utcFormat:function(fe){var Ce=L(fe+="",O);return Ce.toString=function(){return fe},Ce},utcParse:function(fe){var Ce=B(fe+="",!0);return Ce.toString=function(){return fe},Ce}}}var r6={"-":"",_:" ",0:"0"},Za=/^\s*\d+/,fme=/^%/,pme=/[\\^$*+?|[\]().{}]/g;function mr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function mme(t){return t.replace(pme,"\\$&")}function vy(t){return new RegExp("^(?:"+t.map(mme).join("|")+")","i")}function yy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gme(t,e,n){var r=Za.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vme(t,e,n){var r=Za.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yme(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bme(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xme(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function i6(t,e,n){var r=Za.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function a6(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sme(t,e,n){var r=Za.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _me(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function s6(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=Za.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function o6(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Cme(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tme(t,e,n){var r=Za.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Eme(t,e,n){var r=Za.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ame(t,e,n){var r=Za.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ome(t,e,n){var r=fme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pme(t,e,n){var r=Za.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nme(t,e,n){var r=Za.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function l6(t,e){return mr(t.getDate(),e,2)}function Lme(t,e){return mr(t.getHours(),e,2)}function Mme(t,e){return mr(t.getHours()%12||12,e,2)}function Rme(t,e){return mr(1+E1.count(hd(t),t),e,3)}function tW(t,e){return mr(t.getMilliseconds(),e,3)}function Ime(t,e){return tW(t,e)+"000"}function jme(t,e){return mr(t.getMonth()+1,e,2)}function Dme(t,e){return mr(t.getMinutes(),e,2)}function Bme(t,e){return mr(t.getSeconds(),e,2)}function Fme(t){var e=t.getDay();return e===0?7:e}function Ume(t,e){return mr(G_.count(hd(t)-1,t),e,2)}function nW(t){var e=t.getDay();return e>=4||e===0?K0(t):K0.ceil(t)}function zme(t,e){return t=nW(t),mr(K0.count(hd(t),t)+(hd(t).getDay()===4),e,2)}function $me(t){return t.getDay()}function qme(t,e){return mr(X2.count(hd(t)-1,t),e,2)}function Hme(t,e){return mr(t.getFullYear()%100,e,2)}function Wme(t,e){return t=nW(t),mr(t.getFullYear()%100,e,2)}function Vme(t,e){return mr(t.getFullYear()%1e4,e,4)}function Gme(t,e){var n=t.getDay();return t=n>=4||n===0?K0(t):K0.ceil(t),mr(t.getFullYear()%1e4,e,4)}function Kme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mr(e/60|0,"0",2)+mr(e%60,"0",2)}function c6(t,e){return mr(t.getUTCDate(),e,2)}function Yme(t,e){return mr(t.getUTCHours(),e,2)}function Xme(t,e){return mr(t.getUTCHours()%12||12,e,2)}function Jme(t,e){return mr(1+V_.count(dd(t),t),e,3)}function rW(t,e){return mr(t.getUTCMilliseconds(),e,3)}function Zme(t,e){return rW(t,e)+"000"}function Qme(t,e){return mr(t.getUTCMonth()+1,e,2)}function ege(t,e){return mr(t.getUTCMinutes(),e,2)}function tge(t,e){return mr(t.getUTCSeconds(),e,2)}function nge(t){var e=t.getUTCDay();return e===0?7:e}function rge(t,e){return mr(K_.count(dd(t)-1,t),e,2)}function iW(t){var e=t.getUTCDay();return e>=4||e===0?Y0(t):Y0.ceil(t)}function ige(t,e){return t=iW(t),mr(Y0.count(dd(t),t)+(dd(t).getUTCDay()===4),e,2)}function age(t){return t.getUTCDay()}function sge(t,e){return mr(J2.count(dd(t)-1,t),e,2)}function oge(t,e){return mr(t.getUTCFullYear()%100,e,2)}function lge(t,e){return t=iW(t),mr(t.getUTCFullYear()%100,e,2)}function cge(t,e){return mr(t.getUTCFullYear()%1e4,e,4)}function uge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Y0(t):Y0.ceil(t),mr(t.getUTCFullYear()%1e4,e,4)}function hge(){return"+0000"}function u6(){return"%"}function h6(t){return+t}function d6(t){return Math.floor(+t/1e3)}var Mg,aW,sW;dge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dge(t){return Mg=dme(t),aW=Mg.format,Mg.parse,sW=Mg.utcFormat,Mg.utcParse,Mg}function fge(t){return new Date(t)}function pge(t){return t instanceof Date?+t:+new Date(+t)}function eL(t,e,n,r,i,a,s,o,l,c){var u=$3(),f=u.invert,m=u.domain,p=c(".%L"),v=c(":%S"),b=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),C=c("%b %d"),E=c("%B"),O=c("%Y");function P(L){return(l(L)<L?p:o(L)<L?v:s(L)<L?b:a(L)<L?x:r(L)<L?i(L)<L?w:C:n(L)<L?E:O)(L)}return u.invert=function(L){return new Date(f(L))},u.domain=function(L){return arguments.length?m(Array.from(L,pge)):m().map(fge)},u.ticks=function(L){var B=m();return t(B[0],B[B.length-1],L??10)},u.tickFormat=function(L,B){return B==null?P:c(B)},u.nice=function(L){var B=m();return(!L||typeof L.range!="function")&&(L=e(B[0],B[B.length-1],L??10)),L?m(VH(B,L)):u},u.copy=function(){return T1(u,eL(t,e,n,r,i,a,s,o,l,c))},u}function mge(){return oc.apply(eL(ume,hme,hd,Z3,G_,E1,X3,K3,Kp,aW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gge(){return oc.apply(eL(lme,cme,dd,Q3,K_,V_,J3,Y3,Kp,sW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y_(){var t=0,e=1,n,r,i,a,s=ao,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(m){var p,v;return arguments.length?([p,v]=m,s=f(p,v),c):[s(0),s(1)]}}return c.range=u(uv),c.rangeRound=u(R3),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Kf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oW(){var t=Gf(Y_()(ao));return t.copy=function(){return Kf(t,oW())},xd.apply(t,arguments)}function lW(){var t=q3(Y_()).domain([1,10]);return t.copy=function(){return Kf(t,lW()).base(t.base())},xd.apply(t,arguments)}function cW(){var t=H3(Y_());return t.copy=function(){return Kf(t,cW()).constant(t.constant())},xd.apply(t,arguments)}function tL(){var t=W3(Y_());return t.copy=function(){return Kf(t,tL()).exponent(t.exponent())},xd.apply(t,arguments)}function vge(){return tL.apply(null,arguments).exponent(.5)}function uW(){var t=[],e=ao;function n(r){if(r!=null&&!isNaN(r=+r))return e((_1(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ihe(t,a/r))},n.copy=function(){return uW(e).domain(t)},xd.apply(n,arguments)}function X_(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=ao,u,f=!1,m;function p(b){return isNaN(b=+b)?m:(b=.5+((b=+u(b))-a)*(r*b<r*a?o:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function v(b){return function(x){var w,C,E;return arguments.length?([w,C,E]=x,c=ffe(b,[w,C,E]),p):[c(0),c(.5),c(1)]}}return p.range=v(uv),p.rangeRound=v(R3),p.unknown=function(b){return arguments.length?(m=b,p):m},function(b){return u=b,i=b(t),a=b(e),s=b(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function hW(){var t=Gf(X_()(ao));return t.copy=function(){return Kf(t,hW())},xd.apply(t,arguments)}function dW(){var t=q3(X_()).domain([.1,1,10]);return t.copy=function(){return Kf(t,dW()).base(t.base())},xd.apply(t,arguments)}function fW(){var t=H3(X_());return t.copy=function(){return Kf(t,fW()).constant(t.constant())},xd.apply(t,arguments)}function nL(){var t=W3(X_());return t.copy=function(){return Kf(t,nL()).exponent(t.exponent())},xd.apply(t,arguments)}function yge(){return nL.apply(null,arguments).exponent(.5)}function Yr(t){return function(){return t}}const pVe=Math.abs,mVe=Math.atan2,pW=Math.cos,gVe=Math.max,vVe=Math.min,Z2=Math.sin,lu=Math.sqrt,f6=1e-12,X0=Math.PI,p6=X0/2,J_=2*X0;function yVe(t){return t>1?0:t<-1?X0:Math.acos(t)}function bVe(t){return t>=1?p6:t<=-1?-p6:Math.asin(t)}function rL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ape(e)}function iL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mW(t){this._context=t}mW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pm(t){return new mW(t)}function gW(t){return t[0]}function vW(t){return t[1]}function aL(t,e){var n=Yr(!0),r=null,i=pm,a=null,s=rL(o);t=typeof t=="function"?t:t===void 0?gW:Yr(t),e=typeof e=="function"?e:e===void 0?vW:Yr(e);function o(l){var c,u=(l=iL(l)).length,f,m=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Yr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Yr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function nw(t,e,n){var r=null,i=Yr(!0),a=null,s=pm,o=null,l=rL(c);t=typeof t=="function"?t:t===void 0?gW:Yr(+t),e=typeof e=="function"?e:Yr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vW:Yr(+n);function c(f){var m,p,v,b=(f=iL(f)).length,x,w=!1,C,E=new Array(b),O=new Array(b);for(a==null&&(o=s(C=l())),m=0;m<=b;++m){if(!(m<b&&i(x=f[m],m,f))===w)if(w=!w)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=m-1;v>=p;--v)o.point(E[v],O[v]);o.lineEnd(),o.areaEnd()}w&&(E[m]=+t(x,m,f),O[m]=+e(x,m,f),o.point(r?+r(x,m,f):E[m],n?+n(x,m,f):O[m]))}if(C)return o=null,C+""||null}function u(){return aL().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Yr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class yW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sL(t){return new yW(t,!0)}function oL(t){return new yW(t,!1)}const lL={draw(t,e){const n=lu(e/X0);t.moveTo(n,0),t.arc(0,0,n,0,J_)}},bge={draw(t,e){const n=lu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bW=lu(1/3),xge=bW*2,wge={draw(t,e){const n=lu(e/xge),r=n*bW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Sge={draw(t,e){const n=lu(e),r=-n/2;t.rect(r,r,n,n)}},_ge=.8908130915292852,xW=Z2(X0/10)/Z2(7*X0/10),kge=Z2(J_/10)*xW,Cge=-pW(J_/10)*xW,Tge={draw(t,e){const n=lu(e*_ge),r=kge*n,i=Cge*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=J_*a/5,o=pW(s),l=Z2(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},lT=lu(3),Ege={draw(t,e){const n=-lu(e/(lT*3));t.moveTo(0,n*2),t.lineTo(-lT*n,-n),t.lineTo(lT*n,-n),t.closePath()}},$l=-.5,ql=lu(3)/2,RO=1/lu(12),Age=(RO/2+1)*3,Oge={draw(t,e){const n=lu(e/Age),r=n/2,i=n*RO,a=r,s=n*RO+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo($l*r-ql*i,ql*r+$l*i),t.lineTo($l*a-ql*s,ql*a+$l*s),t.lineTo($l*o-ql*l,ql*o+$l*l),t.lineTo($l*r+ql*i,$l*i-ql*r),t.lineTo($l*a+ql*s,$l*s-ql*a),t.lineTo($l*o+ql*l,$l*l-ql*o),t.closePath()}};function Pge(t,e){let n=null,r=rL(i);t=typeof t=="function"?t:Yr(t||lL),e=typeof e=="function"?e:Yr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Yr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Yr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Bf(){}function Q2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Z_(t){this._context=t}Z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lb(t){return new Z_(t)}function wW(t){this._context=t}wW.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Q2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SW(t){return new wW(t)}function _W(t){this._context=t}_W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Q2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kW(t){return new _W(t)}function CW(t,e){this._basis=new Z_(t),this._beta=e}CW.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,s=e[n]-i,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Nge=(function t(e){function n(r){return e===1?new Z_(r):new CW(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function eS(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function cL(t,e){this._context=t,this._k=(1-e)/6}cL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eS(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:eS(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const TW=(function t(e){function n(r){return new cL(r,e)}return n.tension=function(r){return t(+r)},n})(0);function uL(t,e){this._context=t,this._k=(1-e)/6}uL.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:eS(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Lge=(function t(e){function n(r){return new uL(r,e)}return n.tension=function(r){return t(+r)},n})(0);function hL(t,e){this._context=t,this._k=(1-e)/6}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eS(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Mge=(function t(e){function n(r){return new hL(r,e)}return n.tension=function(r){return t(+r)},n})(0);function dL(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>f6){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>f6){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function EW(t,e){this._context=t,this._alpha=e}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:dL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const AW=(function t(e){function n(r){return e?new EW(r,e):new cL(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function OW(t,e){this._context=t,this._alpha=e}OW.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Rge=(function t(e){function n(r){return e?new OW(r,e):new uL(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function PW(t,e){this._context=t,this._alpha=e}PW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dL(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ige=(function t(e){function n(r){return e?new PW(r,e):new hL(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function NW(t){this._context=t}NW.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function LW(t){return new NW(t)}function m6(t){return t<0?-1:1}function g6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(m6(a)+m6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function v6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cT(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function tS(t){this._context=t}tS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cT(this,this._t0,v6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cT(this,v6(this,n=g6(this,t,e)),n);break;default:cT(this,this._t0,n=g6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MW(t){this._context=new RW(t)}(MW.prototype=Object.create(tS.prototype)).point=function(t,e){tS.prototype.point.call(this,e,t)};function RW(t){this._context=t}RW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function fL(t){return new tS(t)}function pL(t){return new MW(t)}function IW(t){this._context=t}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=y6(t),i=y6(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function y6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mL(t){return new IW(t)}function Q_(t,e){this._context=t,this._t=e}Q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gL(t){return new Q_(t,.5)}function vL(t){return new Q_(t,0)}function yL(t){return new Q_(t,1)}function mm(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function IO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jge(t,e){return t[e]}function Dge(t){const e=[];return e.key=t,e}function Bge(){var t=Yr([]),e=IO,n=mm,r=jge;function i(a){var s=Array.from(t.apply(this,arguments),Dge),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=iL(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Yr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Yr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?IO:typeof a=="function"?a:Yr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??mm,i):n},i}function Fge(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}mm(t,e)}}function Uge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}mm(t,e)}}function zge(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[r][1]||0,m=u[r-1][1]||0,p=(f-m)/2,v=0;v<o;++v){var b=t[e[v]],x=b[r][1]||0,w=b[r-1][1]||0;p+=x-w}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mm(t,e)}}function Wy(t,e,n){this.k=t,this.x=e,this.y=n}Wy.prototype={constructor:Wy,scale:function(t){return t===1?this:new Wy(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wy(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wy.prototype;var $ge=D(t=>{const{securityLevel:e}=Sr();let n=ar("body");if(e==="sandbox"){const a=ar(`#i${t}`).node()?.contentDocument??document;n=ar(a.body)}return n.select(`#${t}`)},"selectSvgElement");function bL(t){return typeof t>"u"||t===null}D(bL,"isNothing");function jW(t){return typeof t=="object"&&t!==null}D(jW,"isObject");function DW(t){return Array.isArray(t)?t:bL(t)?[]:[t]}D(DW,"toArray");function BW(t,e){var n,r,i,a;if(e)for(a=Object.keys(e),n=0,r=a.length;n<r;n+=1)i=a[n],t[i]=e[i];return t}D(BW,"extend");function FW(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}D(FW,"repeat");function UW(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}D(UW,"isNegativeZero");var qge=bL,Hge=jW,Wge=DW,Vge=FW,Gge=UW,Kge=BW,Pa={isNothing:qge,isObject:Hge,toArray:Wge,repeat:Vge,isNegativeZero:Gge,extend:Kge};function xL(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}D(xL,"formatError");function J0(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=xL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}D(J0,"YAMLException$1");J0.prototype=Object.create(Error.prototype);J0.prototype.constructor=J0;J0.prototype.toString=D(function(e){return this.name+": "+xL(this,e)},"toString");var Do=J0;function Jw(t,e,n,r,i){var a="",s="",o=Math.floor(i/2)-1;return r-e>o&&(a=" ... ",e=r-o+a.length),n-r>o&&(s=" ...",n=r+o-s.length),{str:a+t.slice(e,n).replace(/\t/g,"")+s,pos:r-e+a.length}}D(Jw,"getLine");function Zw(t,e){return Pa.repeat(" ",e-t.length)+t}D(Zw,"padStart");function zW(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(t.buffer);)i.push(a.index),r.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var o="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)c=Jw(t.buffer,r[s-l],i[s-l],t.position-(r[s]-r[s-l]),f),o=Pa.repeat(" ",e.indent)+Zw((t.line-l+1).toString(),u)+" | "+c.str+`
`+o;for(c=Jw(t.buffer,r[s],i[s],t.position,f),o+=Pa.repeat(" ",e.indent)+Zw((t.line+1).toString(),u)+" | "+c.str+`
`,o+=Pa.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)c=Jw(t.buffer,r[s+l],i[s+l],t.position-(r[s]-r[s+l]),f),o+=Pa.repeat(" ",e.indent)+Zw((t.line+l+1).toString(),u)+" | "+c.str+`
`;return o.replace(/\n$/,"")}D(zW,"makeSnippet");var Yge=zW,Xge=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Jge=["scalar","sequence","mapping"];function $W(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}D($W,"compileStyleAliases");function qW(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Xge.indexOf(n)===-1)throw new Do('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=$W(e.styleAliases||null),Jge.indexOf(this.kind)===-1)throw new Do('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}D(qW,"Type$1");var Is=qW;function jO(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}D(jO,"compileList");function HW(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(D(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}D(HW,"compileMap");function nS(t){return this.extend(t)}D(nS,"Schema$1");nS.prototype.extend=D(function(e){var n=[],r=[];if(e instanceof Is)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Do("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof Is))throw new Do("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Do("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Do("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof Is))throw new Do("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(nS.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=jO(i,"implicit"),i.compiledExplicit=jO(i,"explicit"),i.compiledTypeMap=HW(i.compiledImplicit,i.compiledExplicit),i},"extend");var Zge=nS,Qge=new Is("tag:yaml.org,2002:str",{kind:"scalar",construct:D(function(t){return t!==null?t:""},"construct")}),e0e=new Is("tag:yaml.org,2002:seq",{kind:"sequence",construct:D(function(t){return t!==null?t:[]},"construct")}),t0e=new Is("tag:yaml.org,2002:map",{kind:"mapping",construct:D(function(t){return t!==null?t:{}},"construct")}),n0e=new Zge({explicit:[Qge,e0e,t0e]});function WW(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}D(WW,"resolveYamlNull");function VW(){return null}D(VW,"constructYamlNull");function GW(t){return t===null}D(GW,"isNull");var r0e=new Is("tag:yaml.org,2002:null",{kind:"scalar",resolve:WW,construct:VW,predicate:GW,represent:{canonical:D(function(){return"~"},"canonical"),lowercase:D(function(){return"null"},"lowercase"),uppercase:D(function(){return"NULL"},"uppercase"),camelcase:D(function(){return"Null"},"camelcase"),empty:D(function(){return""},"empty")},defaultStyle:"lowercase"});function KW(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}D(KW,"resolveYamlBoolean");function YW(t){return t==="true"||t==="True"||t==="TRUE"}D(YW,"constructYamlBoolean");function XW(t){return Object.prototype.toString.call(t)==="[object Boolean]"}D(XW,"isBoolean");var i0e=new Is("tag:yaml.org,2002:bool",{kind:"scalar",resolve:KW,construct:YW,predicate:XW,represent:{lowercase:D(function(t){return t?"true":"false"},"lowercase"),uppercase:D(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:D(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function JW(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}D(JW,"isHexCode");function ZW(t){return 48<=t&&t<=55}D(ZW,"isOctCode");function QW(t){return 48<=t&&t<=57}D(QW,"isDecCode");function eV(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!JW(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!ZW(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!QW(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}D(eV,"resolveYamlInteger");function tV(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}D(tV,"constructYamlInteger");function nV(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Pa.isNegativeZero(t)}D(nV,"isInteger");var a0e=new Is("tag:yaml.org,2002:int",{kind:"scalar",resolve:eV,construct:tV,predicate:nV,represent:{binary:D(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:D(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:D(function(t){return t.toString(10)},"decimal"),hexadecimal:D(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),s0e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rV(t){return!(t===null||!s0e.test(t)||t[t.length-1]==="_")}D(rV,"resolveYamlFloat");function iV(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}D(iV,"constructYamlFloat");var o0e=/^[-+]?[0-9]+e/;function aV(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Pa.isNegativeZero(t))return"-0.0";return n=t.toString(10),o0e.test(n)?n.replace("e",".e"):n}D(aV,"representYamlFloat");function sV(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Pa.isNegativeZero(t))}D(sV,"isFloat");var l0e=new Is("tag:yaml.org,2002:float",{kind:"scalar",resolve:rV,construct:iV,predicate:sV,represent:aV,defaultStyle:"lowercase"}),oV=n0e.extend({implicit:[r0e,i0e,a0e,l0e]}),c0e=oV,lV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function uV(t){return t===null?!1:lV.exec(t)!==null||cV.exec(t)!==null}D(uV,"resolveYamlTimestamp");function hV(t){var e,n,r,i,a,s,o,l=0,c=null,u,f,m;if(e=lV.exec(t),e===null&&(e=cV.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),m=new Date(Date.UTC(n,r,i,a,s,o,l)),c&&m.setTime(m.getTime()-c),m}D(hV,"constructYamlTimestamp");function dV(t){return t.toISOString()}D(dV,"representYamlTimestamp");var u0e=new Is("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:uV,construct:hV,instanceOf:Date,represent:dV});function fV(t){return t==="<<"||t===null}D(fV,"resolveYamlMerge");var h0e=new Is("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fV}),wL=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pV(t){if(t===null)return!1;var e,n,r=0,i=t.length,a=wL;for(n=0;n<i;n++)if(e=a.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}D(pV,"resolveYamlBinary");function mV(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,a=wL,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):n===18?(o.push(s>>10&255),o.push(s>>2&255)):n===12&&o.push(s>>4&255),new Uint8Array(o)}D(mV,"constructYamlBinary");function gV(t){var e="",n=0,r,i,a=t.length,s=wL;for(r=0;r<a;r++)r%3===0&&r&&(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]),n=(n<<8)+t[r];return i=a%3,i===0?(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]):i===2?(e+=s[n>>10&63],e+=s[n>>4&63],e+=s[n<<2&63],e+=s[64]):i===1&&(e+=s[n>>2&63],e+=s[n<<4&63],e+=s[64],e+=s[64]),e}D(gV,"representYamlBinary");function vV(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}D(vV,"isBinary");var d0e=new Is("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pV,construct:mV,predicate:vV,represent:gV}),f0e=Object.prototype.hasOwnProperty,p0e=Object.prototype.toString;function yV(t){if(t===null)return!0;var e=[],n,r,i,a,s,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],s=!1,p0e.call(i)!=="[object Object]")return!1;for(a in i)if(f0e.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}D(yV,"resolveYamlOmap");function bV(t){return t!==null?t:[]}D(bV,"constructYamlOmap");var m0e=new Is("tag:yaml.org,2002:omap",{kind:"sequence",resolve:yV,construct:bV}),g0e=Object.prototype.toString;function xV(t){if(t===null)return!0;var e,n,r,i,a,s=t;for(a=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],g0e.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[e]=[i[0],r[i[0]]]}return!0}D(xV,"resolveYamlPairs");function wV(t){if(t===null)return[];var e,n,r,i,a,s=t;for(a=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),a[e]=[i[0],r[i[0]]];return a}D(wV,"constructYamlPairs");var v0e=new Is("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:xV,construct:wV}),y0e=Object.prototype.hasOwnProperty;function SV(t){if(t===null)return!0;var e,n=t;for(e in n)if(y0e.call(n,e)&&n[e]!==null)return!1;return!0}D(SV,"resolveYamlSet");function _V(t){return t!==null?t:{}}D(_V,"constructYamlSet");var b0e=new Is("tag:yaml.org,2002:set",{kind:"mapping",resolve:SV,construct:_V}),kV=c0e.extend({implicit:[u0e,h0e],explicit:[d0e,m0e,v0e,b0e]}),Ff=Object.prototype.hasOwnProperty,rS=1,CV=2,TV=3,iS=4,uT=1,x0e=2,b6=3,w0e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,S0e=/[\x85\u2028\u2029]/,_0e=/[,\[\]\{\}]/,EV=/^(?:!|!!|![a-z\-]+!)$/i,AV=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function DO(t){return Object.prototype.toString.call(t)}D(DO,"_class");function eu(t){return t===10||t===13}D(eu,"is_EOL");function Rf(t){return t===9||t===32}D(Rf,"is_WHITE_SPACE");function so(t){return t===9||t===32||t===10||t===13}D(so,"is_WS_OR_EOL");function Yp(t){return t===44||t===91||t===93||t===123||t===125}D(Yp,"is_FLOW_INDICATOR");function OV(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}D(OV,"fromHexCode");function PV(t){return t===120?2:t===117?4:t===85?8:0}D(PV,"escapedHexLen");function NV(t){return 48<=t&&t<=57?t-48:-1}D(NV,"fromDecimalCode");function BO(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}D(BO,"simpleEscapeSequence");function LV(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}D(LV,"charFromCodepoint");var MV=new Array(256),RV=new Array(256);for(Np=0;Np<256;Np++)MV[Np]=BO(Np)?1:0,RV[Np]=BO(Np);var Np;function IV(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||kV,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}D(IV,"State$1");function SL(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=Yge(n),new Do(e,n)}D(SL,"generateError");function tn(t,e){throw SL(t,e)}D(tn,"throwError");function Lb(t,e){t.onWarning&&t.onWarning.call(null,SL(t,e))}D(Lb,"throwWarning");var x6={YAML:D(function(e,n,r){var i,a,s;e.version!==null&&tn(e,"duplication of %YAML directive"),r.length!==1&&tn(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&tn(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&tn(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Lb(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:D(function(e,n,r){var i,a;r.length!==2&&tn(e,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],EV.test(i)||tn(e,"ill-formed tag handle (first argument) of the TAG directive"),Ff.call(e.tagMap,i)&&tn(e,'there is a previously declared suffix for "'+i+'" tag handle'),AV.test(a)||tn(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{tn(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function sd(t,e,n,r){var i,a,s,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||tn(t,"expected valid JSON character");else w0e.test(o)&&tn(t,"the stream contains non-printable characters");t.result+=o}}D(sd,"captureSegment");function FO(t,e,n,r){var i,a,s,o;for(Pa.isObject(n)||tn(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,o=i.length;s<o;s+=1)a=i[s],Ff.call(e,a)||(e[a]=n[a],r[a]=!0)}D(FO,"mergeMappings");function Xp(t,e,n,r,i,a,s,o,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&tn(t,"nested arrays are not supported inside keys"),typeof i=="object"&&DO(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&DO(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(c=0,u=a.length;c<u;c+=1)FO(t,e,a[c],n);else FO(t,e,a,n);else!t.json&&!Ff.call(n,i)&&Ff.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,tn(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete n[i];return e}D(Xp,"storeMappingPair");function ek(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):tn(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}D(ek,"readLineBreak");function ea(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Rf(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(eu(i))for(ek(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Lb(t,"deficient indentation"),r}D(ea,"skipSeparationSpace");function A1(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||so(n)))}D(A1,"testDocumentSeparator");function tk(t,e){e===1?t.result+=" ":e>1&&(t.result+=Pa.repeat(`
`,e-1))}D(tk,"writeFoldedLines");function jV(t,e,n){var r,i,a,s,o,l,c,u,f=t.kind,m=t.result,p;if(p=t.input.charCodeAt(t.position),so(p)||Yp(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),so(i)||n&&Yp(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),so(i)||n&&Yp(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),so(r))break}else{if(t.position===t.lineStart&&A1(t)||n&&Yp(p))break;if(eu(p))if(l=t.line,c=t.lineStart,u=t.lineIndent,ea(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=c,t.lineIndent=u;break}}o&&(sd(t,a,s,!1),tk(t,t.line-l),a=s=t.position,o=!1),Rf(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return sd(t,a,s,!1),t.result?!0:(t.kind=f,t.result=m,!1)}D(jV,"readPlainScalar");function DV(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(sd(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else eu(n)?(sd(t,r,i,!0),tk(t,ea(t,!1,e)),r=i=t.position):t.position===t.lineStart&&A1(t)?tn(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);tn(t,"unexpected end of the stream within a single quoted scalar")}D(DV,"readSingleQuotedScalar");function BV(t,e){var n,r,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return sd(t,n,t.position,!0),t.position++,!0;if(o===92){if(sd(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),eu(o))ea(t,!1,e);else if(o<256&&MV[o])t.result+=RV[o],t.position++;else if((s=PV(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=OV(o))>=0?a=(a<<4)+s:tn(t,"expected hexadecimal character");t.result+=LV(a),t.position++}else tn(t,"unknown escape sequence");n=r=t.position}else eu(o)?(sd(t,n,r,!0),tk(t,ea(t,!1,e)),n=r=t.position):t.position===t.lineStart&&A1(t)?tn(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}tn(t,"unexpected end of the stream within a double quoted scalar")}D(BV,"readDoubleQuotedScalar");function FV(t,e){var n=!0,r,i,a,s=t.tag,o,l=t.anchor,c,u,f,m,p,v=Object.create(null),b,x,w,C;if(C=t.input.charCodeAt(t.position),C===91)u=93,p=!1,o=[];else if(C===123)u=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),C=t.input.charCodeAt(++t.position);C!==0;){if(ea(t,!0,e),C=t.input.charCodeAt(t.position),C===u)return t.position++,t.tag=s,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;n?C===44&&tn(t,"expected the node content, but found ','"):tn(t,"missed comma between flow collection entries"),x=b=w=null,f=m=!1,C===63&&(c=t.input.charCodeAt(t.position+1),so(c)&&(f=m=!0,t.position++,ea(t,!0,e))),r=t.line,i=t.lineStart,a=t.position,gm(t,e,rS,!1,!0),x=t.tag,b=t.result,ea(t,!0,e),C=t.input.charCodeAt(t.position),(m||t.line===r)&&C===58&&(f=!0,C=t.input.charCodeAt(++t.position),ea(t,!0,e),gm(t,e,rS,!1,!0),w=t.result),p?Xp(t,o,v,x,b,w,r,i,a):f?o.push(Xp(t,null,v,x,b,w,r,i,a)):o.push(b),ea(t,!0,e),C=t.input.charCodeAt(t.position),C===44?(n=!0,C=t.input.charCodeAt(++t.position)):n=!1}tn(t,"unexpected end of the stream within a flow collection")}D(FV,"readFlowCollection");function UV(t,e){var n,r,i=uT,a=!1,s=!1,o=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)uT===i?i=f===43?b6:x0e:tn(t,"repeat of a chomping mode identifier");else if((u=NV(f))>=0)u===0?tn(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?tn(t,"repeat of an indentation width identifier"):(o=e+u-1,s=!0);else break;if(Rf(f)){do f=t.input.charCodeAt(++t.position);while(Rf(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!eu(f)&&f!==0)}for(;f!==0;){for(ek(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),eu(f)){l++;continue}if(t.lineIndent<o){i===b6?t.result+=Pa.repeat(`
`,a?1+l:l):i===uT&&a&&(t.result+=`
`);break}for(r?Rf(f)?(c=!0,t.result+=Pa.repeat(`
`,a?1+l:l)):c?(c=!1,t.result+=Pa.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=Pa.repeat(`
`,l):t.result+=Pa.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,n=t.position;!eu(f)&&f!==0;)f=t.input.charCodeAt(++t.position);sd(t,n,t.position,!1)}return!0}D(UV,"readBlockScalar");function UO(t,e){var n,r=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tn(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!so(s))));){if(o=!0,t.position++,ea(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,gm(t,e,TV,!1,!0),a.push(t.result),ea(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)tn(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}D(UO,"readBlockSequence");function zV(t,e,n){var r,i,a,s,o,l,c=t.tag,u=t.anchor,f={},m=Object.create(null),p=null,v=null,b=null,x=!1,w=!1,C;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),C=t.input.charCodeAt(t.position);C!==0;){if(!x&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tn(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),a=t.line,(C===63||C===58)&&so(r))C===63?(x&&(Xp(t,f,m,p,v,null,s,o,l),p=v=b=null),w=!0,x=!0,i=!0):x?(x=!1,i=!0):tn(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,C=r;else{if(s=t.line,o=t.lineStart,l=t.position,!gm(t,n,CV,!1,!0))break;if(t.line===a){for(C=t.input.charCodeAt(t.position);Rf(C);)C=t.input.charCodeAt(++t.position);if(C===58)C=t.input.charCodeAt(++t.position),so(C)||tn(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Xp(t,f,m,p,v,null,s,o,l),p=v=b=null),w=!0,x=!1,i=!1,p=t.tag,v=t.result;else if(w)tn(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(w)tn(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===a||t.lineIndent>e)&&(x&&(s=t.line,o=t.lineStart,l=t.position),gm(t,e,iS,!0,i)&&(x?v=t.result:b=t.result),x||(Xp(t,f,m,p,v,b,s,o,l),p=v=b=null),ea(t,!0,-1),C=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&C!==0)tn(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&Xp(t,f,m,p,v,null,s,o,l),w&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),w}D(zV,"readBlockMapping");function $V(t){var e,n=!1,r=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&tn(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(n=!0,s=t.input.charCodeAt(++t.position)):s===33?(r=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):tn(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!so(s);)s===33&&(r?tn(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),EV.test(i)||tn(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),_0e.test(a)&&tn(t,"tag suffix cannot contain flow indicator characters")}a&&!AV.test(a)&&tn(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{tn(t,"tag name is malformed: "+a)}return n?t.tag=a:Ff.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:tn(t,'undeclared tag handle "'+i+'"'),!0}D($V,"readTagProperty");function qV(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&tn(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!so(n)&&!Yp(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&tn(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}D(qV,"readAnchorProperty");function HV(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!so(r)&&!Yp(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&tn(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ff.call(t.anchorMap,n)||tn(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],ea(t,!0,-1),!0}D(HV,"readAlias");function gm(t,e,n,r,i){var a,s,o,l=1,c=!1,u=!1,f,m,p,v,b,x;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=iS===n||TV===n,r&&ea(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;$V(t)||qV(t);)ea(t,!0,-1)?(c=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||iS===n)&&(rS===n||CV===n?b=e:b=e+1,x=t.position-t.lineStart,l===1?o&&(UO(t,x)||zV(t,x,b))||FV(t,b)?u=!0:(s&&UV(t,b)||DV(t,b)||BV(t,b)?u=!0:HV(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&tn(t,"alias node should not have any properties")):jV(t,b,rS===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=o&&UO(t,x))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&tn(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,m=t.implicitTypes.length;f<m;f+=1)if(v=t.implicitTypes[f],v.resolve(t.result)){t.result=v.construct(t.result),t.tag=v.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ff.call(t.typeMap[t.kind||"fallback"],t.tag))v=t.typeMap[t.kind||"fallback"][t.tag];else for(v=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,m=p.length;f<m;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){v=p[f];break}v||tn(t,"unknown tag !<"+t.tag+">"),t.result!==null&&v.kind!==t.kind&&tn(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+v.kind+'", not "'+t.kind+'"'),v.resolve(t.result,t.tag)?(t.result=v.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):tn(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}D(gm,"composeNode");function WV(t){var e=t.position,n,r,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(ea(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),n=t.position;s!==0&&!so(s);)s=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&tn(t,"directive name must not be less than one character in length");s!==0;){for(;Rf(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!eu(s));break}if(eu(s))break;for(n=t.position;s!==0&&!so(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}s!==0&&ek(t),Ff.call(x6,r)?x6[r](t,r,i):Lb(t,'unknown document directive "'+r+'"')}if(ea(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ea(t,!0,-1)):a&&tn(t,"directives end mark is expected"),gm(t,t.lineIndent-1,iS,!1,!0),ea(t,!0,-1),t.checkLineBreaks&&S0e.test(t.input.slice(e,t.position))&&Lb(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&A1(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ea(t,!0,-1));return}if(t.position<t.length-1)tn(t,"end of the stream or a document separator is expected");else return}D(WV,"readDocument");function _L(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new IV(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,tn(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)WV(n);return n.documents}D(_L,"loadDocuments");function k0e(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=_L(t,n);if(typeof e!="function")return r;for(var i=0,a=r.length;i<a;i+=1)e(r[i])}D(k0e,"loadAll$1");function VV(t,e){var n=_L(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Do("expected a single document in the stream, but found more")}}D(VV,"load$1");var C0e=VV,T0e={load:C0e},GV=Object.prototype.toString,KV=Object.prototype.hasOwnProperty,kL=65279,E0e=9,Mb=10,A0e=13,O0e=32,P0e=33,N0e=34,zO=35,L0e=37,M0e=38,R0e=39,I0e=42,YV=44,j0e=45,aS=58,D0e=61,B0e=62,F0e=63,U0e=64,XV=91,JV=93,z0e=96,ZV=123,$0e=124,QV=125,Bs={};Bs[0]="\\0";Bs[7]="\\a";Bs[8]="\\b";Bs[9]="\\t";Bs[10]="\\n";Bs[11]="\\v";Bs[12]="\\f";Bs[13]="\\r";Bs[27]="\\e";Bs[34]='\\"';Bs[92]="\\\\";Bs[133]="\\N";Bs[160]="\\_";Bs[8232]="\\L";Bs[8233]="\\P";var q0e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],H0e=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function eG(t,e){var n,r,i,a,s,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,a=r.length;i<a;i+=1)s=r[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&KV.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[s]=o;return n}D(eG,"compileStyleMap");function tG(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Do("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Pa.repeat("0",r-e.length)+e}D(tG,"encodeHex");var W0e=1,Rb=2;function nG(t){this.schema=t.schema||kV,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Pa.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=eG(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Rb:W0e,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}D(nG,"State");function $O(t,e){for(var n=Pa.repeat(" ",e),r=0,i=-1,a="",s,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(s=t.slice(r),r=o):(s=t.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(a+=n),a+=s;return a}D($O,"indentString");function sS(t,e){return`
`+Pa.repeat(" ",t.indent*e)}D(sS,"generateNextLine");function rG(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}D(rG,"testImplicitResolving");function Ib(t){return t===O0e||t===E0e}D(Ib,"isWhitespace");function Z0(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==kL||65536<=t&&t<=1114111}D(Z0,"isPrintable");function qO(t){return Z0(t)&&t!==kL&&t!==A0e&&t!==Mb}D(qO,"isNsCharOrWhitespace");function HO(t,e,n){var r=qO(t),i=r&&!Ib(t);return(n?r:r&&t!==YV&&t!==XV&&t!==JV&&t!==ZV&&t!==QV)&&t!==zO&&!(e===aS&&!i)||qO(e)&&!Ib(e)&&t===zO||e===aS&&i}D(HO,"isPlainSafe");function iG(t){return Z0(t)&&t!==kL&&!Ib(t)&&t!==j0e&&t!==F0e&&t!==aS&&t!==YV&&t!==XV&&t!==JV&&t!==ZV&&t!==QV&&t!==zO&&t!==M0e&&t!==I0e&&t!==P0e&&t!==$0e&&t!==D0e&&t!==B0e&&t!==R0e&&t!==N0e&&t!==L0e&&t!==U0e&&t!==z0e}D(iG,"isPlainSafeFirst");function aG(t){return!Ib(t)&&t!==aS}D(aG,"isPlainSafeLast");function s0(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}D(s0,"codePointAt");function CL(t){var e=/^\n* /;return e.test(t)}D(CL,"needIndentIndicator");var sG=1,WO=2,oG=3,lG=4,Zg=5;function cG(t,e,n,r,i,a,s,o){var l,c=0,u=null,f=!1,m=!1,p=r!==-1,v=-1,b=iG(s0(t,0))&&aG(s0(t,t.length-1));if(e||s)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=s0(t,l),!Z0(c))return Zg;b=b&&HO(c,u,o),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=s0(t,l),c===Mb)f=!0,p&&(m=m||l-v-1>r&&t[v+1]!==" ",v=l);else if(!Z0(c))return Zg;b=b&&HO(c,u,o),u=c}m=m||p&&l-v-1>r&&t[v+1]!==" "}return!f&&!m?b&&!s&&!i(t)?sG:a===Rb?Zg:WO:n>9&&CL(t)?Zg:s?a===Rb?Zg:WO:m?lG:oG}D(cG,"chooseScalarStyle");function uG(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===Rb?'""':"''";if(!t.noCompatMode&&(q0e.indexOf(e)!==-1||H0e.test(e)))return t.quotingType===Rb?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,n),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return rG(t,c)}switch(D(l,"testAmbiguity"),cG(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!r,i)){case sG:return e;case WO:return"'"+e.replace(/'/g,"''")+"'";case oG:return"|"+VO(e,t.indent)+GO($O(e,a));case lG:return">"+VO(e,t.indent)+GO($O(hG(e,s),a));case Zg:return'"'+dG(e)+'"';default:throw new Do("impossible error: invalid scalar style")}})()}D(uG,"writeScalar");function VO(t,e){var n=CL(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),a=i?"+":r?"":"-";return n+a+`
`}D(VO,"blockHeader");function GO(t){return t[t.length-1]===`
`?t.slice(0,-1):t}D(GO,"dropEndingNewline");function hG(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,KO(t.slice(0,c),e)})(),i=t[0]===`
`||t[0]===" ",a,s;s=n.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",r+=o+(!i&&!a&&l!==""?`
`:"")+KO(l,e),i=a}return r}D(hG,"foldString");function KO(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,a,s=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}D(KO,"foldLine");function dG(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=s0(t,i),r=Bs[n],!r&&Z0(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||tG(n);return e}D(dG,"escapeString");function fG(t,e,n){var r="",i=t.tag,a,s,o;for(a=0,s=n.length;a<s;a+=1)o=n[a],t.replacer&&(o=t.replacer.call(n,String(a),o)),(Xu(t,e,o,!1,!1)||typeof o>"u"&&Xu(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}D(fG,"writeFlowSequence");function YO(t,e,n,r){var i="",a=t.tag,s,o,l;for(s=0,o=n.length;s<o;s+=1)l=n[s],t.replacer&&(l=t.replacer.call(n,String(s),l)),(Xu(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Xu(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=sS(t,e)),t.dump&&Mb===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}D(YO,"writeBlockSequence");function pG(t,e,n){var r="",i=t.tag,a=Object.keys(n),s,o,l,c,u;for(s=0,o=a.length;s<o;s+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=a[s],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Xu(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Xu(t,e,c,!1,!1)&&(u+=t.dump,r+=u));t.tag=i,t.dump="{"+r+"}"}D(pG,"writeFlowMapping");function mG(t,e,n,r){var i="",a=t.tag,s=Object.keys(n),o,l,c,u,f,m;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Do("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)m="",(!r||i!=="")&&(m+=sS(t,e)),c=s[o],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),Xu(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Mb===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,f&&(m+=sS(t,e)),Xu(t,e+1,u,!0,f)&&(t.dump&&Mb===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=a,t.dump=i||"{}"}D(mG,"writeBlockMapping");function XO(t,e,n){var r,i,a,s,o,l;for(i=n?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,GV.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(KV.call(o.represent,l))r=o.represent[l](e,l);else throw new Do("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}D(XO,"detectType");function Xu(t,e,n,r,i,a,s){t.tag=null,t.dump=n,XO(t,n,!1)||XO(t,n,!0);var o=GV.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=o==="[object Object]"||o==="[object Array]",f,m;if(u&&(f=t.duplicates.indexOf(n),m=f!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&m&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(mG(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(pG(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?YO(t,e-1,t.dump,i):YO(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(fG(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&uG(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Do("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}D(Xu,"writeNode");function gG(t,e){var n=[],r=[],i,a;for(oS(t,n,r),i=0,a=r.length;i<a;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(a)}D(gG,"getDuplicateReferences");function oS(t,e,n){var r,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)oS(t[i],e,n);else for(r=Object.keys(t),i=0,a=r.length;i<a;i+=1)oS(t[r[i]],e,n)}D(oS,"inspectNode");function V0e(t,e){e=e||{};var n=new nG(e);n.noRefs||gG(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Xu(n,0,r,!0,!0)?n.dump+`
`:""}D(V0e,"dump$1");function G0e(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}D(G0e,"renamed");var K0e=oV,Y0e=T0e.load;var Ps={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},w6={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function Vy(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=mi(t),e=mi(e);const[n,r]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-n,o=a-r;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}D(Vy,"calculateDeltaAndAngle");var mi=D(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),X0e=D(t=>({x:D(function(e,n,r){let i=0;const a=mi(r[0]).x<mi(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Ps,t.arrowTypeStart)){const{angle:p,deltaX:v}=Vy(r[0],r[1]);i=Ps[t.arrowTypeStart]*Math.cos(p)*(v>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ps,t.arrowTypeEnd)){const{angle:p,deltaX:v}=Vy(r[r.length-1],r[r.length-2]);i=Ps[t.arrowTypeEnd]*Math.cos(p)*(v>=0?1:-1)}const s=Math.abs(mi(e).x-mi(r[r.length-1]).x),o=Math.abs(mi(e).y-mi(r[r.length-1]).y),l=Math.abs(mi(e).x-mi(r[0]).x),c=Math.abs(mi(e).y-mi(r[0]).y),u=Ps[t.arrowTypeStart],f=Ps[t.arrowTypeEnd],m=1;if(s<f&&s>0&&o<f){let p=f+m-s;p*=a==="right"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+m-l;p*=a==="right"?-1:1,i+=p}return mi(e).x+i},"x"),y:D(function(e,n,r){let i=0;const a=mi(r[0]).y<mi(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Ps,t.arrowTypeStart)){const{angle:p,deltaY:v}=Vy(r[0],r[1]);i=Ps[t.arrowTypeStart]*Math.abs(Math.sin(p))*(v>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ps,t.arrowTypeEnd)){const{angle:p,deltaY:v}=Vy(r[r.length-1],r[r.length-2]);i=Ps[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(v>=0?1:-1)}const s=Math.abs(mi(e).y-mi(r[r.length-1]).y),o=Math.abs(mi(e).x-mi(r[r.length-1]).x),l=Math.abs(mi(e).y-mi(r[0]).y),c=Math.abs(mi(e).x-mi(r[0]).x),u=Ps[t.arrowTypeStart],f=Ps[t.arrowTypeEnd],m=1;if(s<f&&s>0&&o<f){let p=f+m-s;p*=a==="up"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+m-l;p*=a==="up"?-1:1,i+=p}return mi(e).y+i},"y")}),"getLineFunctionsWithOffset"),TL=D(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,n=t?.subGraphTitleMargin?.bottom??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),J0e=D(t=>{const{handDrawnSeed:e}=Sr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),hv=D(t=>{const e=Z0e([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),Z0e=D(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i?.trim())}),e},"styles2Map"),vG=D(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),qt=D(t=>{const{stylesArray:e}=hv(t),n=[],r=[],i=[],a=[];return e.forEach(s=>{const o=s[0];vG(o)?n.push(s.join(":")+" !important"):(r.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),$t=D((t,e)=>{const{themeVariables:n,handDrawnSeed:r}=Sr(),{nodeBorder:i,mainBkg:a}=n,{stylesMap:s}=hv(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:r,strokeWidth:s.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Q0e(s.get("stroke-dasharray"))},e)},"userNodeOverrides"),Q0e=D(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),by={},Ca={},S6;function eve(){return S6||(S6=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.BLANK_URL=Ca.relativeFirstCharacters=Ca.whitespaceEscapeCharsRegex=Ca.urlSchemeRegex=Ca.ctrlCharactersRegex=Ca.htmlCtrlEntityRegex=Ca.htmlEntitiesRegex=Ca.invalidProtocolRegex=void 0,Ca.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Ca.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Ca.htmlCtrlEntityRegex=/&(newline|tab);/gi,Ca.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ca.urlSchemeRegex=/^.+(:|&colon;)/gim,Ca.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Ca.relativeFirstCharacters=[".","/"],Ca.BLANK_URL="about:blank"),Ca}var _6;function tve(){if(_6)return by;_6=1,Object.defineProperty(by,"__esModule",{value:!0}),by.sanitizeUrl=void 0;var t=eve();function e(s){return t.relativeFirstCharacters.indexOf(s[0])>-1}function n(s){var o=s.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function r(s){return URL.canParse(s)}function i(s){try{return decodeURIComponent(s)}catch{return s}}function a(s){if(!s)return t.BLANK_URL;var o,l=i(s.trim());do l=n(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var u=c.trimStart(),f=u.match(t.urlSchemeRegex);if(!f)return c;var m=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(m))return t.BLANK_URL;var p=u.replace(/\\/g,"/");if(m==="mailto:"||m.includes("://"))return p;if(m==="http:"||m==="https:"){if(!r(p))return t.BLANK_URL;var v=new URL(p);return v.protocol=v.protocol.toLowerCase(),v.hostname=v.hostname.toLowerCase(),v.toString()}return p}return by.sanitizeUrl=a,by}var nve=tve(),yG=typeof global=="object"&&global&&global.Object===Object&&global,rve=typeof self=="object"&&self&&self.Object===Object&&self,ih=yG||rve||Function("return this")(),lS=ih.Symbol,bG=Object.prototype,ive=bG.hasOwnProperty,ave=bG.toString,xy=lS?lS.toStringTag:void 0;function sve(t){var e=ive.call(t,xy),n=t[xy];try{t[xy]=void 0;var r=!0}catch{}var i=ave.call(t);return r&&(e?t[xy]=n:delete t[xy]),i}var ove=Object.prototype,lve=ove.toString;function cve(t){return lve.call(t)}var uve="[object Null]",hve="[object Undefined]",k6=lS?lS.toStringTag:void 0;function dv(t){return t==null?t===void 0?hve:uve:k6&&k6 in Object(t)?sve(t):cve(t)}function Mm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dve="[object AsyncFunction]",fve="[object Function]",pve="[object GeneratorFunction]",mve="[object Proxy]";function EL(t){if(!Mm(t))return!1;var e=dv(t);return e==fve||e==pve||e==dve||e==mve}var hT=ih["__core-js_shared__"],C6=(function(){var t=/[^.]+$/.exec(hT&&hT.keys&&hT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function gve(t){return!!C6&&C6 in t}var vve=Function.prototype,yve=vve.toString;function Rm(t){if(t!=null){try{return yve.call(t)}catch{}try{return t+""}catch{}}return""}var bve=/[\\^$.*+?()[\]{}|]/g,xve=/^\[object .+?Constructor\]$/,wve=Function.prototype,Sve=Object.prototype,_ve=wve.toString,kve=Sve.hasOwnProperty,Cve=RegExp("^"+_ve.call(kve).replace(bve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tve(t){if(!Mm(t)||gve(t))return!1;var e=EL(t)?Cve:xve;return e.test(Rm(t))}function Eve(t,e){return t?.[e]}function Im(t,e){var n=Eve(t,e);return Tve(n)?n:void 0}var jb=Im(Object,"create");function Ave(){this.__data__=jb?jb(null):{},this.size=0}function Ove(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pve="__lodash_hash_undefined__",Nve=Object.prototype,Lve=Nve.hasOwnProperty;function Mve(t){var e=this.__data__;if(jb){var n=e[t];return n===Pve?void 0:n}return Lve.call(e,t)?e[t]:void 0}var Rve=Object.prototype,Ive=Rve.hasOwnProperty;function jve(t){var e=this.__data__;return jb?e[t]!==void 0:Ive.call(e,t)}var Dve="__lodash_hash_undefined__";function Bve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jb&&e===void 0?Dve:e,this}function vm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vm.prototype.clear=Ave;vm.prototype.delete=Ove;vm.prototype.get=Mve;vm.prototype.has=jve;vm.prototype.set=Bve;function Fve(){this.__data__=[],this.size=0}function nk(t,e){return t===e||t!==t&&e!==e}function rk(t,e){for(var n=t.length;n--;)if(nk(t[n][0],e))return n;return-1}var Uve=Array.prototype,zve=Uve.splice;function $ve(t){var e=this.__data__,n=rk(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zve.call(e,n,1),--this.size,!0}function qve(t){var e=this.__data__,n=rk(e,t);return n<0?void 0:e[n][1]}function Hve(t){return rk(this.__data__,t)>-1}function Wve(t,e){var n=this.__data__,r=rk(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wd.prototype.clear=Fve;wd.prototype.delete=$ve;wd.prototype.get=qve;wd.prototype.has=Hve;wd.prototype.set=Wve;var Db=Im(ih,"Map");function Vve(){this.size=0,this.__data__={hash:new vm,map:new(Db||wd),string:new vm}}function Gve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ik(t,e){var n=t.__data__;return Gve(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Kve(t){var e=ik(this,t).delete(t);return this.size-=e?1:0,e}function Yve(t){return ik(this,t).get(t)}function Xve(t){return ik(this,t).has(t)}function Jve(t,e){var n=ik(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Yf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yf.prototype.clear=Vve;Yf.prototype.delete=Kve;Yf.prototype.get=Yve;Yf.prototype.has=Xve;Yf.prototype.set=Jve;var Zve="Expected a function";function O1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Zve);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(O1.Cache||Yf),n}O1.Cache=Yf;function Qve(){this.__data__=new wd,this.size=0}function eye(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function tye(t){return this.__data__.get(t)}function nye(t){return this.__data__.has(t)}var rye=200;function iye(t,e){var n=this.__data__;if(n instanceof wd){var r=n.__data__;if(!Db||r.length<rye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yf(r)}return n.set(t,e),this.size=n.size,this}function fv(t){var e=this.__data__=new wd(t);this.size=e.size}fv.prototype.clear=Qve;fv.prototype.delete=eye;fv.prototype.get=tye;fv.prototype.has=nye;fv.prototype.set=iye;var cS=(function(){try{var t=Im(Object,"defineProperty");return t({},"",{}),t}catch{}})();function AL(t,e,n){e=="__proto__"&&cS?cS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function JO(t,e,n){(n!==void 0&&!nk(t[e],n)||n===void 0&&!(e in t))&&AL(t,e,n)}function aye(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[++i];if(n(a[l],l,a)===!1)break}return e}}var sye=aye(),xG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T6=xG&&typeof module=="object"&&module&&!module.nodeType&&module,oye=T6&&T6.exports===xG,E6=oye?ih.Buffer:void 0,A6=E6?E6.allocUnsafe:void 0;function lye(t,e){if(e)return t.slice();var n=t.length,r=A6?A6(n):new t.constructor(n);return t.copy(r),r}var O6=ih.Uint8Array;function cye(t){var e=new t.constructor(t.byteLength);return new O6(e).set(new O6(t)),e}function uye(t,e){var n=e?cye(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function hye(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var P6=Object.create,dye=(function(){function t(){}return function(e){if(!Mm(e))return{};if(P6)return P6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function wG(t,e){return function(n){return t(e(n))}}var SG=wG(Object.getPrototypeOf,Object),fye=Object.prototype;function ak(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fye;return t===n}function pye(t){return typeof t.constructor=="function"&&!ak(t)?dye(SG(t)):{}}function P1(t){return t!=null&&typeof t=="object"}var mye="[object Arguments]";function N6(t){return P1(t)&&dv(t)==mye}var _G=Object.prototype,gye=_G.hasOwnProperty,vye=_G.propertyIsEnumerable,uS=N6((function(){return arguments})())?N6:function(t){return P1(t)&&gye.call(t,"callee")&&!vye.call(t,"callee")},hS=Array.isArray,yye=9007199254740991;function kG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yye}function sk(t){return t!=null&&kG(t.length)&&!EL(t)}function bye(t){return P1(t)&&sk(t)}function xye(){return!1}var CG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L6=CG&&typeof module=="object"&&module&&!module.nodeType&&module,wye=L6&&L6.exports===CG,M6=wye?ih.Buffer:void 0,Sye=M6?M6.isBuffer:void 0,OL=Sye||xye,_ye="[object Object]",kye=Function.prototype,Cye=Object.prototype,TG=kye.toString,Tye=Cye.hasOwnProperty,Eye=TG.call(Object);function Aye(t){if(!P1(t)||dv(t)!=_ye)return!1;var e=SG(t);if(e===null)return!0;var n=Tye.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&TG.call(n)==Eye}var Oye="[object Arguments]",Pye="[object Array]",Nye="[object Boolean]",Lye="[object Date]",Mye="[object Error]",Rye="[object Function]",Iye="[object Map]",jye="[object Number]",Dye="[object Object]",Bye="[object RegExp]",Fye="[object Set]",Uye="[object String]",zye="[object WeakMap]",$ye="[object ArrayBuffer]",qye="[object DataView]",Hye="[object Float32Array]",Wye="[object Float64Array]",Vye="[object Int8Array]",Gye="[object Int16Array]",Kye="[object Int32Array]",Yye="[object Uint8Array]",Xye="[object Uint8ClampedArray]",Jye="[object Uint16Array]",Zye="[object Uint32Array]",si={};si[Hye]=si[Wye]=si[Vye]=si[Gye]=si[Kye]=si[Yye]=si[Xye]=si[Jye]=si[Zye]=!0;si[Oye]=si[Pye]=si[$ye]=si[Nye]=si[qye]=si[Lye]=si[Mye]=si[Rye]=si[Iye]=si[jye]=si[Dye]=si[Bye]=si[Fye]=si[Uye]=si[zye]=!1;function Qye(t){return P1(t)&&kG(t.length)&&!!si[dv(t)]}function ebe(t){return function(e){return t(e)}}var EG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cb=EG&&typeof module=="object"&&module&&!module.nodeType&&module,tbe=cb&&cb.exports===EG,dT=tbe&&yG.process,R6=(function(){try{var t=cb&&cb.require&&cb.require("util").types;return t||dT&&dT.binding&&dT.binding("util")}catch{}})(),I6=R6&&R6.isTypedArray,PL=I6?ebe(I6):Qye;function ZO(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var nbe=Object.prototype,rbe=nbe.hasOwnProperty;function ibe(t,e,n){var r=t[e];(!(rbe.call(t,e)&&nk(r,n))||n===void 0&&!(e in t))&&AL(t,e,n)}function abe(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=void 0;l===void 0&&(l=t[o]),i?AL(n,o,l):ibe(n,o,l)}return n}function sbe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var obe=9007199254740991,lbe=/^(?:0|[1-9]\d*)$/;function AG(t,e){var n=typeof t;return e=e??obe,!!e&&(n=="number"||n!="symbol"&&lbe.test(t))&&t>-1&&t%1==0&&t<e}var cbe=Object.prototype,ube=cbe.hasOwnProperty;function hbe(t,e){var n=hS(t),r=!n&&uS(t),i=!n&&!r&&OL(t),a=!n&&!r&&!i&&PL(t),s=n||r||i||a,o=s?sbe(t.length,String):[],l=o.length;for(var c in t)(e||ube.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||AG(c,l)))&&o.push(c);return o}function dbe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var fbe=Object.prototype,pbe=fbe.hasOwnProperty;function mbe(t){if(!Mm(t))return dbe(t);var e=ak(t),n=[];for(var r in t)r=="constructor"&&(e||!pbe.call(t,r))||n.push(r);return n}function OG(t){return sk(t)?hbe(t,!0):mbe(t)}function gbe(t){return abe(t,OG(t))}function vbe(t,e,n,r,i,a,s){var o=ZO(t,n),l=ZO(e,n),c=s.get(l);if(c){JO(t,n,c);return}var u=a?a(o,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var m=hS(l),p=!m&&OL(l),v=!m&&!p&&PL(l);u=l,m||p||v?hS(o)?u=o:bye(o)?u=hye(o):p?(f=!1,u=lye(l,!0)):v?(f=!1,u=uye(l,!0)):u=[]:Aye(l)||uS(l)?(u=o,uS(o)?u=gbe(o):(!Mm(o)||EL(o))&&(u=pye(l))):f=!1}f&&(s.set(l,u),i(u,l,r,a,s),s.delete(l)),JO(t,n,u)}function PG(t,e,n,r,i){t!==e&&sye(e,function(a,s){if(i||(i=new fv),Mm(a))vbe(t,e,s,n,PG,r,i);else{var o=r?r(ZO(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),JO(t,s,o)}},OG)}function NG(t){return t}function ybe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var j6=Math.max;function bbe(t,e,n){return e=j6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=j6(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),ybe(t,this,o)}}function xbe(t){return function(){return t}}var wbe=cS?function(t,e){return cS(t,"toString",{configurable:!0,enumerable:!1,value:xbe(e),writable:!0})}:NG,Sbe=800,_be=16,kbe=Date.now;function Cbe(t){var e=0,n=0;return function(){var r=kbe(),i=_be-(r-n);if(n=r,i>0){if(++e>=Sbe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Tbe=Cbe(wbe);function Ebe(t,e){return Tbe(bbe(t,e,NG),t+"")}function Abe(t,e,n){if(!Mm(n))return!1;var r=typeof e;return(r=="number"?sk(n)&&AG(e,n.length):r=="string"&&e in n)?nk(n[e],t):!1}function Obe(t){return Ebe(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&Abe(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,a)}return e})}var Pbe=Obe(function(t,e,n){PG(t,e,n)}),Nbe="",Lbe={curveBasis:lb,curveBasisClosed:SW,curveBasisOpen:kW,curveBumpX:sL,curveBumpY:oL,curveBundle:Nge,curveCardinalClosed:Lge,curveCardinalOpen:Mge,curveCardinal:TW,curveCatmullRomClosed:Rge,curveCatmullRomOpen:Ige,curveCatmullRom:AW,curveLinear:pm,curveLinearClosed:LW,curveMonotoneX:fL,curveMonotoneY:pL,curveNatural:mL,curveStep:gL,curveStepAfter:yL,curveStepBefore:vL},Mbe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Rbe=D(function(t,e){const n=LG(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const s=n.map(o=>o.args);M2(s),r=Oa(r,[...s])}else r=n.args;if(!r)return;let i=_3(t,e);const a="config";return r[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[a],delete r[a]),r},"detectInit"),LG=D(function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Mbe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),Qe.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=sb.exec(t))!==null;)if(r.index===sb.lastIndex&&sb.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const a=r[1]?r[1]:r[2],s=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:a,args:s})}return i.length===0?{type:t,args:null}:i.length===1?i[0]:i}catch(n){return Qe.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Ibe=D(function(t){return t.replace(sb,"")},"removeDirectives"),jbe=D(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function NL(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Lbe[n]??e}D(NL,"interpolateToCurve");function MG(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?nve.sanitizeUrl(n):n}D(MG,"formatUrl");var Dbe=D((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let a=window;for(let s=0;s<r;s++)if(a=a[n[s]],!a){Qe.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function LL(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}D(LL,"distance");function RG(t){let e,n=0;t.forEach(i=>{n+=LL(i,e),e=i});const r=n/2;return ML(t,r)}D(RG,"traverseEdge");function IG(t){return t.length===1?t[0]:RG(t)}D(IG,"calcLabelPosition");var D6=D((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),ML=D((t,e)=>{let n,r=e;for(const i of t){if(n){const a=LL(i,n);if(a===0)return n;if(a<r)r-=a;else{const s=r/a;if(s<=0)return n;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:D6((1-s)*n.x+s*i.x,5),y:D6((1-s)*n.y+s*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Bbe=D((t,e,n)=>{Qe.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=ML(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function jG(t,e,n){const r=structuredClone(n);Qe.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,a=ML(r,i),s=10+t*.5,o=Math.atan2(r[0].y-a.y,r[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(r[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(r[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(r[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(r[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(r[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(r[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(r[0].x+a.x)/2,l.y=-Math.cos(o)*s+(r[0].y+a.y)/2),l}D(jG,"calcTerminalLabelPosition");function DG(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}D(DG,"getStylesFromArray");var B6=0,Fbe=D(()=>(B6++,"id-"+Math.random().toString(36).substr(2,12)+"-"+B6),"generateId");function BG(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}D(BG,"makeRandomHex");var Ube=D(t=>BG(t.length),"random"),zbe=D(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),$be=D(function(t,e){const n=e.text.replace(cv.lineBreakRegex," "),[,r]=ok(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(n),i},"drawSimpleText"),qbe=O1((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),cv.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let a="";return r.forEach((s,o)=>{const l=fd(`${s} `,n),c=fd(a,n);if(l>e){const{hyphenatedStrings:m,remainingWord:p}=Hbe(s,e,"-",n);i.push(a,...m),a=p}else c+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===r.length&&i.push(a)}),i.filter(s=>s!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Hbe=O1((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const c=`${s}${o}`;if(fd(c,r)>=e){const f=l+1,m=i.length===f,p=`${c}${n}`;a.push(m?c:p),s=""}else s=c}),{hyphenatedStrings:a,remainingWord:s}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function FG(t,e){return RL(t,e).height}D(FG,"calculateTextHeight");function fd(t,e){return RL(t,e).width}D(fd,"calculateTextWidth");var RL=O1((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=ok(n),s=["sans-serif",r],o=t.split(cv.lineBreakRegex),l=[],c=ar("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const m of s){let p=0;const v={width:0,height:0,lineHeight:0};for(const b of o){const x=zbe();x.text=b||Nbe;const w=$be(u,x).style("font-size",a).style("font-weight",i).style("font-family",m),C=(w._groups||w)[0][0].getBBox();if(C.width===0&&C.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,C.width)),p=Math.round(C.height),v.height+=p,v.lineHeight=Math.round(Math.max(v.lineHeight,p))}l.push(v)}u.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),$0,Wbe=($0=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},D($0,"InitIDGenerator"),$0),rw,Vbe=D(function(t){return rw=rw||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),rw.innerHTML=t,unescape(rw.textContent)},"entityDecode");function IL(t){return"str"in t}D(IL,"isDetailedError");var Gbe=D((t,e,n,r)=>{if(!r)return;const i=t.node()?.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),ok=D(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function jL(t,e){return Pbe({},t,e)}D(jL,"cleanAndMerge");var Wc={assignWithDepth:Oa,wrapLabel:qbe,calculateTextHeight:FG,calculateTextWidth:fd,calculateTextDimensions:RL,cleanAndMerge:jL,detectInit:Rbe,detectDirective:LG,isSubstringInArray:jbe,interpolateToCurve:NL,calcLabelPosition:IG,calcCardinalityPosition:Bbe,calcTerminalLabelPosition:jG,formatUrl:MG,getStylesFromArray:DG,generateId:Fbe,random:Ube,runFunc:Dbe,entityDecode:Vbe,insertTitle:Gbe,isLabelCoordinateInPath:UG,parseFontSize:ok,InitIDGenerator:Wbe},Kbe=D(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),jm=D(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),xVe=D((t,e,{counter:n=0,prefix:r,suffix:i},a)=>a||`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function js(t){return t??null}D(js,"handleUndefinedAttr");function UG(t,e){const n=Math.round(t.x),r=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return i.includes(n.toString())||i.includes(r.toString())}D(UG,"isLabelCoordinateInPath");const Ybe=Object.freeze({left:0,top:0,width:16,height:16}),dS=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),zG=Object.freeze({...Ybe,...dS}),Xbe=Object.freeze({...zG,body:"",hidden:!1}),Jbe=Object.freeze({width:null,height:null}),Zbe=Object.freeze({...Jbe,...dS}),Qbe=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:o};return fT(c)?c:null}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:r,prefix:s.shift(),name:s.join("-")};return fT(o)?o:null}if(n&&r===""){const o={provider:r,prefix:"",name:a};return fT(o,n)?o:null}return null},fT=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function e1e(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function F6(t,e){const n=e1e(t,e);for(const r in Xbe)r in dS?r in t&&!(r in n)&&(n[r]=dS[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function t1e(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=r[s]&&r[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(a),i}function U6(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=F6(r[o]||i[o],a)}return s(e),n.forEach(s),F6(t,a)}function n1e(t,e){if(t.icons[e])return U6(t,e,[]);const n=t1e(t,[e])[e];return n?U6(t,e,n):null}const r1e=/(-?[0-9.]*[0-9]+[0-9.]*)/g,i1e=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function z6(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(r1e);if(r===null||!r.length)return t;const i=[];let a=r.shift(),s=i1e.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*n)/n)}else i.push(a);if(a=r.shift(),a===void 0)return i.join("");s=!s}}function a1e(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;n+=t.slice(i+1,a).trim(),t=t.slice(0,r).trim()+t.slice(s+1)}return{defs:n,content:t}}function s1e(t,e){return t?"<defs>"+t+"</defs>"+e:e}function o1e(t,e,n){const r=a1e(t);return s1e(r.defs,e+r.content+n)}const l1e=t=>t==="unset"||t==="undefined"||t==="none";function c1e(t,e){const n={...zG,...t},r={...Zbe,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(b=>{const x=[],w=b.hFlip,C=b.vFlip;let E=b.rotate;w?C?E+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):C&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let O;switch(E<0&&(E-=Math.floor(E/4)*4),E=E%4,E){case 1:O=i.height/2+i.top,x.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:O=i.width/2+i.left,x.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}E%2===1&&(i.left!==i.top&&(O=i.left,i.left=i.top,i.top=O),i.width!==i.height&&(O=i.width,i.width=i.height,i.height=O)),x.length&&(a=o1e(a,'<g transform="'+x.join(" ")+'">',"</g>"))});const s=r.width,o=r.height,l=i.width,c=i.height;let u,f;s===null?(f=o===null?"1em":o==="auto"?c:o,u=z6(f,l/c)):(u=s==="auto"?l:s,f=o===null?z6(u,c/l):o==="auto"?c:o);const m={},p=(b,x)=>{l1e(x)||(m[b]=x.toString())};p("width",u),p("height",f);const v=[i.left,i.top,l,c];return m.viewBox=v.join(" "),{attributes:m,viewBox:v,body:a}}const u1e=/\sid="(\S+)"/g,$6=new Map;function h1e(t){t=t.replace(/[0-9]+$/,"")||"a";const e=$6.get(t)||0;return $6.set(t,e+1),e?`${t}${e}`:t}function d1e(t){const e=[];let n;for(;n=u1e.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const a=h1e(i),s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function f1e(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function DL(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Dm=DL();function $G(t){Dm=t}var ub={exec:()=>null};function gr(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(oo.caret,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,e)};return r}var p1e=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),oo={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},m1e=/^(?:[ \t]*(?:\n|$))+/,g1e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,v1e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,N1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,y1e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,BL=/(?:[*+-]|\d{1,9}[.)])/,qG=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,HG=gr(qG).replace(/bull/g,BL).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),b1e=gr(qG).replace(/bull/g,BL).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),FL=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,x1e=/^[^\n]+/,UL=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,w1e=gr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",UL).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),S1e=gr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,BL).getRegex(),lk="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zL=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_1e=gr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",zL).replace("tag",lk).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),WG=gr(FL).replace("hr",N1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lk).getRegex(),k1e=gr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",WG).getRegex(),$L={blockquote:k1e,code:g1e,def:w1e,fences:v1e,heading:y1e,hr:N1,html:_1e,lheading:HG,list:S1e,newline:m1e,paragraph:WG,table:ub,text:x1e},q6=gr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",N1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lk).getRegex(),C1e={...$L,lheading:b1e,table:q6,paragraph:gr(FL).replace("hr",N1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",q6).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lk).getRegex()},T1e={...$L,html:gr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zL).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ub,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gr(FL).replace("hr",N1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",HG).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},E1e=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,A1e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,VG=/^( {2,}|\\)\n(?!\s*$)/,O1e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ck=/[\p{P}\p{S}]/u,qL=/[\s\p{P}\p{S}]/u,GG=/[^\s\p{P}\p{S}]/u,P1e=gr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qL).getRegex(),KG=/(?!~)[\p{P}\p{S}]/u,N1e=/(?!~)[\s\p{P}\p{S}]/u,L1e=/(?:[^\s\p{P}\p{S}]|~)/u,M1e=gr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",p1e?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),YG=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,R1e=gr(YG,"u").replace(/punct/g,ck).getRegex(),I1e=gr(YG,"u").replace(/punct/g,KG).getRegex(),XG="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",j1e=gr(XG,"gu").replace(/notPunctSpace/g,GG).replace(/punctSpace/g,qL).replace(/punct/g,ck).getRegex(),D1e=gr(XG,"gu").replace(/notPunctSpace/g,L1e).replace(/punctSpace/g,N1e).replace(/punct/g,KG).getRegex(),B1e=gr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,GG).replace(/punctSpace/g,qL).replace(/punct/g,ck).getRegex(),F1e=gr(/\\(punct)/,"gu").replace(/punct/g,ck).getRegex(),U1e=gr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),z1e=gr(zL).replace("(?:-->|$)","-->").getRegex(),$1e=gr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",z1e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fS=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,q1e=gr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",fS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),JG=gr(/^!?\[(label)\]\[(ref)\]/).replace("label",fS).replace("ref",UL).getRegex(),ZG=gr(/^!?\[(ref)\](?:\[\])?/).replace("ref",UL).getRegex(),H1e=gr("reflink|nolink(?!\\()","g").replace("reflink",JG).replace("nolink",ZG).getRegex(),H6=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,HL={_backpedal:ub,anyPunctuation:F1e,autolink:U1e,blockSkip:M1e,br:VG,code:A1e,del:ub,emStrongLDelim:R1e,emStrongRDelimAst:j1e,emStrongRDelimUnd:B1e,escape:E1e,link:q1e,nolink:ZG,punctuation:P1e,reflink:JG,reflinkSearch:H1e,tag:$1e,text:O1e,url:ub},W1e={...HL,link:gr(/^!?\[(label)\]\((.*?)\)/).replace("label",fS).getRegex(),reflink:gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fS).getRegex()},QO={...HL,emStrongRDelimAst:D1e,emStrongLDelim:I1e,url:gr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",H6).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:gr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",H6).getRegex()},V1e={...QO,br:gr(VG).replace("{2,}","*").getRegex(),text:gr(QO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},iw={normal:$L,gfm:C1e,pedantic:T1e},wy={normal:HL,gfm:QO,breaks:V1e,pedantic:W1e},G1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},W6=t=>G1e[t];function ju(t,e){if(e){if(oo.escapeTest.test(t))return t.replace(oo.escapeReplace,W6)}else if(oo.escapeTestNoEncode.test(t))return t.replace(oo.escapeReplaceNoEncode,W6);return t}function V6(t){try{t=encodeURI(t).replace(oo.percentDecode,"%")}catch{return null}return t}function G6(t,e){let n=t.replace(oo.findPipe,(a,s,o)=>{let l=!1,c=s;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(oo.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(oo.slashPipe,"|");return r}function Sy(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function K1e(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function K6(t,e,n,r,i){let a=e.href,s=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:a,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}function Y1e(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(a=>{let s=a.match(n.other.beginningSpace);if(s===null)return a;let[o]=s;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}var pS=class{options;rules;lexer;constructor(e){this.options=e||Dm}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Sy(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=Y1e(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Sy(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Sy(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Sy(n[0],`
`).split(`
`),i="",a="",s=[];for(;r.length>0;){let o=!1,l=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))l.push(r[c]),o=!0;else if(!o)l.push(r[c]);else break;r=r.slice(c);let u=l.join(`
`),f=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,a=a?`${a}
${f}`:f;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,s,!0),this.lexer.state.top=m,r.length===0)break;let p=s.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let v=p,b=v.raw+`
`+r.join(`
`),x=this.blockquote(b);s[s.length-1]=x,i=i.substring(0,i.length-v.raw.length)+x.raw,a=a.substring(0,a.length-v.text.length)+x.text;break}else if(p?.type==="list"){let v=p,b=v.raw+`
`+r.join(`
`),x=this.list(b);s[s.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,a=a.substring(0,a.length-v.raw.length)+x.raw,r=b.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,a={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;e;){let c=!1,u="",f="";if(!(n=s.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let m=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),p=e.split(`
`,1)[0],v=!m.trim(),b=0;if(this.options.pedantic?(b=2,f=m.trimStart()):v?b=n[1].length+1:(b=n[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,f=m.slice(b),b+=n[1].length),v&&this.rules.other.blankLine.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),c=!0),!c){let C=this.rules.other.nextBulletRegex(b),E=this.rules.other.hrRegex(b),O=this.rules.other.fencesBeginRegex(b),P=this.rules.other.headingBeginRegex(b),L=this.rules.other.htmlBeginRegex(b);for(;e;){let B=e.split(`
`,1)[0],$;if(p=B,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),$=p):$=p.replace(this.rules.other.tabCharGlobal,"    "),O.test(p)||P.test(p)||L.test(p)||C.test(p)||E.test(p))break;if($.search(this.rules.other.nonSpaceChar)>=b||!p.trim())f+=`
`+$.slice(b);else{if(v||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||O.test(m)||P.test(m)||E.test(m))break;f+=`
`+p}!v&&!p.trim()&&(v=!0),u+=B+`
`,e=e.substring(B.length+1),m=$.slice(b)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let x=null,w;this.options.gfm&&(x=this.rules.other.listIsTask.exec(f),x&&(w=x[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!x,checked:w,loose:!1,text:f,tokens:[]}),a.raw+=u}let l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){let u=a.items[c].tokens.filter(m=>m.type==="space"),f=u.length>0&&u.some(m=>this.rules.other.anyLine.test(m.raw));a.loose=f}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:a}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=G6(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of a)s.rows.push(G6(o,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=Sy(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=K1e(n[2],"()");if(s===-2)return;if(s>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],a="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],a=s[3])}else a=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),K6(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=n[i.toLowerCase()];if(!a){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return K6(r,a,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let a=[...i[0]].length-1,s,o,l=a,c=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,n=n.slice(-1*e.length+a);(i=u.exec(n))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(o=[...s].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&a%3&&!((a+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let f=[...i[0]][0].length,m=e.slice(0,a+i.index+f+o);if(Math.min(a,o)%2){let v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}let p=m.slice(2,-2);return{type:"strong",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),a=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&a&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(a!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},$c=class eP{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Dm,this.options.tokenizer=this.options.tokenizer||new pS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:oo,block:iw.normal,inline:wy.normal};this.options.pedantic?(n.block=iw.pedantic,n.inline=wy.pedantic):this.options.gfm&&(n.block=iw.gfm,this.options.breaks?n.inline=wy.breaks:n.inline=wy.gfm),this.tokenizer.rules=n}static get rules(){return{block:iw,inline:wy}}static lex(e,n){return new eP(n).lex(e)}static lexInline(e,n){return new eP(n).inlineTokens(e)}lex(e){e=e.replace(oo.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(oo.tabCharGlobal,"    ").replace(oo.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let s=n.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let a=e;if(this.options.extensions?.startBlock){let s=1/0,o=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},o),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(a=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){let s=n.at(-1);r&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i),r=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let s=n.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)a=i[2]?i[2].length:0,r=r.slice(0,i.index+a)+"["+"a".repeat(i[0].length-a-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let s=!1,o="";for(;e;){s||(o=""),s=!1;let l;if(this.options.extensions?.inline?.some(u=>(l=u.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let u=n.at(-1);l.type==="text"&&u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,o)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let c=e;if(this.options.extensions?.startInline){let u=1/0,f=e.slice(1),m;this.options.extensions.startInline.forEach(p=>{m=p.call({lexer:this},f),typeof m=="number"&&m>=0&&(u=Math.min(u,m))}),u<1/0&&u>=0&&(c=e.substring(0,u+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),s=!0;let u=n.at(-1);u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):n.push(l);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},mS=class{options;parser;constructor(e){this.options=e||Dm}space(e){return""}code({text:e,lang:n,escaped:r}){let i=(n||"").match(oo.notSpaceStart)?.[0],a=e.replace(oo.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ju(i)+'">'+(r?a:ju(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:ju(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let o=0;o<e.items.length;o++){let l=e.items[o];i+=this.listitem(l)}let a=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(e){let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+ju(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let a=0;a<e.header.length;a++)r+=this.tablecell(e.header[a]);n+=this.tablerow({text:r});let i="";for(let a=0;a<e.rows.length;a++){let s=e.rows[a];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ju(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),a=V6(e);if(a===null)return i;e=a;let s='<a href="'+e+'"';return n&&(s+=' title="'+ju(n)+'"'),s+=">"+i+"</a>",s}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let a=V6(e);if(a===null)return ju(r);e=a;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${ju(n)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ju(e.text)}},WL=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},qc=class tP{options;renderer;textRenderer;constructor(e){this.options=e||Dm,this.options.renderer=this.options.renderer||new mS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new WL}static parse(e,n){return new tP(n).parse(e)}static parseInline(e,n){return new tP(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){let a=e[i];if(this.options.extensions?.renderers?.[a.type]){let o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){r+=l||"";continue}}let s=a;switch(s.type){case"space":{r+=this.renderer.space(s);continue}case"hr":{r+=this.renderer.hr(s);continue}case"heading":{r+=this.renderer.heading(s);continue}case"code":{r+=this.renderer.code(s);continue}case"table":{r+=this.renderer.table(s);continue}case"blockquote":{r+=this.renderer.blockquote(s);continue}case"list":{r+=this.renderer.list(s);continue}case"html":{r+=this.renderer.html(s);continue}case"def":{r+=this.renderer.def(s);continue}case"paragraph":{r+=this.renderer.paragraph(s);continue}case"text":{let o=s,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let a=e[i];if(this.options.extensions?.renderers?.[a.type]){let o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=o||"";continue}}let s=a;switch(s.type){case"escape":{r+=n.text(s);break}case"html":{r+=n.html(s);break}case"link":{r+=n.link(s);break}case"image":{r+=n.image(s);break}case"strong":{r+=n.strong(s);break}case"em":{r+=n.em(s);break}case"codespan":{r+=n.codespan(s);break}case"br":{r+=n.br(s);break}case"del":{r+=n.del(s);break}case"text":{r+=n.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}},Gy=class{options;block;constructor(e){this.options=e||Dm}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?$c.lex:$c.lexInline}provideParser(){return this.block?qc.parse:qc.parseInline}},X1e=class{defaults=DL();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=qc;Renderer=mS;TextRenderer=WL;Lexer=$c;Tokenizer=pS;Hooks=Gy;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let a=i;for(let s of a.header)r=r.concat(this.walkTokens(s.tokens,n));for(let s of a.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,n));break}case"list":{let a=i;r=r.concat(this.walkTokens(a.items,n));break}default:{let a=i;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(s=>{let o=a[s].flat(1/0);r=r.concat(this.walkTokens(o,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let s=n.renderers[a.name];s?n.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=n[a.level];s?s.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),i.extensions=n),r.renderer){let a=this.defaults.renderer||new mS(this.defaults);for(let s in r.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=r.renderer[o],c=a[o];a[o]=(...u)=>{let f=l.apply(a,u);return f===!1&&(f=c.apply(a,u)),f||""}}i.renderer=a}if(r.tokenizer){let a=this.defaults.tokenizer||new pS(this.defaults);for(let s in r.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=r.tokenizer[o],c=a[o];a[o]=(...u)=>{let f=l.apply(a,u);return f===!1&&(f=c.apply(a,u)),f}}i.tokenizer=a}if(r.hooks){let a=this.defaults.hooks||new Gy;for(let s in r.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=r.hooks[o],c=a[o];Gy.passThroughHooks.has(s)?a[o]=u=>{if(this.defaults.async&&Gy.passThroughHooksRespectAsync.has(s))return(async()=>{let m=await l.call(a,u);return c.call(a,m)})();let f=l.call(a,u);return c.call(a,f)}:a[o]=(...u)=>{if(this.defaults.async)return(async()=>{let m=await l.apply(a,u);return m===!1&&(m=await c.apply(a,u)),m})();let f=l.apply(a,u);return f===!1&&(f=c.apply(a,u)),f}}i.hooks=a}if(r.walkTokens){let a=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return $c.lex(e,n??this.defaults)}parser(e,n){return qc.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},a={...this.defaults,...i},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=e),a.async)return(async()=>{let o=a.hooks?await a.hooks.preprocess(n):n,l=await(a.hooks?await a.hooks.provideLexer():e?$c.lex:$c.lexInline)(o,a),c=a.hooks?await a.hooks.processAllTokens(l):l;a.walkTokens&&await Promise.all(this.walkTokens(c,a.walkTokens));let u=await(a.hooks?await a.hooks.provideParser():e?qc.parse:qc.parseInline)(c,a);return a.hooks?await a.hooks.postprocess(u):u})().catch(s);try{a.hooks&&(n=a.hooks.preprocess(n));let o=(a.hooks?a.hooks.provideLexer():e?$c.lex:$c.lexInline)(n,a);a.hooks&&(o=a.hooks.processAllTokens(o)),a.walkTokens&&this.walkTokens(o,a.walkTokens);let l=(a.hooks?a.hooks.provideParser():e?qc.parse:qc.parseInline)(o,a);return a.hooks&&(l=a.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+ju(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},ym=new X1e;function _r(t,e){return ym.parse(t,e)}_r.options=_r.setOptions=function(t){return ym.setOptions(t),_r.defaults=ym.defaults,$G(_r.defaults),_r};_r.getDefaults=DL;_r.defaults=Dm;_r.use=function(...t){return ym.use(...t),_r.defaults=ym.defaults,$G(_r.defaults),_r};_r.walkTokens=function(t,e){return ym.walkTokens(t,e)};_r.parseInline=ym.parseInline;_r.Parser=qc;_r.parser=qc.parse;_r.Renderer=mS;_r.TextRenderer=WL;_r.Lexer=$c;_r.lexer=$c.lex;_r.Tokenizer=pS;_r.Hooks=Gy;_r.parse=_r;_r.options;_r.setOptions;_r.use;_r.walkTokens;_r.parseInline;qc.parse;$c.lex;function QG(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(u){var f,m;return(m=(f=u.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&m!==void 0?m:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(o){return o.replace(a,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var s=r[0];return e.forEach(function(o,l){var c=s.match(/(?:^|\n)( *)$/),u=c?c[1]:"",f=o;typeof o=="string"&&o.includes(`
`)&&(f=String(o).split(`
`).map(function(m,p){return p===0?m:""+u+m}).join(`
`)),s+=f+r[l+1]}),s}var J1e={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},nP=new Map,eK=new Map,Z1e=D(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Qe.debug("Registering icon pack:",e.name),"loader"in e)eK.set(e.name,e.loader);else if("icons"in e)nP.set(e.name,e.icons);else throw Qe.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),tK=D(async(t,e)=>{const n=Qbe(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=nP.get(r);if(!i){const s=eK.get(r);if(!s)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await s(),prefix:r},nP.set(r,i)}catch(o){throw Qe.error(o),new Error(`Failed to load icon set: ${n.prefix}`)}}const a=n1e(i,n.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),Q1e=D(async t=>{try{return await tK(t),!0}catch{return!1}},"isIconAvailable"),L1=D(async(t,e,n)=>{let r;try{r=await tK(t,e?.fallbackPrefix)}catch(s){Qe.error(s),r=J1e}const i=c1e(r,e),a=f1e(d1e(i.body),{...i.attributes,...n});return Ql(a,Rs())},"getIconSVG");function nK(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=QG(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}D(nK,"preprocessMarkdown");function rK(t,e={}){const n=nK(t,e),r=_r.lexer(n),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((u,f)=>{f!==0&&(a++,i.push([])),u.split(" ").forEach(m=>{m=m.replace(/&#39;/g,"'"),m&&i[a].push({content:m,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{s(c,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return D(s,"processNode"),r.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(l=>{s(l)}):o.type==="html"?i[a].push({content:o.text,type:"normal"}):i[a].push({content:o.raw,type:"normal"})}),i}D(rK,"markdownToLines");function iK(t,{markdownAutoWrap:e}={}){const n=_r.lexer(t);function r(i){return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(r).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(Qe.warn(`Unsupported markdown: ${i.type}`),i.raw)}return D(r,"output"),n.map(r).join("")}D(iK,"markdownToHTML");function aK(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}D(aK,"splitTextToChars");function sK(t,e){const n=aK(e.content);return VL(t,[],n,e.type)}D(sK,"splitWordToFitWidth");function VL(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...a]=n,s=[...e,i];return t([{content:s.join(""),type:r}])?VL(t,s,a,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}D(VL,"splitWordToFitWidthRecursion");function oK(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return gS(t,e)}D(oK,"splitLineToFitWidth");function gS(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...r];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return gS(t,e,n,s);if(r.length>0)n.push(r),t.unshift(a);else if(a.content){const[o,l]=sK(e,a);n.push([o]),l.content&&t.unshift(l)}return gS(t,e,n)}D(gS,"splitLineToFitWidthRecursion");function rP(t,e){e&&t.attr("style",e)}D(rP,"applyStyle");async function lK(t,e,n,r,i=!1,a=Rs()){const s=t.append("foreignObject");s.attr("width",`${10*n}px`),s.attr("height",`${10*n}px`);const o=s.append("xhtml:div"),l=H0(e.label)?await k3(e.label.replace(cv.lineBreakRegex,`
`),a):Ql(e.label,a),c=e.isNode?"nodeLabel":"edgeLabel",u=o.append("span");u.html(l),rP(u,e.labelStyle),u.attr("class",`${c} ${r}`),rP(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",n+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let f=o.node().getBoundingClientRect();return f.width===n&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",n+"px"),f=o.node().getBoundingClientRect()),s.node()}D(lK,"addHtmlSpan");function uk(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}D(uk,"createTspan");function cK(t,e,n){const r=t.append("text"),i=uk(r,1,e);hk(i,n);const a=i.node().getComputedTextLength();return r.remove(),a}D(cK,"computeWidthOfText");function exe(t,e,n){const r=t.append("text"),i=uk(r,1,e);hk(i,[{content:n,type:"normal"}]);const a=i.node()?.getBoundingClientRect();return a&&r.remove(),a}D(exe,"computeDimensionOfText");function uK(t,e,n,r=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const c of n){const u=D(m=>cK(a,1.1,m)<=t,"checkWidth"),f=u(c)?[c]:oK(c,u);for(const m of f){const p=uk(o,l,1.1);hk(p,m),l++}}if(r){const c=o.node().getBBox(),u=2;return s.attr("x",c.x-u).attr("y",c.y-u).attr("width",c.width+2*u).attr("height",c.height+2*u),a.node()}else return o.node()}D(uK,"createFormattedText");function hk(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}D(hk,"updateTextContentAndStyles");async function hK(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,a,s)=>(n.push((async()=>{const o=`${a}:${s}`;return await Q1e(o)?await L1(o,void 0,{class:"label-icon"}):`<i class='${Ql(i,e).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}D(hK,"replaceIconSubstring");var Xf=D(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(Qe.debug("XYZ createText",e,n,r,i,a,s,"addSvgBackground: ",l),a){const u=iK(e,c),f=await hK(jm(u),c),m=e.replace(/\\\\/g,"\\"),p={isNode:s,label:H0(e)?m:f,labelStyle:n.replace("fill:","color:")};return await lK(t,p,o,i,l,c)}else{const u=e.replace(/<br\s*\/?>/g,"<br/>"),f=rK(u.replace("<br>","<br/>"),c),m=uK(o,t,f,e?l:!1);if(s){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ar(m).attr("style",p)}else{const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");ar(m).select("rect").attr("style",p.replace(/background:/g,"fill:"));const v=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ar(m).select("text").attr("style",v)}return m}},"createText");function pT(t,e,n){if(t&&t.length){const[r,i]=e,a=Math.PI/180*n,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[c,u]=l;l[0]=(c-r)*s-(u-i)*o+r,l[1]=(c-r)*o+(u-i)*s+i}}}function txe(t,e){return t[0]===e[0]&&t[1]===e[1]}function nxe(t,e,n,r=1){const i=n,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of s)pT(c,o,i);const l=(function(c,u,f){const m=[];for(const C of c){const E=[...C];txe(E[0],E[E.length-1])||E.push([E[0][0],E[0][1]]),E.length>2&&m.push(E)}const p=[];u=Math.max(u,.1);const v=[];for(const C of m)for(let E=0;E<C.length-1;E++){const O=C[E],P=C[E+1];if(O[1]!==P[1]){const L=Math.min(O[1],P[1]);v.push({ymin:L,ymax:Math.max(O[1],P[1]),x:L===O[1]?O[0]:P[0],islope:(P[0]-O[0])/(P[1]-O[1])})}}if(v.sort(((C,E)=>C.ymin<E.ymin?-1:C.ymin>E.ymin?1:C.x<E.x?-1:C.x>E.x?1:C.ymax===E.ymax?0:(C.ymax-E.ymax)/Math.abs(C.ymax-E.ymax))),!v.length)return p;let b=[],x=v[0].ymin,w=0;for(;b.length||v.length;){if(v.length){let C=-1;for(let E=0;E<v.length&&!(v[E].ymin>x);E++)C=E;v.splice(0,C+1).forEach((E=>{b.push({s:x,edge:E})}))}if(b=b.filter((C=>!(C.edge.ymax<=x))),b.sort(((C,E)=>C.edge.x===E.edge.x?0:(C.edge.x-E.edge.x)/Math.abs(C.edge.x-E.edge.x))),(f!==1||w%u==0)&&b.length>1)for(let C=0;C<b.length;C+=2){const E=C+1;if(E>=b.length)break;const O=b[C].edge,P=b[E].edge;p.push([[Math.round(O.x),x],[Math.round(P.x),x]])}x+=f,b.forEach((C=>{C.edge.x=C.edge.x+f*C.edge.islope})),w++}return p})(s,a,r);if(i){for(const c of s)pT(c,o,-i);(function(c,u,f){const m=[];c.forEach((p=>m.push(...p))),pT(m,u,f)})(l,o,-i)}return l}function M1(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(a=i),nxe(t,i,r,a||1)}let GL=class{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=M1(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}};function dk(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}let rxe=class extends GL{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=M1(e,Object.assign({},n,{hachureGap:r})),a=Math.PI/180*n.hachureAngle,s=[],o=.5*r*Math.cos(a),l=.5*r*Math.sin(a);for(const[c,u]of i)dk([c,u])&&s.push([[c[0]-o,c[1]+l],[...u]],[[c[0]+o,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(s,n)}}},ixe=class extends GL{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(e,i);return r.ops=r.ops.concat(a.ops),r}},axe=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=M1(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const s=i/4;for(const o of e){const l=dk(o),c=l/i,u=Math.ceil(c)-1,f=l-u*i,m=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let v=0;v<u;v++){const b=p+f+v*i,x=m-s+2*Math.random()*s,w=b-s+2*Math.random()*s,C=this.helper.ellipse(x,w,a,a,n);r.push(...C.ops)}}return{type:"fillSketch",ops:r}}},sxe=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=M1(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,a=[];return e.forEach((s=>{const o=dk(s),l=Math.floor(o/(r+i)),c=(o+i-l*(r+i))/2;let u=s[0],f=s[1];u[0]>f[0]&&(u=s[1],f=s[0]);const m=Math.atan((f[1]-u[1])/(f[0]-u[0]));for(let p=0;p<l;p++){const v=p*(r+i),b=v+r,x=[u[0]+v*Math.cos(m)+c*Math.cos(m),u[1]+v*Math.sin(m)+c*Math.sin(m)],w=[u[0]+b*Math.cos(m)+c*Math.cos(m),u[1]+b*Math.sin(m)+c*Math.sin(m)];a.push(...this.helper.doubleLineOps(x[0],x[1],w[0],w[1],n))}})),a}},oxe=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,a=M1(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((a=>{const s=dk(a),o=Math.round(s/(2*n));let l=a[0],c=a[1];l[0]>c[0]&&(l=a[1],c=a[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let f=0;f<o;f++){const m=2*f*n,p=2*(f+1)*n,v=Math.sqrt(2*Math.pow(n,2)),b=[l[0]+m*Math.cos(u),l[1]+m*Math.sin(u)],x=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],w=[b[0]+v*Math.cos(u+Math.PI/4),b[1]+v*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(b[0],b[1],w[0],w[1],r),...this.helper.doubleLineOps(w[0],w[1],x[0],x[1],r))}})),i}};const Mo={};let lxe=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const cxe=0,mT=1,Y6=2,aw={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function gT(t,e){return t.type===e}function KL(t){const e=[],n=(function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:cxe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:mT,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:Y6,text:""},o})(t);let r="BOD",i=0,a=n[i];for(;!gT(a,Y6);){let s=0;const o=[];if(r==="BOD"){if(a.text!=="M"&&a.text!=="m")return KL("M0,0"+t);i++,s=aw[a.text],r=a.text}else gT(a,mT)?s=aw[r]:(i++,s=aw[a.text],r=a.text);if(!(i+s<n.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const c=n[l];if(!gT(c,mT))throw new Error("Param not a number: "+r+","+c.text);o[o.length]=+c.text}if(typeof aw[r]!="number")throw new Error("Bad segment: "+r);{const l={key:r,data:o};e.push(l),i+=s,a=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function dK(t){let e=0,n=0,r=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,n]=o,[r,i]=o;break;case"m":e+=o[0],n+=o[1],a.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":a.push({key:"L",data:[...o]}),[e,n]=o;break;case"l":e+=o[0],n+=o[1],a.push({key:"L",data:[e,n]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],n=o[5];break;case"c":{const l=o.map(((c,u)=>u%2?c+n:c+e));a.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],n=o[3];break;case"q":{const l=o.map(((c,u)=>u%2?c+n:c+e));a.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],n=o[6];break;case"a":e+=o[5],n+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],n=o[3];break;case"s":{const l=o.map(((c,u)=>u%2?c+n:c+e));a.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],n=o[1];break;case"t":e+=o[0],n+=o[1],a.push({key:"T",data:[e,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=r,n=i}return a}function fK(t){const e=[];let n="",r=0,i=0,a=0,s=0,o=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[r,i]=u,[a,s]=u;break;case"C":e.push({key:"C",data:[...u]}),r=u[4],i=u[5],o=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[r,i]=u;break;case"H":r=u[0],e.push({key:"L",data:[r,i]});break;case"V":i=u[0],e.push({key:"L",data:[r,i]});break;case"S":{let f=0,m=0;n==="C"||n==="S"?(f=r+(r-o),m=i+(i-l)):(f=r,m=i),e.push({key:"C",data:[f,m,...u]}),o=u[0],l=u[1],r=u[2],i=u[3];break}case"T":{const[f,m]=u;let p=0,v=0;n==="Q"||n==="T"?(p=r+(r-o),v=i+(i-l)):(p=r,v=i);const b=r+2*(p-r)/3,x=i+2*(v-i)/3,w=f+2*(p-f)/3,C=m+2*(v-m)/3;e.push({key:"C",data:[b,x,w,C,f,m]}),o=p,l=v,r=f,i=m;break}case"Q":{const[f,m,p,v]=u,b=r+2*(f-r)/3,x=i+2*(m-i)/3,w=p+2*(f-p)/3,C=v+2*(m-v)/3;e.push({key:"C",data:[b,x,w,C,p,v]}),o=f,l=m,r=p,i=v;break}case"A":{const f=Math.abs(u[0]),m=Math.abs(u[1]),p=u[2],v=u[3],b=u[4],x=u[5],w=u[6];f===0||m===0?(e.push({key:"C",data:[r,i,x,w,x,w]}),r=x,i=w):(r!==x||i!==w)&&(pK(r,i,x,w,f,m,p,v,b).forEach((function(C){e.push({key:"C",data:C})})),r=x,i=w);break}case"Z":e.push({key:"Z",data:[]}),r=a,i=s}n=c}return e}function _y(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function pK(t,e,n,r,i,a,s,o,l,c){const u=(f=s,Math.PI*f/180);var f;let m=[],p=0,v=0,b=0,x=0;if(c)[p,v,b,x]=c;else{[t,e]=_y(t,e,-u),[n,r]=_y(n,r,-u);const K=(t-n)/2,H=(e-r)/2;let J=K*K/(i*i)+H*H/(a*a);J>1&&(J=Math.sqrt(J),i*=J,a*=J);const W=i*i,Q=a*a,ee=W*Q-W*H*H-Q*K*K,he=W*H*H+Q*K*K,Y=(o===l?-1:1)*Math.sqrt(Math.abs(ee/he));b=Y*i*H/a+(t+n)/2,x=Y*-a*K/i+(e+r)/2,p=Math.asin(parseFloat(((e-x)/a).toFixed(9))),v=Math.asin(parseFloat(((r-x)/a).toFixed(9))),t<b&&(p=Math.PI-p),n<b&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),l&&p>v&&(p-=2*Math.PI),!l&&v>p&&(v-=2*Math.PI)}let w=v-p;if(Math.abs(w)>120*Math.PI/180){const K=v,H=n,J=r;v=l&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,m=pK(n=b+i*Math.cos(v),r=x+a*Math.sin(v),H,J,i,a,s,0,l,[v,K,b,x])}w=v-p;const C=Math.cos(p),E=Math.sin(p),O=Math.cos(v),P=Math.sin(v),L=Math.tan(w/4),B=4/3*i*L,$=4/3*a*L,U=[t,e],G=[t+B*E,e-$*C],M=[n+B*P,r-$*O],I=[n,r];if(G[0]=2*U[0]-G[0],G[1]=2*U[1]-G[1],c)return[G,M,I].concat(m);{m=[G,M,I].concat(m);const K=[];for(let H=0;H<m.length;H+=3){const J=_y(m[H][0],m[H][1],u),W=_y(m[H+1][0],m[H+1][1],u),Q=_y(m[H+2][0],m[H+2][1],u);K.push([J[0],J[1],W[0],W[1],Q[0],Q[1]])}return K}}const uxe={randOffset:function(t,e){return bn(t,e)},randOffsetWithRange:function(t,e,n){return vS(t,e,n)},ellipse:function(t,e,n,r,i){const a=gK(n,r,i);return iP(t,e,i,a).opset},doubleLineOps:function(t,e,n,r,i){return Uf(t,e,n,r,i,!0)}};function mK(t,e,n,r,i){return{type:"path",ops:Uf(t,e,n,r,i)}}function Qw(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let a=0;a<r-1;a++)i.push(...Uf(t[a][0],t[a][1],t[a+1][0],t[a+1][1],n));return e&&i.push(...Uf(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?mK(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function hxe(t,e,n,r,i){return(function(a,s){return Qw(a,!0,s)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function X6(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=sw(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:sw(n[0],1.5*(1+.22*e.roughness),Q6(e));for(let a=1;a<n.length;a++){const s=n[a];if(s.length){const o=sw(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:sw(s,1.5*(1+.22*e.roughness),Q6(e));for(const c of o)c.op!=="move"&&r.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function gK(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-n.curveFitting;return s+=bn(s*l,n),o+=bn(o*l,n),{increment:a,rx:s,ry:o}}function iP(t,e,n,r){const[i,a]=e8(r.increment,t,e,r.rx,r.ry,1,r.increment*vS(.1,vS(.4,1,n),n),n);let s=yS(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=e8(r.increment,t,e,r.rx,r.ry,1.5,0,n),l=yS(o,null,n);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function J6(t,e,n,r,i,a,s,o,l){const c=t,u=e;let f=Math.abs(n/2),m=Math.abs(r/2);f+=bn(.01*f,l),m+=bn(.01*m,l);let p=i,v=a;for(;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);const b=2*Math.PI/l.curveStepCount,x=Math.min(b/2,(v-p)/2),w=t8(x,c,u,f,m,p,v,1,l);if(!l.disableMultiStroke){const C=t8(x,c,u,f,m,p,v,1.5,l);w.push(...C)}return s&&(o?w.push(...Uf(c,u,c+f*Math.cos(p),u+m*Math.sin(p),l),...Uf(c,u,c+f*Math.cos(v),u+m*Math.sin(v),l)):w.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+f*Math.cos(p),u+m*Math.sin(p)]})),{type:"path",ops:w}}function Z6(t,e){const n=fK(dK(KL(t))),r=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of n)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":r.push(...Uf(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,c,u,f,m,p]=o;r.push(...dxe(l,c,u,f,m,p,a,e)),a=[m,p];break}case"Z":r.push(...Uf(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:r}}function vT(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,a=r.length;if(a>2){n.push({op:"move",data:[r[0][0]+bn(i,e),r[0][1]+bn(i,e)]});for(let s=1;s<a;s++)n.push({op:"lineTo",data:[r[s][0]+bn(i,e),r[s][1]+bn(i,e)]})}}return{type:"fillPath",ops:n}}function Rg(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!Mo[i])switch(i){case"zigzag":Mo[i]||(Mo[i]=new rxe(r));break;case"cross-hatch":Mo[i]||(Mo[i]=new ixe(r));break;case"dots":Mo[i]||(Mo[i]=new axe(r));break;case"dashed":Mo[i]||(Mo[i]=new sxe(r));break;case"zigzag-line":Mo[i]||(Mo[i]=new oxe(r));break;default:i="hachure",Mo[i]||(Mo[i]=new GL(r))}return Mo[i]})(e,uxe).fillPolygons(t,e)}function Q6(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function vK(t){return t.randomizer||(t.randomizer=new lxe(t.seed||0)),t.randomizer.next()}function vS(t,e,n,r=1){return n.roughness*r*(vK(n)*(e-t)+t)}function bn(t,e,n=1){return vS(-t,t,e,n)}function Uf(t,e,n,r,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=aP(t,e,n,r,i,!0,!1);if(s)return o;const l=aP(t,e,n,r,i,!0,!0);return o.concat(l)}function aP(t,e,n,r,i,a,s){const o=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=l/10);const f=u/2,m=.2+.2*vK(i);let p=i.bowing*i.maxRandomnessOffset*(r-e)/200,v=i.bowing*i.maxRandomnessOffset*(t-n)/200;p=bn(p,i,c),v=bn(v,i,c);const b=[],x=()=>bn(f,i,c),w=()=>bn(u,i,c),C=i.preserveVertices;return s?b.push({op:"move",data:[t+(C?0:x()),e+(C?0:x())]}):b.push({op:"move",data:[t+(C?0:bn(u,i,c)),e+(C?0:bn(u,i,c))]}),s?b.push({op:"bcurveTo",data:[p+t+(n-t)*m+x(),v+e+(r-e)*m+x(),p+t+2*(n-t)*m+x(),v+e+2*(r-e)*m+x(),n+(C?0:x()),r+(C?0:x())]}):b.push({op:"bcurveTo",data:[p+t+(n-t)*m+w(),v+e+(r-e)*m+w(),p+t+2*(n-t)*m+w(),v+e+2*(r-e)*m+w(),n+(C?0:w()),r+(C?0:w())]}),b}function sw(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+bn(e,n),t[0][1]+bn(e,n)]),r.push([t[0][0]+bn(e,n),t[0][1]+bn(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+bn(e,n),t[i][1]+bn(e,n)]),i===t.length-1&&r.push([t[i][0]+bn(e,n),t[i][1]+bn(e,n)]);return yS(r,null,n)}function yS(t,e,n){const r=t.length,i=[];if(r>3){const a=[],s=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...aP(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function e8(t,e,n,r,i,a,s,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let u=0;u<=2*Math.PI;u+=t){const f=[e+r*Math.cos(u),n+i*Math.sin(u)];l.push(f),c.push(f)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const u=bn(.5,o)-Math.PI/2;c.push([bn(a,o)+e+.9*r*Math.cos(u-t),bn(a,o)+n+.9*i*Math.sin(u-t)]);const f=2*Math.PI+u-.01;for(let m=u;m<f;m+=t){const p=[bn(a,o)+e+r*Math.cos(m),bn(a,o)+n+i*Math.sin(m)];l.push(p),c.push(p)}c.push([bn(a,o)+e+r*Math.cos(u+2*Math.PI+.5*s),bn(a,o)+n+i*Math.sin(u+2*Math.PI+.5*s)]),c.push([bn(a,o)+e+.98*r*Math.cos(u+s),bn(a,o)+n+.98*i*Math.sin(u+s)]),c.push([bn(a,o)+e+.9*r*Math.cos(u+.5*s),bn(a,o)+n+.9*i*Math.sin(u+.5*s)])}return[c,l]}function t8(t,e,n,r,i,a,s,o,l){const c=a+bn(.1,l),u=[];u.push([bn(o,l)+e+.9*r*Math.cos(c-t),bn(o,l)+n+.9*i*Math.sin(c-t)]);for(let f=c;f<=s;f+=t)u.push([bn(o,l)+e+r*Math.cos(f),bn(o,l)+n+i*Math.sin(f)]);return u.push([e+r*Math.cos(s),n+i*Math.sin(s)]),u.push([e+r*Math.cos(s),n+i*Math.sin(s)]),yS(u,null,l)}function dxe(t,e,n,r,i,a,s,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let u=[0,0];const f=o.disableMultiStroke?1:2,m=o.preserveVertices;for(let p=0;p<f;p++)p===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(m?0:bn(c[0],o)),s[1]+(m?0:bn(c[0],o))]}),u=m?[i,a]:[i+bn(c[p],o),a+bn(c[p],o)],l.push({op:"bcurveTo",data:[t+bn(c[p],o),e+bn(c[p],o),n+bn(c[p],o),r+bn(c[p],o),u[0],u[1]]});return l}function ky(t){return[...t]}function n8(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(ky(t[0]),ky(t[1]),ky(t[2]),ky(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;r.push(ky(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],r.push(a[1],a[2],a[3])}}return r}function e2(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function fxe(t,e,n){const r=e2(e,n);if(r===0)return e2(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),e2(t,Ip(e,n,i))}function Ip(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function sP(t,e,n,r){const i=r||[];if((function(o,l){const c=o[l+0],u=o[l+1],f=o[l+2],m=o[l+3];let p=3*u[0]-2*c[0]-m[0];p*=p;let v=3*u[1]-2*c[1]-m[1];v*=v;let b=3*f[0]-2*m[0]-c[0];b*=b;let x=3*f[1]-2*m[1]-c[1];return x*=x,p<b&&(p=b),v<x&&(v=x),p+v})(t,e)<n){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(e2(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],u=t[e+2],f=t[e+3],m=Ip(l,c,.5),p=Ip(c,u,.5),v=Ip(u,f,.5),b=Ip(m,p,.5),x=Ip(p,v,.5),w=Ip(b,x,.5);sP([l,m,b,w],0,n,i),sP([w,x,v,f],0,n,i)}var a,s;return i}function pxe(t,e){return bS(t,0,t.length,e)}function bS(t,e,n,r,i){const a=i||[],s=t[e],o=t[n-1];let l=0,c=1;for(let u=e+1;u<n-1;++u){const f=fxe(t[u],s,o);f>l&&(l=f,c=u)}return Math.sqrt(l)>r?(bS(t,e,c+1,r,a),bS(t,c,n,r,a)):(a.length||a.push(s),a.push(o)),a}function yT(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let a=0;a<i;a++)sP(t,3*a,e,r);return n&&n>0?bS(r,0,r.length,n):r}const sl="none";let xS=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,a){const s=this._o(a);return this._d("line",[mK(e,n,r,i,s)],s)}rectangle(e,n,r,i,a){const s=this._o(a),o=[],l=hxe(e,n,r,i,s);if(s.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];s.fillStyle==="solid"?o.push(vT([c],s)):o.push(Rg([c],s))}return s.stroke!==sl&&o.push(l),this._d("rectangle",o,s)}ellipse(e,n,r,i,a){const s=this._o(a),o=[],l=gK(r,i,s),c=iP(e,n,s,l);if(s.fill)if(s.fillStyle==="solid"){const u=iP(e,n,s,l).opset;u.type="fillPath",o.push(u)}else o.push(Rg([c.estimatedPoints],s));return s.stroke!==sl&&o.push(c.opset),this._d("ellipse",o,s)}circle(e,n,r,i){const a=this.ellipse(e,n,r,r,i);return a.shape="circle",a}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[Qw(e,!1,r)],r)}arc(e,n,r,i,a,s,o=!1,l){const c=this._o(l),u=[],f=J6(e,n,r,i,a,s,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const m=Object.assign({},c);m.disableMultiStroke=!0;const p=J6(e,n,r,i,a,s,!0,!1,m);p.type="fillPath",u.push(p)}else u.push((function(m,p,v,b,x,w,C){const E=m,O=p;let P=Math.abs(v/2),L=Math.abs(b/2);P+=bn(.01*P,C),L+=bn(.01*L,C);let B=x,$=w;for(;B<0;)B+=2*Math.PI,$+=2*Math.PI;$-B>2*Math.PI&&(B=0,$=2*Math.PI);const U=($-B)/C.curveStepCount,G=[];for(let M=B;M<=$;M+=U)G.push([E+P*Math.cos(M),O+L*Math.sin(M)]);return G.push([E+P*Math.cos($),O+L*Math.sin($)]),G.push([E,O]),Rg([G],C)})(e,n,r,i,a,s,c));return c.stroke!==sl&&u.push(f),this._d("arc",u,c)}curve(e,n){const r=this._o(n),i=[],a=X6(e,r);if(r.fill&&r.fill!==sl)if(r.fillStyle==="solid"){const s=X6(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?s.push(...c):c.length===3?s.push(...yT(n8([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):s.push(...yT(n8(c),10,(1+r.roughness)/2))}s.length&&i.push(Rg([s],r))}return r.stroke!==sl&&i.push(a),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],a=Qw(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(vT([e],r)):i.push(Rg([e],r))),r.stroke!==sl&&i.push(a),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=r.fill&&r.fill!=="transparent"&&r.fill!==sl,s=r.stroke!==sl,o=!!(r.simplification&&r.simplification<1),l=(function(u,f,m){const p=fK(dK(KL(u))),v=[];let b=[],x=[0,0],w=[];const C=()=>{w.length>=4&&b.push(...yT(w,f)),w=[]},E=()=>{C(),b.length&&(v.push(b),b=[])};for(const{key:P,data:L}of p)switch(P){case"M":E(),x=[L[0],L[1]],b.push(x);break;case"L":C(),b.push([L[0],L[1]]);break;case"C":if(!w.length){const B=b.length?b[b.length-1]:x;w.push([B[0],B[1]])}w.push([L[0],L[1]]),w.push([L[2],L[3]]),w.push([L[4],L[5]]);break;case"Z":C(),b.push([x[0],x[1]])}if(E(),!m)return v;const O=[];for(const P of v){const L=pxe(P,m);L.length&&O.push(L)}return O})(e,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),c=Z6(e,r);if(a)if(r.fillStyle==="solid")if(l.length===1){const u=Z6(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(vT(l,r));else i.push(Rg(l,r));return s&&(o?l.forEach((u=>{i.push(Qw(u,!1,r))})):i.push(c)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const a=typeof n=="number"&&n>=0?i.data.map((s=>+s.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":r+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":r+=`L${a[0]} ${a[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const a of n){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:sl};break;case"fillPath":s={d:this.opsToPath(a),stroke:sl,strokeWidth:0,fill:r.fill||sl};break;case"fillSketch":s=this.fillSketch(a,r)}s&&i.push(s)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||sl,strokeWidth:r,fill:sl}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}},mxe=class{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new xS(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of n)switch(s.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const a of n.ops){const s=typeof r=="number"&&r>=0?a.data.map((o=>+o.toFixed(r))):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,a){const s=this.gen.line(e,n,r,i,a);return this.draw(s),s}rectangle(e,n,r,i,a){const s=this.gen.rectangle(e,n,r,i,a);return this.draw(s),s}ellipse(e,n,r,i,a){const s=this.gen.ellipse(e,n,r,i,a);return this.draw(s),s}circle(e,n,r,i){const a=this.gen.circle(e,n,r,i);return this.draw(a),a}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,a,s,o=!1,l){const c=this.gen.arc(e,n,r,i,a,s,o,l);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}};const ow="http://www.w3.org/2000/svg";let gxe=class{constructor(e,n){this.svg=e,this.gen=new xS(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(ow,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of n){let l=null;switch(o.type){case"path":l=i.createElementNS(ow,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",r.stroke),l.setAttribute("stroke-width",r.strokeWidth+""),l.setAttribute("fill","none"),r.strokeLineDash&&l.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(ow,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,r)}l&&a.appendChild(l)}return a}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const a=e.createElementNS(ow,"path");return a.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,a){const s=this.gen.line(e,n,r,i,a);return this.draw(s)}rectangle(e,n,r,i,a){const s=this.gen.rectangle(e,n,r,i,a);return this.draw(s)}ellipse(e,n,r,i,a){const s=this.gen.ellipse(e,n,r,i,a);return this.draw(s)}circle(e,n,r,i){const a=this.gen.circle(e,n,r,i);return this.draw(a)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,a,s,o=!1,l){const c=this.gen.arc(e,n,r,i,a,s,o,l);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}};var Ut={canvas:(t,e)=>new mxe(t,e),svg:(t,e)=>new gxe(t,e),generator:t=>new xS(t),newSeed:()=>xS.newSeed()},mn=D(async(t,e,n)=>{let r;const i=e.useHtmlLabels||Ma(Sr()?.htmlLabels);n?r=n:r="node default";const a=t.insert("g").attr("class",r).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",js(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await Xf(s,Ql(jm(o),Sr()),{useHtmlLabels:i,width:e.width||Sr().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const u=(e?.padding??0)/2;if(i){const f=l.children[0],m=ar(l),p=f.getElementsByTagName("img");if(p){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(b=>new Promise(x=>{function w(){if(b.style.display="flex",b.style.flexDirection="column",v){const C=Sr().fontSize?Sr().fontSize:window.getComputedStyle(document.body).fontSize,E=5,[O=eH.fontSize]=ok(C),P=O*E+"px";b.style.minWidth=P,b.style.maxWidth=P}else b.style.width="100%";x(b)}D(w,"setupImage"),setTimeout(()=>{b.complete&&w()}),b.addEventListener("error",w),b.addEventListener("load",w)})))}c=f.getBoundingClientRect(),m.attr("width",c.width),m.attr("height",c.height)}return i?s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):s.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:c,halfPadding:u,label:s}},"labelHelper"),bT=D(async(t,e,n)=>{const r=n.useHtmlLabels||Ma(Sr()?.flowchart?.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),a=await Xf(i,Ql(jm(e),Sr()),{useHtmlLabels:r,width:n.width||Sr()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let s=a.getBBox();const o=n.padding/2;if(Ma(Sr()?.flowchart?.htmlLabels)){const l=a.children[0],c=ar(a);s=l.getBoundingClientRect(),c.attr("width",s.width),c.attr("height",s.height)}return r?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:s,halfPadding:o,label:i}},"insertLabel"),Vt=D((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),un=D((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Gn(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}D(Gn,"createPathFromPoints");function zf(t,e,n,r,i,a){const s=[],l=n-t,c=r-e,u=l/a,f=2*Math.PI/u,m=e+c/2;for(let p=0;p<=50;p++){const v=p/50,b=t+v*l,x=m+i*Math.sin(f*(b-t));s.push({x:b,y:x})}return s}D(zf,"generateFullSineWavePoints");function Bb(t,e,n,r,i,a){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(r-1);for(let f=0;f<r;f++){const m=o+f*u,p=t+n*Math.cos(m),v=e+n*Math.sin(m);s.push({x:-p,y:-v})}return s}D(Bb,"generateCirclePoints");var vxe=D((t,e)=>{var n=t.x,r=t.y,i=e.x-n,a=e.y-r,s=t.width/2,o=t.height/2,l,c;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,c=o):(i<0&&(s=-s),l=s,c=i===0?0:s*a/i),{x:n+l,y:r+c}},"intersectRect"),pv=vxe;function yK(t,e){e&&t.attr("style",e)}D(yK,"applyStyle");async function bK(t){const e=ar(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=Sr();let i=t.label;t.label&&H0(t.label)&&(i=await k3(t.label.replace(cv.lineBreakRegex,`
`),r));const s='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return n.html(Ql(s,r)),yK(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}D(bK,"addHtmlLabel");var yxe=D(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Ma(Sr().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Qe.info("vertexText"+i);const a={isNode:r,label:jm(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await bK(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),Jp=yxe,Jf=D((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),xK=D(async(t,e)=>{Qe.info("Creating subgraph rect for ",e.id,e);const n=Sr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:s}=r,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:u}=qt(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Ma(n.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),v=await Xf(p,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0});let b=v.getBBox();if(Ma(n.flowchart.htmlLabels)){const B=v.children[0],$=ar(v);b=B.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const x=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height,C=e.x-x/2,E=e.y-w/2;Qe.trace("Data ",e,JSON.stringify(e));let O;if(e.look==="handDrawn"){const B=Ut.svg(f),$=$t(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),U=B.path(Jf(C,E,x,w,0),$);O=f.insert(()=>(Qe.debug("Rough node insert CXC",U),U),":first-child"),O.select("path:nth-child(2)").attr("style",c.join(";")),O.select("path").attr("style",u.join(";").replace("fill","stroke"))}else O=f.insert("rect",":first-child"),O.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",E).attr("width",x).attr("height",w);const{subGraphTitleTopMargin:P}=TL(n);if(p.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+P})`),o){const B=p.select("span");B&&B.attr("style",o)}const L=O.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(B){return pv(e,B)},{cluster:f,labelBBox:b}},"rect"),bxe=D((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,a=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=r.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return pv(e,o)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),xxe=D(async(t,e)=>{const n=Sr(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=r,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),u=c.insert("g",":first-child"),f=c.insert("g").attr("class","cluster-label");let m=c.append("rect");const p=f.node().appendChild(await Jp(e.label,e.labelStyle,void 0,!0));let v=p.getBBox();if(Ma(n.flowchart.htmlLabels)){const U=p.children[0],G=ar(p);v=U.getBoundingClientRect(),G.attr("width",v.width),G.attr("height",v.height)}const b=0*e.padding,x=b/2,w=(e.width<=v.width+e.padding?v.width+e.padding:e.width)+b;e.width<=v.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const C=e.height+b,E=e.height+b-v.height-6,O=e.x-w/2,P=e.y-C/2;e.width=w;const L=e.y-e.height/2-x+v.height+2;let B;if(e.look==="handDrawn"){const U=e.cssClasses.includes("statediagram-cluster-alt"),G=Ut.svg(c),M=e.rx||e.ry?G.path(Jf(O,P,w,C,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):G.rectangle(O,P,w,C,{seed:i});B=c.insert(()=>M,":first-child");const I=G.rectangle(O,L,w,E,{fill:U?a:s,fillStyle:U?"hachure":"solid",stroke:l,seed:i});B=c.insert(()=>M,":first-child"),m=c.insert(()=>I)}else B=u.insert("rect",":first-child"),B.attr("class","outer").attr("x",O).attr("y",P).attr("width",w).attr("height",C).attr("data-look",e.look),m.attr("class","inner").attr("x",O).attr("y",L).attr("width",w).attr("height",E);f.attr("transform",`translate(${e.x-v.width/2}, ${P+1-(Ma(n.flowchart.htmlLabels)?0:3)})`);const $=B.node().getBBox();return e.height=$.height,e.offsetX=0,e.offsetY=v.height-e.padding/2,e.labelBBox=v,e.intersect=function(U){return pv(e,U)},{cluster:c,labelBBox:v}},"roundedWithTitle"),wxe=D(async(t,e)=>{Qe.info("Creating subgraph rect for ",e.id,e);const n=Sr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:s}=r,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:u}=qt(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Ma(n.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),v=await Xf(p,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0,width:e.width});let b=v.getBBox();if(Ma(n.flowchart.htmlLabels)){const B=v.children[0],$=ar(v);b=B.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const x=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height,C=e.x-x/2,E=e.y-w/2;Qe.trace("Data ",e,JSON.stringify(e));let O;if(e.look==="handDrawn"){const B=Ut.svg(f),$=$t(e,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),U=B.path(Jf(C,E,x,w,e.rx),$);O=f.insert(()=>(Qe.debug("Rough node insert CXC",U),U),":first-child"),O.select("path:nth-child(2)").attr("style",c.join(";")),O.select("path").attr("style",u.join(";").replace("fill","stroke"))}else O=f.insert("rect",":first-child"),O.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",E).attr("width",x).attr("height",w);const{subGraphTitleTopMargin:P}=TL(n);if(p.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+P})`),o){const B=p.select("span");B&&B.attr("style",o)}const L=O.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(B){return pv(e,B)},{cluster:f,labelBBox:b}},"kanbanSection"),Sxe=D((t,e)=>{const n=Sr(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:a}=r,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const u=e.height+l,f=e.x-c/2,m=e.y-u/2;e.width=c;let p;if(e.look==="handDrawn"){const x=Ut.svg(s).rectangle(f,m,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=s.insert(()=>x,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",f).attr("y",m).attr("width",c).attr("height",u).attr("data-look",e.look);const v=p.node().getBBox();return e.height=v.height,e.offsetX=0,e.offsetY=0,e.intersect=function(b){return pv(e,b)},{cluster:s,labelBBox:{}}},"divider"),_xe=xK,kxe={rect:xK,squareRect:_xe,roundedWithTitle:xxe,noteGroup:bxe,divider:Sxe,kanbanSection:wxe},wK=new Map,Cxe=D(async(t,e)=>{const n=e.shape||"rect",r=await kxe[n](t,e);return wK.set(e.id,r),r},"insertCluster"),jVe=D(()=>{wK=new Map},"clear");function SK(t,e){return t.intersect(e)}D(SK,"intersectNode");var Txe=SK;function _K(t,e,n,r){var i=t.x,a=t.y,s=i-r.x,o=a-r.y,l=Math.sqrt(e*e*o*o+n*n*s*s),c=Math.abs(e*n*s/l);r.x<i&&(c=-c);var u=Math.abs(e*n*o/l);return r.y<a&&(u=-u),{x:i+c,y:a+u}}D(_K,"intersectEllipse");var kK=_K;function CK(t,e,n){return kK(t,e,e,n)}D(CK,"intersectCircle");var Exe=CK;function TK(t,e,n,r){{const i=e.y-t.y,a=t.x-e.x,s=e.x*t.y-t.x*e.y,o=i*n.x+a*n.y+s,l=i*r.x+a*r.y+s,c=1e-6;if(o!==0&&l!==0&&oP(o,l))return;const u=r.y-n.y,f=n.x-r.x,m=r.x*n.y-n.x*r.y,p=u*t.x+f*t.y+m,v=u*e.x+f*e.y+m;if(Math.abs(p)<c&&Math.abs(v)<c&&oP(p,v))return;const b=i*f-u*a;if(b===0)return;const x=Math.abs(b/2);let w=a*m-f*s;const C=w<0?(w-x)/b:(w+x)/b;w=u*s-i*m;const E=w<0?(w-x)/b:(w+x)/b;return{x:C,y:E}}}D(TK,"intersectLine");function oP(t,e){return t*e>0}D(oP,"sameSign");var Axe=TK;function EK(t,e,n){let r=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(u){s=Math.min(s,u.x),o=Math.min(o,u.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=r-t.width/2-s,c=i-t.height/2-o;for(let u=0;u<e.length;u++){let f=e[u],m=e[u<e.length-1?u+1:0],p=Axe(t,n,{x:l+f.x,y:c+f.y},{x:l+m.x,y:c+m.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(u,f){let m=u.x-n.x,p=u.y-n.y,v=Math.sqrt(m*m+p*p),b=f.x-n.x,x=f.y-n.y,w=Math.sqrt(b*b+x*x);return v<w?-1:v===w?0:1}),a[0]):t}D(EK,"intersectPolygon");var Oxe=EK,_t={node:Txe,circle:Exe,ellipse:kK,polygon:Oxe,rect:pv};function AK(t,e){const{labelStyles:n}=qt(e);e.labelStyle=n;const r=un(e);let i=r;r||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=Ut.svg(a),c=$t(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const u=l.circle(0,0,s*2,c),f=a.insert(()=>u,":first-child");return f.attr("class","anchor").attr("style",js(o)),Vt(e,f),e.intersect=function(m){return Qe.info("Circle intersect",e,s,m),_t.circle(e,s,m)},a}D(AK,"anchor");function lP(t,e,n,r,i,a,s){const l=(t+n)/2,c=(e+r)/2,u=Math.atan2(r-e,n-t),f=(n-t)/2,m=(r-e)/2,p=f/i,v=m/a,b=Math.sqrt(p**2+v**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-b**2),w=l+x*a*Math.sin(u)*(s?-1:1),C=c-x*i*Math.cos(u)*(s?-1:1),E=Math.atan2((e-C)/a,(t-w)/i);let P=Math.atan2((r-C)/a,(n-w)/i)-E;s&&P<0&&(P+=2*Math.PI),!s&&P>0&&(P-=2*Math.PI);const L=[];for(let B=0;B<20;B++){const $=B/19,U=E+$*P,G=w+i*Math.cos(U),M=C+a*Math.sin(U);L.push({x:G,y:M})}return L}D(lP,"generateArcPoints");async function OK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:u}=e,f=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...lP(-s/2,-o/2,-s/2,o/2,c,l,!1),{x:s/2,y:o/2},...lP(s/2,o/2,s/2,-o/2,c,l,!0)],m=Ut.svg(i),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Gn(f),b=m.path(v,p),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(${c/2}, 0)`),Vt(e,x),e.intersect=function(w){return _t.polygon(e,f,w)},i}D(OK,"bowTieRect");function Zf(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}D(Zf,"insertPolygonShape");async function PK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,c=0,u=l,f=-s,m=0,p=[{x:c+o,y:f},{x:u,y:f},{x:u,y:m},{x:c,y:m},{x:c,y:f+o},{x:c+o,y:f}];let v;const{cssStyles:b}=e;if(e.look==="handDrawn"){const x=Ut.svg(i),w=$t(e,{}),C=Gn(p),E=x.path(C,w);v=i.insert(()=>E,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),b&&v.attr("style",b)}else v=Zf(i,l,s,p);return r&&v.attr("style",r),Vt(e,v),e.intersect=function(x){return _t.polygon(e,p,x)},i}D(PK,"card");function NK(t,e){const{nodeStyles:n}=qt(e);e.label="";const r=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=Ut.svg(r),l=$t(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Gn(s),u=o.path(c,l),f=r.insert(()=>u,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(m){return _t.polygon(e,s,m)},r}D(NK,"choice");async function YL(t,e,n){const{labelStyles:r,nodeStyles:i}=qt(e);e.labelStyle=r;const{shapeSvg:a,bbox:s,halfPadding:o}=await mn(t,e,un(e)),l=n?.padding??o,c=s.width/2+l;let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const m=Ut.svg(a),p=$t(e,{}),v=m.circle(0,0,c*2,p);u=a.insert(()=>v,":first-child"),u.attr("class","basic label-container").attr("style",js(f))}else u=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return Vt(e,u),e.calcIntersect=function(m,p){const v=m.width/2;return _t.circle(m,v,p)},e.intersect=function(m){return Qe.info("Circle intersect",e,c,m),_t.circle(e,c,m)},a}D(YL,"circle");function LK(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},a={x:-(r/2)*e,y:r/2*n},s={x:-(r/2)*e,y:-(r/2)*n},o={x:r/2*e,y:-(r/2)*n};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}D(LK,"createLine");function MK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),a=Math.max(30,e?.width??0),{cssStyles:s}=e,o=Ut.svg(i),l=$t(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,a*2,l),u=LK(a),f=o.path(u,l),m=i.insert(()=>c,":first-child");return m.insert(()=>f),s&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",r),Vt(e,m),e.intersect=function(p){return Qe.info("crossedCircle intersect",e,{radius:a,point:p}),_t.circle(e,a,p)},i}D(MK,"crossedCircle");function zh(t,e,n,r=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(r-1);for(let f=0;f<r;f++){const m=o+f*u,p=t+n*Math.cos(m),v=e+n*Math.sin(m);s.push({x:-p,y:-v})}return s}D(zh,"generateCirclePoints");async function RK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...zh(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...zh(o/2+c*2,-c,c,20,-180,-270),...zh(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...zh(o/2,l/2,c,20,0,90)],m=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...zh(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...zh(o/2+o*.1,-c,c,20,-180,-270),...zh(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...zh(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],p=Ut.svg(i),v=$t(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=Gn(f).replace("Z",""),w=p.path(x,v),C=Gn(m),E=p.path(C,{...v}),O=i.insert("g",":first-child");return O.insert(()=>E,":first-child").attr("stroke-opacity",0),O.insert(()=>w,":first-child"),O.attr("class","text"),u&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",r),O.attr("transform",`translate(${c}, 0)`),s.attr("transform",`translate(${-o/2+c-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Vt(e,O),e.intersect=function(P){return _t.polygon(e,m,P)},i}D(RK,"curlyBraceLeft");function $h(t,e,n,r=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(r-1);for(let f=0;f<r;f++){const m=o+f*u,p=t+n*Math.cos(m),v=e+n*Math.sin(m);s.push({x:p,y:v})}return s}D($h,"generateCirclePoints");async function IK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...$h(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...$h(o/2+c*2,-c,c,20,-180,-270),...$h(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...$h(o/2,l/2,c,20,0,90)],m=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...$h(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...$h(o/2+c*2,-c,c,20,-180,-270),...$h(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...$h(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],p=Ut.svg(i),v=$t(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=Gn(f).replace("Z",""),w=p.path(x,v),C=Gn(m),E=p.path(C,{...v}),O=i.insert("g",":first-child");return O.insert(()=>E,":first-child").attr("stroke-opacity",0),O.insert(()=>w,":first-child"),O.attr("class","text"),u&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",r),O.attr("transform",`translate(${-c}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Vt(e,O),e.intersect=function(P){return _t.polygon(e,m,P)},i}D(IK,"curlyBraceRight");function hs(t,e,n,r=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(r-1);for(let f=0;f<r;f++){const m=o+f*u,p=t+n*Math.cos(m),v=e+n*Math.sin(m);s.push({x:-p,y:-v})}return s}D(hs,"generateCirclePoints");async function jK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...hs(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...hs(o/2+c*2,-c,c,20,-180,-270),...hs(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...hs(o/2,l/2,c,20,0,90)],m=[...hs(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...hs(-o/2-c/2,-c,c,20,0,90),...hs(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...hs(-o/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...hs(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...hs(o/2+c*2,-c,c,20,-180,-270),...hs(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...hs(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...hs(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...hs(-o/2-c/2,-c,c,20,0,90),...hs(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...hs(-o/2+c+c/2,l/2,c,30,-180,-270)],v=Ut.svg(i),b=$t(e,{fill:"none"});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=Gn(f).replace("Z",""),C=v.path(w,b),O=Gn(m).replace("Z",""),P=v.path(O,b),L=Gn(p),B=v.path(L,{...b}),$=i.insert("g",":first-child");return $.insert(()=>B,":first-child").attr("stroke-opacity",0),$.insert(()=>C,":first-child"),$.insert(()=>P,":first-child"),$.attr("class","text"),u&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(${c-c/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Vt(e,$),e.intersect=function(U){return _t.polygon(e,p,U)},i}D(jK,"curlyBraces");async function DK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,e?.width??0),c=Math.max(o,a.height+(e.padding??0)*2,e?.height??0),u=c/2,{cssStyles:f}=e,m=Ut.svg(i),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=l,b=c,x=v-u,w=b/4,C=[{x,y:0},{x:w,y:0},{x:0,y:b/2},{x:w,y:b},{x,y:b},...Bb(-x,-b/2,u,50,270,90)],E=Gn(C),O=m.path(E,p),P=i.insert(()=>O,":first-child");return P.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",r),P.attr("transform",`translate(${-l/2}, ${-c/2})`),Vt(e,P),e.intersect=function(L){return _t.polygon(e,C,L)},i}D(DK,"curvedTrapezoid");var Pxe=D((t,e,n,r,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),Nxe=D((t,e,n,r,i,a)=>[`M${t},${e+a}`,`M${t+n},${e+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),Lxe=D((t,e,n,r,i,a)=>[`M${t-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function BK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,c=l/(2.5+o/50),u=Math.max(a.height+c+e.padding,e.height??0);let f;const{cssStyles:m}=e;if(e.look==="handDrawn"){const p=Ut.svg(i),v=Nxe(0,0,o,u,l,c),b=Lxe(0,c,o,u,l,c),x=p.path(v,$t(e,{})),w=p.path(b,$t(e,{fill:"none"}));f=i.insert(()=>w,":first-child"),f=i.insert(()=>x,":first-child"),f.attr("class","basic label-container"),m&&f.attr("style",m)}else{const p=Pxe(0,0,o,u,l,c);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",js(m)).attr("style",r)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-o/2}, ${-(u/2+c)})`),Vt(e,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(p){const v=_t.rect(e,p),b=v.x-(e.x??0);if(l!=0&&(Math.abs(b)<(e.width??0)/2||Math.abs(b)==(e.width??0)/2&&Math.abs(v.y-(e.y??0))>(e.height??0)/2-c)){let x=c*c*(1-b*b/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,p.y-(e.y??0)>0&&(x=-x),v.y+=x}return v},i}D(BK,"cylinder");async function FK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=a.width+e.padding,l=a.height+e.padding,c=l*.2,u=-o/2,f=-l/2-c/2,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:u,y:f+c},{x:-u,y:f+c},{x:-u,y:-f},{x:u,y:-f},{x:u,y:f},{x:-u,y:f},{x:-u,y:f+c}],x=p.polygon(b.map(C=>[C.x,C.y]),v),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),s.attr("transform",`translate(${u+(e.padding??0)/2-(a.x-(a.left??0))}, ${f+c+(e.padding??0)/2-(a.y-(a.top??0))})`),Vt(e,w),e.intersect=function(C){return _t.rect(e,C)},i}D(FK,"dividedRectangle");async function UK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s}=await mn(t,e,un(e)),l=a.width/2+s+5,c=a.width/2+s;let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const m=Ut.svg(i),p=$t(e,{roughness:.2,strokeWidth:2.5}),v=$t(e,{roughness:.2,strokeWidth:1.5}),b=m.circle(0,0,l*2,p),x=m.circle(0,0,c*2,v);u=i.insert("g",":first-child"),u.attr("class",js(e.cssClasses)).attr("style",js(f)),u.node()?.appendChild(b),u.node()?.appendChild(x)}else{u=i.insert("g",":first-child");const m=u.insert("circle",":first-child"),p=u.insert("circle");u.attr("class","basic label-container").attr("style",r),m.attr("class","outer-circle").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0),p.attr("class","inner-circle").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0)}return Vt(e,u),e.intersect=function(m){return Qe.info("DoubleCircle intersect",e,l,m),_t.circle(e,l,m)},i}D(UK,"doublecircle");function zK(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=qt(e);e.label="",e.labelStyle=r;const a=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=Ut.svg(a),{nodeBorder:c}=n,u=$t(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const f=l.circle(0,0,s*2,u),m=a.insert(()=>f,":first-child");return m.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),Vt(e,m),e.intersect=function(p){return Qe.info("filledCircle intersect",e,{radius:s,point:p}),_t.circle(e,s,p)},a}D(zK,"filledCircle");async function $K(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=a.width+(e.padding??0),l=o+a.height,c=o+a.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:f}=e,m=Ut.svg(i),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Gn(u),b=m.path(v,p),x=i.insert(()=>b,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),e.width=o,e.height=l,Vt(e,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(w){return Qe.info("Triangle intersect",e,u,w),_t.polygon(e,u,w)},i}D($K,"flippedTriangle");function qK(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:a}=qt(e);e.label="";const s=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,e?.width??0),c=Math.max(10,e?.height??0);n==="LR"&&(l=Math.max(10,e?.width??0),c=Math.max(70,e?.height??0));const u=-1*l/2,f=-1*c/2,m=Ut.svg(s),p=$t(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=m.rectangle(u,f,l,c,p),b=s.insert(()=>v,":first-child");o&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",a),Vt(e,b);const x=r?.padding??0;return e.width&&e.height&&(e.width+=x/2||0,e.height+=x/2||0),e.intersect=function(w){return _t.rect(e,w)},s}D(qK,"forkJoin");async function HK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const i=80,a=50,{shapeSvg:s,bbox:o}=await mn(t,e,un(e)),l=Math.max(i,o.width+(e.padding??0)*2,e?.width??0),c=Math.max(a,o.height+(e.padding??0)*2,e?.height??0),u=c/2,{cssStyles:f}=e,m=Ut.svg(s),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-l/2,y:-c/2},{x:l/2-u,y:-c/2},...Bb(-l/2+u,0,u,50,90,270),{x:l/2-u,y:c/2},{x:-l/2,y:c/2}],b=Gn(v),x=m.path(b,p),w=s.insert(()=>x,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),Vt(e,w),e.intersect=function(C){return Qe.info("Pill intersect",e,{radius:u,point:C}),_t.polygon(e,v,C)},s}D(HK,"halfRoundedRectangle");async function WK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.height+(e.padding??0),o=a.width+(e.padding??0)*2.5,{cssStyles:l}=e,c=Ut.svg(i),u=$t(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let f=o/2;const m=f/6;f=f+m;const p=s/2,v=p/2,b=f-v,x=[{x:-b,y:-p},{x:0,y:-p},{x:b,y:-p},{x:f,y:0},{x:b,y:p},{x:0,y:p},{x:-b,y:p},{x:-f,y:0}],w=Gn(x),C=c.path(w,u),E=i.insert(()=>C,":first-child");return E.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",l),r&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",r),e.width=o,e.height=s,Vt(e,E),e.intersect=function(O){return _t.polygon(e,x,O)},i}D(WK,"hexagon");async function VK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await mn(t,e,un(e)),a=Math.max(30,e?.width??0),s=Math.max(30,e?.height??0),{cssStyles:o}=e,l=Ut.svg(i),c=$t(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],f=Gn(u),m=l.path(f,c),p=i.insert(()=>m,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),r&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",r),p.attr("transform",`translate(${-a/2}, ${-s/2})`),Vt(e,p),e.intersect=function(v){return Qe.info("Pill intersect",e,{points:u}),_t.polygon(e,u,v)},i}D(VK,"hourglass");async function GK(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=qt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=r?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,label:f}=await mn(t,e,"icon-shape default"),m=e.pos==="t",p=o,v=o,{nodeBorder:b}=n,{stylesMap:x}=hv(e),w=-v/2,C=-p/2,E=e.label?8:0,O=Ut.svg(c),P=$t(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const L=O.rectangle(w,C,v,p,P),B=Math.max(v,u.width),$=p+u.height+E,U=O.rectangle(-B/2,-$/2,B,$,{...P,fill:"transparent",stroke:"none"}),G=c.insert(()=>L,":first-child"),M=c.insert(()=>U);if(e.icon){const I=c.append("g");I.html(`<g>${await L1(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const K=I.node().getBBox(),H=K.width,J=K.height,W=K.x,Q=K.y;I.attr("transform",`translate(${-H/2-W},${m?u.height/2+E/2-J/2-Q:-u.height/2-E/2-J/2-Q})`),I.attr("style",`color: ${x.get("stroke")??b};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${m?-$/2:$/2-u.height})`),G.attr("transform",`translate(0,${m?u.height/2+E/2:-u.height/2-E/2})`),Vt(e,M),e.intersect=function(I){if(Qe.info("iconSquare intersect",e,I),!e.label)return _t.rect(e,I);const K=e.x??0,H=e.y??0,J=e.height??0;let W=[];return m?W=[{x:K-u.width/2,y:H-J/2},{x:K+u.width/2,y:H-J/2},{x:K+u.width/2,y:H-J/2+u.height+E},{x:K+v/2,y:H-J/2+u.height+E},{x:K+v/2,y:H+J/2},{x:K-v/2,y:H+J/2},{x:K-v/2,y:H-J/2+u.height+E},{x:K-u.width/2,y:H-J/2+u.height+E}]:W=[{x:K-v/2,y:H-J/2},{x:K+v/2,y:H-J/2},{x:K+v/2,y:H-J/2+p},{x:K+u.width/2,y:H-J/2+p},{x:K+u.width/2/2,y:H+J/2},{x:K-u.width/2,y:H+J/2},{x:K-u.width/2,y:H-J/2+p},{x:K-v/2,y:H-J/2+p}],_t.polygon(e,W,I)},c}D(GK,"icon");async function KK(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=qt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=r?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,label:f}=await mn(t,e,"icon-shape default"),m=20,p=e.label?8:0,v=e.pos==="t",{nodeBorder:b,mainBkg:x}=n,{stylesMap:w}=hv(e),C=Ut.svg(c),E=$t(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=w.get("fill");E.stroke=O??x;const P=c.append("g");e.icon&&P.html(`<g>${await L1(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const L=P.node().getBBox(),B=L.width,$=L.height,U=L.x,G=L.y,M=Math.max(B,$)*Math.SQRT2+m*2,I=C.circle(0,0,M,E),K=Math.max(M,u.width),H=M+u.height+p,J=C.rectangle(-K/2,-H/2,K,H,{...E,fill:"transparent",stroke:"none"}),W=c.insert(()=>I,":first-child"),Q=c.insert(()=>J);return P.attr("transform",`translate(${-B/2-U},${v?u.height/2+p/2-$/2-G:-u.height/2-p/2-$/2-G})`),P.attr("style",`color: ${w.get("stroke")??b};`),f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${v?-H/2:H/2-u.height})`),W.attr("transform",`translate(0,${v?u.height/2+p/2:-u.height/2-p/2})`),Vt(e,Q),e.intersect=function(ee){return Qe.info("iconSquare intersect",e,ee),_t.rect(e,ee)},c}D(KK,"iconCircle");async function YK(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=qt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=r?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:m}=await mn(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,b=o+f*2,{nodeBorder:x,mainBkg:w}=n,{stylesMap:C}=hv(e),E=-b/2,O=-v/2,P=e.label?8:0,L=Ut.svg(c),B=$t(e,{});e.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const $=C.get("fill");B.stroke=$??w;const U=L.path(Jf(E,O,b,v,5),B),G=Math.max(b,u.width),M=v+u.height+P,I=L.rectangle(-G/2,-M/2,G,M,{...B,fill:"transparent",stroke:"none"}),K=c.insert(()=>U,":first-child").attr("class","icon-shape2"),H=c.insert(()=>I);if(e.icon){const J=c.append("g");J.html(`<g>${await L1(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const W=J.node().getBBox(),Q=W.width,ee=W.height,he=W.x,Y=W.y;J.attr("transform",`translate(${-Q/2-he},${p?u.height/2+P/2-ee/2-Y:-u.height/2-P/2-ee/2-Y})`),J.attr("style",`color: ${C.get("stroke")??x};`)}return m.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-M/2:M/2-u.height})`),K.attr("transform",`translate(0,${p?u.height/2+P/2:-u.height/2-P/2})`),Vt(e,H),e.intersect=function(J){if(Qe.info("iconSquare intersect",e,J),!e.label)return _t.rect(e,J);const W=e.x??0,Q=e.y??0,ee=e.height??0;let he=[];return p?he=[{x:W-u.width/2,y:Q-ee/2},{x:W+u.width/2,y:Q-ee/2},{x:W+u.width/2,y:Q-ee/2+u.height+P},{x:W+b/2,y:Q-ee/2+u.height+P},{x:W+b/2,y:Q+ee/2},{x:W-b/2,y:Q+ee/2},{x:W-b/2,y:Q-ee/2+u.height+P},{x:W-u.width/2,y:Q-ee/2+u.height+P}]:he=[{x:W-b/2,y:Q-ee/2},{x:W+b/2,y:Q-ee/2},{x:W+b/2,y:Q-ee/2+v},{x:W+u.width/2,y:Q-ee/2+v},{x:W+u.width/2/2,y:Q+ee/2},{x:W-u.width/2,y:Q+ee/2},{x:W-u.width/2,y:Q-ee/2+v},{x:W-b/2,y:Q-ee/2+v}],_t.polygon(e,he,J)},c}D(YK,"iconRounded");async function XK(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=qt(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=r?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:m}=await mn(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,b=o+f*2,{nodeBorder:x,mainBkg:w}=n,{stylesMap:C}=hv(e),E=-b/2,O=-v/2,P=e.label?8:0,L=Ut.svg(c),B=$t(e,{});e.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const $=C.get("fill");B.stroke=$??w;const U=L.path(Jf(E,O,b,v,.1),B),G=Math.max(b,u.width),M=v+u.height+P,I=L.rectangle(-G/2,-M/2,G,M,{...B,fill:"transparent",stroke:"none"}),K=c.insert(()=>U,":first-child"),H=c.insert(()=>I);if(e.icon){const J=c.append("g");J.html(`<g>${await L1(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const W=J.node().getBBox(),Q=W.width,ee=W.height,he=W.x,Y=W.y;J.attr("transform",`translate(${-Q/2-he},${p?u.height/2+P/2-ee/2-Y:-u.height/2-P/2-ee/2-Y})`),J.attr("style",`color: ${C.get("stroke")??x};`)}return m.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-M/2:M/2-u.height})`),K.attr("transform",`translate(0,${p?u.height/2+P/2:-u.height/2-P/2})`),Vt(e,H),e.intersect=function(J){if(Qe.info("iconSquare intersect",e,J),!e.label)return _t.rect(e,J);const W=e.x??0,Q=e.y??0,ee=e.height??0;let he=[];return p?he=[{x:W-u.width/2,y:Q-ee/2},{x:W+u.width/2,y:Q-ee/2},{x:W+u.width/2,y:Q-ee/2+u.height+P},{x:W+b/2,y:Q-ee/2+u.height+P},{x:W+b/2,y:Q+ee/2},{x:W-b/2,y:Q+ee/2},{x:W-b/2,y:Q-ee/2+u.height+P},{x:W-u.width/2,y:Q-ee/2+u.height+P}]:he=[{x:W-b/2,y:Q-ee/2},{x:W+b/2,y:Q-ee/2},{x:W+b/2,y:Q-ee/2+v},{x:W+u.width/2,y:Q-ee/2+v},{x:W+u.width/2/2,y:Q+ee/2},{x:W-u.width/2,y:Q+ee/2},{x:W-u.width/2,y:Q-ee/2+v},{x:W-b/2,y:Q-ee/2+v}],_t.polygon(e,he,J)},c}D(XK,"iconSquare");async function JK(t,e,{config:{flowchart:n}}){const r=new Image;r.src=e?.img??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),a=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=qt(e);e.labelStyle=s;const o=n?.wrappingWidth;e.defaultWidth=n?.wrappingWidth;const l=Math.max(e.label?o??0:0,e?.assetWidth??i),c=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:l,u=e.constraint==="on"?c/e.imageAspectRatio:e?.assetHeight??a;e.width=Math.max(c,o??0);const{shapeSvg:f,bbox:m,label:p}=await mn(t,e,"image-shape default"),v=e.pos==="t",b=-c/2,x=-u/2,w=e.label?8:0,C=Ut.svg(f),E=$t(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=C.rectangle(b,x,c,u,E),P=Math.max(c,m.width),L=u+m.height+w,B=C.rectangle(-P/2,-L/2,P,L,{...E,fill:"none",stroke:"none"}),$=f.insert(()=>O,":first-child"),U=f.insert(()=>B);if(e.img){const G=f.append("image");G.attr("href",e.img),G.attr("width",c),G.attr("height",u),G.attr("preserveAspectRatio","none"),G.attr("transform",`translate(${-c/2},${v?L/2-u:-L/2})`)}return p.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${v?-u/2-m.height/2-w/2:u/2-m.height/2+w/2})`),$.attr("transform",`translate(0,${v?m.height/2+w/2:-m.height/2-w/2})`),Vt(e,U),e.intersect=function(G){if(Qe.info("iconSquare intersect",e,G),!e.label)return _t.rect(e,G);const M=e.x??0,I=e.y??0,K=e.height??0;let H=[];return v?H=[{x:M-m.width/2,y:I-K/2},{x:M+m.width/2,y:I-K/2},{x:M+m.width/2,y:I-K/2+m.height+w},{x:M+c/2,y:I-K/2+m.height+w},{x:M+c/2,y:I+K/2},{x:M-c/2,y:I+K/2},{x:M-c/2,y:I-K/2+m.height+w},{x:M-m.width/2,y:I-K/2+m.height+w}]:H=[{x:M-c/2,y:I-K/2},{x:M+c/2,y:I-K/2},{x:M+c/2,y:I-K/2+u},{x:M+m.width/2,y:I-K/2+u},{x:M+m.width/2/2,y:I+K/2},{x:M-m.width/2,y:I+K/2},{x:M-m.width/2,y:I-K/2+u},{x:M-c/2,y:I-K/2+u}],_t.polygon(e,H,G)},f}D(JK,"imageSquare");async function ZK(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=Math.max(a.width+(e.padding??0)*2,e?.width??0),o=Math.max(a.height+(e.padding??0)*2,e?.height??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=Ut.svg(i),m=$t(e,{}),p=Gn(l),v=f.path(p,m);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),u&&c.attr("style",u)}else c=Zf(i,s,o,l);return r&&c.attr("style",r),e.width=s,e.height=o,Vt(e,c),e.intersect=function(f){return _t.polygon(e,l,f)},i}D(ZK,"inv_trapezoid");async function fk(t,e,n){const{labelStyles:r,nodeStyles:i}=qt(e);e.labelStyle=r;const{shapeSvg:a,bbox:s}=await mn(t,e,un(e)),o=Math.max(s.width+n.labelPaddingX*2,e?.width||0),l=Math.max(s.height+n.labelPaddingY*2,e?.height||0),c=-o/2,u=-l/2;let f,{rx:m,ry:p}=e;const{cssStyles:v}=e;if(n?.rx&&n.ry&&(m=n.rx,p=n.ry),e.look==="handDrawn"){const b=Ut.svg(a),x=$t(e,{}),w=m||p?b.path(Jf(c,u,o,l,m||0),x):b.rectangle(c,u,o,l,x);f=a.insert(()=>w,":first-child"),f.attr("class","basic label-container").attr("style",js(v))}else f=a.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",js(m)).attr("ry",js(p)).attr("x",c).attr("y",u).attr("width",o).attr("height",l);return Vt(e,f),e.calcIntersect=function(b,x){return _t.rect(b,x)},e.intersect=function(b){return _t.rect(e,b)},a}D(fk,"drawRect");async function QK(t,e){const{shapeSvg:n,bbox:r,label:i}=await mn(t,e,"label"),a=n.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Vt(e,a),e.intersect=function(l){return _t.rect(e,l)},n}D(QK,"labelRect");async function eY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=Math.max(a.width+(e.padding??0),e?.width??0),o=Math.max(a.height+(e.padding??0),e?.height??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=Ut.svg(i),m=$t(e,{}),p=Gn(l),v=f.path(p,m);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),u&&c.attr("style",u)}else c=Zf(i,s,o,l);return r&&c.attr("style",r),e.width=s,e.height=o,Vt(e,c),e.intersect=function(f){return _t.polygon(e,l,f)},i}D(eY,"lean_left");async function tY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=Math.max(a.width+(e.padding??0),e?.width??0),o=Math.max(a.height+(e.padding??0),e?.height??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=Ut.svg(i),m=$t(e,{}),p=Gn(l),v=f.path(p,m);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),u&&c.attr("style",u)}else c=Zf(i,s,o,l);return r&&c.attr("style",r),e.width=s,e.height=o,Vt(e,c),e.intersect=function(f){return _t.polygon(e,l,f)},i}D(tY,"lean_right");function nY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,e?.width??0),o=Math.max(35,e?.height??0),l=7,c=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],u=Ut.svg(i),f=$t(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const m=Gn(c),p=u.path(m,f),v=i.insert(()=>p,":first-child");return a&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",a),r&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",r),v.attr("transform",`translate(-${s/2},${-o})`),Vt(e,v),e.intersect=function(b){return Qe.info("lightningBolt intersect",e,b),_t.polygon(e,c,b)},i}D(nY,"lightningBolt");var Mxe=D((t,e,n,r,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),Rxe=D((t,e,n,r,i,a,s)=>[`M${t},${e+a}`,`M${t+n},${e+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Ixe=D((t,e,n,r,i,a)=>[`M${t-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function rY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,c=l/(2.5+o/50),u=Math.max(a.height+c+(e.padding??0),e.height??0),f=u*.1;let m;const{cssStyles:p}=e;if(e.look==="handDrawn"){const v=Ut.svg(i),b=Rxe(0,0,o,u,l,c,f),x=Ixe(0,c,o,u,l,c),w=$t(e,{}),C=v.path(b,w),E=v.path(x,w);i.insert(()=>E,":first-child").attr("class","line"),m=i.insert(()=>C,":first-child"),m.attr("class","basic label-container"),p&&m.attr("style",p)}else{const v=Mxe(0,0,o,u,l,c,f);m=i.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",js(p)).attr("style",r)}return m.attr("label-offset-y",c),m.attr("transform",`translate(${-o/2}, ${-(u/2+c)})`),Vt(e,m),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+c-(a.y-(a.top??0))})`),e.intersect=function(v){const b=_t.rect(e,v),x=b.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(b.y-(e.y??0))>(e.height??0)/2-c)){let w=c*c*(1-x*x/(l*l));w>0&&(w=Math.sqrt(w)),w=c-w,v.y-(e.y??0)>0&&(w=-w),b.y+=w}return b},i}D(rY,"linedCylinder");async function iY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=l/4,u=l+c,{cssStyles:f}=e,m=Ut.svg(i),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-o/2-o/2*.1,y:-u/2},{x:-o/2-o/2*.1,y:u/2},...zf(-o/2-o/2*.1,u/2,o/2+o/2*.1,u/2,c,.8),{x:o/2+o/2*.1,y:-u/2},{x:-o/2-o/2*.1,y:-u/2},{x:-o/2,y:-u/2},{x:-o/2,y:u/2*1.1},{x:-o/2,y:-u/2}],b=m.polygon(v.map(w=>[w.x,w.y]),p),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c/2-(a.y-(a.top??0))})`),Vt(e,x),e.intersect=function(w){return _t.polygon(e,v,w)},i}D(iY,"linedWaveEdgedRect");async function aY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=5,u=-o/2,f=-l/2,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{}),b=[{x:u-c,y:f+c},{x:u-c,y:f+l+c},{x:u+o-c,y:f+l+c},{x:u+o-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f+l-c},{x:u+o+c,y:f+l-c},{x:u+o+c,y:f-c},{x:u+c,y:f-c},{x:u+c,y:f},{x:u,y:f},{x:u,y:f+c}],x=[{x:u,y:f+c},{x:u+o-c,y:f+c},{x:u+o-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f},{x:u,y:f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=Gn(b),C=p.path(w,v),E=Gn(x),O=p.path(E,{...v,fill:"none"}),P=i.insert(()=>O,":first-child");return P.insert(()=>C,":first-child"),P.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",r),s.attr("transform",`translate(${-(a.width/2)-c-(a.x-(a.left??0))}, ${-(a.height/2)+c-(a.y-(a.top??0))})`),Vt(e,P),e.intersect=function(L){return _t.polygon(e,b,L)},i}D(aY,"multiRect");async function sY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=l/4,u=l+c,f=-o/2,m=-u/2,p=5,{cssStyles:v}=e,b=zf(f-p,m+u+p,f+o-p,m+u+p,c,.8),x=b?.[b.length-1],w=[{x:f-p,y:m+p},{x:f-p,y:m+u+p},...b,{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:x.y-2*p},{x:f+o+p,y:x.y-2*p},{x:f+o+p,y:m-p},{x:f+p,y:m-p},{x:f+p,y:m},{x:f,y:m},{x:f,y:m+p}],C=[{x:f,y:m+p},{x:f+o-p,y:m+p},{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:m},{x:f,y:m}],E=Ut.svg(i),O=$t(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const P=Gn(w),L=E.path(P,O),B=Gn(C),$=E.path(B,O),U=i.insert(()=>L,":first-child");return U.insert(()=>$),U.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",r),U.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)+p-c/2-(a.y-(a.top??0))})`),Vt(e,U),e.intersect=function(G){return _t.polygon(e,w,G)},i}D(sY,"multiWaveEdgedRectangle");async function oY(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=qt(e);e.labelStyle=r,e.useHtmlLabels||Rs().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:s,bbox:o,label:l}=await mn(t,e,un(e)),c=Math.max(o.width+(e.padding??0)*2,e?.width??0),u=Math.max(o.height+(e.padding??0)*2,e?.height??0),f=-c/2,m=-u/2,{cssStyles:p}=e,v=Ut.svg(s),b=$t(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=v.rectangle(f,m,c,u,b),w=s.insert(()=>x,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Vt(e,w),e.intersect=function(C){return _t.rect(e,C)},s}D(oY,"note");var jxe=D((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function lY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,c=.5,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let f;const{cssStyles:m}=e;if(e.look==="handDrawn"){const p=Ut.svg(i),v=$t(e,{}),b=jxe(0,0,l),x=p.path(b,v);f=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),m&&f.attr("style",m)}else f=Zf(i,l,l,u),f.attr("transform",`translate(${-l/2+c}, ${l/2})`);return r&&f.attr("style",r),Vt(e,f),e.calcIntersect=function(p,v){const b=p.width,x=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}],w=_t.polygon(p,x,v);return{x:w.x-.5,y:w.y-.5}},e.intersect=function(p){return this.calcIntersect(e,p)},i}D(lY,"question");async function cY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0),e?.width??0),l=Math.max(a.height+(e.padding??0),e?.height??0),c=-o/2,u=-l/2,f=u/2,m=[{x:c+f,y:u},{x:c,y:0},{x:c+f,y:-u},{x:-c,y:-u},{x:-c,y:u}],{cssStyles:p}=e,v=Ut.svg(i),b=$t(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=Gn(m),w=v.path(x,b),C=i.insert(()=>w,":first-child");return C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(${-f/2},0)`),s.attr("transform",`translate(${-f/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Vt(e,C),e.intersect=function(E){return _t.polygon(e,m,E)},i}D(cY,"rect_left_inv_arrow");async function uY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",r),l=e.description,c=e.label,u=o.node().appendChild(await Jp(c,e.labelStyle,!0,!0));let f={width:0,height:0};if(Ma(Sr()?.flowchart?.htmlLabels)){const $=u.children[0],U=ar(u);f=$.getBoundingClientRect(),U.attr("width",f.width),U.attr("height",f.height)}Qe.info("Text 2",l);const m=l||[],p=u.getBBox(),v=o.node().appendChild(await Jp(m.join?m.join("<br/>"):m,e.labelStyle,!0,!0)),b=v.children[0],x=ar(v);f=b.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height);const w=(e.padding||0)/2;ar(v).attr("transform","translate( "+(f.width>p.width?0:(p.width-f.width)/2)+", "+(p.height+w+5)+")"),ar(u).attr("transform","translate( "+(f.width<p.width?0:-(p.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-w+3)+")");const C=f.width+(e.padding||0),E=f.height+(e.padding||0),O=-f.width/2-w,P=-f.height/2-w;let L,B;if(e.look==="handDrawn"){const $=Ut.svg(a),U=$t(e,{}),G=$.path(Jf(O,P,C,E,e.rx||0),U),M=$.line(-f.width/2-w,-f.height/2-w+p.height+w,f.width/2+w,-f.height/2-w+p.height+w,U);B=a.insert(()=>(Qe.debug("Rough node insert CXC",G),M),":first-child"),L=a.insert(()=>(Qe.debug("Rough node insert CXC",G),G),":first-child")}else L=s.insert("rect",":first-child"),B=s.insert("line"),L.attr("class","outer title-state").attr("style",r).attr("x",-f.width/2-w).attr("y",-f.height/2-w).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),B.attr("class","divider").attr("x1",-f.width/2-w).attr("x2",f.width/2+w).attr("y1",-f.height/2-w+p.height+w).attr("y2",-f.height/2-w+p.height+w);return Vt(e,L),e.intersect=function($){return _t.rect(e,$)},a}D(uY,"rectWithTitle");function Ky(t,e,n,r,i,a,s){const l=(t+n)/2,c=(e+r)/2,u=Math.atan2(r-e,n-t),f=(n-t)/2,m=(r-e)/2,p=f/i,v=m/a,b=Math.sqrt(p**2+v**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-b**2),w=l+x*a*Math.sin(u)*(s?-1:1),C=c-x*i*Math.cos(u)*(s?-1:1),E=Math.atan2((e-C)/a,(t-w)/i);let P=Math.atan2((r-C)/a,(n-w)/i)-E;s&&P<0&&(P+=2*Math.PI),!s&&P>0&&(P-=2*Math.PI);const L=[];for(let B=0;B<20;B++){const $=B/19,U=E+$*P,G=w+i*Math.cos(U),M=C+a*Math.sin(U);L.push({x:G,y:M})}return L}D(Ky,"generateArcPoints");async function hY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=e?.padding??0,o=e?.padding??0,l=(e?.width?e?.width:a.width)+s*2,c=(e?.height?e?.height:a.height)+o*2,u=e.radius||5,f=e.taper||5,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{});e.stroke&&(v.stroke=e.stroke),e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-l/2+f,y:-c/2},{x:l/2-f,y:-c/2},...Ky(l/2-f,-c/2,l/2,-c/2+f,u,u,!0),{x:l/2,y:-c/2+f},{x:l/2,y:c/2-f},...Ky(l/2,c/2-f,l/2-f,c/2,u,u,!0),{x:l/2-f,y:c/2},{x:-l/2+f,y:c/2},...Ky(-l/2+f,c/2,-l/2,c/2-f,u,u,!0),{x:-l/2,y:c/2-f},{x:-l/2,y:-c/2+f},...Ky(-l/2,-c/2+f,-l/2+f,-c/2,u,u,!0)],x=Gn(b),w=p.path(x,v),C=i.insert(()=>w,":first-child");return C.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",r),Vt(e,C),e.intersect=function(E){return _t.polygon(e,b,E)},i}D(hY,"roundedRect");async function dY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=e?.padding??0,l=Math.max(a.width+(e.padding??0)*2,e?.width??0),c=Math.max(a.height+(e.padding??0)*2,e?.height??0),u=-a.width/2-o,f=-a.height/2-o,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=[{x:u,y:f},{x:u+l+8,y:f},{x:u+l+8,y:f+c},{x:u-8,y:f+c},{x:u-8,y:f},{x:u,y:f},{x:u,y:f+c}],x=p.polygon(b.map(C=>[C.x,C.y]),v),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container").attr("style",js(m)),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),m&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-c/2+(e.padding??0)-(a.y-(a.top??0))})`),Vt(e,w),e.intersect=function(C){return _t.rect(e,C)},i}D(dY,"shadedProcess");async function fY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=-o/2,u=-l/2,{cssStyles:f}=e,m=Ut.svg(i),p=$t(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:c,y:u},{x:c,y:u+l},{x:c+o,y:u+l},{x:c+o,y:u-l/2}],b=Gn(v),x=m.path(b,p),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),w.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),Vt(e,w),e.intersect=function(C){return _t.polygon(e,v,C)},i}D(fY,"slopedRect");async function pY(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return fk(t,e,n)}D(pY,"squareRect");async function mY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.height+e.padding,o=a.width+s/4+e.padding,l=s/2,{cssStyles:c}=e,u=Ut.svg(i),f=$t(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const m=[{x:-o/2+l,y:-s/2},{x:o/2-l,y:-s/2},...Bb(-o/2+l,0,l,50,90,270),{x:o/2-l,y:s/2},...Bb(o/2-l,0,l,50,270,450)],p=Gn(m),v=u.path(p,f),b=i.insert(()=>v,":first-child");return b.attr("class","basic label-container outer-path"),c&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",r),Vt(e,b),e.intersect=function(x){return _t.polygon(e,m,x)},i}D(mY,"stadium");async function gY(t,e){return fk(t,e,{rx:5,ry:5})}D(gY,"state");function vY(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=qt(e);e.labelStyle=r;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=n,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),u=Ut.svg(c),f=$t(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const m=u.circle(0,0,14,{...f,stroke:s,strokeWidth:2}),p=o??l,v=u.circle(0,0,5,{...f,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),b=c.insert(()=>m,":first-child");return b.insert(()=>v),a&&b.selectAll("path").attr("style",a),i&&b.selectAll("path").attr("style",i),Vt(e,b),e.intersect=function(x){return _t.circle(e,7,x)},c}D(vY,"stateEnd");function yY(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=Ut.svg(i).circle(0,0,14,J0e(r));a=i.insert(()=>o),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Vt(e,a),e.intersect=function(s){return _t.circle(e,7,s)},i}D(yY,"stateStart");async function bY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=(e?.padding||0)/2,o=a.width+e.padding,l=a.height+e.padding,c=-a.width/2-s,u=-a.height/2-s,f=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const m=Ut.svg(i),p=$t(e,{}),v=m.rectangle(c-8,u,o+16,l,p),b=m.line(c,u,c,u+l,p),x=m.line(c+o,u,c+o,u+l,p);i.insert(()=>b,":first-child"),i.insert(()=>x,":first-child");const w=i.insert(()=>v,":first-child"),{cssStyles:C}=e;w.attr("class","basic label-container").attr("style",js(C)),Vt(e,w)}else{const m=Zf(i,o,l,f);r&&m.attr("style",r),Vt(e,m)}return e.intersect=function(m){return _t.polygon(e,f,m)},i}D(bY,"subroutine");async function xY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=Math.max(a.width+(e.padding??0)*2,e?.width??0),o=Math.max(a.height+(e.padding??0)*2,e?.height??0),l=-s/2,c=-o/2,u=.2*o,f=.2*o,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{}),b=[{x:l-u/2,y:c},{x:l+s+u/2,y:c},{x:l+s+u/2,y:c+o},{x:l-u/2,y:c+o}],x=[{x:l+s-u/2,y:c+o},{x:l+s+u/2,y:c+o},{x:l+s+u/2,y:c+o-f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=Gn(b),C=p.path(w,v),E=Gn(x),O=p.path(E,{...v,fillStyle:"solid"}),P=i.insert(()=>O,":first-child");return P.insert(()=>C,":first-child"),P.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",r),Vt(e,P),e.intersect=function(L){return _t.polygon(e,b,L)},i}D(xY,"taggedRect");async function wY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=l/4,u=.2*o,f=.2*l,m=l+c,{cssStyles:p}=e,v=Ut.svg(i),b=$t(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:m/2},...zf(-o/2-o/2*.1,m/2,o/2+o/2*.1,m/2,c,.8),{x:o/2+o/2*.1,y:-m/2},{x:-o/2-o/2*.1,y:-m/2}],w=-o/2+o/2*.1,C=-m/2-f*.4,E=[{x:w+o-u,y:(C+l)*1.4},{x:w+o,y:C+l-f},{x:w+o,y:(C+l)*.9},...zf(w+o,(C+l)*1.3,w+o-u,(C+l)*1.5,-l*.03,.5)],O=Gn(x),P=v.path(O,b),L=Gn(E),B=v.path(L,{...b,fillStyle:"solid"}),$=i.insert(()=>B,":first-child");return $.insert(()=>P,":first-child"),$.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c/2-(a.y-(a.top??0))})`),Vt(e,$),e.intersect=function(U){return _t.polygon(e,x,U)},i}D(wY,"taggedWaveEdgedRectangle");async function SY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=Math.max(a.width+e.padding,e?.width||0),o=Math.max(a.height+e.padding,e?.height||0),l=-s/2,c=-o/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",s).attr("height",o),Vt(e,u),e.intersect=function(f){return _t.rect(e,f)},i}D(SY,"text");var Dxe=D((t,e,n,r,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-r}
    l${n},0
    a${i},${a} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${a} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Bxe=D((t,e,n,r,i,a)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${a} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${a} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),Fxe=D((t,e,n,r,i,a)=>[`M${t+n/2},${-r/2}`,`a${i},${a} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function _Y(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await mn(t,e,un(e)),l=e.look==="neo"?o*2:o,c=a.height+l,u=c/2,f=u/(2.5+c/50),m=a.width+f+l,{cssStyles:p}=e;let v;if(e.look==="handDrawn"){const b=Ut.svg(i),x=Bxe(0,0,m,c,f,u),w=Fxe(0,0,m,c,f,u),C=b.path(x,$t(e,{})),E=b.path(w,$t(e,{fill:"none"}));v=i.insert(()=>E,":first-child"),v=i.insert(()=>C,":first-child"),v.attr("class","basic label-container"),p&&v.attr("style",p)}else{const b=Dxe(0,0,m,c,f,u);v=i.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",js(p)).attr("style",r),v.attr("class","basic label-container"),p&&v.selectAll("path").attr("style",p),r&&v.selectAll("path").attr("style",r)}return v.attr("label-offset-x",f),v.attr("transform",`translate(${-m/2}, ${c/2} )`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Vt(e,v),e.intersect=function(b){const x=_t.rect(e,b),w=x.y-(e.y??0);if(u!=0&&(Math.abs(w)<(e.height??0)/2||Math.abs(w)==(e.height??0)/2&&Math.abs(x.x-(e.x??0))>(e.width??0)/2-f)){let C=f*f*(1-w*w/(u*u));C!=0&&(C=Math.sqrt(Math.abs(C))),C=f-C,b.x-(e.x??0)>0&&(C=-C),x.x+=C}return x},i}D(_Y,"tiltedCylinder");async function kY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=Ut.svg(i),m=$t(e,{}),p=Gn(l),v=f.path(p,m);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),u&&c.attr("style",u)}else c=Zf(i,s,o,l);return r&&c.attr("style",r),e.width=s,e.height=o,Vt(e,c),e.intersect=function(f){return _t.polygon(e,l,f)},i}D(kY,"trapezoid");async function CY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,e?.width??0),c=Math.max(o,a.height+(e.padding??0)*2,e?.height??0),{cssStyles:u}=e,f=Ut.svg(i),m=$t(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],v=Gn(p),b=f.path(v,m),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),Vt(e,x),e.intersect=function(w){return _t.polygon(e,p,w)},i}D(CY,"trapezoidalPentagon");async function TY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Ma(Sr().flowchart?.htmlLabels),l=a.width+(e.padding??0),c=l+a.height,u=l+a.height,f=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=Gn(f),x=p.path(b,v),w=i.insert(()=>x,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return m&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),e.width=l,e.height=c,Vt(e,w),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${c/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(C){return Qe.info("Triangle intersect",e,f,C),_t.polygon(e,f,C)},i}D(TY,"triangle");async function EY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=l/8,u=l+c,{cssStyles:f}=e,p=70-o,v=p>0?p/2:0,b=Ut.svg(i),x=$t(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=[{x:-o/2-v,y:u/2},...zf(-o/2-v,u/2,o/2+v,u/2,c,.8),{x:o/2+v,y:-u/2},{x:-o/2-v,y:-u/2}],C=Gn(w),E=b.path(C,x),O=i.insert(()=>E,":first-child");return O.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",r),O.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c-(a.y-(a.top??0))})`),Vt(e,O),e.intersect=function(P){return _t.polygon(e,w,P)},i}D(EY,"waveEdgedRectangle");async function AY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a}=await mn(t,e,un(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,e?.width??0),c=Math.max(a.height+(e.padding??0)*2,e?.height??0),u=l/c;let f=l,m=c;f>m*u?m=f/u:f=m*u,f=Math.max(f,s),m=Math.max(m,o);const p=Math.min(m*.2,m/4),v=m+p*2,{cssStyles:b}=e,x=Ut.svg(i),w=$t(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const C=[{x:-f/2,y:v/2},...zf(-f/2,v/2,f/2,v/2,p,1),{x:f/2,y:-v/2},...zf(f/2,-v/2,-f/2,-v/2,p,-1)],E=Gn(C),O=x.path(E,w),P=i.insert(()=>O,":first-child");return P.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",b),r&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",r),Vt(e,P),e.intersect=function(L){return _t.polygon(e,C,L)},i}D(AY,"waveRectangle");async function OY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await mn(t,e,un(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),c=5,u=-o/2,f=-l/2,{cssStyles:m}=e,p=Ut.svg(i),v=$t(e,{}),b=[{x:u-c,y:f-c},{x:u-c,y:f+l},{x:u+o,y:f+l},{x:u+o,y:f-c}],x=`M${u-c},${f-c} L${u+o},${f-c} L${u+o},${f+l} L${u-c},${f+l} L${u-c},${f-c}
                M${u-c},${f} L${u+o},${f}
                M${u},${f-c} L${u},${f+l}`;e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=p.path(x,v),C=i.insert(()=>w,":first-child");return C.attr("transform",`translate(${c/2}, ${c/2})`),C.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),s.attr("transform",`translate(${-(a.width/2)+c/2-(a.x-(a.left??0))}, ${-(a.height/2)+c/2-(a.y-(a.top??0))})`),Vt(e,C),e.intersect=function(E){return _t.polygon(e,b,E)},i}D(OY,"windowPane");async function XL(t,e){const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:V}=Rs(),{background:F}=V,ae={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${F}`]};await XL(t,ae)}const r=Rs();e.useHtmlLabels=r.htmlLabels;let i=r.er?.diagramPadding??10,a=r.er?.entityPadding??6;const{cssStyles:s}=e,{labelStyles:o,nodeStyles:l}=qt(e);if(n.attributes.length===0&&e.label){const V={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};fd(e.label,r)+V.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const F=await fk(t,e,V);if(!Ma(r.htmlLabels)){const ae=F.select("text"),le=ae.node()?.getBBox();ae.attr("transform",`translate(${-le.width/2}, 0)`)}return F}r.htmlLabels||(i*=1.25,a*=1.25);let c=un(e);c||(c="node default");const u=t.insert("g").attr("class",c).attr("id",e.domId||e.id),f=await Qg(u,e.label??"",r,0,0,["name"],o);f.height+=a;let m=0;const p=[],v=[];let b=0,x=0,w=0,C=0,E=!0,O=!0;for(const V of n.attributes){const F=await Qg(u,V.type,r,0,m,["attribute-type"],o);b=Math.max(b,F.width+i);const ae=await Qg(u,V.name,r,0,m,["attribute-name"],o);x=Math.max(x,ae.width+i);const le=await Qg(u,V.keys.join(),r,0,m,["attribute-keys"],o);w=Math.max(w,le.width+i);const pe=await Qg(u,V.comment,r,0,m,["attribute-comment"],o);C=Math.max(C,pe.width+i);const xe=Math.max(F.height,ae.height,le.height,pe.height)+a;v.push({yOffset:m,rowHeight:xe}),m+=xe}let P=4;w<=i&&(E=!1,w=0,P--),C<=i&&(O=!1,C=0,P--);const L=u.node().getBBox();if(f.width+i*2-(b+x+w+C)>0){const V=f.width+i*2-(b+x+w+C);b+=V/P,x+=V/P,w>0&&(w+=V/P),C>0&&(C+=V/P)}const B=b+x+w+C,$=Ut.svg(u),U=$t(e,{});e.look!=="handDrawn"&&(U.roughness=0,U.fillStyle="solid");let G=0;v.length>0&&(G=v.reduce((V,F)=>V+(F?.rowHeight??0),0));const M=Math.max(L.width+i*2,e?.width||0,B),I=Math.max((G??0)+f.height,e?.height||0),K=-M/2,H=-I/2;u.selectAll("g:not(:first-child)").each((V,F,ae)=>{const le=ar(ae[F]),pe=le.attr("transform");let xe=0,Oe=0;if(pe){const Ce=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(pe);Ce&&(xe=parseFloat(Ce[1]),Oe=parseFloat(Ce[2]),le.attr("class").includes("attribute-name")?xe+=b:le.attr("class").includes("attribute-keys")?xe+=b+x:le.attr("class").includes("attribute-comment")&&(xe+=b+x+w))}le.attr("transform",`translate(${K+i/2+xe}, ${Oe+H+f.height+a/2})`)}),u.select(".name").attr("transform","translate("+-f.width/2+", "+(H+a/2)+")");const J=$.rectangle(K,H,M,I,U),W=u.insert(()=>J,":first-child").attr("style",s.join("")),{themeVariables:Q}=Rs(),{rowEven:ee,rowOdd:he,nodeBorder:Y}=Q;p.push(0);for(const[V,F]of v.entries()){const le=(V+1)%2===0&&F.yOffset!==0,pe=$.rectangle(K,f.height+H+F?.yOffset,M,F?.rowHeight,{...U,fill:le?ee:he,stroke:Y});u.insert(()=>pe,"g.label").attr("style",s.join("")).attr("class",`row-rect-${le?"even":"odd"}`)}let ye=$.line(K,f.height+H,M+K,f.height+H,U);u.insert(()=>ye).attr("class","divider"),ye=$.line(b+K,f.height+H,b+K,I+H,U),u.insert(()=>ye).attr("class","divider"),E&&(ye=$.line(b+x+K,f.height+H,b+x+K,I+H,U),u.insert(()=>ye).attr("class","divider")),O&&(ye=$.line(b+x+w+K,f.height+H,b+x+w+K,I+H,U),u.insert(()=>ye).attr("class","divider"));for(const V of p)ye=$.line(K,f.height+H+V,M+K,f.height+H+V,U),u.insert(()=>ye).attr("class","divider");if(Vt(e,W),l&&e.look!=="handDrawn"){const F=l.split(";")?.filter(ae=>ae.includes("stroke"))?.map(ae=>`${ae}`).join("; ");u.selectAll("path").attr("style",F??""),u.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(V){return _t.rect(e,V)},u}D(XL,"erBox");async function Qg(t,e,n,r=0,i=0,a=[],s=""){const o=t.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",s);e!==wD(e)&&(e=wD(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await Xf(o,e,{width:fd(e,n)+100,style:s,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let u=l.children[0];for(u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");u.childNodes[0];)u=u.childNodes[0],u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Ma(n.htmlLabels)){const u=l.children[0];u.style.textAlign="start";const f=ar(l);c=u.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}return c}D(Qg,"addText");async function PY(t,e,n,r,i=n.class.padding??12){const a=r?0:3,s=t.insert("g").attr("class",un(e)).attr("id",e.domId||e.id);let o=null,l=null,c=null,u=null,f=0,m=0,p=0;if(o=s.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const C=e.annotations[0];await Yy(o,{text:`${C}`},0),f=o.node().getBBox().height}l=s.insert("g").attr("class","label-group text"),await Yy(l,e,0,["font-weight: bolder"]);const v=l.node().getBBox();m=v.height,c=s.insert("g").attr("class","members-group text");let b=0;for(const C of e.members){const E=await Yy(c,C,b,[C.parseClassifier()]);b+=E+a}p=c.node().getBBox().height,p<=0&&(p=i/2),u=s.insert("g").attr("class","methods-group text");let x=0;for(const C of e.methods){const E=await Yy(u,C,x,[C.parseClassifier()]);x+=E+a}let w=s.node().getBBox();if(o!==null){const C=o.node().getBBox();o.attr("transform",`translate(${-C.width/2})`)}return l.attr("transform",`translate(${-v.width/2}, ${f})`),w=s.node().getBBox(),c.attr("transform",`translate(0, ${f+m+i*2})`),w=s.node().getBBox(),u.attr("transform",`translate(0, ${f+m+(p?p+i*4:i*2)})`),w=s.node().getBBox(),{shapeSvg:s,bbox:w}}D(PY,"textHelper");async function Yy(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),a=Rs();let s="useHtmlLabels"in e?e.useHtmlLabels:Ma(a.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),H0(o)&&(s=!0);const l=await Xf(i,O3(jm(o)),{width:fd(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let c,u=1;if(s){const f=l.children[0],m=ar(l);u=f.innerHTML.split("<br>").length,f.innerHTML.includes("</math>")&&(u+=f.innerHTML.split("<mrow>").length-1);const p=f.getElementsByTagName("img");if(p){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(b=>new Promise(x=>{function w(){if(b.style.display="flex",b.style.flexDirection="column",v){const C=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,O=parseInt(C,10)*5+"px";b.style.minWidth=O,b.style.maxWidth=O}else b.style.width="100%";x(b)}D(w,"setupImage"),setTimeout(()=>{b.complete&&w()}),b.addEventListener("error",w),b.addEventListener("load",w)})))}c=f.getBoundingClientRect(),m.attr("width",c.width),m.attr("height",c.height)}else{r.includes("font-weight: bolder")&&ar(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const f=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(f.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(f.textContent=f.textContent[0]+" "+f.textContent.substring(1))),f.textContent==="undefined"&&(f.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+n)+")"),c.height}D(Yy,"addText");async function NY(t,e){const n=Sr(),r=n.class.padding??12,i=r,a=e.useHtmlLabels??Ma(n.htmlLabels)??!0,s=e;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:o,bbox:l}=await PY(t,e,n,a,i),{labelStyles:c,nodeStyles:u}=qt(e);e.labelStyle=c,e.cssStyles=s.styles||"";const f=s.styles?.join(";")||u||"";e.cssStyles||(e.cssStyles=f.replaceAll("!important","").split(";"));const m=s.members.length===0&&s.methods.length===0&&!n.class?.hideEmptyMembersBox,p=Ut.svg(o),v=$t(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=l.width;let x=l.height;s.members.length===0&&s.methods.length===0?x+=i:s.members.length>0&&s.methods.length===0&&(x+=i*2);const w=-b/2,C=-x/2,E=p.rectangle(w-r,C-r-(m?r:s.members.length===0&&s.methods.length===0?-r/2:0),b+2*r,x+2*r+(m?r*2:s.members.length===0&&s.methods.length===0?-r:0),v),O=o.insert(()=>E,":first-child");O.attr("class","basic label-container");const P=O.node().getBBox();o.selectAll(".text").each((U,G,M)=>{const I=ar(M[G]),K=I.attr("transform");let H=0;if(K){const ee=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(K);ee&&(H=parseFloat(ee[2]))}let J=H+C+r-(m?r:s.members.length===0&&s.methods.length===0?-r/2:0);a||(J-=4);let W=w;(I.attr("class").includes("label-group")||I.attr("class").includes("annotation-group"))&&(W=-I.node()?.getBBox().width/2||0,o.selectAll("text").each(function(Q,ee,he){window.getComputedStyle(he[ee]).textAnchor==="middle"&&(W=0)})),I.attr("transform",`translate(${W}, ${J})`)});const L=o.select(".annotation-group").node().getBBox().height-(m?r/2:0)||0,B=o.select(".label-group").node().getBBox().height-(m?r/2:0)||0,$=o.select(".members-group").node().getBBox().height-(m?r/2:0)||0;if(s.members.length>0||s.methods.length>0||m){const U=p.line(P.x,L+B+C+r,P.x+P.width,L+B+C+r,v);o.insert(()=>U).attr("class","divider").attr("style",f)}if(m||s.members.length>0||s.methods.length>0){const U=p.line(P.x,L+B+$+C+i*2+r,P.x+P.width,L+B+$+C+r+i*2,v);o.insert(()=>U).attr("class","divider").attr("style",f)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",f),O.select(":nth-child(2)").attr("style",f),o.selectAll(".divider").select("path").attr("style",f),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",f),!a){const U=RegExp(/color\s*:\s*([^;]*)/),G=U.exec(f);if(G){const M=G[0].replace("color","fill");o.selectAll("tspan").attr("style",M)}else if(c){const M=U.exec(c);if(M){const I=M[0].replace("color","fill");o.selectAll("tspan").attr("style",I)}}}return Vt(e,O),e.intersect=function(U){return _t.rect(e,U)},o}D(NY,"classBox");async function LY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const i=e,a=e,s=20,o=20,l="verifyMethod"in e,c=un(e),u=t.insert("g").attr("class",c).attr("id",e.domId??e.id);let f;l?f=await Du(u,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):f=await Du(u,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let m=f;const p=await Du(u,i.name,m,e.labelStyle+"; font-weight: bold;");if(m+=p+o,l){const L=await Du(u,`${i.requirementId?`ID: ${i.requirementId}`:""}`,m,e.labelStyle);m+=L;const B=await Du(u,`${i.text?`Text: ${i.text}`:""}`,m,e.labelStyle);m+=B;const $=await Du(u,`${i.risk?`Risk: ${i.risk}`:""}`,m,e.labelStyle);m+=$,await Du(u,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,m,e.labelStyle)}else{const L=await Du(u,`${a.type?`Type: ${a.type}`:""}`,m,e.labelStyle);m+=L,await Du(u,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,m,e.labelStyle)}const v=(u.node()?.getBBox().width??200)+s,b=(u.node()?.getBBox().height??200)+s,x=-v/2,w=-b/2,C=Ut.svg(u),E=$t(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=C.rectangle(x,w,v,b,E),P=u.insert(()=>O,":first-child");if(P.attr("class","basic label-container").attr("style",r),u.selectAll(".label").each((L,B,$)=>{const U=ar($[B]),G=U.attr("transform");let M=0,I=0;if(G){const W=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(G);W&&(M=parseFloat(W[1]),I=parseFloat(W[2]))}const K=I-b/2;let H=x+s/2;(B===0||B===1)&&(H=M),U.attr("transform",`translate(${H}, ${K+s})`)}),m>f+p+o){const L=C.line(x,w+f+p+o,x+v,w+f+p+o,E);u.insert(()=>L).attr("style",r)}return Vt(e,P),e.intersect=function(L){return _t.rect(e,L)},u}D(LY,"requirementBox");async function Du(t,e,n,r=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",r),a=Sr(),s=a.htmlLabels??!0,o=await Xf(i,O3(jm(e)),{width:fd(e,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:r},a);let l;if(s){const c=o.children[0],u=ar(o);l=c.getBoundingClientRect(),u.attr("width",l.width),u.attr("height",l.height)}else{const c=o.children[0];for(const u of c.children)u.textContent=u.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&u.setAttribute("style",r);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+n})`),l.height}D(Du,"addText");var Uxe=D(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function MY(t,e,{config:n}){const{labelStyles:r,nodeStyles:i}=qt(e);e.labelStyle=r||"";const a=10,s=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await mn(t,e,un(e)),u=e.padding||10;let f="",m;"ticket"in e&&e.ticket&&n?.kanban?.ticketBaseUrl&&(f=n?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),m=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",f).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let v,b;m?{label:v,bbox:b}=await bT(m,"ticket"in e&&e.ticket||"",p):{label:v,bbox:b}=await bT(o,"ticket"in e&&e.ticket||"",p);const{label:x,bbox:w}=await bT(o,"assigned"in e&&e.assigned||"",p);e.width=s;const C=10,E=e?.width||0,O=Math.max(b.height,w.height)/2,P=Math.max(l.height+C*2,e?.height||0)+O,L=-E/2,B=-P/2;c.attr("transform","translate("+(u-E/2)+", "+(-O-l.height/2)+")"),v.attr("transform","translate("+(u-E/2)+", "+(-O+l.height/2)+")"),x.attr("transform","translate("+(u+E/2-w.width-2*a)+", "+(-O+l.height/2)+")");let $;const{rx:U,ry:G}=e,{cssStyles:M}=e;if(e.look==="handDrawn"){const I=Ut.svg(o),K=$t(e,{}),H=U||G?I.path(Jf(L,B,E,P,U||0),K):I.rectangle(L,B,E,P,K);$=o.insert(()=>H,":first-child"),$.attr("class","basic label-container").attr("style",M||null)}else{$=o.insert("rect",":first-child"),$.attr("class","basic label-container __APA__").attr("style",i).attr("rx",U??5).attr("ry",G??5).attr("x",L).attr("y",B).attr("width",E).attr("height",P);const I="priority"in e&&e.priority;if(I){const K=o.append("line"),H=L+2,J=B+Math.floor((U??0)/2),W=B+P-Math.floor((U??0)/2);K.attr("x1",H).attr("y1",J).attr("x2",H).attr("y2",W).attr("stroke-width","4").attr("stroke",Uxe(I))}}return Vt(e,$),e.height=P,e.intersect=function(I){return _t.rect(e,I)},o}D(MY,"kanbanItem");async function RY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s,label:o}=await mn(t,e,un(e)),l=a.width+10*s,c=a.height+8*s,u=.15*l,{cssStyles:f}=e,m=a.width+20,p=a.height+20,v=Math.max(l,m),b=Math.max(c,p);o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let x;const w=`M0 0 
    a${u},${u} 1 0,0 ${v*.25},${-1*b*.1}
    a${u},${u} 1 0,0 ${v*.25},0
    a${u},${u} 1 0,0 ${v*.25},0
    a${u},${u} 1 0,0 ${v*.25},${b*.1}

    a${u},${u} 1 0,0 ${v*.15},${b*.33}
    a${u*.8},${u*.8} 1 0,0 0,${b*.34}
    a${u},${u} 1 0,0 ${-1*v*.15},${b*.33}

    a${u},${u} 1 0,0 ${-1*v*.25},${b*.15}
    a${u},${u} 1 0,0 ${-1*v*.25},0
    a${u},${u} 1 0,0 ${-1*v*.25},0
    a${u},${u} 1 0,0 ${-1*v*.25},${-1*b*.15}

    a${u},${u} 1 0,0 ${-1*v*.1},${-1*b*.33}
    a${u*.8},${u*.8} 1 0,0 0,${-1*b*.34}
    a${u},${u} 1 0,0 ${v*.1},${-1*b*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const C=Ut.svg(i),E=$t(e,{}),O=C.path(w,E);x=i.insert(()=>O,":first-child"),x.attr("class","basic label-container").attr("style",js(f))}else x=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",w);return x.attr("transform",`translate(${-v/2}, ${-b/2})`),Vt(e,x),e.calcIntersect=function(C,E){return _t.rect(C,E)},e.intersect=function(C){return Qe.info("Bang intersect",e,C),_t.rect(e,C)},i}D(RY,"bang");async function IY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s,label:o}=await mn(t,e,un(e)),l=a.width+2*s,c=a.height+2*s,u=.15*l,f=.25*l,m=.35*l,p=.2*l,{cssStyles:v}=e;let b;const x=`M0 0 
    a${u},${u} 0 0,1 ${l*.25},${-1*l*.1}
    a${m},${m} 1 0,1 ${l*.4},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.35},${l*.2}

    a${u},${u} 1 0,1 ${l*.15},${c*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${c*.65}

    a${f},${u} 1 0,1 ${-1*l*.25},${l*.15}
    a${m},${m} 1 0,1 ${-1*l*.5},0
    a${u},${u} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${u},${u} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const w=Ut.svg(i),C=$t(e,{}),E=w.path(x,C);b=i.insert(()=>E,":first-child"),b.attr("class","basic label-container").attr("style",js(v))}else b=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",x);return o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),b.attr("transform",`translate(${-l/2}, ${-c/2})`),Vt(e,b),e.calcIntersect=function(w,C){return _t.rect(w,C)},e.intersect=function(w){return Qe.info("Cloud intersect",e,w),_t.rect(e,w)},i}D(IY,"cloud");async function jY(t,e){const{labelStyles:n,nodeStyles:r}=qt(e);e.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s,label:o}=await mn(t,e,un(e)),l=a.width+8*s,c=a.height+2*s,u=5,f=`
    M${-l/2} ${c/2-u}
    v${-c+2*u}
    q0,-${u} ${u},-${u}
    h${l-2*u}
    q${u},0 ${u},${u}
    v${c-2*u}
    q0,${u} -${u},${u}
    h${-l+2*u}
    q-${u},0 -${u},-${u}
    Z
  `,m=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",f);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),i.append(()=>o.node()),Vt(e,m),e.calcIntersect=function(p,v){return _t.rect(p,v)},e.intersect=function(p){return _t.rect(e,p)},i}D(jY,"defaultMindmapNode");async function DY(t,e){const n={padding:e.padding??0};return YL(t,e,n)}D(DY,"mindmapCircle");var zxe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:pY},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:hY},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:mY},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:bY},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:BK},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:YL},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:RY},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:IY},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:lY},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:WK},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:tY},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:eY},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:kY},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:ZK},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:UK},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:SY},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:PK},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:dY},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:yY},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:vY},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:qK},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:VK},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:RK},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:IK},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:jK},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:nY},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:EY},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:HK},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:_Y},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:rY},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:DK},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:FK},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:TY},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:OY},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:zK},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:CY},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:$K},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:fY},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:sY},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:aY},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:OK},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:MK},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:wY},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:xY},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:AY},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:cY},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:iY}],$xe=D(()=>{const e=[...Object.entries({state:gY,choice:NK,note:oY,rectWithTitle:uY,labelRect:QK,iconSquare:XK,iconCircle:KK,icon:GK,iconRounded:YK,imageSquare:JK,anchor:AK,kanbanItem:MY,mindmapCircle:DY,defaultMindmapNode:jY,classBox:NY,erBox:XL,requirementBox:LY}),...zxe.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),BY=$xe();function qxe(t){return t in BY}D(qxe,"isValidShape");var pk=new Map;async function FY(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?BY[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let s;n.config.securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s??null),i=await a(r,e,n)}else i=await a(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),pk.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}D(FY,"insertNode");var DVe=D((t,e)=>{pk.set(e.id,t)},"setNodeElem"),BVe=D(()=>{pk.clear()},"clear"),FVe=D(t=>{const e=pk.get(t.id);Qe.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Hxe=D((t,e,n,r,i,a)=>{e.arrowTypeStart&&r8(t,"start",e.arrowTypeStart,n,r,i,a),e.arrowTypeEnd&&r8(t,"end",e.arrowTypeEnd,n,r,i,a)},"addEdgeMarkers"),Wxe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},r8=D((t,e,n,r,i,a,s)=>{const o=Wxe[n];if(!o){Qe.warn(`Unknown arrow type: ${n}`);return}const l=o.type,u=`${i}_${a}-${l}${e==="start"?"Start":"End"}`;if(s&&s.trim()!==""){const f=s.replace(/[^\dA-Za-z]/g,"_"),m=`${u}_${f}`;if(!document.getElementById(m)){const p=document.getElementById(u);if(p){const v=p.cloneNode(!0);v.id=m,v.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",s),o.fill&&x.setAttribute("fill",s)}),p.parentNode?.appendChild(v)}}t.attr(`marker-${e}`,`url(${r}#${m})`)}else t.attr(`marker-${e}`,`url(${r}#${u})`)},"addEdgeMarker"),wS=new Map,ps=new Map,UVe=D(()=>{wS.clear(),ps.clear()},"clear"),lw=D(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),Vxe=D(async(t,e)=>{let n=Ma(Sr().flowchart.htmlLabels);const{labelStyles:r}=qt(e);e.labelStyle=r;const i=await Xf(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});Qe.info("abc82",e,e.labelType);const a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label").attr("data-id",e.id);s.node().appendChild(i);let o=i.getBBox();if(n){const c=i.children[0],u=ar(i);o=c.getBoundingClientRect(),u.attr("width",o.width),u.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),wS.set(e.id,a),e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const c=await Jp(e.startLabelLeft,lw(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const m=c.getBBox();f.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),ps.get(e.id)||ps.set(e.id,{}),ps.get(e.id).startLeft=u,Xy(l,e.startLabelLeft)}if(e.startLabelRight){const c=await Jp(e.startLabelRight,lw(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=u.node().appendChild(c),f.node().appendChild(c);const m=c.getBBox();f.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),ps.get(e.id)||ps.set(e.id,{}),ps.get(e.id).startRight=u,Xy(l,e.startLabelRight)}if(e.endLabelLeft){const c=await Jp(e.endLabelLeft,lw(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const m=c.getBBox();f.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),u.node().appendChild(c),ps.get(e.id)||ps.set(e.id,{}),ps.get(e.id).endLeft=u,Xy(l,e.endLabelLeft)}if(e.endLabelRight){const c=await Jp(e.endLabelRight,lw(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),f=u.insert("g").attr("class","inner");l=f.node().appendChild(c);const m=c.getBBox();f.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),u.node().appendChild(c),ps.get(e.id)||ps.set(e.id,{}),ps.get(e.id).endRight=u,Xy(l,e.endLabelRight)}return i},"insertEdgeLabel");function Xy(t,e){Sr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}D(Xy,"setTerminalWidth");var Gxe=D((t,e)=>{Qe.debug("Moving label abc88 ",t.id,t.label,wS.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=Sr(),{subGraphTitleTotalMargin:i}=TL(r);if(t.label){const a=wS.get(t.id);let s=t.x,o=t.y;if(n){const l=Wc.calcLabelPosition(n);Qe.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=ps.get(t.id).startLeft;let s=t.x,o=t.y;if(n){const l=Wc.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=ps.get(t.id).startRight;let s=t.x,o=t.y;if(n){const l=Wc.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=ps.get(t.id).endLeft;let s=t.x,o=t.y;if(n){const l=Wc.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=ps.get(t.id).endRight;let s=t.x,o=t.y;if(n){const l=Wc.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),Kxe=D((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),a=Math.abs(e.y-r),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),Yxe=D((t,e,n)=>{Qe.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,a=Math.abs(r-n.x),s=t.width/2;let o=n.x<e.x?s-a:s+a;const l=t.height/2,c=Math.abs(e.y-n.y),u=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*s>Math.abs(r-e.x)*l){let f=n.y<e.y?e.y-l-i:i-l-e.y;o=u*f/c;const m={x:n.x<e.x?n.x+o:n.x-u+o,y:n.y<e.y?n.y+c-f:n.y-c+f};return o===0&&(m.x=e.x,m.y=e.y),u===0&&(m.x=e.x),c===0&&(m.y=e.y),Qe.debug(`abc89 top/bottom calc, Q ${c}, q ${f}, R ${u}, r ${o}`,m),m}else{n.x<e.x?o=e.x-s-r:o=r-s-e.x;let f=c*o/u,m=n.x<e.x?n.x+u-o:n.x-u+o,p=n.y<e.y?n.y+f:n.y-f;return Qe.debug(`sides calc abc89, Q ${c}, q ${f}, R ${u}, r ${o}`,{_x:m,_y:p}),o===0&&(m=e.x,p=e.y),u===0&&(m=e.x),c===0&&(p=e.y),{x:m,y:p}}},"intersection"),i8=D((t,e)=>{Qe.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(a=>{if(Qe.info("abc88 checking point",a,e),!Kxe(e,a)&&!i){const s=Yxe(e,r,a);Qe.debug("abc88 inside",a,r,s),Qe.debug("abc88 intersection",s,e);let o=!1;n.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),n.some(l=>l.x===s.x&&l.y===s.y)?Qe.warn("abc88 no intersect",s,n):n.push(s),i=!0}else Qe.warn("abc88 outside",a,r),r=a,i||n.push(a)}),Qe.debug("returning points",n),n},"cutPathAtIntersect");function UY(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],a=t[r],s=t[r+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}D(UY,"extractCornerPoints");var a8=D(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,a=Math.sqrt(r*r+i*i),s=n/a;return{x:e.x-s*r,y:e.y-s*i}},"findAdjacentPoint"),Xxe=D(function(t){const{cornerPointPositions:e}=UY(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],a=t[r+1],s=t[r],o=a8(i,s,5),l=a8(a,s,5),c=l.x-o.x,u=l.y-o.y;n.push(o);const f=Math.sqrt(2)*2;let m={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){Qe.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const p=5;s.x===o.x?m={x:c<0?o.x-p+f:o.x+p-f,y:u<0?o.y-f:o.y+f}:m={x:c<0?o.x-f:o.x+f,y:u<0?o.y-p+f:o.y+p-f}}else Qe.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));n.push(m,l)}else n.push(t[r]);return n},"fixCorners"),Jxe=D((t,e,n)=>{const r=t-e-n,i=2,a=2,s=i+a,o=Math.floor(r/s),l=Array(o).fill(`${i} ${a}`).join(" ");return`0 ${e} ${l} ${n}`},"generateDashArray"),Zxe=D(function(t,e,n,r,i,a,s,o=!1){const{handDrawnSeed:l}=Sr();let c=e.points,u=!1;const f=i;var m=a;const p=[];for(const H in e.cssCompiledStyles)vG(H)||p.push(e.cssCompiledStyles[H]);Qe.debug("UIO intersect check",e.points,m.x,f.x),m.intersect&&f.intersect&&!o&&(c=c.slice(1,e.points.length-1),c.unshift(f.intersect(c[0])),Qe.debug("Last point UIO",e.start,"-->",e.end,c[c.length-1],m,m.intersect(c[c.length-1])),c.push(m.intersect(c[c.length-1])));const v=btoa(JSON.stringify(c));e.toCluster&&(Qe.info("to cluster abc88",n.get(e.toCluster)),c=i8(e.points,n.get(e.toCluster).node),u=!0),e.fromCluster&&(Qe.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(c,null,2)),c=i8(c.reverse(),n.get(e.fromCluster).node).reverse(),u=!0);let b=c.filter(H=>!Number.isNaN(H.y));b=Xxe(b);let x=lb;switch(x=pm,e.curve){case"linear":x=pm;break;case"basis":x=lb;break;case"cardinal":x=TW;break;case"bumpX":x=sL;break;case"bumpY":x=oL;break;case"catmullRom":x=AW;break;case"monotoneX":x=fL;break;case"monotoneY":x=pL;break;case"natural":x=mL;break;case"step":x=gL;break;case"stepAfter":x=yL;break;case"stepBefore":x=vL;break;default:x=lb}const{x:w,y:C}=X0e(e),E=aL().x(w).y(C).curve(x);let O;switch(e.thickness){case"normal":O="edge-thickness-normal";break;case"thick":O="edge-thickness-thick";break;case"invisible":O="edge-thickness-invisible";break;default:O="edge-thickness-normal"}switch(e.pattern){case"solid":O+=" edge-pattern-solid";break;case"dotted":O+=" edge-pattern-dotted";break;case"dashed":O+=" edge-pattern-dashed";break;default:O+=" edge-pattern-solid"}let P,L=e.curve==="rounded"?zY($Y(b,e),5):E(b);const B=Array.isArray(e.style)?e.style:[e.style];let $=B.find(H=>H?.startsWith("stroke:")),U=!1;if(e.look==="handDrawn"){const H=Ut.svg(t);Object.assign([],b);const J=H.path(L,{roughness:.3,seed:l});O+=" transition",P=ar(J).select("path").attr("id",e.id).attr("class"," "+O+(e.classes?" "+e.classes:"")).attr("style",B?B.reduce((Q,ee)=>Q+";"+ee,""):"");let W=P.attr("d");P.attr("d",W),t.node().appendChild(P.node())}else{const H=p.join(";"),J=B?B.reduce((V,F)=>V+F+";",""):"";let W="";e.animate&&(W=" edge-animation-fast"),e.animation&&(W=" edge-animation-"+e.animation);const Q=(H?H+";"+J+";":J)+";"+(B?B.reduce((V,F)=>V+";"+F,""):"");P=t.append("path").attr("d",L).attr("id",e.id).attr("class"," "+O+(e.classes?" "+e.classes:"")+(W??"")).attr("style",Q),$=Q.match(/stroke:([^;]+)/)?.[1],U=e.animate===!0||!!e.animation||H.includes("animation");const ee=P.node(),he=typeof ee.getTotalLength=="function"?ee.getTotalLength():0,Y=w6[e.arrowTypeStart]||0,ye=w6[e.arrowTypeEnd]||0;if(e.look==="neo"&&!U){const F=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?Jxe(he,Y,ye):`0 ${Y} ${he-Y-ye} ${ye}`}; stroke-dashoffset: 0;`;P.attr("style",F+P.attr("style"))}}P.attr("data-edge",!0),P.attr("data-et","edge"),P.attr("data-id",e.id),P.attr("data-points",v),e.showPoints&&b.forEach(H=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",H.x).attr("cy",H.y)});let G="";(Sr().flowchart.arrowMarkerAbsolute||Sr().state.arrowMarkerAbsolute)&&(G=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,G=G.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Qe.info("arrowTypeStart",e.arrowTypeStart),Qe.info("arrowTypeEnd",e.arrowTypeEnd),Hxe(P,e,G,s,r,$);const M=Math.floor(c.length/2),I=c[M];Wc.isLabelCoordinateInPath(I,P.attr("d"))||(u=!0);let K={};return u&&(K.updatedPath=c),K.originalPath=e.points,K},"insertEdge");function zY(t,e){if(t.length<2)return"";let n="";const r=t.length,i=1e-5;for(let a=0;a<r;a++){const s=t[a],o=t[a-1],l=t[a+1];if(a===0)n+=`M${s.x},${s.y}`;else if(a===r-1)n+=`L${s.x},${s.y}`;else{const c=s.x-o.x,u=s.y-o.y,f=l.x-s.x,m=l.y-s.y,p=Math.hypot(c,u),v=Math.hypot(f,m);if(p<i||v<i){n+=`L${s.x},${s.y}`;continue}const b=c/p,x=u/p,w=f/v,C=m/v,E=b*w+x*C,O=Math.max(-1,Math.min(1,E)),P=Math.acos(O);if(P<i||Math.abs(Math.PI-P)<i){n+=`L${s.x},${s.y}`;continue}const L=Math.min(e/Math.sin(P/2),p/2,v/2),B=s.x-b*L,$=s.y-x*L,U=s.x+w*L,G=s.y+C*L;n+=`L${B},${$}`,n+=`Q${s.x},${s.y} ${U},${G}`}}return n}D(zY,"generateRoundedPath");function cP(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}D(cP,"calculateDeltaAndAngle");function $Y(t,e){const n=t.map(i=>({...i}));if(t.length>=2&&Ps[e.arrowTypeStart]){const i=Ps[e.arrowTypeStart],a=t[0],s=t[1],{angle:o}=cP(a,s),l=i*Math.cos(o),c=i*Math.sin(o);n[0].x=a.x+l,n[0].y=a.y+c}const r=t.length;if(r>=2&&Ps[e.arrowTypeEnd]){const i=Ps[e.arrowTypeEnd],a=t[r-1],s=t[r-2],{angle:o}=cP(s,a),l=i*Math.cos(o),c=i*Math.sin(o);n[r-1].x=a.x-l,n[r-1].y=a.y-c}return n}D($Y,"applyMarkerOffsetsToPoints");var Qxe=D((t,e,n,r)=>{e.forEach(i=>{mwe[i](t,n,r)})},"insertMarkers"),ewe=D((t,e,n)=>{Qe.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),twe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),nwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),rwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),iwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),awe=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),swe=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),owe=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),lwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),cwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),uwe=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),hwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),dwe=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),fwe=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),pwe=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),mwe={extension:ewe,composition:twe,aggregation:nwe,dependency:rwe,lollipop:iwe,point:awe,circle:swe,cross:owe,barb:lwe,only_one:cwe,zero_or_one:uwe,one_or_more:hwe,zero_or_more:dwe,requirement_arrow:fwe,requirement_contains:pwe},gwe=Qxe,vwe={common:cv,getConfig:Rs,insertCluster:Cxe,insertEdge:Zxe,insertEdgeLabel:Vxe,insertMarkers:gwe,insertNode:FY,interpolateToCurve:NL,labelHelper:mn,log:Qe,positionEdgeLabel:Gxe},Fb={},qY=D(t=>{for(const e of t)Fb[e.name]=e},"registerLayoutLoaders"),ywe=D(()=>{qY([{name:"dagre",loader:D(async()=>await ur(()=>import("./dagre-6UL2VRFP-8Ut97ab-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"loader")},{name:"cose-bilkent",loader:D(async()=>await ur(()=>import("./cose-bilkent-S5V4N54A-DqBh4mnA.js"),__vite__mapDeps([8,9,7,6])),"loader")}])},"registerDefaultLayoutLoaders");ywe();var zVe=D(async(t,e)=>{if(!(t.layoutAlgorithm in Fb))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Fb[t.layoutAlgorithm];return(await n.loader()).render(t,e,vwe,{algorithm:n.algorithm})},"render"),$Ve=D((t="",{fallback:e="dagre"}={})=>{if(t in Fb)return t;if(e in Fb)return Qe.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),HY="comm",WY="rule",VY="decl",bwe="@import",xwe="@namespace",wwe="@keyframes",Swe="@layer",GY=Math.abs,JL=String.fromCharCode;function KY(t){return t.trim()}function t2(t,e,n){return t.replace(e,n)}function _we(t,e,n){return t.indexOf(e,n)}function v0(t,e){return t.charCodeAt(e)|0}function Q0(t,e,n){return t.slice(e,n)}function zu(t){return t.length}function kwe(t){return t.length}function cw(t,e){return e.push(t),t}var mk=1,ev=1,YY=0,ec=0,ha=0,mv="";function ZL(t,e,n,r,i,a,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:mk,column:ev,length:s,return:"",siblings:o}}function Cwe(){return ha}function Twe(){return ha=ec>0?v0(mv,--ec):0,ev--,ha===10&&(ev=1,mk--),ha}function tu(){return ha=ec<YY?v0(mv,ec++):0,ev++,ha===10&&(ev=1,mk++),ha}function Of(){return v0(mv,ec)}function n2(){return ec}function gk(t,e){return Q0(mv,t,e)}function Ub(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ewe(t){return mk=ev=1,YY=zu(mv=t),ec=0,[]}function Awe(t){return mv="",t}function xT(t){return KY(gk(ec-1,uP(t===91?t+2:t===40?t+1:t)))}function Owe(t){for(;(ha=Of())&&ha<33;)tu();return Ub(t)>2||Ub(ha)>3?"":" "}function Pwe(t,e){for(;--e&&tu()&&!(ha<48||ha>102||ha>57&&ha<65||ha>70&&ha<97););return gk(t,n2()+(e<6&&Of()==32&&tu()==32))}function uP(t){for(;tu();)switch(ha){case t:return ec;case 34:case 39:t!==34&&t!==39&&uP(ha);break;case 40:t===41&&uP(t);break;case 92:tu();break}return ec}function Nwe(t,e){for(;tu()&&t+ha!==57;)if(t+ha===84&&Of()===47)break;return"/*"+gk(e,ec-1)+"*"+JL(t===47?t:tu())}function Lwe(t){for(;!Ub(Of());)tu();return gk(t,ec)}function Mwe(t){return Awe(r2("",null,null,null,[""],t=Ewe(t),0,[0],t))}function r2(t,e,n,r,i,a,s,o,l){for(var c=0,u=0,f=s,m=0,p=0,v=0,b=1,x=1,w=1,C=0,E="",O=i,P=a,L=r,B=E;x;)switch(v=C,C=tu()){case 40:if(v!=108&&v0(B,f-1)==58){_we(B+=t2(xT(C),"&","&\f"),"&\f",GY(c?o[c-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:B+=xT(C);break;case 9:case 10:case 13:case 32:B+=Owe(v);break;case 92:B+=Pwe(n2()-1,7);continue;case 47:switch(Of()){case 42:case 47:cw(Rwe(Nwe(tu(),n2()),e,n,l),l),(Ub(v||1)==5||Ub(Of()||1)==5)&&zu(B)&&Q0(B,-1,void 0)!==" "&&(B+=" ");break;default:B+="/"}break;case 123*b:o[c++]=zu(B)*w;case 125*b:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+u:w==-1&&(B=t2(B,/\f/g,"")),p>0&&(zu(B)-f||b===0&&v===47)&&cw(p>32?o8(B+";",r,n,f-1,l):o8(t2(B," ","")+";",r,n,f-2,l),l);break;case 59:B+=";";default:if(cw(L=s8(B,e,n,c,u,i,o,E,O=[],P=[],f,a),a),C===123)if(u===0)r2(B,e,L,L,O,a,f,o,P);else{switch(m){case 99:if(v0(B,3)===110)break;case 108:if(v0(B,2)===97)break;default:u=0;case 100:case 109:case 115:}u?r2(t,L,L,r&&cw(s8(t,L,L,0,0,i,o,E,i,O=[],f,P),P),i,P,f,o,r?O:P):r2(B,L,L,L,[""],P,0,o,P)}}c=u=p=0,b=w=1,E=B="",f=s;break;case 58:f=1+zu(B),p=v;default:if(b<1){if(C==123)--b;else if(C==125&&b++==0&&Twe()==125)continue}switch(B+=JL(C),C*b){case 38:w=u>0?1:(B+="\f",-1);break;case 44:o[c++]=(zu(B)-1)*w,w=1;break;case 64:Of()===45&&(B+=xT(tu())),m=Of(),u=f=zu(E=B+=Lwe(n2())),C++;break;case 45:v===45&&zu(B)==2&&(b=0)}}return a}function s8(t,e,n,r,i,a,s,o,l,c,u,f){for(var m=i-1,p=i===0?a:[""],v=kwe(p),b=0,x=0,w=0;b<r;++b)for(var C=0,E=Q0(t,m+1,m=GY(x=s[b])),O=t;C<v;++C)(O=KY(x>0?p[C]+" "+E:t2(E,/&\f/g,p[C])))&&(l[w++]=O);return ZL(t,e,n,i===0?WY:o,l,c,u,f)}function Rwe(t,e,n,r){return ZL(t,e,n,HY,JL(Cwe()),Q0(t,2,-2),0,r)}function o8(t,e,n,r,i){return ZL(t,e,n,VY,Q0(t,0,r),Q0(t,r+1,-1),r,i)}function hP(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Iwe(t,e,n,r){switch(t.type){case Swe:if(t.children.length)break;case bwe:case xwe:case VY:return t.return=t.return||t.value;case HY:return"";case wwe:return t.return=t.value+"{"+hP(t.children,r)+"}";case WY:if(!zu(t.value=t.props.join(",")))return""}return zu(n=hP(t.children,r))?t.return=t.value+"{"+n+"}":""}var jwe=wG(Object.keys,Object),Dwe=Object.prototype,Bwe=Dwe.hasOwnProperty;function Fwe(t){if(!ak(t))return jwe(t);var e=[];for(var n in Object(t))Bwe.call(t,n)&&n!="constructor"&&e.push(n);return e}var dP=Im(ih,"DataView"),fP=Im(ih,"Promise"),pP=Im(ih,"Set"),mP=Im(ih,"WeakMap"),l8="[object Map]",Uwe="[object Object]",c8="[object Promise]",u8="[object Set]",h8="[object WeakMap]",d8="[object DataView]",zwe=Rm(dP),$we=Rm(Db),qwe=Rm(fP),Hwe=Rm(pP),Wwe=Rm(mP),jp=dv;(dP&&jp(new dP(new ArrayBuffer(1)))!=d8||Db&&jp(new Db)!=l8||fP&&jp(fP.resolve())!=c8||pP&&jp(new pP)!=u8||mP&&jp(new mP)!=h8)&&(jp=function(t){var e=dv(t),n=e==Uwe?t.constructor:void 0,r=n?Rm(n):"";if(r)switch(r){case zwe:return d8;case $we:return l8;case qwe:return c8;case Hwe:return u8;case Wwe:return h8}return e});var Vwe="[object Map]",Gwe="[object Set]",Kwe=Object.prototype,Ywe=Kwe.hasOwnProperty;function f8(t){if(t==null)return!0;if(sk(t)&&(hS(t)||typeof t=="string"||typeof t.splice=="function"||OL(t)||PL(t)||uS(t)))return!t.length;var e=jp(t);if(e==Vwe||e==Gwe)return!t.size;if(ak(t))return!Fwe(t).length;for(var n in t)if(Ywe.call(t,n))return!1;return!0}var XY="c4",Xwe=D(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Jwe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-6KKJ-yRx.js");return{diagram:e}},__vite__mapDeps([10,11,6,7]));return{id:XY,diagram:t}},"loader"),Zwe={id:XY,detector:Xwe,loader:Jwe},Qwe=Zwe,JY="flowchart",e2e=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),t2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Djd61Q1W.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7]));return{id:JY,diagram:t}},"loader"),n2e={id:JY,detector:e2e,loader:t2e},r2e=n2e,ZY="flowchart-v2",i2e=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),a2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Djd61Q1W.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7]));return{id:ZY,diagram:t}},"loader"),s2e={id:ZY,detector:i2e,loader:a2e},o2e=s2e,QY="er",l2e=D(t=>/^\s*erDiagram/.test(t),"detector"),c2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-CkEE-FRz.js");return{diagram:e}},__vite__mapDeps([17,14,15,16,6,7]));return{id:QY,diagram:t}},"loader"),u2e={id:QY,detector:l2e,loader:c2e},h2e=u2e,eX="gitGraph",d2e=D(t=>/^\s*gitGraph/.test(t),"detector"),f2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-DAlN0q73.js");return{diagram:e}},__vite__mapDeps([18,19,20,21,4,2,6,7]));return{id:eX,diagram:t}},"loader"),p2e={id:eX,detector:d2e,loader:f2e},m2e=p2e,tX="gantt",g2e=D(t=>/^\s*gantt/.test(t),"detector"),v2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-CE2iVA9b.js");return{diagram:e}},__vite__mapDeps([22,7,6]));return{id:tX,diagram:t}},"loader"),y2e={id:tX,detector:g2e,loader:v2e},b2e=y2e,nX="info",x2e=D(t=>/^\s*info/.test(t),"detector"),w2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-B4w1YSm8.js");return{diagram:e}},__vite__mapDeps([23,21,4,2,6,7]));return{id:nX,diagram:t}},"loader"),S2e={id:nX,detector:x2e,loader:w2e},rX="pie",_2e=D(t=>/^\s*pie/.test(t),"detector"),k2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-Chkj73ZS.js");return{diagram:e}},__vite__mapDeps([24,19,21,4,2,25,6,7]));return{id:rX,diagram:t}},"loader"),C2e={id:rX,detector:_2e,loader:k2e},iX="quadrantChart",T2e=D(t=>/^\s*quadrantChart/.test(t),"detector"),E2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-YB8MpW2_.js");return{diagram:e}},__vite__mapDeps([26,6,7]));return{id:iX,diagram:t}},"loader"),A2e={id:iX,detector:T2e,loader:E2e},O2e=A2e,aX="xychart",P2e=D(t=>/^\s*xychart(-beta)?/.test(t),"detector"),N2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-Ydy91Vbh.js");return{diagram:e}},__vite__mapDeps([27,6,7]));return{id:aX,diagram:t}},"loader"),L2e={id:aX,detector:P2e,loader:N2e},M2e=L2e,sX="requirement",R2e=D(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),I2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-DW5_JALV.js");return{diagram:e}},__vite__mapDeps([28,14,15,6,7]));return{id:sX,diagram:t}},"loader"),j2e={id:sX,detector:R2e,loader:I2e},D2e=j2e,oX="sequence",B2e=D(t=>/^\s*sequenceDiagram/.test(t),"detector"),F2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-BXGmr3mr.js");return{diagram:e}},__vite__mapDeps([29,11,20,6,7]));return{id:oX,diagram:t}},"loader"),U2e={id:oX,detector:B2e,loader:F2e},z2e=U2e,lX="class",$2e=D((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),q2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-weRMH_76.js");return{diagram:e}},__vite__mapDeps([30,31,13,14,15,6,7]));return{id:lX,diagram:t}},"loader"),H2e={id:lX,detector:$2e,loader:q2e},W2e=H2e,cX="classDiagram",V2e=D((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),G2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-weRMH_76.js");return{diagram:e}},__vite__mapDeps([32,31,13,14,15,6,7]));return{id:cX,diagram:t}},"loader"),K2e={id:cX,detector:V2e,loader:G2e},Y2e=K2e,uX="state",X2e=D((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),J2e=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-BenTVfsO.js");return{diagram:e}},__vite__mapDeps([33,34,14,15,1,2,3,4,6,7]));return{id:uX,diagram:t}},"loader"),Z2e={id:uX,detector:X2e,loader:J2e},Q2e=Z2e,hX="stateDiagram",eSe=D((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),tSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-D3BPTyUC.js");return{diagram:e}},__vite__mapDeps([35,34,14,15,6,7]));return{id:hX,diagram:t}},"loader"),nSe={id:hX,detector:eSe,loader:tSe},rSe=nSe,dX="journey",iSe=D(t=>/^\s*journey/.test(t),"detector"),aSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-D9NRJo57.js");return{diagram:e}},__vite__mapDeps([36,11,13,25,6,7]));return{id:dX,diagram:t}},"loader"),sSe={id:dX,detector:iSe,loader:aSe},oSe=sSe,lSe=D((t,e,n)=>{Qe.debug(`rendering svg for syntax error
`);const r=$ge(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),lH(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),fX={draw:lSe},cSe=fX,uSe={db:{},renderer:fX,parser:{parse:D(()=>{},"parse")}},hSe=uSe,pX="flowchart-elk",dSe=D((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),fSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Djd61Q1W.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7]));return{id:pX,diagram:t}},"loader"),pSe={id:pX,detector:dSe,loader:fSe},mSe=pSe,mX="timeline",gSe=D(t=>/^\s*timeline/.test(t),"detector"),vSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-Co-d7DSg.js");return{diagram:e}},__vite__mapDeps([37,25,6,7]));return{id:mX,diagram:t}},"loader"),ySe={id:mX,detector:gSe,loader:vSe},bSe=ySe,gX="mindmap",xSe=D(t=>/^\s*mindmap/.test(t),"detector"),wSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-bhGDf-1h.js");return{diagram:e}},__vite__mapDeps([38,14,15,6,7]));return{id:gX,diagram:t}},"loader"),SSe={id:gX,detector:xSe,loader:wSe},_Se=SSe,vX="kanban",kSe=D(t=>/^\s*kanban/.test(t),"detector"),CSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-hc8Rc_oo.js");return{diagram:e}},__vite__mapDeps([39,13,6,7]));return{id:vX,diagram:t}},"loader"),TSe={id:vX,detector:kSe,loader:CSe},ESe=TSe,yX="sankey",ASe=D(t=>/^\s*sankey(-beta)?/.test(t),"detector"),OSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-6OiSyhMf.js");return{diagram:e}},__vite__mapDeps([40,6,7]));return{id:yX,diagram:t}},"loader"),PSe={id:yX,detector:ASe,loader:OSe},NSe=PSe,bX="packet",LSe=D(t=>/^\s*packet(-beta)?/.test(t),"detector"),MSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-GEgd1Hjl.js");return{diagram:e}},__vite__mapDeps([41,19,21,4,2,6,7]));return{id:bX,diagram:t}},"loader"),RSe={id:bX,detector:LSe,loader:MSe},xX="radar",ISe=D(t=>/^\s*radar-beta/.test(t),"detector"),jSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-BxmqVek2.js");return{diagram:e}},__vite__mapDeps([42,19,21,4,2,6,7]));return{id:xX,diagram:t}},"loader"),DSe={id:xX,detector:ISe,loader:jSe},wX="block",BSe=D(t=>/^\s*block(-beta)?/.test(t),"detector"),FSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-C_x0YXF7.js");return{diagram:e}},__vite__mapDeps([43,13,5,1,2,16,6,7]));return{id:wX,diagram:t}},"loader"),USe={id:wX,detector:BSe,loader:FSe},zSe=USe,SX="architecture",$Se=D(t=>/^\s*architecture/.test(t),"detector"),qSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-Diaxsxah.js");return{diagram:e}},__vite__mapDeps([44,19,21,4,2,9,7,6]));return{id:SX,diagram:t}},"loader"),HSe={id:SX,detector:$Se,loader:qSe},WSe=HSe,_X="treemap",VSe=D(t=>/^\s*treemap/.test(t),"detector"),GSe=D(async()=>{const{diagram:t}=await ur(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-CDSCp7Vs.js");return{diagram:e}},__vite__mapDeps([45,15,19,21,4,2,6,7]));return{id:_X,diagram:t}},"loader"),KSe={id:_X,detector:VSe,loader:GSe},p8=!1,vk=D(()=>{p8||(p8=!0,D2("error",hSe,t=>t.toLowerCase().trim()==="error"),D2("---",{db:{clear:D(()=>{},"clear")},styles:{},renderer:{draw:D(()=>{},"draw")},parser:{parse:D(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:D(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),mO(mSe,_Se,WSe),mO(Qwe,ESe,Y2e,W2e,h2e,b2e,S2e,C2e,D2e,z2e,o2e,r2e,bSe,m2e,rSe,Q2e,oSe,O2e,NSe,RSe,M2e,zSe,DSe,KSe))},"addDiagrams"),YSe=D(async()=>{Qe.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(um).map(async([n,{detector:r,loader:i}])=>{if(i)try{bO(n)}catch{try{const{diagram:a,id:s}=await i();D2(s,a,r)}catch(a){throw Qe.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete um[n],a}}}))).filter(n=>n.status==="rejected");if(e.length>0){Qe.error(`Failed to load ${e.length} external diagrams`);for(const n of e)Qe.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),XSe="graphics-document document";function kX(t,e){t.attr("role",XSe),e!==""&&t.attr("aria-roledescription",e)}D(kX,"setA11yDiagramInfo");function CX(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}D(CX,"addSVGa11yTitleDescription");var sm,gP=(sm=class{constructor(e,n,r,i,a){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=a}static async fromText(e,n={}){const r=Rs(),i=_3(e,r);e=Kbe(e)+`
`;try{bO(i)}catch{const c=Qce(i);if(!c)throw new Xq(`Diagram ${i} not found.`);const{id:u,diagram:f}=await c();D2(u,f)}const{db:a,parser:s,renderer:o,init:l}=bO(i);return s.parser&&(s.parser.yy=a),a.clear?.(),l?.(r),n.title&&a.setDiagramTitle?.(n.title),await s.parse(e),new sm(i,e,a,s,o)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},D(sm,"Diagram"),sm),m8=[],JSe=D(()=>{m8.forEach(t=>{t()}),m8=[]},"attachFunctions"),ZSe=D(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function TX(t){const e=t.match(Yq);if(!e)return{text:t,metadata:{}};let n=Y0e(e[1],{schema:K0e})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}D(TX,"extractFrontMatter");var QSe=D(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),e_e=D(t=>{const{text:e,metadata:n}=TX(t),{displayMode:r,title:i,config:a={}}=n;return r&&(a.gantt||(a.gantt={}),a.gantt.displayMode=r),{title:i,config:a,text:e}},"processFrontmatter"),t_e=D(t=>{const e=Wc.detectInit(t)??{},n=Wc.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):n?.type==="wrap"&&(e.wrap=!0),{text:Ibe(t),directive:e}},"processDirectives");function QL(t){const e=QSe(t),n=e_e(e),r=t_e(n.text),i=jL(n.config,r.directive);return t=ZSe(r.text),{code:t,title:n.title,config:i}}D(QL,"preprocessDiagram");function EX(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}D(EX,"toBase64");var n_e=5e4,r_e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",i_e="sandbox",a_e="loose",s_e="http://www.w3.org/2000/svg",o_e="http://www.w3.org/1999/xlink",l_e="http://www.w3.org/1999/xhtml",c_e="100%",u_e="100%",h_e="border:0;margin:0;",d_e="margin:0",f_e="allow-top-navigation-by-user-activation allow-popups",p_e='The "iframe" tag is not supported by your browser.',m_e=["foreignobject"],g_e=["dominant-baseline"];function e4(t){const e=QL(t);return I2(),mue(e.config??{}),e}D(e4,"processAndSetConfigs");async function AX(t,e){vk();try{const{code:n,config:r}=e4(t);return{diagramType:(await PX(n)).type,config:r}}catch(n){if(e?.suppressErrors)return!1;throw n}}D(AX,"parse");var g8=D((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),v_e=D((t,e=new Map)=>{let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const s=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(o=>{f8(o.styles)||s.forEach(l=>{n+=g8(o.id,l,o.styles)}),f8(o.textStyles)||(n+=g8(o.id,"tspan",(o?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return n},"createCssStyles"),y_e=D((t,e,n,r)=>{const i=v_e(t,n),a=Iue(e,i,t.themeVariables);return hP(Mwe(`${r}{${a}}`),Iwe)},"createUserStyles"),b_e=D((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=jm(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),x_e=D((t="",e)=>{const n=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":u_e,r=EX(`<body style="${d_e}">${t}</body>`);return`<iframe style="width:${c_e};height:${n};${h_e}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${f_e}">
  ${p_e}
</iframe>`},"putIntoIFrame"),v8=D((t,e,n,r,i)=>{const a=t.append("div");a.attr("id",n),r&&a.attr("style",r);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",s_e);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function vP(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}D(vP,"sandboxedIframe");var w_e=D((t,e,n,r)=>{t.getElementById(e)?.remove(),t.getElementById(n)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),S_e=D(async function(t,e,n){vk();const r=e4(e);e=r.code;const i=Rs();Qe.debug(i),e.length>(i?.maxTextSize??n_e)&&(e=r_e);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,c="#"+l,u=D(()=>{const K=ar(m?o:c).node();K&&"remove"in K&&K.remove()},"removeTempElements");let f=ar("body");const m=i.securityLevel===i_e,p=i.securityLevel===a_e,v=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),m){const I=vP(ar(n),s);f=ar(I.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=ar(n);v8(f,t,l,`font-family: ${v}`,o_e)}else{if(w_e(document,t,l,s),m){const I=vP(ar("body"),s);f=ar(I.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=ar("body");v8(f,t,l)}let b,x;try{b=await gP.fromText(e,{title:r.title})}catch(I){if(i.suppressErrorRendering)throw u(),I;b=await gP.fromText("error"),x=I}const w=f.select(c).node(),C=b.type,E=w.firstChild,O=E.firstChild,P=b.renderer.getClasses?.(e,b),L=y_e(i,C,P,a),B=document.createElement("style");B.innerHTML=L,E.insertBefore(B,O);try{await b.renderer.draw(e,t,cD.version,b)}catch(I){throw i.suppressErrorRendering?u():cSe.draw(e,t,cD.version),I}const $=f.select(`${c} svg`),U=b.db.getAccTitle?.(),G=b.db.getAccDescription?.();NX(C,$,U,G),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",l_e);let M=f.select(c).node().innerHTML;if(Qe.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),M=b_e(M,m,Ma(i.arrowMarkerAbsolute)),m){const I=f.select(c+" svg").node();M=x_e(M,I)}else p||(M=cm.sanitize(M,{ADD_TAGS:m_e,ADD_ATTR:g_e,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(JSe(),x)throw x;return u(),{diagramType:C,svg:M,bindFunctions:b.db.bindFunctions}},"render");function OX(t={}){const e=Oa({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),fue(e),e?.theme&&e.theme in ad?e.themeVariables=ad[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=ad.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?due(e):tH();S3(n.logLevel),vk()}D(OX,"initialize");var PX=D((t,e={})=>{const{code:n}=QL(t);return gP.fromText(n,e)},"getDiagramFromText");function NX(t,e,n,r){kX(e,t),CX(e,n,r,e.attr("id"))}D(NX,"addA11yInfo");var bm=Object.freeze({render:S_e,parse:AX,getDiagramFromText:PX,initialize:OX,getConfig:Rs,setConfig:nH,getSiteConfig:tH,updateSiteConfig:pue,reset:D(()=>{I2()},"reset"),globalReset:D(()=>{I2(q0)},"globalReset"),defaultConfig:q0});S3(Rs().logLevel);I2(Rs());var __e=D((t,e,n)=>{Qe.warn(t),IL(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),LX=D(async function(t={querySelector:".mermaid"}){try{await k_e(t)}catch(e){if(IL(e)&&Qe.error(e.str),pd.parseError&&pd.parseError(e),!t.suppressErrors)throw Qe.error("Use the suppressErrors option to suppress these errors"),e}},"run"),k_e=D(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=bm.getConfig();Qe.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");Qe.debug(`Found ${i.length} diagrams`),r?.startOnLoad!==void 0&&(Qe.debug("Start On Load: "+r?.startOnLoad),bm.updateSiteConfig({startOnLoad:r?.startOnLoad}));const a=new Wc.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(Qe.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${a.next()}`;s=l.innerHTML,s=QG(Wc.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Wc.detectInit(s);u&&Qe.debug("Detected early reinit: ",u);try{const{svg:f,bindFunctions:m}=await jX(c,s,l);l.innerHTML=f,t&&await t(c),m&&m(l)}catch(f){__e(f,o,pd.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),MX=D(function(t){bm.initialize(t)},"initialize"),C_e=D(async function(t,e,n){Qe.warn("mermaid.init is deprecated. Please use run instead."),t&&MX(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await LX(r)},"init"),T_e=D(async(t,{lazyLoad:e=!0}={})=>{vk(),mO(...t),e===!1&&await YSe()},"registerExternalDiagrams"),RX=D(function(){if(pd.startOnLoad){const{startOnLoad:t}=bm.getConfig();t&&pd.run().catch(e=>Qe.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",RX,!1);var E_e=D(function(t){pd.parseError=t},"setParseErrorHandler"),SS=[],wT=!1,IX=D(async()=>{if(!wT){for(wT=!0;SS.length>0;){const t=SS.shift();if(t)try{await t()}catch(e){Qe.error("Error executing queue",e)}}wT=!1}},"executeQueue"),A_e=D(async(t,e)=>new Promise((n,r)=>{const i=D(()=>new Promise((a,s)=>{bm.parse(t,e).then(o=>{a(o),n(o)},o=>{Qe.error("Error parsing",o),pd.parseError?.(o),s(o),r(o)})}),"performCall");SS.push(i),IX().catch(r)}),"parse"),jX=D((t,e,n)=>new Promise((r,i)=>{const a=D(()=>new Promise((s,o)=>{bm.render(t,e,n).then(l=>{s(l),r(l)},l=>{Qe.error("Error parsing",l),pd.parseError?.(l),o(l),i(l)})}),"performCall");SS.push(a),IX().catch(i)}),"render"),O_e=D(()=>Object.keys(um).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),pd={startOnLoad:!0,mermaidAPI:bm,parse:A_e,render:jX,init:C_e,run:LX,registerExternalDiagrams:T_e,registerLayoutLoaders:qY,initialize:MX,parseError:void 0,contentLoaded:RX,setParseErrorHandler:E_e,detectType:_3,registerIconPacks:Z1e,getRegisteredDiagramsMetadata:O_e},y8=pd;function P_e({flowchartSyntax:t}){const e=j.useRef(null);return j.useEffect(()=>{y8.initialize({startOnLoad:!0,theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"}}),e.current&&t&&(e.current.removeAttribute("data-processed"),y8.contentLoaded())},[t]),t?S.jsxs(li,{className:"p-6",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:" Your Career Journey Visualized"}),S.jsx("div",{className:"bg-slate-50 p-6 rounded-lg overflow-x-auto",children:S.jsx("div",{ref:e,className:"mermaid",children:t})})]}):null}function N_e({userRoadmap:t}){const[e,n]=j.useState(!1),[r,i]=j.useState([{role:"assistant",content:" Hi! I'm your AI Career Coach. Ask me anything about your roadmap!"}]),[a,s]=j.useState(""),[o,l]=j.useState(!1),c=async()=>{if(!a.trim())return;const u={role:"user",content:a};i(f=>[...f,u]),s(""),l(!0);try{const m=await(await fetch(zq.chat,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:a,context:t})})).json();i(p=>[...p,{role:"assistant",content:m.answer}])}catch{i(m=>[...m,{role:"assistant",content:" Sorry, I couldn't connect. Make sure the backend is running!"}])}finally{l(!1)}};return S.jsxs(S.Fragment,{children:[S.jsx(St.button,{onClick:()=>n(!e),className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 z-50",whileHover:{scale:1.1},whileTap:{scale:.9},children:e?S.jsx(lv,{className:"w-6 h-6"}):S.jsx(Vae,{className:"w-6 h-6"})}),S.jsx(fl,{children:e&&S.jsxs(St.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-24 right-6 w-96 h-[500px] bg-white rounded-2xl shadow-2xl z-50 flex flex-col border border-slate-200",children:[S.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-t-2xl",children:[S.jsx("h3",{className:"font-bold text-lg",children:" Career Coach"}),S.jsx("p",{className:"text-sm text-blue-100",children:"Ask me anything about your path"})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map((u,f)=>S.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:S.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${u.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"}`,children:S.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u.content})})},f)),o&&S.jsx("div",{className:"flex justify-start",children:S.jsx("div",{className:"bg-slate-100 p-3 rounded-lg",children:S.jsxs("div",{className:"flex gap-1",children:[S.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),S.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-100"}),S.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-200"})]})})})]}),S.jsx("div",{className:"p-4 border-t border-slate-200",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:a,onChange:u=>s(u.target.value),onKeyPress:u=>u.key==="Enter"&&c(),placeholder:"Ask a question...",className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o}),S.jsx("button",{onClick:c,disabled:o||!a.trim(),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S.jsx(Gae,{className:"w-5 h-5"})})]})})]})})]})}function Pr(t){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}var ru=Uint8Array,vl=Uint16Array,t4=Int32Array,n4=new ru([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r4=new ru([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b8=new ru([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DX=function(t,e){for(var n=new vl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new t4(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},BX=DX(n4,2),L_e=BX.b,yP=BX.r;L_e[28]=258,yP[258]=28;var M_e=DX(r4,0),x8=M_e.r,bP=new vl(32768);for(var ci=0;ci<32768;++ci){var uf=(ci&43690)>>1|(ci&21845)<<1;uf=(uf&52428)>>2|(uf&13107)<<2,uf=(uf&61680)>>4|(uf&3855)<<4,bP[ci]=((uf&65280)>>8|(uf&255)<<8)>>1}var hb=(function(t,e,n){for(var r=t.length,i=0,a=new vl(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new vl(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new vl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,m=f|(1<<u)-1;f<=m;++f)o[bP[f]>>l]=c}else for(o=new vl(r),i=0;i<r;++i)t[i]&&(o[i]=bP[s[t[i]-1]++]>>15-t[i]);return o}),xm=new ru(288);for(var ci=0;ci<144;++ci)xm[ci]=8;for(var ci=144;ci<256;++ci)xm[ci]=9;for(var ci=256;ci<280;++ci)xm[ci]=7;for(var ci=280;ci<288;++ci)xm[ci]=8;var _S=new ru(32);for(var ci=0;ci<32;++ci)_S[ci]=5;var R_e=hb(xm,9,0),I_e=hb(_S,5,0),FX=function(t){return(t+7)/8|0},j_e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ru(t.subarray(e,n))},Fh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Cy=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ST=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:zX,l:0};if(i==1){var s=new ru(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(P,L){return P.f-L.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=a[0].s,r=1;r<i;++r)a[r].s>m&&(m=a[r].s);var p=new vl(m+1),v=xP(n[u-1],p,0);if(v>e){var r=0,b=0,x=v-e,w=1<<x;for(a.sort(function(L,B){return p[B.s]-p[L.s]||L.f-B.f});r<i;++r){var C=a[r].s;if(p[C]>e)b+=w-(1<<v-p[C]),p[C]=e;else break}for(b>>=x;b>0;){var E=a[r].s;p[E]<e?b-=1<<e-p[E]++-1:++r}for(;r>=0&&b;--r){var O=a[r].s;p[O]==e&&(--p[O],++b)}v=e}return{t:new ru(p),l:v}},xP=function(t,e,n){return t.s==-1?Math.max(xP(t.l,e,n+1),xP(t.r,e,n+1)):e[t.s]=n},w8=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vl(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Ty=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},UX=function(t,e,n){var r=n.length,i=FX(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},S8=function(t,e,n,r,i,a,s,o,l,c,u){Fh(e,u++,n),++i[256];for(var f=ST(i,15),m=f.t,p=f.l,v=ST(a,15),b=v.t,x=v.l,w=w8(m),C=w.c,E=w.n,O=w8(b),P=O.c,L=O.n,B=new vl(19),$=0;$<C.length;++$)++B[C[$]&31];for(var $=0;$<P.length;++$)++B[P[$]&31];for(var U=ST(B,7),G=U.t,M=U.l,I=19;I>4&&!G[b8[I-1]];--I);var K=c+5<<3,H=Ty(i,xm)+Ty(a,_S)+s,J=Ty(i,m)+Ty(a,b)+s+14+3*I+Ty(B,G)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&K<=H&&K<=J)return UX(e,u,t.subarray(l,l+c));var W,Q,ee,he;if(Fh(e,u,1+(J<H)),u+=2,J<H){W=hb(m,p,0),Q=m,ee=hb(b,x,0),he=b;var Y=hb(G,M,0);Fh(e,u,E-257),Fh(e,u+5,L-1),Fh(e,u+10,I-4),u+=14;for(var $=0;$<I;++$)Fh(e,u+3*$,G[b8[$]]);u+=3*I;for(var ye=[C,P],V=0;V<2;++V)for(var F=ye[V],$=0;$<F.length;++$){var ae=F[$]&31;Fh(e,u,Y[ae]),u+=G[ae],ae>15&&(Fh(e,u,F[$]>>5&127),u+=F[$]>>12)}}else W=R_e,Q=xm,ee=I_e,he=_S;for(var $=0;$<o;++$){var le=r[$];if(le>255){var ae=le>>18&31;Cy(e,u,W[ae+257]),u+=Q[ae+257],ae>7&&(Fh(e,u,le>>23&31),u+=n4[ae]);var pe=le&31;Cy(e,u,ee[pe]),u+=he[pe],pe>3&&(Cy(e,u,le>>5&8191),u+=r4[pe])}else Cy(e,u,W[le]),u+=Q[le]}return Cy(e,u,W[256]),u+Q[256]},D_e=new t4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zX=new ru(0),B_e=function(t,e,n,r,i,a){var s=a.z||t.length,o=new ru(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=D_e[e-1],m=f>>13,p=f&8191,v=(1<<n)-1,b=a.p||new vl(32768),x=a.h||new vl(v+1),w=Math.ceil(n/3),C=2*w,E=function(rt){return(t[rt]^t[rt+1]<<w^t[rt+2]<<C)&v},O=new t4(25e3),P=new vl(288),L=new vl(32),B=0,$=0,U=a.i||0,G=0,M=a.w||0,I=0;U+2<s;++U){var K=E(U),H=U&32767,J=x[K];if(b[H]=J,x[K]=H,M<=U){var W=s-U;if((B>7e3||G>24576)&&(W>423||!c)){u=S8(t,l,0,O,P,L,$,G,I,U-I,u),G=B=$=0,I=U;for(var Q=0;Q<286;++Q)P[Q]=0;for(var Q=0;Q<30;++Q)L[Q]=0}var ee=2,he=0,Y=p,ye=H-J&32767;if(W>2&&K==E(U-ye))for(var V=Math.min(m,W)-1,F=Math.min(32767,U),ae=Math.min(258,W);ye<=F&&--Y&&H!=J;){if(t[U+ee]==t[U+ee-ye]){for(var le=0;le<ae&&t[U+le]==t[U+le-ye];++le);if(le>ee){if(ee=le,he=ye,le>V)break;for(var pe=Math.min(ye,le-2),xe=0,Q=0;Q<pe;++Q){var Oe=U-ye+Q&32767,fe=b[Oe],Ce=Oe-fe&32767;Ce>xe&&(xe=Ce,J=Oe)}}}H=J,J=b[H],ye+=H-J&32767}if(he){O[G++]=268435456|yP[ee]<<18|x8[he];var Fe=yP[ee]&31,Te=x8[he]&31;$+=n4[Fe]+r4[Te],++P[257+Fe],++L[Te],M=U+ee,++B}else O[G++]=t[U],++P[t[U]]}}for(U=Math.max(U,M);U<s;++U)O[G++]=t[U],++P[t[U]];u=S8(t,l,c,O,P,L,$,G,I,U-I,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=b,a.i=U,a.w=M)}else{for(var U=a.w||0;U<s+c;U+=65535){var nt=U+65535;nt>=s&&(l[u/8|0]=c,nt=s),u=UX(l,u+1,t.subarray(U,nt))}a.i=s}return j_e(o,0,r+FX(u)+i)},$X=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},F_e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new ru(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return B_e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},qX=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},U_e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=$X();i.p(e.dictionary),qX(t,2,i.d())}};function wP(t,e){e||(e={});var n=$X();n.p(t);var r=F_e(t,e,e.dictionary?6:2,4);return U_e(r,e),qX(r,r.length-4,n.d()),r}var z_e=typeof TextDecoder<"u"&&new TextDecoder,$_e=0;try{z_e.decode(zX,{stream:!0}),$_e=1}catch{}function q_e(t){if(Array.isArray(t))return t}function H_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function W_e(t,e){if(t){if(typeof t=="string")return _8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_8(t,e):void 0}}function V_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(t,e){return q_e(t)||H_e(t,e)||W_e(t,e)||V_e()}function C8(t,e="utf8"){return new TextDecoder(e).decode(t)}const G_e=new TextEncoder;function K_e(t){return G_e.encode(t)}const Y_e=1024*8,X_e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),_T={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Y_e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof i4)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=_T[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===X_e&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new _T[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new _T[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return C8(this.readBytes(e))}decodeText(e=1,n="utf8"){return C8(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(K_e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gv(t){let e=t.length;for(;--e>=0;)t[e]=0}const J_e=3,Z_e=258,HX=29,Q_e=256,eke=Q_e+1+HX,WX=30,tke=512,nke=new Array((eke+2)*2);gv(nke);const rke=new Array(WX*2);gv(rke);const ike=new Array(tke);gv(ike);const ake=new Array(Z_e-J_e+1);gv(ake);const ske=new Array(HX);gv(ske);const oke=new Array(WX);gv(oke);const lke=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var SP=lke;const cke=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},uke=new Uint32Array(cke()),hke=(t,e,n,r)=>{const i=uke,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Lu=hke,_P={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},VX={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const dke=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fke=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)dke(n,r)&&(t[r]=n[r])}}return t},pke=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},GX={assign:fke,flattenChunks:pke};let KX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{KX=!1}const zb=new Uint8Array(256);for(let t=0;t<256;t++)zb[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zb[254]=zb[254]=1;var mke=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const gke=(t,e)=>{if(e<65534&&t.subarray&&KX)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var vke=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=zb[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return gke(a,i)},yke=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+zb[t[n]]>e?n:e},kP={string2buf:mke,buf2string:vke,utf8border:yke};function bke(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xke=bke;const uw=16209,wke=16191;var Ske=function(e,n){let r,i,a,s,o,l,c,u,f,m,p,v,b,x,w,C,E,O,P,L,B,$,U,G;const M=e.state;r=e.next_in,U=e.input,i=r+(e.avail_in-5),a=e.next_out,G=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=M.dmax,c=M.wsize,u=M.whave,f=M.wnext,m=M.window,p=M.hold,v=M.bits,b=M.lencode,x=M.distcode,w=(1<<M.lenbits)-1,C=(1<<M.distbits)-1;e:do{v<15&&(p+=U[r++]<<v,v+=8,p+=U[r++]<<v,v+=8),E=b[p&w];t:for(;;){if(O=E>>>24,p>>>=O,v-=O,O=E>>>16&255,O===0)G[a++]=E&65535;else if(O&16){P=E&65535,O&=15,O&&(v<O&&(p+=U[r++]<<v,v+=8),P+=p&(1<<O)-1,p>>>=O,v-=O),v<15&&(p+=U[r++]<<v,v+=8,p+=U[r++]<<v,v+=8),E=x[p&C];n:for(;;){if(O=E>>>24,p>>>=O,v-=O,O=E>>>16&255,O&16){if(L=E&65535,O&=15,v<O&&(p+=U[r++]<<v,v+=8,v<O&&(p+=U[r++]<<v,v+=8)),L+=p&(1<<O)-1,L>l){e.msg="invalid distance too far back",M.mode=uw;break e}if(p>>>=O,v-=O,O=a-s,L>O){if(O=L-O,O>u&&M.sane){e.msg="invalid distance too far back",M.mode=uw;break e}if(B=0,$=m,f===0){if(B+=c-O,O<P){P-=O;do G[a++]=m[B++];while(--O);B=a-L,$=G}}else if(f<O){if(B+=c+f-O,O-=f,O<P){P-=O;do G[a++]=m[B++];while(--O);if(B=0,f<P){O=f,P-=O;do G[a++]=m[B++];while(--O);B=a-L,$=G}}}else if(B+=f-O,O<P){P-=O;do G[a++]=m[B++];while(--O);B=a-L,$=G}for(;P>2;)G[a++]=$[B++],G[a++]=$[B++],G[a++]=$[B++],P-=3;P&&(G[a++]=$[B++],P>1&&(G[a++]=$[B++]))}else{B=a-L;do G[a++]=G[B++],G[a++]=G[B++],G[a++]=G[B++],P-=3;while(P>2);P&&(G[a++]=G[B++],P>1&&(G[a++]=G[B++]))}}else if((O&64)===0){E=x[(E&65535)+(p&(1<<O)-1)];continue n}else{e.msg="invalid distance code",M.mode=uw;break e}break}}else if((O&64)===0){E=b[(E&65535)+(p&(1<<O)-1)];continue t}else if(O&32){M.mode=wke;break e}else{e.msg="invalid literal/length code",M.mode=uw;break e}break}}while(r<i&&a<o);P=v>>3,r-=P,v-=P<<3,p&=(1<<v)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),M.hold=p,M.bits=v};const Ig=15,T8=852,E8=592,A8=0,kT=1,O8=2,_ke=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kke=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Cke=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tke=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Eke=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,m=0,p=0,v=0,b=0,x=0,w=0,C=0,E,O,P,L,B,$=null,U;const G=new Uint16Array(Ig+1),M=new Uint16Array(Ig+1);let I=null,K,H,J;for(c=0;c<=Ig;c++)G[c]=0;for(u=0;u<r;u++)G[e[n+u]]++;for(p=l,m=Ig;m>=1&&G[m]===0;m--);if(p>m&&(p=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<m&&G[f]===0;f++);for(p<f&&(p=f),x=1,c=1;c<=Ig;c++)if(x<<=1,x-=G[c],x<0)return-1;if(x>0&&(t===A8||m!==1))return-1;for(M[1]=0,c=1;c<Ig;c++)M[c+1]=M[c]+G[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[M[e[n+u]]++]=u);if(t===A8?($=I=s,U=20):t===kT?($=_ke,I=kke,U=257):($=Cke,I=Tke,U=0),C=0,u=0,c=f,B=a,v=p,b=0,P=-1,w=1<<p,L=w-1,t===kT&&w>T8||t===O8&&w>E8)return 1;for(;;){K=c-b,s[u]+1<U?(H=0,J=s[u]):s[u]>=U?(H=I[s[u]-U],J=$[s[u]-U]):(H=96,J=0),E=1<<c-b,O=1<<v,f=O;do O-=E,i[B+(C>>b)+O]=K<<24|H<<16|J|0;while(O!==0);for(E=1<<c-1;C&E;)E>>=1;if(E!==0?(C&=E-1,C+=E):C=0,u++,--G[c]===0){if(c===m)break;c=e[n+s[u]]}if(c>p&&(C&L)!==P){for(b===0&&(b=p),B+=f,v=c-b,x=1<<v;v+b<m&&(x-=G[v+b],!(x<=0));)v++,x<<=1;if(w+=1<<v,t===kT&&w>T8||t===O8&&w>E8)return 1;P=C&L,i[P]=p<<24|v<<16|B-a|0}}return C!==0&&(i[B+C]=c-b<<24|64<<16|0),o.bits=p,0};var db=Eke;const Ake=0,YX=1,XX=2,{Z_FINISH:P8,Z_BLOCK:Oke,Z_TREES:hw,Z_OK:wm,Z_STREAM_END:Pke,Z_NEED_DICT:Nke,Z_STREAM_ERROR:tc,Z_DATA_ERROR:JX,Z_MEM_ERROR:ZX,Z_BUF_ERROR:Lke,Z_DEFLATED:N8}=VX,yk=16180,L8=16181,M8=16182,R8=16183,I8=16184,j8=16185,D8=16186,B8=16187,F8=16188,U8=16189,kS=16190,Uh=16191,CT=16192,z8=16193,TT=16194,$8=16195,q8=16196,H8=16197,W8=16198,dw=16199,fw=16200,V8=16201,G8=16202,K8=16203,Y8=16204,X8=16205,ET=16206,J8=16207,Z8=16208,pi=16209,QX=16210,eJ=16211,Mke=852,Rke=592,Ike=15,jke=Ike,Q8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Dke(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bm=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<yk||e.mode>eJ?1:0},tJ=t=>{if(Bm(t))return tc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=yk,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Mke),e.distcode=e.distdyn=new Int32Array(Rke),e.sane=1,e.back=-1,wm},nJ=t=>{if(Bm(t))return tc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,tJ(t)},rJ=(t,e)=>{let n;if(Bm(t))return tc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?tc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,nJ(t))},iJ=(t,e)=>{if(!t)return tc;const n=new Dke;t.state=n,n.strm=t,n.window=null,n.mode=yk;const r=rJ(t,e);return r!==wm&&(t.state=null),r},Bke=t=>iJ(t,jke);let eB=!0,AT,OT;const Fke=t=>{if(eB){AT=new Int32Array(512),OT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(db(YX,t.lens,0,288,AT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;db(XX,t.lens,0,32,OT,0,t.work,{bits:5}),eB=!1}t.lencode=AT,t.lenbits=9,t.distcode=OT,t.distbits=5},aJ=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Uke=(t,e)=>{let n,r,i,a,s,o,l,c,u,f,m,p,v,b,x=0,w,C,E,O,P,L,B,$;const U=new Uint8Array(4);let G,M;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bm(t)||!t.output||!t.input&&t.avail_in!==0)return tc;n=t.state,n.mode===Uh&&(n.mode=CT),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,m=l,$=wm;e:for(;;)switch(n.mode){case yk:if(n.wrap===0){n.mode=CT;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,U[0]=c&255,U[1]=c>>>8&255,n.check=Lu(n.check,U,2,0),c=0,u=0,n.mode=L8;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=pi;break}if((c&15)!==N8){t.msg="unknown compression method",n.mode=pi;break}if(c>>>=4,u-=4,B=(c&15)+8,n.wbits===0&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=pi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?U8:Uh,c=0,u=0;break;case L8:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==N8){t.msg="unknown compression method",n.mode=pi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=pi;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=Lu(n.check,U,2,0)),c=0,u=0,n.mode=M8;case M8:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,n.check=Lu(n.check,U,4,0)),c=0,u=0,n.mode=R8;case R8:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=Lu(n.check,U,2,0)),c=0,u=0,n.mode=I8;case I8:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=Lu(n.check,U,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=j8;case j8:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),B)),n.flags&512&&n.wrap&4&&(n.check=Lu(n.check,r,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=D8;case D8:if(n.flags&2048){if(o===0)break e;p=0;do B=r[a+p++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Lu(n.check,r,p,a)),o-=p,a+=p,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=B8;case B8:if(n.flags&4096){if(o===0)break e;p=0;do B=r[a+p++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Lu(n.check,r,p,a)),o-=p,a+=p,B)break e}else n.head&&(n.head.comment=null);n.mode=F8;case F8:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=pi;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Uh;break;case U8:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=Q8(c),c=0,u=0,n.mode=kS;case kS:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,Nke;t.adler=n.check=1,n.mode=Uh;case Uh:if(e===Oke||e===hw)break e;case CT:if(n.last){c>>>=u&7,u-=u&7,n.mode=ET;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=z8;break;case 1:if(Fke(n),n.mode=dw,e===hw){c>>>=2,u-=2;break e}break;case 2:n.mode=q8;break;case 3:t.msg="invalid block type",n.mode=pi}c>>>=2,u-=2;break;case z8:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=pi;break}if(n.length=c&65535,c=0,u=0,n.mode=TT,e===hw)break e;case TT:n.mode=$8;case $8:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=Uh;break;case q8:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=pi;break}n.have=0,n.mode=H8;case H8:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[I[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},$=db(Ake,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,$){t.msg="invalid code lengths set",n.mode=pi;break}n.have=0,n.mode=W8;case W8:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[c&(1<<n.lenbits)-1],w=x>>>24,C=x>>>16&255,E=x&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(E<16)c>>>=w,u-=w,n.lens[n.have++]=E;else{if(E===16){for(M=w+2;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=pi;break}B=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(E===17){for(M=w+3;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=w,u-=w,B=0,p=3+(c&7),c>>>=3,u-=3}else{for(M=w+7;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=w,u-=w,B=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=pi;break}for(;p--;)n.lens[n.have++]=B}}if(n.mode===pi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=pi;break}if(n.lenbits=9,G={bits:n.lenbits},$=db(YX,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,$){t.msg="invalid literal/lengths set",n.mode=pi;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},$=db(XX,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,$){t.msg="invalid distances set",n.mode=pi;break}if(n.mode=dw,e===hw)break e;case dw:n.mode=fw;case fw:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,Ske(t,m),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Uh&&(n.back=-1);break}for(n.back=0;x=n.lencode[c&(1<<n.lenbits)-1],w=x>>>24,C=x>>>16&255,E=x&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(C&&(C&240)===0){for(O=w,P=C,L=E;x=n.lencode[L+((c&(1<<O+P)-1)>>O)],w=x>>>24,C=x>>>16&255,E=x&65535,!(O+w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=O,u-=O,n.back+=O}if(c>>>=w,u-=w,n.back+=w,n.length=E,C===0){n.mode=X8;break}if(C&32){n.back=-1,n.mode=Uh;break}if(C&64){t.msg="invalid literal/length code",n.mode=pi;break}n.extra=C&15,n.mode=V8;case V8:if(n.extra){for(M=n.extra;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G8;case G8:for(;x=n.distcode[c&(1<<n.distbits)-1],w=x>>>24,C=x>>>16&255,E=x&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((C&240)===0){for(O=w,P=C,L=E;x=n.distcode[L+((c&(1<<O+P)-1)>>O)],w=x>>>24,C=x>>>16&255,E=x&65535,!(O+w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=O,u-=O,n.back+=O}if(c>>>=w,u-=w,n.back+=w,C&64){t.msg="invalid distance code",n.mode=pi;break}n.offset=E,n.extra=C&15,n.mode=K8;case K8:if(n.extra){for(M=n.extra;u<M;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=pi;break}n.mode=Y8;case Y8:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=pi;break}p>n.wnext?(p-=n.wnext,v=n.wsize-p):v=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=i,v=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[s++]=b[v++];while(--p);n.length===0&&(n.mode=fw);break;case X8:if(l===0)break e;i[s++]=n.length,l--,n.mode=fw;break;case ET:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Lu(n.check,i,m,s-m):SP(n.check,i,m,s-m)),m=l,n.wrap&4&&(n.flags?c:Q8(c))!==n.check){t.msg="incorrect data check",n.mode=pi;break}c=0,u=0}n.mode=J8;case J8:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=pi;break}c=0,u=0}n.mode=Z8;case Z8:$=Pke;break e;case pi:$=JX;break e;case QX:return ZX;case eJ:default:return tc}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||m!==t.avail_out&&n.mode<pi&&(n.mode<ET||e!==P8))&&aJ(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Lu(n.check,i,m,t.next_out-m):SP(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Uh?128:0)+(n.mode===dw||n.mode===TT?256:0),(f===0&&m===0||e===P8)&&$===wm&&($=Lke),$},zke=t=>{if(Bm(t))return tc;let e=t.state;return e.window&&(e.window=null),t.state=null,wm},$ke=(t,e)=>{if(Bm(t))return tc;const n=t.state;return(n.wrap&2)===0?tc:(n.head=e,e.done=!1,wm)},qke=(t,e)=>{const n=e.length;let r,i,a;return Bm(t)||(r=t.state,r.wrap!==0&&r.mode!==kS)?tc:r.mode===kS&&(i=1,i=SP(i,e,n,0),i!==r.check)?JX:(a=aJ(t,e,n,n),a?(r.mode=QX,ZX):(r.havedict=1,wm))};var Hke=nJ,Wke=rJ,Vke=tJ,Gke=Bke,Kke=iJ,Yke=Uke,Xke=zke,Jke=$ke,Zke=qke,Qke="pako inflate (from Nodeca project)",Wh={inflateReset:Hke,inflateReset2:Wke,inflateResetKeep:Vke,inflateInit:Gke,inflateInit2:Kke,inflate:Yke,inflateEnd:Xke,inflateGetHeader:Jke,inflateSetDictionary:Zke,inflateInfo:Qke};function eCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tCe=eCe;const sJ=Object.prototype.toString,{Z_NO_FLUSH:nCe,Z_FINISH:rCe,Z_OK:$b,Z_STREAM_END:PT,Z_NEED_DICT:NT,Z_STREAM_ERROR:iCe,Z_DATA_ERROR:tB,Z_MEM_ERROR:aCe}=VX;function R1(t){this.options=GX.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xke,this.strm.avail_out=0;let n=Wh.inflateInit2(this.strm,e.windowBits);if(n!==$b)throw new Error(_P[n]);if(this.header=new tCe,Wh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=kP.string2buf(e.dictionary):sJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Wh.inflateSetDictionary(this.strm,e.dictionary),n!==$b)))throw new Error(_P[n])}R1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?rCe:nCe,sJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Wh.inflate(n,s),a===NT&&i&&(a=Wh.inflateSetDictionary(n,i),a===$b?a=Wh.inflate(n,s):a===tB&&(a=NT));n.avail_in>0&&a===PT&&n.state.wrap>0&&t[n.next_in]!==0;)Wh.inflateReset(n),a=Wh.inflate(n,s);switch(a){case iCe:case tB:case NT:case aCe:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===PT))if(this.options.to==="string"){let l=kP.utf8border(n.output,n.next_out),c=n.next_out-l,u=kP.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===$b&&o===0)){if(a===PT)return a=Wh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};R1.prototype.onData=function(t){this.chunks.push(t)};R1.prototype.onEnd=function(t){t===$b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=GX.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function sCe(t,e){const n=new R1(e);if(n.push(t),n.err)throw n.msg||_P[n.err];return n.result}var oCe=R1,lCe=sCe,cCe={Inflate:oCe,inflate:lCe};const{Inflate:uCe,inflate:hCe}=cCe;var nB=uCe,dCe=hCe;const oJ=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;oJ[t]=e}const rB=4294967295;function fCe(t,e,n){let r=t;for(let i=0;i<n;i++)r=oJ[(r^e[i])&255]^r>>>8;return r}function pCe(t,e){return(fCe(rB,t,e)^rB)>>>0}function iB(t,e,n){const r=t.readUint32(),i=pCe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function lJ(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function cJ(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function uJ(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function hJ(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function dJ(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+mCe(e[a-i],n[a],n[a-i])&255}}function mCe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function gCe(t,e,n,r,i,a){switch(t){case 0:lJ(e,n,i);break;case 1:cJ(e,n,i,a);break;case 2:uJ(e,n,r,i);break;case 3:hJ(e,n,r,i,a);break;case 4:dJ(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const vCe=new Uint16Array([255]),yCe=new Uint8Array(vCe.buffer),bCe=yCe[0]===255;function xCe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=s[u],m=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(m<=0||p<=0)continue;const v=m*o,b=new Uint8Array(v);for(let x=0;x<p;x++){const w=e[c++],C=e.subarray(c,c+v);c+=v;const E=new Uint8Array(v);gCe(w,C,E,b,v,o),b.set(E);for(let O=0;O<m;O++){const P=f.x+O*f.xStep,L=f.y+x*f.yStep;if(!(P>=n||L>=r))for(let B=0;B<o;B++)l[(L*n+P)*o+B]=E[O*o+B]}}}if(a===16){const u=new Uint16Array(l.buffer);if(bCe)for(let f=0;f<u.length;f++)u[f]=wCe(u[f]);return u}else return l}function wCe(t){return(t&255)<<8|t>>8&255}const SCe=new Uint16Array([255]),_Ce=new Uint8Array(SCe.buffer),kCe=_Ce[0]===255,CCe=new Uint8Array(0);function aB(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=CCe,u=0,f,m;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),m=l.subarray(p*o,(p+1)*o),e[u]){case 0:lJ(f,m,o);break;case 1:cJ(f,m,o,s);break;case 2:uJ(f,m,c,o);break;case 3:hJ(f,m,c,o,s);break;case 4:dJ(f,m,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=m,u+=o+1}if(a===16){const p=new Uint16Array(l.buffer);if(kCe)for(let v=0;v<p.length;v++)p[v]=TCe(p[v]);return p}else return l}function TCe(t){return(t&255)<<8|t>>8&255}const i2=Uint8Array.of(137,80,78,71,13,10,26,10);function sB(t){if(!ECe(t.readBytes(i2.length)))throw new Error("wrong PNG signature")}function ECe(t){if(t.length<i2.length)return!1;for(let e=0;e<i2.length;e++)if(t[e]!==i2[e])return!1;return!0}const ACe="tEXt",OCe=0,fJ=new TextDecoder("latin1");function PCe(t){if(LCe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const NCe=/^[\u0000-\u00FF]*$/;function LCe(t){if(!NCe.test(t))throw new Error("invalid latin1 text")}function MCe(t,e,n){const r=pJ(e);t[r]=RCe(e,n-r.length-1)}function pJ(t){for(t.mark();t.readByte()!==OCe;);const e=t.offset;t.reset();const n=fJ.decode(t.readBytes(e-t.offset-1));return t.skip(1),PCe(n),n}function RCe(t,e){return fJ.decode(t.readBytes(e))}const ol={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},LT={UNKNOWN:-1,DEFLATE:0},oB={UNKNOWN:-1,ADAPTIVE:0},MT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pw={NONE:0,BACKGROUND:1,PREVIOUS:2},RT={SOURCE:0,OVER:1};class ICe extends i4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new nB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=LT.UNKNOWN,this._filterMethod=oB.UNKNOWN,this._interlaceMethod=MT.UNKNOWN,this._colorType=ol.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sB(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(sB(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ACe:MCe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iB(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iB(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=jCe(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case ol.GREYSCALE:r=1;break;case ol.TRUECOLOUR:r=3;break;case ol.INDEXED_COLOUR:r=1;break;case ol.GREYSCALE_ALPHA:r=2;break;case ol.TRUECOLOUR_ALPHA:r=4;break;case ol.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==LT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ol.GREYSCALE:case ol.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ol.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ol.UNKNOWN:case ol.GREYSCALE_ALPHA:case ol.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=pJ(this),r=this.readUint8();if(r!==LT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:dCe(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=aB({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case pw.NONE:break;case pw.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[s+o]=0}break;case pw.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(a,s)=>{const o=((a+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,l=(a*n.width+s)*this._png.channels;return{index:o,frameIndex:l}};switch(n.blendOp){case RT.SOURCE:for(let a=0;a<n.height;a++)for(let s=0;s<n.width;s++){const{index:o,frameIndex:l}=i(a,s);for(let c=0;c<this._png.channels;c++)e.data[o+c]=n.data[l+c]}break;case RT.OVER:for(let a=0;a<n.height;a++)for(let s=0;s<n.width;s++){const{index:o,frameIndex:l}=i(a,s);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/r,f=c%(this._png.channels-1)===0?1:n.data[l+c],m=Math.floor(u*f+(1-u)*e.data[o+c]);e.data[o+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==oB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===MT.NO_INTERLACE)this._png.data=aB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===MT.ADAM7)this._png.data=xCe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pw.NONE,blendOp:RT.SOURCE,data:e}),this._inflator=new nB,this._writingDataChunks=!1}}function jCe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var lB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(lB||(lB={}));function DCe(t,e){return new ICe(t,e).decode()}var wn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function IT(){wn.console&&typeof wn.console.log=="function"&&wn.console.log.apply(wn.console,arguments)}var qr={log:IT,warn:function(t){wn.console&&(typeof wn.console.warn=="function"?wn.console.warn.apply(wn.console,arguments):IT.call(null,arguments))},error:function(t){wn.console&&(typeof wn.console.error=="function"?wn.console.error.apply(wn.console,arguments):IT(t))}};function jT(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Dp(r.response,e,n)},r.onerror=function(){qr.error("could not download file")},r.send()}function cB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mw(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Dp=wn.saveAs||((typeof window>"u"?"undefined":Pr(window))!=="object"||window!==wn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wn.URL||wn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?cB(i.href)?jT(t,e,n):mw(i,i.target="_blank"):mw(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){mw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(cB(t))jT(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){mw(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Pr(a)!=="object"&&(qr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return jT(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(wn.HTMLElement)||wn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Pr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=wn.URL||wn.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function mJ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var a2=wn.atob.bind(wn),uB=wn.btoa.bind(wn);function DT(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Cs(n,r,i,a,e[0],7,-680876936),a=Cs(a,n,r,i,e[1],12,-389564586),i=Cs(i,a,n,r,e[2],17,606105819),r=Cs(r,i,a,n,e[3],22,-1044525330),n=Cs(n,r,i,a,e[4],7,-176418897),a=Cs(a,n,r,i,e[5],12,1200080426),i=Cs(i,a,n,r,e[6],17,-1473231341),r=Cs(r,i,a,n,e[7],22,-45705983),n=Cs(n,r,i,a,e[8],7,1770035416),a=Cs(a,n,r,i,e[9],12,-1958414417),i=Cs(i,a,n,r,e[10],17,-42063),r=Cs(r,i,a,n,e[11],22,-1990404162),n=Cs(n,r,i,a,e[12],7,1804603682),a=Cs(a,n,r,i,e[13],12,-40341101),i=Cs(i,a,n,r,e[14],17,-1502002290),n=Ts(n,r=Cs(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ts(a,n,r,i,e[6],9,-1069501632),i=Ts(i,a,n,r,e[11],14,643717713),r=Ts(r,i,a,n,e[0],20,-373897302),n=Ts(n,r,i,a,e[5],5,-701558691),a=Ts(a,n,r,i,e[10],9,38016083),i=Ts(i,a,n,r,e[15],14,-660478335),r=Ts(r,i,a,n,e[4],20,-405537848),n=Ts(n,r,i,a,e[9],5,568446438),a=Ts(a,n,r,i,e[14],9,-1019803690),i=Ts(i,a,n,r,e[3],14,-187363961),r=Ts(r,i,a,n,e[8],20,1163531501),n=Ts(n,r,i,a,e[13],5,-1444681467),a=Ts(a,n,r,i,e[2],9,-51403784),i=Ts(i,a,n,r,e[7],14,1735328473),n=Es(n,r=Ts(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Es(a,n,r,i,e[8],11,-2022574463),i=Es(i,a,n,r,e[11],16,1839030562),r=Es(r,i,a,n,e[14],23,-35309556),n=Es(n,r,i,a,e[1],4,-1530992060),a=Es(a,n,r,i,e[4],11,1272893353),i=Es(i,a,n,r,e[7],16,-155497632),r=Es(r,i,a,n,e[10],23,-1094730640),n=Es(n,r,i,a,e[13],4,681279174),a=Es(a,n,r,i,e[0],11,-358537222),i=Es(i,a,n,r,e[3],16,-722521979),r=Es(r,i,a,n,e[6],23,76029189),n=Es(n,r,i,a,e[9],4,-640364487),a=Es(a,n,r,i,e[12],11,-421815835),i=Es(i,a,n,r,e[15],16,530742520),n=As(n,r=Es(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=As(a,n,r,i,e[7],10,1126891415),i=As(i,a,n,r,e[14],15,-1416354905),r=As(r,i,a,n,e[5],21,-57434055),n=As(n,r,i,a,e[12],6,1700485571),a=As(a,n,r,i,e[3],10,-1894986606),i=As(i,a,n,r,e[10],15,-1051523),r=As(r,i,a,n,e[1],21,-2054922799),n=As(n,r,i,a,e[8],6,1873313359),a=As(a,n,r,i,e[15],10,-30611744),i=As(i,a,n,r,e[6],15,-1560198380),r=As(r,i,a,n,e[13],21,1309151649),n=As(n,r,i,a,e[4],6,-145523070),a=As(a,n,r,i,e[11],10,-1120210379),i=As(i,a,n,r,e[2],15,718787259),r=As(r,i,a,n,e[9],21,-343485551),t[0]=Pf(n,t[0]),t[1]=Pf(r,t[1]),t[2]=Pf(i,t[2]),t[3]=Pf(a,t[3])}function bk(t,e,n,r,i,a){return e=Pf(Pf(e,t),Pf(r,a)),Pf(e<<i|e>>>32-i,n)}function Cs(t,e,n,r,i,a,s){return bk(e&n|~e&r,t,e,i,a,s)}function Ts(t,e,n,r,i,a,s){return bk(e&r|n&~r,t,e,i,a,s)}function Es(t,e,n,r,i,a,s){return bk(e^n^r,t,e,i,a,s)}function As(t,e,n,r,i,a,s){return bk(n^(e|~r),t,e,i,a,s)}function gJ(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)DT(r,BCe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(DT(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,DT(r,i),r}function BCe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var hB="0123456789abcdef".split("");function FCe(t){for(var e="",n=0;n<4;n++)e+=hB[t>>8*n+4&15]+hB[t>>8*n&15];return e}function UCe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function CP(t){return gJ(t).map(UCe).join("")}var zCe=(function(t){for(var e=0;e<t.length;e++)t[e]=FCe(t[e]);return t.join("")})(gJ("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pf(t,e){if(zCe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function TP(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,m=0,p=0,v="";for(l=0;l<f;l++)p=(p+(u=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=u,s=o[(o[m]+o[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}var dB={print:4,modify:8,copy:16,"annot-forms":32};function e0(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(dB.perm!==void 0)throw new Error("Invalid permission: "+o);i+=dB[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=CP(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=TP(this.encryptionKey,this.padding)}function t0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function fB(t){if(Pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){wn.console&&qr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function CS(t){if(!(this instanceof CS))return new CS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function vJ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function qp(t,e,n,r,i){if(!(this instanceof qp))return new qp(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,vJ.call(this,r,i)}function o0(t,e,n,r,i){if(!(this instanceof o0))return new o0(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,vJ.call(this,r,i)}function en(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;Pr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=fB;var v="1.3",b=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(N){v=N};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var w=p.__private__.getPageFormat=function(N){return x[N]};i=i||"a4";var C="compat",E="advanced",O=C;function P(){this.saveGraphicsState(),se(new Zt(pt,0,0,-pt,0,mc()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),c="n",O=E}function L(){this.restoreGraphicsState(),c="S",O=C}var B=p.__private__.combineFontStyleAndFontWeight=function(N,X){if(N=="bold"&&X=="normal"||N=="bold"&&X==400||N=="normal"&&X=="italic"||N=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(N=X==400||X==="normal"?N==="italic"?"italic":"normal":X!=700&&X!=="bold"||N!=="normal"?(X==700?"bold":X)+""+N:"bold"),N};p.advancedAPI=function(N){var X=O===C;return X&&P.call(this),typeof N!="function"||(N(this),X&&L.call(this)),this},p.compatAPI=function(N){var X=O===E;return X&&L.call(this),typeof N!="function"||(N(this),X&&P.call(this)),this},p.isAdvancedAPI=function(){return O===E};var $,U=function(N){if(O!==E)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=p.roundToPrecision=p.__private__.roundToPrecision=function(N,X){var de=e||X;if(isNaN(N)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(de).replace(/0+$/,"")};$=p.hpf=p.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var M=p.f2=p.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},I=p.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},K=p.scale=p.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return O===C?N*pt:O===E?N:void 0},H=function(N){return K((function(X){return O===C?mc()-X:O===E?X:void 0})(N))};p.__private__.setPrecision=p.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var J,W="00000000000000000000000000000000",Q=p.__private__.getFileId=function(){return W},ee=p.__private__.setFileId=function(N){return W=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Hi=new e0(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};p.setFileId=function(N){return ee(N),this},p.getFileId=function(){return Q()};var he=p.__private__.convertDateToPDFDate=function(N){var X=N.getTimezoneOffset(),de=X<0?"+":"-",ve=Math.floor(Math.abs(X/60)),Ee=Math.abs(X%60),Ve=[de,ae(ve),"'",ae(Ee),"'"].join("");return["D:",N.getFullYear(),ae(N.getMonth()+1),ae(N.getDate()),ae(N.getHours()),ae(N.getMinutes()),ae(N.getSeconds()),Ve].join("")},Y=p.__private__.convertPDFDateToDate=function(N){var X=parseInt(N.substr(2,4),10),de=parseInt(N.substr(6,2),10)-1,ve=parseInt(N.substr(8,2),10),Ee=parseInt(N.substr(10,2),10),Ve=parseInt(N.substr(12,2),10),it=parseInt(N.substr(14,2),10);return new Date(X,de,ve,Ee,Ve,it,0)},ye=p.__private__.setCreationDate=function(N){var X;if(N===void 0&&(N=new Date),N instanceof Date)X=he(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=N}return J=X},V=p.__private__.getCreationDate=function(N){var X=J;return N==="jsDate"&&(X=Y(J)),X};p.setCreationDate=function(N){return ye(N),this},p.getCreationDate=function(N){return V(N)};var F,ae=p.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},le=p.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},pe=0,xe=[],Oe=[],fe=0,Ce=[],Fe=[],Te=!1,nt=Oe;p.__private__.setCustomOutputDestination=function(N){Te=!0,nt=N};var rt=function(N){Te||(nt=N)};p.__private__.resetCustomOutputDestination=function(){Te=!1,nt=Oe};var se=p.__private__.out=function(N){return N=N.toString(),fe+=N.length+1,nt.push(N),nt},lt=p.__private__.write=function(N){return se(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Xt=p.__private__.getArrayBuffer=function(N){for(var X=N.length,de=new ArrayBuffer(X),ve=new Uint8Array(de);X--;)ve[X]=N.charCodeAt(X);return de},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Tt};var Xe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(N){return Xe=O===E?N/pt:N,this};var Lt,xt=p.__private__.getFontSize=p.getFontSize=function(){return O===C?Xe:Xe*pt},Gt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(N){return Gt=N,this},p.__private__.getR2L=p.getR2L=function(){return Gt};var Ht,st=p.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Lt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Lt=N}else Lt=parseInt(N,10)};p.__private__.getZoomMode=function(){return Lt};var mt,_e=p.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ht=N};p.__private__.getPageMode=function(){return Ht};var De=p.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');mt=N};p.__private__.getLayoutMode=function(){return mt},p.__private__.setDisplayMode=p.setDisplayMode=function(N,X,de){return st(N),De(X),_e(de),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(N){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[N]},p.__private__.getDocumentProperties=function(){return et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(N){for(var X in et)et.hasOwnProperty(X)&&N[X]&&(et[X]=N[X]);return this},p.__private__.setDocumentProperty=function(N,X){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[N]=X};var tt,pt,ht,Pn,Wt,At={},It={},Jt=[],Ot={},Nn={},ln={},cn={},er=null,kn=0,jt=[],Un=new fB(p),zs=t.hotfixes||[],jn={},ma={},ws=[],Zt=function N(X,de,ve,Ee,Ve,it){if(!(this instanceof N))return new N(X,de,ve,Ee,Ve,it);isNaN(X)&&(X=1),isNaN(de)&&(de=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN(Ve)&&(Ve=0),isNaN(it)&&(it=0),this._matrix=[X,de,ve,Ee,Ve,it]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(N)},Zt.prototype.multiply=function(N){var X=N.sx*this.sx+N.shy*this.shx,de=N.sx*this.shy+N.shy*this.sy,ve=N.shx*this.sx+N.sy*this.shx,Ee=N.shx*this.shy+N.sy*this.sy,Ve=N.tx*this.sx+N.ty*this.shx+this.tx,it=N.tx*this.shy+N.ty*this.sy+this.ty;return new Zt(X,de,ve,Ee,Ve,it)},Zt.prototype.decompose=function(){var N=this.sx,X=this.shy,de=this.shx,ve=this.sy,Ee=this.tx,Ve=this.ty,it=Math.sqrt(N*N+X*X),Mt=(N/=it)*de+(X/=it)*ve;de-=N*Mt,ve-=X*Mt;var Kt=Math.sqrt(de*de+ve*ve);return Mt/=Kt,N*(ve/=Kt)<X*(de/=Kt)&&(N=-N,X=-X,Mt=-Mt,it=-it),{scale:new Zt(it,0,0,Kt,0,0),translate:new Zt(1,0,0,1,Ee,Ve),rotate:new Zt(N,X,-X,N,0,0),skew:new Zt(1,0,Mt,1,0,0)}},Zt.prototype.toString=function(N){return this.join(" ")},Zt.prototype.inversed=function(){var N=this.sx,X=this.shy,de=this.shx,ve=this.sy,Ee=this.tx,Ve=this.ty,it=1/(N*ve-X*de),Mt=ve*it,Kt=-X*it,gn=-de*it,Tn=N*it;return new Zt(Mt,Kt,gn,Tn,-Mt*Ee-gn*Ve,-Kt*Ee-Tn*Ve)},Zt.prototype.applyToPoint=function(N){var X=N.x*this.sx+N.y*this.shx+this.tx,de=N.x*this.shy+N.y*this.sy+this.ty;return new vo(X,de)},Zt.prototype.applyToRectangle=function(N){var X=this.applyToPoint(N),de=this.applyToPoint(new vo(N.x+N.w,N.y+N.h));return new uc(X.x,X.y,de.x-X.x,de.y-X.y)},Zt.prototype.clone=function(){var N=this.sx,X=this.shy,de=this.shx,ve=this.sy,Ee=this.tx,Ve=this.ty;return new Zt(N,X,de,ve,Ee,Ve)},p.Matrix=Zt;var $s=p.matrixMult=function(N,X){return X.multiply(N)},qs=new Zt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=qs;var Ba=function(N,X){if(!Nn[N]){var de=(X instanceof qp?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);X.id=de,Nn[N]=de,Ot[de]=X,Un.publish("addPattern",X)}};p.ShadingPattern=qp,p.TilingPattern=o0,p.addShadingPattern=function(N,X){return U("addShadingPattern()"),Ba(N,X),this},p.beginTilingPattern=function(N){U("beginTilingPattern()"),ph(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},p.endTilingPattern=function(N,X){U("endTilingPattern()"),X.stream=Fe[F].join(`
`),Ba(N,X),Un.publish("endTilingPattern",X),ws.pop().restore()};var es,zn=p.__private__.newObject=function(){var N=wr();return xi(N,!0),N},wr=p.__private__.newObjectDeferred=function(){return pe++,xe[pe]=function(){return fe},pe},xi=function(N,X){return X=typeof X=="boolean"&&X,xe[N]=fe,X&&se(N+" 0 obj"),N},Vo=p.__private__.newAdditionalObject=function(){var N={objId:wr(),content:""};return Ce.push(N),N},$i=wr(),hr=wr(),Xn=p.__private__.decodeColorString=function(N){var X=N.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var de=parseFloat(X[0]);X=[de,de,de,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(X[Ee])).toString(16)).slice(-2);return ve},qi=p.__private__.encodeColorString=function(N){var X;typeof N=="string"&&(N={ch1:N});var de=N.ch1,ve=N.ch2,Ee=N.ch3,Ve=N.ch4,it=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Mt=new mJ(de);if(Mt.ok)de=Mt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Kt=parseInt(de.substr(1),16);de=Kt>>16&255,ve=Kt>>8&255,Ee=255&Kt}if(ve===void 0||Ve===void 0&&de===ve&&ve===Ee)X=typeof de=="string"?de+" "+it[0]:N.precision===2?M(de/255)+" "+it[0]:I(de/255)+" "+it[0];else if(Ve===void 0||Pr(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return["1.","1.","1.",it[1]].join(" ");X=typeof de=="string"?[de,ve,Ee,it[1]].join(" "):N.precision===2?[M(de/255),M(ve/255),M(Ee/255),it[1]].join(" "):[I(de/255),I(ve/255),I(Ee/255),it[1]].join(" ")}else X=typeof de=="string"?[de,ve,Ee,Ve,it[2]].join(" "):N.precision===2?[M(de),M(ve),M(Ee),M(Ve),it[2]].join(" "):[I(de),I(ve),I(Ee),I(Ve),it[2]].join(" ");return X},Fa=p.__private__.getFilters=function(){return s},ts=p.__private__.putStream=function(N){var X=(N=N||{}).data||"",de=N.filters||Fa(),ve=N.alreadyAppliedFilters||[],Ee=N.addLength1||!1,Ve=X.length,it=N.objectId,Mt=function(Wi){return Wi};if(u!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Mt=Hi.encryptor(it,0));var Kt={};de===!0&&(de=["FlateEncode"]);var gn=N.additionalKeyValues||[],Tn=(Kt=en.API.processDataByFilters!==void 0?en.API.processDataByFilters(X,de):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Kt.data.length!==0&&(gn.push({key:"Length",value:Kt.data.length}),Ee===!0&&gn.push({key:"Length1",value:Ve})),Tn.length!=0)if(Tn.split("/").length-1==1)gn.push({key:"Filter",value:Tn});else{gn.push({key:"Filter",value:"["+Tn+"]"});for(var Jn=0;Jn<gn.length;Jn+=1)if(gn[Jn].key==="DecodeParms"){for(var ei=[],wi=0;wi<Kt.reverseChain.split("/").length-1;wi+=1)ei.push("null");ei.push(gn[Jn].value),gn[Jn].value="["+ei.join(" ")+"]"}}se("<<");for(var Lr=0;Lr<gn.length;Lr++)se("/"+gn[Lr].key+" "+gn[Lr].value);se(">>"),Kt.data.length!==0&&(se("stream"),se(Mt(Kt.data)),se("endstream"))},kl=p.__private__.putPage=function(N){var X=N.number,de=N.data,ve=N.objId,Ee=N.contentsObjId;xi(ve,!0),se("<</Type /Page"),se("/Parent "+N.rootDictionaryObjId+" 0 R"),se("/Resources "+N.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat($(N.mediaBox.bottomLeftX))+" "+parseFloat($(N.mediaBox.bottomLeftY))+" "+$(N.mediaBox.topRightX)+" "+$(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&se("/CropBox ["+$(N.cropBox.bottomLeftX)+" "+$(N.cropBox.bottomLeftY)+" "+$(N.cropBox.topRightX)+" "+$(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&se("/BleedBox ["+$(N.bleedBox.bottomLeftX)+" "+$(N.bleedBox.bottomLeftY)+" "+$(N.bleedBox.topRightX)+" "+$(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&se("/TrimBox ["+$(N.trimBox.bottomLeftX)+" "+$(N.trimBox.bottomLeftY)+" "+$(N.trimBox.topRightX)+" "+$(N.trimBox.topRightY)+"]"),N.artBox!==null&&se("/ArtBox ["+$(N.artBox.bottomLeftX)+" "+$(N.artBox.bottomLeftY)+" "+$(N.artBox.topRightX)+" "+$(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&se("/UserUnit "+N.userUnit),Un.publish("putPage",{objId:ve,pageContext:jt[X],pageNumber:X,page:de}),se("/Contents "+Ee+" 0 R"),se(">>"),se("endobj");var Ve=de.join(`
`);return O===E&&(Ve+=`
Q`),xi(Ee,!0),ts({data:Ve,filters:Fa(),objectId:Ee}),se("endobj"),ve},Hs=p.__private__.putPages=function(){var N,X,de=[];for(N=1;N<=kn;N++)jt[N].objId=wr(),jt[N].contentsObjId=wr();for(N=1;N<=kn;N++)de.push(kl({number:N,data:Fe[N],objId:jt[N].objId,contentsObjId:jt[N].contentsObjId,mediaBox:jt[N].mediaBox,cropBox:jt[N].cropBox,bleedBox:jt[N].bleedBox,trimBox:jt[N].trimBox,artBox:jt[N].artBox,userUnit:jt[N].userUnit,rootDictionaryObjId:$i,resourceDictionaryObjId:hr}));xi($i,!0),se("<</Type /Pages");var ve="/Kids [";for(X=0;X<kn;X++)ve+=de[X]+" 0 R ";se(ve+"]"),se("/Count "+kn),se(">>"),se("endobj"),Un.publish("postPutPages")},Et=function(N){Un.publish("putFont",{font:N,out:se,newObject:zn,putStream:ts}),N.isAlreadyPutted!==!0&&(N.objectNumber=zn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+t0(N.postScriptName)),se("/Subtype /Type1"),typeof N.encoding=="string"&&se("/Encoding /"+N.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},be=function(N){N.objectNumber=zn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[$(N.x),$(N.y),$(N.x+N.width),$(N.y+N.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var de=N.pages[1].join(`
`);ts({data:de,additionalKeyValues:X,objectId:N.objectNumber}),se("endobj")},ot=function(N,X){X||(X=21);var de=zn(),ve=(function(it,Mt){var Kt,gn=[],Tn=1/(Mt-1);for(Kt=0;Kt<1;Kt+=Tn)gn.push(Kt);if(gn.push(1),it[0].offset!=0){var Jn={offset:0,color:it[0].color};it.unshift(Jn)}if(it[it.length-1].offset!=1){var ei={offset:1,color:it[it.length-1].color};it.push(ei)}for(var wi="",Lr=0,Wi=0;Wi<gn.length;Wi++){for(Kt=gn[Wi];Kt>it[Lr+1].offset;)Lr++;var Oi=it[Lr].offset,va=(Kt-Oi)/(it[Lr+1].offset-Oi),gc=it[Lr].color,Xo=it[Lr+1].color;wi+=le(Math.round((1-va)*gc[0]+va*Xo[0]).toString(16))+le(Math.round((1-va)*gc[1]+va*Xo[1]).toString(16))+le(Math.round((1-va)*gc[2]+va*Xo[2]).toString(16))}return wi.trim()})(N.colors,X),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+X+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ts({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),se("endobj"),N.objectNumber=zn(),se("<< /ShadingType "+N.type),se("/ColorSpace /DeviceRGB");var Ve="/Coords ["+$(parseFloat(N.coords[0]))+" "+$(parseFloat(N.coords[1]))+" ";N.type===2?Ve+=$(parseFloat(N.coords[2]))+" "+$(parseFloat(N.coords[3])):Ve+=$(parseFloat(N.coords[2]))+" "+$(parseFloat(N.coords[3]))+" "+$(parseFloat(N.coords[4]))+" "+$(parseFloat(N.coords[5])),se(Ve+="]"),N.matrix&&se("/Matrix ["+N.matrix.toString()+"]"),se("/Function "+de+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},wt=function(N,X){var de=wr(),ve=zn();X.push({resourcesOid:de,objectOid:ve}),N.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+N.boundingBox.map($).join(" ")+"]"}),Ee.push({key:"XStep",value:$(N.xStep)}),Ee.push({key:"YStep",value:$(N.yStep)}),Ee.push({key:"Resources",value:de+" 0 R"}),N.matrix&&Ee.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),ts({data:N.stream,additionalKeyValues:Ee,objectId:N.objectNumber}),se("endobj")},tr=function(N){for(var X in N.objectNumber=zn(),se("<<"),N)switch(X){case"opacity":se("/ca "+M(N[X]));break;case"stroke-opacity":se("/CA "+M(N[X]))}se(">>"),se("endobj")},kr=function(N){xi(N.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in se("/Font <<"),At)At.hasOwnProperty(X)&&(f===!1||f===!0&&m.hasOwnProperty(X))&&se("/"+X+" "+At[X].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var X in se("/Shading <<"),Ot)Ot.hasOwnProperty(X)&&Ot[X]instanceof qp&&Ot[X].objectNumber>=0&&se("/"+X+" "+Ot[X].objectNumber+" 0 R");Un.publish("putShadingPatternDict"),se(">>")}})(),(function(X){if(Object.keys(Ot).length>0){for(var de in se("/Pattern <<"),Ot)Ot.hasOwnProperty(de)&&Ot[de]instanceof p.TilingPattern&&Ot[de].objectNumber>=0&&Ot[de].objectNumber<X&&se("/"+de+" "+Ot[de].objectNumber+" 0 R");Un.publish("putTilingPatternDict"),se(">>")}})(N.objectOid),(function(){if(Object.keys(ln).length>0){var X;for(X in se("/ExtGState <<"),ln)ln.hasOwnProperty(X)&&ln[X].objectNumber>=0&&se("/"+X+" "+ln[X].objectNumber+" 0 R");Un.publish("putGStateDict"),se(">>")}})(),(function(){for(var X in se("/XObject <<"),jn)jn.hasOwnProperty(X)&&jn[X].objectNumber>=0&&se("/"+X+" "+jn[X].objectNumber+" 0 R");Un.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},Cn=function(N){It[N.fontName]=It[N.fontName]||{},It[N.fontName][N.fontStyle]=N.id},Ei=function(N,X,de,ve,Ee){var Ve={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:N,fontName:X,fontStyle:de,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return Un.publish("addFont",{font:Ve,instance:this}),At[Ve.id]=Ve,Cn(Ve),Ve.id},Zr=p.__private__.pdfEscape=p.pdfEscape=function(N,X){return(function(de,ve){var Ee,Ve,it,Mt,Kt,gn,Tn,Jn,ei;if(it=(ve=ve||{}).sourceEncoding||"Unicode",Kt=ve.outputEncoding,(ve.autoencode||Kt)&&At[tt].metadata&&At[tt].metadata[it]&&At[tt].metadata[it].encoding&&(Mt=At[tt].metadata[it].encoding,!Kt&&At[tt].encoding&&(Kt=At[tt].encoding),!Kt&&Mt.codePages&&(Kt=Mt.codePages[0]),typeof Kt=="string"&&(Kt=Mt[Kt]),Kt)){for(Tn=!1,gn=[],Ee=0,Ve=de.length;Ee<Ve;Ee++)(Jn=Kt[de.charCodeAt(Ee)])?gn.push(String.fromCharCode(Jn)):gn.push(de[Ee]),gn[Ee].charCodeAt(0)>>8&&(Tn=!0);de=gn.join("")}for(Ee=de.length;Tn===void 0&&Ee!==0;)de.charCodeAt(Ee-1)>>8&&(Tn=!0),Ee--;if(!Tn)return de;for(gn=ve.noBOM?[]:[254,255],Ee=0,Ve=de.length;Ee<Ve;Ee++){if((ei=(Jn=de.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gn.push(ei),gn.push(Jn-(ei<<8))}return String.fromCharCode.apply(void 0,gn)})(N,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ta=p.__private__.beginPage=function(N){Fe[++kn]=[],jt[kn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},hu(kn),rt(Fe[F])},Ws=function(N,X){var de,ve,Ee;switch(n=X||n,typeof N=="string"&&(de=w(N.toLowerCase()),Array.isArray(de)&&(ve=de[0],Ee=de[1])),Array.isArray(N)&&(ve=N[0]*pt,Ee=N[1]*pt),isNaN(ve)&&(ve=i[0],Ee=i[1]),(ve>14400||Ee>14400)&&(qr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),i=[ve,Ee],n.substr(0,1)){case"l":Ee>ve&&(i=[Ee,ve]);break;case"p":ve>Ee&&(i=[Ee,ve])}ta(i),hn(hh),se(Ks),Nd!==0&&se(Nd+" J"),na!==0&&se(na+" j"),Un.publish("addPage",{pageNumber:kn})},Qr=function(N){N>0&&N<=kn&&(Fe.splice(N,1),jt.splice(N,1),kn--,F>kn&&(F=kn),this.setPage(F))},hu=function(N){N>0&&N<=kn&&(F=N)},du=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Fe.length-1},qm=function(N,X,de){var ve,Ee=void 0;return de=de||{},N=N!==void 0?N:At[tt].fontName,X=X!==void 0?X:At[tt].fontStyle,ve=N.toLowerCase(),It[ve]!==void 0&&It[ve][X]!==void 0?Ee=It[ve][X]:It[N]!==void 0&&It[N][X]!==void 0?Ee=It[N][X]:de.disableWarning===!1&&qr.warn("Unable to look up font label for font '"+N+"', '"+X+"'. Refer to getFontList() for available fonts."),Ee||de.noFallback||(Ee=It.times[X])==null&&(Ee=It.times.normal),Ee},Vs=p.__private__.putInfo=function(){var N=zn(),X=function(ve){return ve};for(var de in u!==null&&(X=Hi.encryptor(N,0)),se("<<"),se("/Producer ("+Zr(X("jsPDF "+en.version))+")"),et)et.hasOwnProperty(de)&&et[de]&&se("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Zr(X(et[de]))+")");se("/CreationDate ("+Zr(X(J))+")"),se(">>"),se("endobj")},lc=p.__private__.putCatalog=function(N){var X=(N=N||{}).rootDictionaryObjId||$i;switch(zn(),se("<<"),se("/Type /Catalog"),se("/Pages "+X+" 0 R"),Lt||(Lt="fullwidth"),Lt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Lt;de.substr(de.length-1)==="%"&&(Lt=parseInt(Lt)/100),typeof Lt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+M(Lt)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Ht&&se("/PageMode /"+Ht),Un.publish("putCatalog"),se(">>"),se("endobj")},Go=p.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(pe+1)),se("/Root "+pe+" 0 R"),se("/Info "+(pe-1)+" 0 R"),u!==null&&se("/Encrypt "+Hi.oid+" 0 R"),se("/ID [ <"+W+"> <"+W+"> ]"),se(">>")},sr=p.__private__.putHeader=function(){se("%PDF-"+v),se("%")},np=p.__private__.putXRef=function(){var N="0000000000";se("xref"),se("0 "+(pe+1)),se("0000000000 65535 f ");for(var X=1;X<=pe;X++)typeof xe[X]=="function"?se((N+xe[X]()).slice(-10)+" 00000 n "):xe[X]!==void 0?se((N+xe[X]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Cl=p.__private__.buildDocument=function(){var N;pe=0,fe=0,Oe=[],xe=[],Ce=[],$i=wr(),hr=wr(),rt(Oe),Un.publish("buildDocument"),sr(),Hs(),(function(){Un.publish("putAdditionalObjects");for(var de=0;de<Ce.length;de++){var ve=Ce[de];xi(ve.objId,!0),se(ve.content),se("endobj")}Un.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var de in At)At.hasOwnProperty(de)&&(f===!1||f===!0&&m.hasOwnProperty(de))&&Et(At[de])})(),(function(){var de;for(de in ln)ln.hasOwnProperty(de)&&tr(ln[de])})(),(function(){for(var de in jn)jn.hasOwnProperty(de)&&be(jn[de])})(),(function(de){var ve;for(ve in Ot)Ot.hasOwnProperty(ve)&&(Ot[ve]instanceof qp?ot(Ot[ve]):Ot[ve]instanceof o0&&wt(Ot[ve],de))})(N),Un.publish("putResources"),N.forEach(kr),kr({resourcesOid:hr,objectOid:Number.MAX_SAFE_INTEGER}),Un.publish("postPutResources"),u!==null&&(Hi.oid=zn(),se("<<"),se("/Filter /Standard"),se("/V "+Hi.v),se("/R "+Hi.r),se("/U <"+Hi.toHexString(Hi.U)+">"),se("/O <"+Hi.toHexString(Hi.O)+">"),se("/P "+Hi.P),se(">>"),se("endobj")),Vs(),lc();var X=fe;return np(),Go(),se("startxref"),se(""+X),se("%%EOF"),rt(Fe[F]),Oe.join(`
`)},fu=p.__private__.getBlob=function(N){return new Blob([Xt(N)],{type:"application/pdf"})},rp=p.output=p.__private__.output=(es=function(N,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",N){case void 0:return Cl();case"save":p.save(X.filename);break;case"arraybuffer":return Xt(Cl());case"blob":return fu(Cl());case"bloburi":case"bloburl":if(wn.URL!==void 0&&typeof wn.URL.createObjectURL=="function")return wn.URL&&wn.URL.createObjectURL(fu(Cl()))||void 0;qr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ve=Cl();try{de=uB(ve)}catch{de=uB(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+X.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wn)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ee=X.pdfObjectUrl,Ve="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Mt=wn.open();return Mt!==null&&Mt.document.write(it),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wn)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',gn=wn.open();if(gn!==null){gn.document.write(Kt);var Tn=this;gn.document.documentElement.querySelector("#pdfViewer").onload=function(){gn.document.title=X.filename,gn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tn.output("bloburl"))}}return gn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',ei=wn.open();if(ei!==null&&(ei.document.write(Jn),ei.document.title=X.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return wn.document.location.href=this.output("datauristring",X);default:return null}},es.foo=function(){try{return es.apply(this,arguments)}catch(de){var N=de.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var X="Error in function "+N.split(`
`)[0].split("<")[0]+": "+de.message;if(!wn.console)throw new Error(X);wn.console.error(X,de),wn.alert&&alert(X)}},es.foo.bar=es,es.foo),ns=function(N){return Array.isArray(zs)===!0&&zs.indexOf(N)>-1};switch(r){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);pt=r}var Hi=null;ye(),ee();var Ai=p.__private__.getPageInfo=p.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[N].objId,pageNumber:N,pageContext:jt[N]}},Od=p.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in jt)if(jt[X].objId===N)break;return Ai(X)},Hm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:jt[F].objId,pageNumber:F,pageContext:jt[F]}};p.addPage=function(){return Ws.apply(this,arguments),this},p.setPage=function(){return hu.apply(this,arguments),rt.call(this,Fe[F]),this},p.insertPage=function(N){return this.addPage(),this.movePage(F,N),this},p.movePage=function(N,X){var de,ve;if(N>X){de=Fe[N],ve=jt[N];for(var Ee=N;Ee>X;Ee--)Fe[Ee]=Fe[Ee-1],jt[Ee]=jt[Ee-1];Fe[X]=de,jt[X]=ve,this.setPage(X)}else if(N<X){de=Fe[N],ve=jt[N];for(var Ve=N;Ve<X;Ve++)Fe[Ve]=Fe[Ve+1],jt[Ve]=jt[Ve+1];Fe[X]=de,jt[X]=ve,this.setPage(X)}return this},p.deletePage=function(){return Qr.apply(this,arguments),this},p.__private__.text=p.text=function(N,X,de,ve,Ee){var Ve,it,Mt,Kt,gn,Tn,Jn,ei,wi,Lr=(ve=ve||{}).scope||this;if(typeof N=="number"&&typeof X=="number"&&(typeof de=="string"||Array.isArray(de))){var Wi=de;de=X,X=N,N=Wi}if(arguments[3]instanceof Zt==0?(Mt=arguments[4],Kt=arguments[5],Pr(Jn=arguments[3])==="object"&&Jn!==null||(typeof Mt=="string"&&(Kt=Mt,Mt=null),typeof Jn=="string"&&(Kt=Jn,Jn=null),typeof Jn=="number"&&(Mt=Jn,Jn=null),ve={flags:Jn,angle:Mt,align:Kt})):(U("The transform parameter of text() with a Matrix value"),wi=Ee),isNaN(X)||isNaN(de)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Lr;var Oi,va="",gc=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:cc,Xo=Lr.internal.scaleFactor;function vc(or){return or=or.split("	").join(Array(ve.TabLen||9).join(" ")),Zr(or,Jn)}function dp(or){for(var Zn,Mr=or.concat(),_i=[],Il=Mr.length;Il--;)typeof(Zn=Mr.shift())=="string"?_i.push(Zn):Array.isArray(or)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?_i.push(Zn[0]):_i.push([Zn[0],Zn[1],Zn[2]]);return _i}function Md(or,Zn){var Mr;if(typeof or=="string")Mr=Zn(or)[0];else if(Array.isArray(or)){for(var _i,Il,el=or.concat(),yh=[],mp=el.length;mp--;)typeof(_i=el.shift())=="string"?yh.push(Zn(_i)[0]):Array.isArray(_i)&&typeof _i[0]=="string"&&(Il=Zn(_i[0],_i[1],_i[2]),yh.push([Il[0],Il[1],Il[2]]));Mr=yh}return Mr}var Al=!1,Jo=!0;if(typeof N=="string")Al=!0;else if(Array.isArray(N)){var gh=N.concat();it=[];for(var yc,ra=gh.length;ra--;)(typeof(yc=gh.shift())!="string"||Array.isArray(yc)&&typeof yc[0]!="string")&&(Jo=!1);Al=Jo}if(Al===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var mu=Xe/Lr.internal.scaleFactor,gu=mu*(gc-1);switch(ve.baseline){case"bottom":de-=gu;break;case"top":de+=mu-gu;break;case"hanging":de+=mu-2*gu;break;case"middle":de+=mu/2-gu}if((Tn=ve.maxWidth||0)>0&&(typeof N=="string"?N=Lr.splitTextToSize(N,Tn):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(or,Zn){return or.concat(Lr.splitTextToSize(Zn,Tn))},[]))),Ve={text:N,x:X,y:de,options:ve,mutex:{pdfEscape:Zr,activeFontKey:tt,fonts:At,activeFontSize:Xe}},Un.publish("preProcessText",Ve),N=Ve.text,Mt=(ve=Ve.options).angle,wi instanceof Zt==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,ve.rotationDirection===0&&(Mt=-Mt),O===E&&(Mt=-Mt);var Rd=Math.cos(Mt),Ol=Math.sin(Mt);wi=new Zt(Rd,Ol,-Ol,Rd,0,0)}else Mt&&Mt instanceof Zt&&(wi=Mt);O!==E||wi||(wi=qs),(gn=ve.charSpace||go)!==void 0&&(va+=$(K(gn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=ve.horizontalScale)!==void 0&&(va+=$(100*ei)+` Tz
`),ve.lang;var is=-1,bc=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Id=Lr.internal.getCurrentPageInfo().pageContext;switch(bc){case 0:case!1:case"fill":is=0;break;case 1:case!0:case"stroke":is=1;break;case 2:case"fillThenStroke":is=2;break;case 3:case"invisible":is=3;break;case 4:case"fillAndAddForClipping":is=4;break;case 5:case"strokeAndAddPathForClipping":is=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":is=6;break;case 7:case"addToPathForClipping":is=7}var fp=Id.usedRenderingMode!==void 0?Id.usedRenderingMode:-1;is!==-1?va+=is+` Tr
`:fp!==-1&&(va+=`0 Tr
`),is!==-1&&(Id.usedRenderingMode=is),Kt=ve.align||"left";var Ys,Zo=Xe*gc,xc=Lr.internal.pageSize.getWidth(),pp=At[tt];gn=ve.charSpace||go,Tn=ve.maxWidth||0,Jn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Qo=[],vu=function(or){return Lr.getStringUnitWidth(or,{font:pp,charSpace:gn,fontSize:Xe,doKerning:!1})*Xe/Xo};if(Object.prototype.toString.call(N)==="[object Array]"){var _s;it=dp(N),Kt!=="left"&&(Ys=it.map(vu));var as,Pl=0;if(Kt==="right"){X-=Ys[0],N=[],ra=it.length;for(var Nl=0;Nl<ra;Nl++)Nl===0?(as=Gs(X),_s=ga(de)):(as=K(Pl-Ys[Nl]),_s=-Zo),N.push([it[Nl],as,_s]),Pl=Ys[Nl]}else if(Kt==="center"){X-=Ys[0]/2,N=[],ra=it.length;for(var wc=0;wc<ra;wc++)wc===0?(as=Gs(X),_s=ga(de)):(as=K((Pl-Ys[wc])/2),_s=-Zo),N.push([it[wc],as,_s]),Pl=Ys[wc]}else if(Kt==="left"){N=[],ra=it.length;for(var jd=0;jd<ra;jd++)N.push(it[jd])}else if(Kt==="justify"&&pp.encoding==="Identity-H"){N=[],ra=it.length,Tn=Tn!==0?Tn:xc;for(var Dd=0,Si=0;Si<ra;Si++)if(_s=Si===0?ga(de):-Zo,as=Si===0?Gs(X):Dd,Si<ra-1){var Qm=K((Tn-Ys[Si])/(it[Si].split(" ").length-1)),Ll=it[Si].split(" ");N.push([Ll[0]+" ",as,_s]),Dd=0;for(var Ml=1;Ml<Ll.length;Ml++){var ya=(vu(Ll[Ml-1]+" "+Ll[Ml])-vu(Ll[Ml]))*Xo+Qm;Ml==Ll.length-1?N.push([Ll[Ml],ya,0]):N.push([Ll[Ml]+" ",ya,0]),Dd-=ya}}else N.push([it[Si],as,_s]);N.push(["",Dd,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],ra=it.length,Tn=Tn!==0?Tn:xc,Si=0;Si<ra;Si++){_s=Si===0?ga(de):-Zo,as=Si===0?Gs(X):0;var Sc=it[Si].split(" ").length-1,Bd=Sc>0?(Tn-Ys[Si])/Sc:0;Si<ra-1?Qo.push($(K(Bd))):Qo.push(0),N.push([it[Si],as,_s])}}}(typeof ve.R2L=="boolean"?ve.R2L:Gt)===!0&&(N=Md(N,function(or,Zn,Mr){return[or.split("").reverse().join(""),Zn,Mr]})),Ve={text:N,x:X,y:de,options:ve,mutex:{pdfEscape:Zr,activeFontKey:tt,fonts:At,activeFontSize:Xe}},Un.publish("postProcessText",Ve),N=Ve.text,Oi=Ve.mutex.isHex||!1;var Fd=At[tt].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(N=Md(N,function(or,Zn,Mr){return[vc(or),Zn,Mr]})),it=dp(N),N=[];for(var _c,kc,Rl,vh=Array.isArray(it[0])?1:0,Xs="",Cc=function(or,Zn,Mr){var _i="";return Mr instanceof Zt?(Mr=typeof ve.angle=="number"?$s(Mr,new Zt(1,0,0,1,or,Zn)):$s(new Zt(1,0,0,1,or,Zn),Mr),O===E&&(Mr=$s(new Zt(1,0,0,-1,0,0),Mr)),_i=Mr.join(" ")+` Tm
`):_i=$(or)+" "+$(Zn)+` Td
`,_i},Ua=0;Ua<it.length;Ua++){switch(Xs="",vh){case 1:Rl=(Oi?"<":"(")+it[Ua][0]+(Oi?">":")"),_c=parseFloat(it[Ua][1]),kc=parseFloat(it[Ua][2]);break;case 0:Rl=(Oi?"<":"(")+it[Ua]+(Oi?">":")"),_c=Gs(X),kc=ga(de)}Qo!==void 0&&Qo[Ua]!==void 0&&(Xs=Qo[Ua]+` Tw
`),Ua===0?N.push(Xs+Cc(_c,kc,wi)+Rl):vh===0?N.push(Xs+Rl):vh===1&&N.push(Xs+Cc(_c,kc,wi)+Rl)}N=vh===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var yo=`BT
/`;return yo+=tt+" "+Xe+` Tf
`,yo+=$(Xe*gc)+` TL
`,yo+=Tl+`
`,yo+=va,yo+=N,se(yo+="ET"),m[tt]=!0,Lr};var ip=p.__private__.clip=p.clip=function(N){return se(N==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ip("evenodd")},p.__private__.discardPath=p.discardPath=function(){return se("n"),this};var rs=p.__private__.isValidStyle=function(N){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(X=!0),X};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(N){return rs(N)&&(c=N),this};var ap=p.__private__.getStyle=p.getStyle=function(N){var X=c;switch(N){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=N}return X},sp=p.close=function(){return se("h"),this};p.stroke=function(){return se("S"),this},p.fill=function(N){return Ko("f",N),this},p.fillEvenOdd=function(N){return Ko("f*",N),this},p.fillStroke=function(N){return Ko("B",N),this},p.fillStrokeEvenOdd=function(N){return Ko("B*",N),this};var Ko=function(N,X){Pr(X)==="object"?Vm(X,N):se(N)},uh=function(N){N===null||O===E&&N===void 0||(N=ap(N),se(N))};function Wm(N,X,de,ve,Ee){var Ve=new o0(X||this.boundingBox,de||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);Ve.stream=this.stream;var it=N+"$$"+this.cloneIndex+++"$$";return Ba(it,Ve),Ve}var Vm=function(N,X){var de=Nn[N.key],ve=Ot[de];if(ve instanceof qp)se("q"),se(op(X)),ve.gState&&p.setGState(ve.gState),se(N.matrix.toString()+" cm"),se("/"+de+" sh"),se("Q");else if(ve instanceof o0){var Ee=new Zt(1,0,0,-1,0,mc());N.matrix&&(Ee=Ee.multiply(N.matrix||qs),de=Wm.call(ve,N.key,N.boundingBox,N.xStep,N.yStep,Ee).id),se("q"),se("/Pattern cs"),se("/"+de+" scn"),ve.gState&&p.setGState(ve.gState),se(X),se("Q")}},op=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lp=p.moveTo=function(N,X){return se($(K(N))+" "+$(H(X))+" m"),this},Gm=p.lineTo=function(N,X){return se($(K(N))+" "+$(H(X))+" l"),this},Ss=p.curveTo=function(N,X,de,ve,Ee,Ve){return se([$(K(N)),$(H(X)),$(K(de)),$(H(ve)),$(K(Ee)),$(H(Ve)),"c"].join(" ")),this};p.__private__.line=p.line=function(N,X,de,ve,Ee){if(isNaN(N)||isNaN(X)||isNaN(de)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return O===C?this.lines([[de-N,ve-X]],N,X,[1,1],Ee||"S"):this.lines([[de-N,ve-X]],N,X,[1,1]).stroke()},p.__private__.lines=p.lines=function(N,X,de,ve,Ee,Ve){var it,Mt,Kt,gn,Tn,Jn,ei,wi,Lr,Wi,Oi,va;if(typeof N=="number"&&(va=de,de=X,X=N,N=va),ve=ve||[1,1],Ve=Ve||!1,isNaN(X)||isNaN(de)||!Array.isArray(N)||!Array.isArray(ve)||!rs(Ee)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lp(X,de),it=ve[0],Mt=ve[1],gn=N.length,Wi=X,Oi=de,Kt=0;Kt<gn;Kt++)(Tn=N[Kt]).length===2?(Wi=Tn[0]*it+Wi,Oi=Tn[1]*Mt+Oi,Gm(Wi,Oi)):(Jn=Tn[0]*it+Wi,ei=Tn[1]*Mt+Oi,wi=Tn[2]*it+Wi,Lr=Tn[3]*Mt+Oi,Wi=Tn[4]*it+Wi,Oi=Tn[5]*Mt+Oi,Ss(Jn,ei,wi,Lr,Wi,Oi));return Ve&&sp(),uh(Ee),this},p.path=function(N){for(var X=0;X<N.length;X++){var de=N[X],ve=de.c;switch(de.op){case"m":lp(ve[0],ve[1]);break;case"l":Gm(ve[0],ve[1]);break;case"c":Ss.apply(this,ve);break;case"h":sp()}}return this},p.__private__.rect=p.rect=function(N,X,de,ve,Ee){if(isNaN(N)||isNaN(X)||isNaN(de)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return O===C&&(ve=-ve),se([$(K(N)),$(H(X)),$(K(de)),$(K(ve)),"re"].join(" ")),uh(Ee),this},p.__private__.triangle=p.triangle=function(N,X,de,ve,Ee,Ve,it){if(isNaN(N)||isNaN(X)||isNaN(de)||isNaN(ve)||isNaN(Ee)||isNaN(Ve)||!rs(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-N,ve-X],[Ee-de,Ve-ve],[N-Ee,X-Ve]],N,X,[1,1],it,!0),this},p.__private__.roundedRect=p.roundedRect=function(N,X,de,ve,Ee,Ve,it){if(isNaN(N)||isNaN(X)||isNaN(de)||isNaN(ve)||isNaN(Ee)||isNaN(Ve)||!rs(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*de),Ve=Math.min(Ve,.5*ve),this.lines([[de-2*Ee,0],[Ee*Mt,0,Ee,Ve-Ve*Mt,Ee,Ve],[0,ve-2*Ve],[0,Ve*Mt,-Ee*Mt,Ve,-Ee,Ve],[2*Ee-de,0],[-Ee*Mt,0,-Ee,-Ve*Mt,-Ee,-Ve],[0,2*Ve-ve],[0,-Ve*Mt,Ee*Mt,-Ve,Ee,-Ve]],N+Ee,X,[1,1],it,!0),this},p.__private__.ellipse=p.ellipse=function(N,X,de,ve,Ee){if(isNaN(N)||isNaN(X)||isNaN(de)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*de,it=4/3*(Math.SQRT2-1)*ve;return lp(N+de,X),Ss(N+de,X-it,N+Ve,X-ve,N,X-ve),Ss(N-Ve,X-ve,N-de,X-it,N-de,X),Ss(N-de,X+it,N-Ve,X+ve,N,X+ve),Ss(N+Ve,X+ve,N+de,X+it,N+de,X),uh(Ee),this},p.__private__.circle=p.circle=function(N,X,de,ve){if(isNaN(N)||isNaN(X)||isNaN(de)||!rs(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,X,de,de,ve)},p.setFont=function(N,X,de){return de&&(X=B(X,de)),tt=qm(N,X,{disableWarning:!1}),this};var Yo=p.__private__.getFont=p.getFont=function(){return At[qm.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var N,X,de={};for(N in It)if(It.hasOwnProperty(N))for(X in de[N]=[],It[N])It[N].hasOwnProperty(X)&&de[N].push(X);return de},p.addFont=function(N,X,de,ve,Ee){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(de=B(de,ve)),Ei.call(this,N,X,de,Ee=Ee||"Identity-H")};var cc,hh=t.lineWidth||.200025,pu=p.__private__.getLineWidth=p.getLineWidth=function(){return hh},hn=p.__private__.setLineWidth=p.setLineWidth=function(N){return hh=N,se($(K(N))+" w"),this};p.__private__.setLineDash=en.API.setLineDash=en.API.setLineDashPattern=function(N,X){if(N=N||[],X=X||0,isNaN(X)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(de){return $(K(de))}).join(" "),X=$(K(X)),se("["+N+"] "+X+" d"),this};var Km=p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*cc};p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*cc};var cp=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(cc=N),this},Ym=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return cc};cp(t.lineHeight);var Gs=p.__private__.getHorizontalCoordinate=function(N){return K(N)},ga=p.__private__.getVerticalCoordinate=function(N){return O===E?N:jt[F].mediaBox.topRightY-jt[F].mediaBox.bottomLeftY-K(N)},up=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(N){return $(Gs(N))},dh=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(N){return $(ga(N))},Ks=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Xn(Ks)},p.__private__.setStrokeColor=p.setDrawColor=function(N,X,de,ve){return Ks=qi({ch1:N,ch2:X,ch3:de,ch4:ve,pdfColorType:"draw",precision:2}),se(Ks),this};var fh=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Xn(fh)},p.__private__.setFillColor=p.setFillColor=function(N,X,de,ve){return fh=qi({ch1:N,ch2:X,ch3:de,ch4:ve,pdfColorType:"fill",precision:2}),se(fh),this};var Tl=t.textColor||"0 g",Xm=p.__private__.getTextColor=p.getTextColor=function(){return Xn(Tl)};p.__private__.setTextColor=p.setTextColor=function(N,X,de,ve){return Tl=qi({ch1:N,ch2:X,ch3:de,ch4:ve,pdfColorType:"text",precision:3}),this};var go=t.charSpace,Pd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(go||0)};p.__private__.setCharSpace=p.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return go=N,this};var Nd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(N){var X=p.CapJoinStyles[N];if(X===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nd=X,se(X+" J"),this};var na=0;p.__private__.setLineJoin=p.setLineJoin=function(N){var X=p.CapJoinStyles[N];if(X===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=X,se(X+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se($(K(N))+" M"),this},p.GState=CS,p.setGState=function(N){(N=typeof N=="string"?ln[cn[N]]:El(null,N)).equals(er)||(se("/"+N.id+" gs"),er=N)};var El=function(N,X){if(!N||!cn[N]){var de=!1;for(var ve in ln)if(ln.hasOwnProperty(ve)&&ln[ve].equals(X)){de=!0;break}if(de)X=ln[ve];else{var Ee="GS"+(Object.keys(ln).length+1).toString(10);ln[Ee]=X,X.id=Ee}return N&&(cn[N]=X.id),Un.publish("addGState",X),X}};p.addGState=function(N,X){return El(N,X),this},p.saveGraphicsState=function(){return se("q"),Jt.push({key:tt,size:Xe,color:Tl}),this},p.restoreGraphicsState=function(){se("Q");var N=Jt.pop();return tt=N.key,Xe=N.size,Tl=N.color,er=null,this},p.setCurrentTransformationMatrix=function(N){return se(N.toString()+" cm"),this},p.comment=function(N){return se("#"+N),this};var vo=function(N,X){var de=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Ve){isNaN(Ve)||(de=parseFloat(Ve))}});var ve=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Ve){Ee=Ve.toString()}}),this},uc=function(N,X,de,ve){vo.call(this,N,X),this.type="rect";var Ee=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(it){isNaN(it)||(Ee=parseFloat(it))}});var Ve=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(it){isNaN(it)||(Ve=parseFloat(it))}}),this},Ld=function(){this.page=kn,this.currentPage=F,this.pages=Fe.slice(0),this.pagesContext=jt.slice(0),this.x=ht,this.y=Pn,this.matrix=Wt,this.width=dc(F),this.height=hp(F),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ld.prototype.restore=function(){kn=this.page,F=this.currentPage,jt=this.pagesContext,Fe=this.pages,ht=this.x,Pn=this.y,Wt=this.matrix,mh(F,this.width),fc(F,this.height),nt=this.outputDestination};var ph=function(N,X,de,ve,Ee){ws.push(new Ld),kn=F=0,Fe=[],ht=N,Pn=X,Wt=Ee,ta([de,ve])};for(var hc in p.beginFormObject=function(N,X,de,ve,Ee){return ph(N,X,de,ve,Ee),this},p.endFormObject=function(N){return(function(X){if(ma[X])ws.pop().restore();else{var de=new Ld,ve="Xo"+(Object.keys(jn).length+1).toString(10);de.id=ve,ma[X]=ve,jn[ve]=de,Un.publish("addFormObject",de),ws.pop().restore()}})(N),this},p.doFormObject=function(N,X){var de=jn[ma[N]];return se("q"),se(X.toString()+" cm"),se("/"+de.id+" Do"),se("Q"),this},p.getFormObject=function(N){var X=jn[ma[N]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},p.save=function(N,X){return N=N||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Dp(fu(Cl()),N),typeof Dp.unload=="function"&&wn.setTimeout&&setTimeout(Dp.unload,911),this):new Promise(function(de,ve){try{var Ee=Dp(fu(Cl()),N);typeof Dp.unload=="function"&&wn.setTimeout&&setTimeout(Dp.unload,911),de(Ee)}catch(Ve){ve(Ve.message)}})},en.API)en.API.hasOwnProperty(hc)&&(hc==="events"&&en.API.events.length?(function(N,X){var de,ve,Ee;for(Ee=X.length-1;Ee!==-1;Ee--)de=X[Ee][0],ve=X[Ee][1],N.subscribe.apply(N,[de].concat(typeof ve=="function"?[ve]:ve))})(Un,en.API.events):p[hc]=en.API[hc]);function dc(N){return jt[N].mediaBox.topRightX-jt[N].mediaBox.bottomLeftX}function mh(N,X){jt[N].mediaBox.topRightX=X+jt[N].mediaBox.bottomLeftX}function hp(N){return jt[N].mediaBox.topRightY-jt[N].mediaBox.bottomLeftY}function fc(N,X){jt[N].mediaBox.topRightY=X+jt[N].mediaBox.bottomLeftY}var pc=p.getPageWidth=function(N){return dc(N=N||F)/pt},Jm=p.setPageWidth=function(N,X){mh(N,X*pt)},mc=p.getPageHeight=function(N){return hp(N=N||F)/pt},Zm=p.setPageHeight=function(N,X){fc(N,X*pt)};return p.internal={pdfEscape:Zr,getStyle:ap,getFont:Yo,getFontSize:xt,getCharSpace:Pd,getTextColor:Xm,getLineHeight:Km,getLineHeightFactor:Ym,getLineWidth:pu,write:lt,getHorizontalCoordinate:Gs,getVerticalCoordinate:ga,getCoordinateString:up,getVerticalCoordinateString:dh,collections:{},newObject:zn,newAdditionalObject:Vo,newObjectDeferred:wr,newObjectDeferredBegin:xi,getFilters:Fa,putStream:ts,events:Un,scaleFactor:pt,pageSize:{getWidth:function(){return pc(F)},setWidth:function(N){Jm(F,N)},getHeight:function(){return mc(F)},setHeight:function(N){Zm(F,N)}},encryptionOptions:u,encryption:Hi,getEncryptor:function(N){return u!==null?Hi.encryptor(N,0):function(X){return X}},output:rp,getNumberOfPages:du,get pages(){return Fe},out:se,f2:M,f3:I,getPageInfo:Ai,getPageInfoByObjId:Od,getCurrentPageInfo:Hm,getPDFVersion:b,Point:vo,Rectangle:uc,Matrix:Zt,hasHotfix:ns},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pc(F)},set:function(N){Jm(F,N)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return mc(F)},set:function(N){Zm(F,N)},enumerable:!0,configurable:!0}),(function(N){for(var X=0,de=Tt.length;X<de;X++){var ve=Ei.call(this,N[X][0],N[X][1],N[X][2],Tt[X][3],!0);f===!1&&(m[ve]=!0);var Ee=N[X][0].split("-");Cn({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}Un.publish("addFonts",{fonts:At,dictionary:It})}).call(p,Tt),tt="F1",Ws(i,n),Un.publish("initialized"),p}e0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},e0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},e0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},e0.prototype.processOwnerPassword=function(t,e){return TP(CP(e).substr(0,5),t)},e0.prototype.encryptor=function(t,e){var n=CP(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return TP(n,r)}},CS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pr(t)!==Pr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},en.API={events:[]},en.version="4.0.0";var ji=en.API,a4=1,Fm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},An=function(t){return t.toFixed(2)},hf=function(t){return t.toFixed(5)};ji.__acroform__={};var qo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pB=function(t){return t*a4},Bu=function(t){var e=new bJ,n=Bt.internal.getHeight(t)||0,r=Bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(An(r)),Number(An(n))],e},$Ce=ji.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},qCe=ji.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},HCe=ji.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Xi=ji.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HCe(t,e-1)},Ji=ji.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $Ce(t,e-1)},Zi=ji.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qCe(t,e-1)},WCe=ji.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(An(l.lowerLeft_X)),Number(An(l.lowerLeft_Y)),Number(An(l.upperRight_X)),Number(An(l.upperRight_Y))]},VCe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=EP(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+An(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Bu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},EP=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var a=n,s=Bt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Bt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(M,I,K){if(M+1<i.length){var H=I+" "+i[M+1][0];return gw(H,t,K).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=gw("3",t,a).height,m=t.multiline?s-a:(s-f)/2,p=m+=2,v=0,b=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+gw(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var w="",C=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var O=!1;if(i[E].length!==1&&x!==i[E].length-1){if((f+2)*(C+2)+2>s)continue e;w+=i[E][x],O=!0,b=E,E--}else{w=(w+=i[E][x]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var P=parseInt(E),L=l(P,w,a),B=E>=i.length-1;if(L&&!B){w+=" ",x=0;continue}if(L||B){if(B)b=P;else if(t.multiline&&(f+2)*(C+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(C+2)+2>s)continue e;b=P}}for(var $="",U=v;U<=b;U++){var G=i[U];if(t.multiline){if(U===b){$+=G[x]+" ",x=(x+1)%G.length;continue}if(U===v){$+=G[G.length-1]+" ";continue}}$+=G[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,u=gw($,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=An(c)+" "+An(p)+` Td
`,e+="("+Fm($)+`) Tj
`,e+=-An(c)+` 0 Td
`,p=-(a+2),u=0,v=O?b:b+1,C++,w=""}break}return r.text=e,r.fontSize=a,r},gw=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},GCe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KCe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},YCe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(cu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(GCe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xJ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&KCe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=WCe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Bt.createDefaultAppearanceStream(o),Pr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=VCe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var v=p[s];typeof v=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&(function(b,x){for(var w in b)if(b.hasOwnProperty(w)){var C=w,E=b[w];x.internal.newObjectDeferredBegin(E.objId,!0),Pr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete b[C]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},yJ=ji.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Pr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Fm(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},BT=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Fm(r(t))+")"},Wu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wu.prototype.toString=function(){return this.objId+" 0 R"},Wu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Wu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:yJ(i,this.objId,this.scope)}):i instanceof Wu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var bJ=function(){Wu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qo(bJ,Wu);var xJ=function(){Wu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Fm(n(t))+")"}},set:function(n){t=n}})};qo(xJ,Wu);var cu=function t(){Wu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(w){w?this.F=Ji(e,3):this.F=Zi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof TS)return;a="FieldObject"+t.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Fm(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/a4:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof TS||this instanceof nm))return BT(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ya==0?BT(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Ya==0?w.substr(0,1)==="("?jg(w.substr(1,w.length-2)):jg(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ya==1?jg(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ya==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ya==0?BT(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Ya==0?w.substr(0,1)==="("?jg(w.substr(1,w.length-2)):jg(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ya==1?jg(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ya==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(w){w?this.Ff=Ji(this.Ff,1):this.Ff=Zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(w){w?this.Ff=Ji(this.Ff,2):this.Ff=Zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(w){w?this.Ff=Ji(this.Ff,3):this.Ff=Zi(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');x=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(x){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};qo(cu,Wu);var y0=function(){cu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yJ(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(n){n?this.Ff=Ji(this.Ff,18):this.Ff=Zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ji(this.Ff,19):this.Ff=Zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(n){n?(this.Ff=Ji(this.Ff,20),e.sort()):this.Ff=Zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(n){n?this.Ff=Ji(this.Ff,22):this.Ff=Zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(n){n?this.Ff=Ji(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(n){n?this.Ff=Ji(this.Ff,27):this.Ff=Zi(this.Ff,27)}}),this.hasAppearanceStream=!1};qo(y0,cu);var b0=function(){y0.call(this),this.fontName="helvetica",this.combo=!1};qo(b0,y0);var x0=function(){b0.call(this),this.combo=!0};qo(x0,b0);var s2=function(){x0.call(this),this.edit=!0};qo(s2,x0);var Ya=function(){cu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(n){n?this.Ff=Ji(this.Ff,15):this.Ff=Zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(n){n?this.Ff=Ji(this.Ff,16):this.Ff=Zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(n){n?this.Ff=Ji(this.Ff,17):this.Ff=Zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(n){n?this.Ff=Ji(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Fm(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Pr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qo(Ya,cu);var o2=function(){Ya.call(this),this.pushButton=!0};qo(o2,Ya);var w0=function(){Ya.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qo(w0,Ya);var TS=function(){var t,e;cu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Fm(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Pr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qo(TS,cu),w0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},w0.prototype.createOption=function(t){var e=new TS;return e.Parent=this,e.optionName=t,this.Kids.push(e),XCe.call(this.scope,e),e};var l2=function(){Ya.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};qo(l2,Ya);var nm=function(){cu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){e?this.Ff=Ji(this.Ff,13):this.Ff=Zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){e?this.Ff=Ji(this.Ff,21):this.Ff=Zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Ji(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){e?this.Ff=Ji(this.Ff,24):this.Ff=Zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){e?this.Ff=Ji(this.Ff,25):this.Ff=Zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Ji(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qo(nm,cu);var c2=function(){nm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(t){t?this.Ff=Ji(this.Ff,14):this.Ff=Zi(this.Ff,14)}}),this.password=!0};qo(c2,nm);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=EP(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+An(Bt.internal.getWidth(t))+" "+An(Bt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+An(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Bt.internal.getHeight(t),s=Bt.internal.getWidth(t),o=EP(t,t.caption);return i.push("1 g"),i.push("0 0 "+An(s)+" "+An(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+An(s-1)+" "+An(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+An(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+An(Bt.internal.getWidth(t))+" "+An(Bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Circle.YesNormal,e.D[t]=Bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Bt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+hf(Bt.internal.getWidth(t)/2)+" "+hf(Bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Bt.internal.Bezier_C).toFixed(5)),s=Number((r*Bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hf(Bt.internal.getWidth(t)/2)+" "+hf(Bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+hf(Bt.internal.getWidth(t)/2)+" "+hf(Bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hf(Bt.internal.getWidth(t)/2)+" "+hf(Bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Cross.YesNormal,e.D[t]=Bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var n=[],r=Bt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+An(Bt.internal.getWidth(t)-2)+" "+An(Bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(An(r.x1.x)+" "+An(r.x1.y)+" m"),n.push(An(r.x2.x)+" "+An(r.x2.y)+" l"),n.push(An(r.x4.x)+" "+An(r.x4.y)+" m"),n.push(An(r.x3.x)+" "+An(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=Bt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+An(Bt.internal.getWidth(t))+" "+An(Bt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+An(Bt.internal.getWidth(t)-2)+" "+An(Bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(An(n.x1.x)+" "+An(n.x1.y)+" m"),r.push(An(n.x2.x)+" "+An(n.x2.y)+" l"),r.push(An(n.x4.x)+" "+An(n.x4.y)+" m"),r.push(An(n.x3.x)+" "+An(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+An(Bt.internal.getWidth(t))+" "+An(Bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Bt.internal.getWidth(t),n=Bt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Bt.internal.getWidth=function(t){var e=0;return Pr(t)==="object"&&(e=pB(t.Rect[2])),e},Bt.internal.getHeight=function(t){var e=0;return Pr(t)==="object"&&(e=pB(t.Rect[3])),e};var XCe=ji.addField=function(t){if(YCe(this,t),!(t instanceof cu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ji.AcroFormChoiceField=y0,ji.AcroFormListBox=b0,ji.AcroFormComboBox=x0,ji.AcroFormEditBox=s2,ji.AcroFormButton=Ya,ji.AcroFormPushButton=o2,ji.AcroFormRadioButton=w0,ji.AcroFormCheckBox=l2,ji.AcroFormTextField=nm,ji.AcroFormPasswordField=c2,ji.AcroFormAppearance=Bt,ji.AcroForm={ChoiceField:y0,ListBox:b0,ComboBox:x0,EditBox:s2,Button:Ya,PushButton:o2,RadioButton:w0,CheckBox:l2,TextField:nm,PasswordField:c2,Appearance:Bt},en.AcroForm={ChoiceField:y0,ListBox:b0,ComboBox:x0,EditBox:s2,Button:Ya,PushButton:o2,RadioButton:w0,CheckBox:l2,TextField:nm,PasswordField:c2,Appearance:Bt};en.AcroForm;function wJ(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(M,I){var K,H,J,W,Q,ee=n;if((I=I||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(L(M))for(Q in r)for(J=r[Q],K=0;K<J.length;K+=1){for(W=!0,H=0;H<J[K].length;H+=1)if(J[K][H]!==void 0&&J[K][H]!==M[H]){W=!1;break}if(W===!0){ee=Q;break}}else for(Q in r)for(J=r[Q],K=0;K<J.length;K+=1){for(W=!0,H=0;H<J[K].length;H+=1)if(J[K][H]!==void 0&&J[K][H]!==M.charCodeAt(H)){W=!1;break}if(W===!0){ee=Q;break}}return ee===n&&I!==n&&(ee=I),ee},a=function M(I){for(var K=this.internal.write,H=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:I.width}),W.push({key:"Height",value:I.height}),I.colorSpace===w.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===w.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Q="",ee=0,he=I.transparency.length;ee<he;ee++)Q+=I.transparency[ee]+" "+I.transparency[ee]+" ";W.push({key:"Mask",value:"["+Q+"]"})}I.sMask!==void 0&&W.push({key:"SMask",value:I.objectId+1+" 0 R"});var Y=I.filter!==void 0?["/"+I.filter]:void 0;if(H({data:I.data,additionalKeyValues:W,alreadyAppliedFilters:Y,objectId:I.objectId}),K("endobj"),"sMask"in I&&I.sMask!==void 0){var ye,V=(ye=I.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:I.bitsPerComponent,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:I.sMask};"filter"in I&&(F.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(I.width),F.filter=I.filter),M.call(this,F)}if(I.colorSpace===w.INDEXED){var ae=this.internal.newObject();H({data:$(new Uint8Array(I.palette)),objectId:ae}),K("endobj")}},s=function(){var M=this.internal.collections[e+"images"];for(var I in M)a.call(this,M[I])},o=function(){var M,I=this.internal.collections[e+"images"],K=this.internal.write;for(var H in I)K("/I"+(M=I[H]).index,M.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var M=this.internal.collections[e+"images"];return l.call(this),M},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(M){return typeof t["process"+M.toUpperCase()]=="function"},m=function(M){return Pr(M)==="object"&&M.nodeType===1},p=function(M,I){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var K=""+M.getAttribute("src");if(K.indexOf("data:image/")===0)return a2(unescape(K).split("base64,").pop());var H=t.loadFile(K,!0);if(H!==void 0)return H}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var J;switch(I){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return a2(M.toDataURL(J,1).split("base64,").pop())}},v=function(M){var I=this.internal.collections[e+"images"];if(I){for(var K in I)if(M===I[K].alias)return I[K]}},b=function(M,I,K){return M||I||(M=-96,I=-96),M<0&&(M=-1*K.width*72/M/this.internal.scaleFactor),I<0&&(I=-1*K.height*72/I/this.internal.scaleFactor),M===0&&(M=I*K.width/K.height),I===0&&(I=M*K.height/K.width),[M,I]},x=function(M,I,K,H,J,W){var Q=b.call(this,K,H,J),ee=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,Y=c.call(this);if(K=Q[0],H=Q[1],Y[J.index]=J,W){W*=Math.PI/180;var ye=Math.cos(W),V=Math.sin(W),F=function(le){return le.toFixed(4)},ae=[F(ye),F(V),F(-1*V),F(ye),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ee(M),he(I+H),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ee(K),"0","0",ee(H),"0","0","cm"].join(" "))):this.internal.write([ee(K),"0","0",ee(H),ee(M),he(I+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(M){var I,K,H=0;if(typeof M=="string")for(K=M.length,I=0;I<K;I++)H=(H<<5)-H+M.charCodeAt(I),H|=0;else if(L(M))for(K=M.byteLength/2,I=0;I<K;I++)H=(H<<5)-H+M[I],H|=0;return H},O=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var I=!0;return M.length===0&&(I=!1),M.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(I=!1),I},P=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var I=M.indexOf(",");return I<0?null:M.substring(0,I).trim().endsWith("base64")?M.substring(I+1):null};t.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(M){for(var I=M.length,K=new Uint8Array(I),H=0;H<I;H++)K[H]=M.charCodeAt(H);return K},$=t.__addimage__.arrayBufferToBinaryString=function(M){for(var I="",K=L(M)?M:new Uint8Array(M),H=0;H<K.length;H+=8192)I+=String.fromCharCode.apply(null,K.subarray(H,H+8192));return I};t.addImage=function(){var M,I,K,H,J,W,Q,ee,he;if(typeof arguments[1]=="number"?(I=n,K=arguments[1],H=arguments[2],J=arguments[3],W=arguments[4],Q=arguments[5],ee=arguments[6],he=arguments[7]):(I=arguments[1],K=arguments[2],H=arguments[3],J=arguments[4],W=arguments[5],Q=arguments[6],ee=arguments[7],he=arguments[8]),Pr(M=arguments[0])==="object"&&!m(M)&&"imageData"in M){var Y=M;M=Y.imageData,I=Y.format||I||n,K=Y.x||K||0,H=Y.y||H||0,J=Y.w||Y.width||J,W=Y.h||Y.height||W,Q=Y.alias||Q,ee=Y.compression||ee,he=Y.rotation||Y.angle||he}var ye=this.internal.getFilters();if(ee===void 0&&ye.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(K)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=U.call(this,M,I,Q,ee);return x.call(this,K,H,J,W,V,he),this};var U=function(M,I,K,H){var J,W,Q;if(typeof M=="string"&&i(M)===n){M=unescape(M);var ee=G(M,!1);(ee!==""||(ee=t.loadFile(M,!0))!==void 0)&&(M=ee)}if(m(M)&&(M=p(M,I)),I=i(M,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Q=K)==null||Q.length===0)&&(K=(function(he){return typeof he=="string"||L(he)?E(he):L(he.data)?E(he.data):null})(M)),(J=v.call(this,K))||(M instanceof Uint8Array||I==="RGBA"||(W=M,M=B(M)),J=this["process"+I.toUpperCase()](M,u.call(this),K,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in t.image_compression?he:C.NONE})(H),W)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},G=t.__addimage__.convertBase64ToBinaryString=function(M,I){I=typeof I!="boolean"||I;var K,H="";if(typeof M=="string"){var J;K=(J=P(M))!==null&&J!==void 0?J:M;try{H=a2(K)}catch(W){if(I)throw O(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(M){var I,K,H="";if(m(M)&&(M=p(M)),typeof M=="string"&&i(M)===n&&((H=G(M,!1))===""&&(H=t.loadFile(M)||""),M=H),K=i(M),!f(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(M instanceof Uint8Array||(M=B(M)),!(I=this["process"+K.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=K,I}})(en.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};en.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(w(C))+") >>",b.content=a;var E=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(b.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var L=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(en.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var x=0,w=n,C="",E=0;for(x=0;x<b.length;x+=1)w[b.charCodeAt(x)]!==void 0?(E++,typeof(w=w[b.charCodeAt(x)])=="number"&&(C+=String.fromCharCode(w),w=n,E=0),x===b.length-1&&(w=n,C+=b.charAt(x-(E-1)),x-=E-1,E=0)):(w=n,C+=b.charAt(x-E),x-=E,E=0);return C};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,x,w){return s(b)?a(b)===!1?-1:!c(b)||!s(x)&&!s(w)||!s(w)&&o(x)||o(b)&&!s(x)||o(b)&&l(x)||o(b)&&o(x)?0:u(b)&&s(x)&&!o(x)&&s(w)&&c(w)?3:o(b)||!s(w)?1:2:-1},p=function(b){var x=0,w=0,C=0,E="",O="",P="",L=(b=b||"").split("\\s+"),B=[];for(x=0;x<L.length;x+=1){for(B.push(""),w=0;w<L[x].length;w+=1)E=L[x][w],O=L[x][w-1],P=L[x][w+1],s(E)?(C=m(E,O,P),B[x]+=C!==-1?String.fromCharCode(e[E.charCodeAt(0)][C]):E):B[x]+=E;B[x]=f(B[x])}return B.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(x)){var C=0;for(w=[],C=0;C<x.length;C+=1)Array.isArray(x[C])?w.push([p(x[C][0]),x[C][1],x[C][2]]):w.push([p(x[C])]);b=w}else b=p(x);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])})(en.API),en.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(en.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,v=0,b=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,O){return E.concat(x.splitTextToSize(O,w))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)p<(b=this.getStringUnitWidth(l[C],{font:f})*u)&&(p=b);return p!==0&&(v=l.length),{w:p/=m,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,m){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,v,b,x,w=[],C=[],E=[],O={},P={},L=[],B=[],$=(m=m||{}).autoSize||!1,U=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,M=m.margins||Object.assign({width:this.getPageWidth()},e),I=typeof m.padding=="number"?m.padding:3,K=m.headerBackgroundColor||"#c8c8c8",H=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=H,this.setFontSize(G),f==null)C=w=Object.keys(u[0]),E=w.map(function(){return"left"});else if(Array.isArray(f)&&Pr(f[0])==="object")for(w=f.map(function(Y){return Y.name}),C=f.map(function(Y){return Y.prompt||Y.name||""}),E=f.map(function(Y){return Y.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(C=w=f,E=w.map(function(){return"left"}));if($||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(O[x=w[p]]=u.map(function(Y){return Y[x]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=O[x],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)L.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[x]=Math.max.apply(null,L)+I+I,L=[]}if(U){var J={};for(p=0;p<w.length;p+=1)J[w[p]]={},J[w[p]].text=C[p],J[w[p]].align=E[p];var W=o.call(this,J,P);B=w.map(function(Y){return new a(l,c,P[Y],W,J[Y].text,void 0,J[Y].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var Q=f.reduce(function(Y,ye){return Y[ye.name]=ye.align,Y},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var ee=o.call(this,u[p],P);for(b=0;b<w.length;b+=1){var he=u[p][w[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:he},this),s.call(this,new a(l,c,P[w[b]],ee,he,p+2,Q[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(en.API);var SJ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_J=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],AP=wJ(_J),kJ=[100,200,300,400,500,600,700,800,900],JCe=wJ(kJ);function FT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return SJ[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof AP[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function mB(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ZCe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function yB(t){return t.trimLeft()}function QCe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function e5e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var vw,bB,xB,Dg,yw,wB,SB,_B,UT=["times"];function kB(t,e,n,r,i){var a=4,s=TB;switch(i){case en.API.image_compression.FAST:a=1,s=CB;break;case en.API.image_compression.MEDIUM:a=6,s=EB;break;case en.API.image_compression.SLOW:a=9,s=AB}t=(function(l,c,u,f){for(var m,p=l.length/c,v=new Uint8Array(l.length+p),b=[t5e,CB,TB,EB,AB],x=0;x<p;x+=1){var w=x*c,C=l.subarray(w,w+c);if(f)v.set(f(C,u,m),w+x);else{for(var E=b.length,O=[],P=0;P<E;P+=1)O[P]=b[P](C,u,m);var L=r5e(O.concat());v.set(O[L],w+x)}m=C}return v})(t,e,Math.ceil(n*r/8),s);var o=wP(t,{level:a});return en.API.__addimage__.arrayBufferToBinaryString(o)}function t5e(t){var e=Array.apply([],t);return e.unshift(0),e}function CB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function TB(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function EB(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function AB(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=n5e(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function n5e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function r5e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function zT(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return CJ(t,i)>>a&s}function OB(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var m=f>>8&255;c.setUint8(u,m)}})(t,a,CJ(t,a)&~(o<<s)&65535|l)}function CJ(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function i5e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,m=null,p=0,v=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,O=t[e++],P=O>>6&1,L=1<<1+(7&O),B=o,$=l,U=!1;O>>7&&(U=!0,B=e,$=L,e+=3*L);var G=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}u.push({x,y:w,width:C,height:E,has_local_palette:U,palette_offset:B,palette_size:$,data_offset:G,data_length:e-G,transparent_index:m,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,K){var H=this.frameInfo(I),J=H.width*H.height,W=new Uint8Array(J);PB(t,H.data_offset,W,J);var Q=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var he=H.width,Y=n-he,ye=he,V=4*(H.y*n+H.x),F=4*((H.y+H.height)*n+H.x),ae=V,le=4*Y;H.interlaced===!0&&(le+=4*n*7);for(var pe=8,xe=0,Oe=W.length;xe<Oe;++xe){var fe=W[xe];if(ye===0&&(ye=he,(ae+=le)>=F&&(le=4*Y+4*n*(pe-1),ae=V+(he+Y)*(pe<<1),pe>>=1)),fe===ee)ae+=4;else{var Ce=t[Q+3*fe],Fe=t[Q+3*fe+1],Te=t[Q+3*fe+2];K[ae++]=Te,K[ae++]=Fe,K[ae++]=Ce,K[ae++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(I,K){var H=this.frameInfo(I),J=H.width*H.height,W=new Uint8Array(J);PB(t,H.data_offset,W,J);var Q=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var he=H.width,Y=n-he,ye=he,V=4*(H.y*n+H.x),F=4*((H.y+H.height)*n+H.x),ae=V,le=4*Y;H.interlaced===!0&&(le+=4*n*7);for(var pe=8,xe=0,Oe=W.length;xe<Oe;++xe){var fe=W[xe];if(ye===0&&(ye=he,(ae+=le)>=F&&(le=4*Y+4*n*(pe-1),ae=V+(he+Y)*(pe<<1),pe>>=1)),fe===ee)ae+=4;else{var Ce=t[Q+3*fe],Fe=t[Q+3*fe+1],Te=t[Q+3*fe+2];K[ae++]=Ce,K[ae++]=Fe,K[ae++]=Te,K[ae++]=255}--ye}}}function PB(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,m=0,p=t[e++],v=new Int32Array(4096),b=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var w=x<o?x:b,C=0,E=w;E>a;)E=v[E]>>8,++C;var O=E;if(m+C+(w!==x?1:0)>r)return void qr.log("Warning, gif stream longer than expected.");n[m++]=O;var P=m+=C;for(w!==x&&(n[m++]=O),E=w;C--;)E=v[E],n[--P]=255&E,E>>=8;b!==null&&o<4096&&(v[o++]=b<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=x}else o=s+1,c=(1<<(l=i+1))-1,b=null}return m!==r&&qr.log("Warning, gif stream shorter than expected."),n}function $T(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),b=[],x=0,w=7,C=new Array(64),E=new Array(64),O=new Array(64),P=new Array(256),L=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(V,F){for(var ae=0,le=0,pe=new Array,xe=1;xe<=16;xe++){for(var Oe=1;Oe<=V[xe];Oe++)pe[F[le]]=[],pe[F[le]][0]=ae,pe[F[le]][1]=xe,le++,ae++;ae*=2}return pe}function Q(V){for(var F=V[0],ae=V[1]-1;ae>=0;)F&1<<ae&&(x|=1<<w),ae--,--w<0&&(x==255?(ee(255),ee(0)):ee(x),w=7,x=0)}function ee(V){b.push(V)}function he(V){ee(V>>8&255),ee(255&V)}function Y(V,F,ae,le,pe){for(var xe,Oe=pe[0],fe=pe[240],Ce=(function(Xe,Lt){var xt,Gt,Ht,st,mt,_e,De,et,tt,pt,ht=0;for(tt=0;tt<8;++tt){xt=Xe[ht],Gt=Xe[ht+1],Ht=Xe[ht+2],st=Xe[ht+3],mt=Xe[ht+4],_e=Xe[ht+5],De=Xe[ht+6];var Pn=xt+(et=Xe[ht+7]),Wt=xt-et,At=Gt+De,It=Gt-De,Jt=Ht+_e,Ot=Ht-_e,Nn=st+mt,ln=st-mt,cn=Pn+Nn,er=Pn-Nn,kn=At+Jt,jt=At-Jt;Xe[ht]=cn+kn,Xe[ht+4]=cn-kn;var Un=.707106781*(jt+er);Xe[ht+2]=er+Un,Xe[ht+6]=er-Un;var zs=.382683433*((cn=ln+Ot)-(jt=It+Wt)),jn=.5411961*cn+zs,ma=1.306562965*jt+zs,ws=.707106781*(kn=Ot+It),Zt=Wt+ws,$s=Wt-ws;Xe[ht+5]=$s+jn,Xe[ht+3]=$s-jn,Xe[ht+1]=Zt+ma,Xe[ht+7]=Zt-ma,ht+=8}for(ht=0,tt=0;tt<8;++tt){xt=Xe[ht],Gt=Xe[ht+8],Ht=Xe[ht+16],st=Xe[ht+24],mt=Xe[ht+32],_e=Xe[ht+40],De=Xe[ht+48];var qs=xt+(et=Xe[ht+56]),Ba=xt-et,es=Gt+De,zn=Gt-De,wr=Ht+_e,xi=Ht-_e,Vo=st+mt,$i=st-mt,hr=qs+Vo,Xn=qs-Vo,qi=es+wr,Fa=es-wr;Xe[ht]=hr+qi,Xe[ht+32]=hr-qi;var ts=.707106781*(Fa+Xn);Xe[ht+16]=Xn+ts,Xe[ht+48]=Xn-ts;var kl=.382683433*((hr=$i+xi)-(Fa=zn+Ba)),Hs=.5411961*hr+kl,Et=1.306562965*Fa+kl,be=.707106781*(qi=xi+zn),ot=Ba+be,wt=Ba-be;Xe[ht+40]=wt+Hs,Xe[ht+24]=wt-Hs,Xe[ht+8]=ot+Et,Xe[ht+56]=ot-Et,ht++}for(tt=0;tt<64;++tt)pt=Xe[tt]*Lt[tt],p[tt]=pt>0?pt+.5|0:pt-.5|0;return p})(V,F),Fe=0;Fe<64;++Fe)v[B[Fe]]=Ce[Fe];var Te=v[0]-ae;ae=v[0],Te==0?Q(le[0]):(Q(le[m[xe=32767+Te]]),Q(f[xe]));for(var nt=63;nt>0&&v[nt]==0;)nt--;if(nt==0)return Q(Oe),ae;for(var rt,se=1;se<=nt;){for(var lt=se;v[se]==0&&se<=nt;)++se;var Xt=se-lt;if(Xt>=16){rt=Xt>>4;for(var Tt=1;Tt<=rt;++Tt)Q(fe);Xt&=15}xe=32767+v[se],Q(pe[(Xt<<4)+m[xe]]),Q(f[xe]),se++}return nt!=63&&Q(Oe),ae}function ye(V){V=Math.min(Math.max(V,1),100),a!=V&&((function(F){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var pe=s((ae[le]*F+50)/100);pe=Math.min(Math.max(pe,1),255),o[B[le]]=pe}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var fe=s((xe[Oe]*F+50)/100);fe=Math.min(Math.max(fe,1),255),l[B[Oe]]=fe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Te=0;Te<8;Te++)for(var nt=0;nt<8;nt++)c[Fe]=1/(o[B[Fe]]*Ce[Te]*Ce[nt]*8),u[Fe]=1/(l[B[Fe]]*Ce[Te]*Ce[nt]*8),Fe++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,F){F&&ye(F),b=new Array,x=0,w=7,he(65496),he(65504),he(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),he(1),he(1),ee(0),ee(0),(function(){he(65499),he(132),ee(0);for(var Gt=0;Gt<64;Gt++)ee(o[Gt]);ee(1);for(var Ht=0;Ht<64;Ht++)ee(l[Ht])})(),(function(Gt,Ht){he(65472),he(17),ee(8),he(Ht),he(Gt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(V.width,V.height),(function(){he(65476),he(418),ee(0);for(var Gt=0;Gt<16;Gt++)ee($[Gt+1]);for(var Ht=0;Ht<=11;Ht++)ee(U[Ht]);ee(16);for(var st=0;st<16;st++)ee(G[st+1]);for(var mt=0;mt<=161;mt++)ee(M[mt]);ee(1);for(var _e=0;_e<16;_e++)ee(I[_e+1]);for(var De=0;De<=11;De++)ee(K[De]);ee(17);for(var et=0;et<16;et++)ee(H[et+1]);for(var tt=0;tt<=161;tt++)ee(J[tt])})(),he(65498),he(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var ae=0,le=0,pe=0;x=0,w=7,this.encode.displayName="_encode_";for(var xe,Oe,fe,Ce,Fe,Te,nt,rt,se,lt=V.data,Xt=V.width,Tt=V.height,Xe=4*Xt,Lt=0;Lt<Tt;){for(xe=0;xe<Xe;){for(Fe=Xe*Lt+xe,nt=-1,rt=0,se=0;se<64;se++)Te=Fe+(rt=se>>3)*Xe+(nt=4*(7&se)),Lt+rt>=Tt&&(Te-=Xe*(Lt+1+rt-Tt)),xe+nt>=Xe&&(Te-=xe+nt-Xe+4),Oe=lt[Te++],fe=lt[Te++],Ce=lt[Te++],C[se]=(L[Oe]+L[fe+256|0]+L[Ce+512|0]>>16)-128,E[se]=(L[Oe+768|0]+L[fe+1024|0]+L[Ce+1280|0]>>16)-128,O[se]=(L[Oe+1280|0]+L[fe+1536|0]+L[Ce+1792|0]>>16)-128;ae=Y(C,c,ae,e,r),le=Y(E,u,le,n,i),pe=Y(O,u,pe,n,i),xe+=32}Lt+=8}if(w>=0){var xt=[];xt[1]=w+1,xt[0]=(1<<w+1)-1,Q(xt)}return he(65497),new Uint8Array(b)},t=t||50,(function(){for(var V=String.fromCharCode,F=0;F<256;F++)P[F]=V(F)})(),e=W($,U),n=W(I,K),r=W(G,M),i=W(H,J),(function(){for(var V=1,F=2,ae=1;ae<=15;ae++){for(var le=V;le<F;le++)m[32767+le]=ae,f[32767+le]=[],f[32767+le][1]=ae,f[32767+le][0]=le;for(var pe=-(F-1);pe<=-V;pe++)m[32767+pe]=ae,f[32767+pe]=[],f[32767+pe][1]=ae,f[32767+pe][0]=F-1+pe;V<<=1,F<<=1}})(),(function(){for(var V=0;V<256;V++)L[V]=19595*V,L[V+256|0]=38470*V,L[V+512|0]=7471*V+32768,L[V+768|0]=-11059*V,L[V+1024|0]=-21709*V,L[V+1280|0]=32768*V+8421375,L[V+1536|0]=-27439*V,L[V+1792|0]=-5329*V})(),ye(t)}function Rc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NB(t){function e(U){if(!U)throw Error("assert :P")}function n(U,G,M){for(var I=0;4>I;I++)if(U[G+I]!=M.charCodeAt(I))return!0;return!1}function r(U,G,M,I,K){for(var H=0;H<K;H++)U[G+H]=M[I+H]}function i(U,G,M,I){for(var K=0;K<I;K++)U[G+K]=M}function a(U){return new Int32Array(U)}function s(U,G){for(var M=[],I=0;I<U;I++)M.push(new G);return M}function o(U,G){var M=[];return(function I(K,H,J){for(var W=J[H],Q=0;Q<W&&(K.push(J.length>H+1?[]:new G),!(J.length<H+1));Q++)I(K[Q],H+1,J)})(M,0,U),M}var l=function(){var U=this;function G(_,T){for(var R=1<<T-1>>>0;_&R;)R>>>=1;return R?(_&R-1)+R:_}function M(_,T,R,z,Z){e(!(z%R));do _[T+(z-=R)]=Z;while(0<z)}function I(_,T,R,z,Z){if(e(2328>=Z),512>=Z)var te=a(512);else if((te=a(Z))==null)return 0;return(function(ne,ie,oe,ue,we,Me){var ce,ke,Pe=ie,He=1<<oe,Le=a(16),qe=a(16);for(e(we!=0),e(ue!=null),e(ne!=null),e(0<oe),ke=0;ke<we;++ke){if(15<ue[ke])return 0;++Le[ue[ke]]}if(Le[0]==we)return 0;for(qe[1]=0,ce=1;15>ce;++ce){if(Le[ce]>1<<ce)return 0;qe[ce+1]=qe[ce]+Le[ce]}for(ke=0;ke<we;++ke)ce=ue[ke],0<ue[ke]&&(Me[qe[ce]++]=ke);if(qe[15]==1)return(ue=new K).g=0,ue.value=Me[0],M(ne,Pe,1,He,ue),He;var Ge,ct=-1,Je=He-1,Dt=0,kt=1,xn=1,Pt=1<<oe;for(ke=0,ce=1,we=2;ce<=oe;++ce,we<<=1){if(kt+=xn<<=1,0>(xn-=Le[ce]))return 0;for(;0<Le[ce];--Le[ce])(ue=new K).g=ce,ue.value=Me[ke++],M(ne,Pe+Dt,we,Pt,ue),Dt=G(Dt,ce)}for(ce=oe+1,we=2;15>=ce;++ce,we<<=1){if(kt+=xn<<=1,0>(xn-=Le[ce]))return 0;for(;0<Le[ce];--Le[ce]){if(ue=new K,(Dt&Je)!=ct){for(Pe+=Pt,Ge=1<<(ct=ce)-oe;15>ct&&!(0>=(Ge-=Le[ct]));)++ct,Ge<<=1;He+=Pt=1<<(Ge=ct-oe),ne[ie+(ct=Dt&Je)].g=Ge+oe,ne[ie+ct].value=Pe-ie-ct}ue.g=ce-oe,ue.value=Me[ke++],M(ne,Pe+(Dt>>oe),we,Pt,ue),Dt=G(Dt,ce)}}return kt!=2*qe[15]-1?0:He})(_,T,R,z,Z,te)}function K(){this.value=this.g=0}function H(){this.value=this.g=0}function J(){this.G=s(5,K),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vu,H)}function W(_,T,R,z){e(_!=null),e(T!=null),e(2147483648>z),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=T,_.pa=R,_.Jd=T,_.Yc=R+z,_.Zc=4<=z?R+z-4+1:R,Oe(_)}function Q(_,T){for(var R=0;0<T--;)R|=Ce(_,128)<<T;return R}function ee(_,T){var R=Q(_,T);return fe(_)?-R:R}function he(_,T,R,z){var Z,te=0;for(e(_!=null),e(T!=null),e(4294967288>z),_.Sb=z,_.Ra=0,_.u=0,_.h=0,4<z&&(z=4),Z=0;Z<z;++Z)te+=T[R+Z]<<8*Z;_.Ra=te,_.bb=z,_.oa=T,_.pa=R}function Y(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Pl-8>>>0,++_.bb,_.u-=8;le(_)&&(_.h=1,_.u=0)}function ye(_,T){if(e(0<=T),!_.h&&T<=as){var R=ae(_)&_s[T];return _.u+=T,Y(_),R}return _.h=1,_.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(_){return _.Ra>>>(_.u&Pl-1)>>>0}function le(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Pl}function pe(_,T){_.u=T,_.h=le(_)}function xe(_){_.u>=Nl&&(e(_.u>=Nl),Y(_))}function Oe(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function fe(_){return Q(_,1)}function Ce(_,T){var R=_.Ca;0>_.b&&Oe(_);var z=_.b,Z=R*T>>>8,te=(_.I>>>z>Z)+0;for(te?(R-=Z,_.I-=Z+1<<z>>>0):R=Z+1,z=R,Z=0;256<=z;)Z+=8,z>>=8;return z=7^Z+wc[z],_.b-=z,_.Ca=(R<<z)-1,te}function Fe(_,T,R){_[T+0]=R>>24&255,_[T+1]=R>>16&255,_[T+2]=R>>8&255,_[T+3]=255&R}function Te(_,T){return _[T+0]|_[T+1]<<8}function nt(_,T){return Te(_,T)|_[T+2]<<16}function rt(_,T){return Te(_,T)|Te(_,T+2)<<16}function se(_,T){var R=1<<T;return e(_!=null),e(0<T),_.X=a(R),_.X==null?0:(_.Mb=32-T,_.Xa=T,1)}function lt(_,T){e(_!=null),e(T!=null),e(_.Xa==T.Xa),r(T.X,0,_.X,0,1<<T.Xa)}function Xt(){this.X=[],this.Xa=this.Mb=0}function Tt(_,T,R,z){e(R!=null),e(z!=null);var Z=R[0],te=z[0];return Z==0&&(Z=(_*te+T/2)/T),te==0&&(te=(T*Z+_/2)/_),0>=Z||0>=te?0:(R[0]=Z,z[0]=te,1)}function Xe(_,T){return _+(1<<T)-1>>>T}function Lt(_,T){return((4278255360&_)+(4278255360&T)>>>0&4278255360)+((16711935&_)+(16711935&T)>>>0&16711935)>>>0}function xt(_,T){U[T]=function(R,z,Z,te,ne,ie,oe){var ue;for(ue=0;ue<ne;++ue){var we=U[_](ie[oe+ue-1],Z,te+ue);ie[oe+ue]=Lt(R[z+ue],we)}}}function Gt(){this.ud=this.hd=this.jd=0}function Ht(_,T){return((4278124286&(_^T))>>>1)+(_&T)>>>0}function st(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function mt(_,T){return st(_+(_-T+.5>>1))}function _e(_,T,R){return Math.abs(T-R)-Math.abs(_-R)}function De(_,T,R,z,Z,te,ne){for(z=te[ne-1],R=0;R<Z;++R)te[ne+R]=z=Lt(_[T+R],z)}function et(_,T,R,z,Z){var te;for(te=0;te<R;++te){var ne=_[T+te],ie=ne>>8&255,oe=16711935&(oe=(oe=16711935&ne)+((ie<<16)+ie));z[Z+te]=(4278255360&ne)+oe>>>0}}function tt(_,T){T.jd=255&_,T.hd=_>>8&255,T.ud=_>>16&255}function pt(_,T,R,z,Z,te){var ne;for(ne=0;ne<z;++ne){var ie=T[R+ne],oe=ie>>>8,ue=ie,we=255&(we=(we=ie>>>16)+((_.jd<<24>>24)*(oe<<24>>24)>>>5));ue=255&(ue=(ue+=(_.hd<<24>>24)*(oe<<24>>24)>>>5)+((_.ud<<24>>24)*(we<<24>>24)>>>5)),Z[te+ne]=(4278255360&ie)+(we<<16)+ue}}function ht(_,T,R,z,Z){U[T]=function(te,ne,ie,oe,ue,we,Me,ce,ke){for(oe=Me;oe<ce;++oe)for(Me=0;Me<ke;++Me)ue[we++]=Z(ie[z(te[ne++])])},U[_]=function(te,ne,ie,oe,ue,we,Me){var ce=8>>te.b,ke=te.Ea,Pe=te.K[0],He=te.w;if(8>ce)for(te=(1<<te.b)-1,He=(1<<ce)-1;ne<ie;++ne){var Le,qe=0;for(Le=0;Le<ke;++Le)Le&te||(qe=z(oe[ue++])),we[Me++]=Z(Pe[qe&He]),qe>>=ce}else U["VP8LMapColor"+R](oe,ue,Pe,He,we,Me,ne,ie,ke)}}function Pn(_,T,R,z,Z){for(R=T+R;T<R;){var te=_[T++];z[Z++]=te>>16&255,z[Z++]=te>>8&255,z[Z++]=255&te}}function Wt(_,T,R,z,Z){for(R=T+R;T<R;){var te=_[T++];z[Z++]=te>>16&255,z[Z++]=te>>8&255,z[Z++]=255&te,z[Z++]=te>>24&255}}function At(_,T,R,z,Z){for(R=T+R;T<R;){var te=(ne=_[T++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;z[Z++]=te,z[Z++]=ne}}function It(_,T,R,z,Z){for(R=T+R;T<R;){var te=(ne=_[T++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;z[Z++]=te,z[Z++]=ne}}function Jt(_,T,R,z,Z){for(R=T+R;T<R;){var te=_[T++];z[Z++]=255&te,z[Z++]=te>>8&255,z[Z++]=te>>16&255}}function Ot(_,T,R,z,Z,te){if(te==0)for(R=T+R;T<R;)Fe(z,((te=_[T++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Z+=32;else r(z,Z,_,T,R)}function Nn(_,T){U[T][0]=U[_+"0"],U[T][1]=U[_+"1"],U[T][2]=U[_+"2"],U[T][3]=U[_+"3"],U[T][4]=U[_+"4"],U[T][5]=U[_+"5"],U[T][6]=U[_+"6"],U[T][7]=U[_+"7"],U[T][8]=U[_+"8"],U[T][9]=U[_+"9"],U[T][10]=U[_+"10"],U[T][11]=U[_+"11"],U[T][12]=U[_+"12"],U[T][13]=U[_+"13"],U[T][14]=U[_+"0"],U[T][15]=U[_+"0"]}function ln(_){return _==wp||_==ig||_==zd||_==ag}function cn(){this.eb=[],this.size=this.A=this.fb=0}function er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cn,this.f.kb=new er,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zs(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function jn(_,T){var R=_.T,z=T.ba.f.RGBA,Z=z.eb,te=z.fb+_.ka*z.A,ne=wa[T.ba.S],ie=_.y,oe=_.O,ue=_.f,we=_.N,Me=_.ea,ce=_.W,ke=T.cc,Pe=T.dc,He=T.Mc,Le=T.Nc,qe=_.ka,Ge=_.ka+_.T,ct=_.U,Je=ct+1>>1;for(qe==0?ne(ie,oe,null,null,ue,we,Me,ce,ue,we,Me,ce,Z,te,null,null,ct):(ne(T.ec,T.fc,ie,oe,ke,Pe,He,Le,ue,we,Me,ce,Z,te-z.A,Z,te,ct),++R);qe+2<Ge;qe+=2)ke=ue,Pe=we,He=Me,Le=ce,we+=_.Rc,ce+=_.Rc,te+=2*z.A,ne(ie,(oe+=2*_.fa)-_.fa,ie,oe,ke,Pe,He,Le,ue,we,Me,ce,Z,te-z.A,Z,te,ct);return oe+=_.fa,_.j+Ge<_.o?(r(T.ec,T.fc,ie,oe,ct),r(T.cc,T.dc,ue,we,Je),r(T.Mc,T.Nc,Me,ce,Je),R--):1&Ge||ne(ie,oe,null,null,ue,we,Me,ce,ue,we,Me,ce,Z,te+z.A,null,null,ct),R}function ma(_,T,R){var z=_.F,Z=[_.J];if(z!=null){var te=_.U,ne=T.ba.S,ie=ne==xp||ne==zd;T=T.ba.f.RGBA;var oe=[0],ue=_.ka;oe[0]=_.T,_.Kb&&(ue==0?--oe[0]:(--ue,Z[0]-=_.width),_.j+_.ka+_.T==_.o&&(oe[0]=_.o-_.j-ue));var we=T.eb;ue=T.fb+ue*T.A,_=gp(z,Z[0],_.width,te,oe,we,ue+(ie?0:3),T.A),e(R==oe),_&&ln(ne)&&bh(we,ue,ie,te,oe,T.A)}return 0}function ws(_){var T=_.ma,R=T.ba.S,z=11>R,Z=R==$a||R==xo||R==xp||R==Ud||R==12||ln(R);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!xc(T.Oa,_,Z?11:12))return 0;if(Z&&ln(R)&&dp(),_.da)alert("todo:use_scaling");else{if(z){if(T.Ib=zs,_.Kb){if(R=_.U+1>>1,T.memory=a(_.U+2*R),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+_.U,T.Mc=T.cc,T.Nc=T.dc+R,T.Ib=jn,dp()}}else alert("todo:EmitYUV");Z&&(T.Jb=ma,z&&Xo())}if(z&&!ku){for(_=0;256>_;++_)Sa[_]=89858*(_-128)+Hd>>To,bC[_]=-22014*(_-128)+Hd,ix[_]=-45773*(_-128),ug[_]=113618*(_-128)+Hd>>To;for(_=_h;_<_u;++_)T=76283*(_-16)+Hd>>To,xC[_-_h]=Vs(T,255),wC[_-_h]=Vs(T+8>>4,15);ku=1}return 1}function Zt(_){var T=_.ma,R=_.U,z=_.T;return e(!(1&_.ka)),0>=R||0>=z?0:(R=T.Ib(_,T),T.Jb!=null&&T.Jb(_,T,R),T.Dc+=R,1)}function $s(_){_.ma.memory=null}function qs(_,T,R,z){return ye(_,8)!=47?0:(T[0]=ye(_,14)+1,R[0]=ye(_,14)+1,z[0]=ye(_,1),ye(_,3)!=0?0:!_.h)}function Ba(_,T){if(4>_)return _+1;var R=_-2>>1;return(2+(1&_)<<R)+ye(T,R)+1}function es(_,T){return 120<T?T-120:1<=(R=((R=So[T-1])>>4)*_+(8-(15&R)))?R:1;var R}function zn(_,T,R){var z=ae(R),Z=_[T+=255&z].g-8;return 0<Z&&(pe(R,R.u+8),z=ae(R),T+=_[T].value,T+=z&(1<<Z)-1),pe(R,R.u+_[T].g),_[T].value}function wr(_,T,R){return R.g+=_.g,R.value+=_.value<<T>>>0,e(8>=R.g),_.g}function xi(_,T,R){var z=_.xc;return e((T=z==0?0:_.vc[_.md*(R>>z)+(T>>z)])<_.Wb),_.Ya[T]}function Vo(_,T,R,z){var Z=_.ab,te=_.c*T,ne=_.C;T=ne+T;var ie=R,oe=z;for(z=_.Ta,R=_.Ua;0<Z--;){var ue=_.gc[Z],we=ne,Me=T,ce=ie,ke=oe,Pe=(oe=z,ie=R,ue.Ea);switch(e(we<Me),e(Me<=ue.nc),ue.hc){case 2:Si(ce,ke,(Me-we)*Pe,oe,ie);break;case 0:var He=we,Le=Me,qe=oe,Ge=ie,ct=(Pt=ue).Ea;He==0&&(jd(ce,ke,null,null,1,qe,Ge),De(ce,ke+1,0,0,ct-1,qe,Ge+1),ke+=ct,Ge+=ct,++He);for(var Je=1<<Pt.b,Dt=Je-1,kt=Xe(ct,Pt.b),xn=Pt.K,Pt=Pt.w+(He>>Pt.b)*kt;He<Le;){var Dn=xn,zr=Pt,En=1;for(Dd(ce,ke,qe,Ge-ct,1,qe,Ge);En<ct;){var Ct=(En&~Dt)+Je;Ct>ct&&(Ct=ct),(0,Sc[Dn[zr++]>>8&15])(ce,ke+ +En,qe,Ge+En-ct,Ct-En,qe,Ge+En),En=Ct}ke+=ct,Ge+=ct,++He&Dt||(Pt+=kt)}Me!=ue.nc&&r(oe,ie-Pe,oe,ie+(Me-we-1)*Pe,Pe);break;case 1:for(Pe=ce,Le=ke,ct=(ce=ue.Ea)-(Ge=ce&~(qe=(ke=1<<ue.b)-1)),He=Xe(ce,ue.b),Je=ue.K,ue=ue.w+(we>>ue.b)*He;we<Me;){for(Dt=Je,kt=ue,xn=new Gt,Pt=Le+Ge,Dn=Le+ce;Le<Pt;)tt(Dt[kt++],xn),Bd(xn,Pe,Le,ke,oe,ie),Le+=ke,ie+=ke;Le<Dn&&(tt(Dt[kt++],xn),Bd(xn,Pe,Le,ct,oe,ie),Le+=ct,ie+=ct),++we&qe||(ue+=He)}break;case 3:if(ce==oe&&ke==ie&&0<ue.b){for(Le=oe,ce=Pe=ie+(Me-we)*Pe-(Ge=(Me-we)*Xe(ue.Ea,ue.b)),ke=oe,qe=ie,He=[],Ge=(ct=Ge)-1;0<=Ge;--Ge)He[Ge]=ke[qe+Ge];for(Ge=ct-1;0<=Ge;--Ge)Le[ce+Ge]=He[Ge];Qm(ue,we,Me,oe,Pe,oe,ie)}else Qm(ue,we,Me,ce,ke,oe,ie)}ie=z,oe=R}oe!=R&&r(z,R,ie,oe,te)}function $i(_,T){var R=_.V,z=_.Ba+_.c*_.C,Z=T-_.C;if(e(T<=_.l.o),e(16>=Z),0<Z){var te=_.l,ne=_.Ta,ie=_.Ua,oe=te.width;if(Vo(_,Z,R,z),Z=ie=[ie],e((R=_.C)<(z=T)),e(te.v<te.va),z>te.o&&(z=te.o),R<te.j){var ue=te.j-R;R=te.j,Z[0]+=ue*oe}if(R>=z?R=0:(Z[0]+=4*te.v,te.ka=R-te.j,te.U=te.va-te.v,te.T=z-R,R=1),R){if(ie=ie[0],11>(R=_.ca).S){var we=R.f.RGBA,Me=(z=R.S,Z=te.U,te=te.T,ue=we.eb,we.A),ce=te;for(we=we.fb+_.Ma*we.A;0<ce--;){var ke=ne,Pe=ie,He=Z,Le=ue,qe=we;switch(z){case ng:Fd(ke,Pe,He,Le,qe);break;case $a:_c(ke,Pe,He,Le,qe);break;case wp:_c(ke,Pe,He,Le,qe),bh(Le,qe,0,He,1,0);break;case rg:vh(ke,Pe,He,Le,qe);break;case xo:Ot(ke,Pe,He,Le,qe,1);break;case ig:Ot(ke,Pe,He,Le,qe,1),bh(Le,qe,0,He,1,0);break;case xp:Ot(ke,Pe,He,Le,qe,0);break;case zd:Ot(ke,Pe,He,Le,qe,0),bh(Le,qe,1,He,1,0);break;case Ud:kc(ke,Pe,He,Le,qe);break;case ag:kc(ke,Pe,He,Le,qe),bo(Le,qe,He,1,0);break;case yu:Rl(ke,Pe,He,Le,qe);break;default:e(0)}ie+=oe,we+=Me}_.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=R.height)}}_.C=T,e(_.C<=_.i)}function hr(_){var T;if(0<_.ua)return 0;for(T=0;T<_.Wb;++T){var R=_.Ya[T].G,z=_.Ya[T].H;if(0<R[1][z[1]+0].g||0<R[2][z[2]+0].g||0<R[3][z[3]+0].g)return 0}return 1}function Xn(_,T,R,z,Z,te){if(_.Z!=0){var ne=_.qd,ie=_.rd;for(e(Ec[_.Z]!=null);T<R;++T)Ec[_.Z](ne,ie,z,Z,z,Z,te),ne=z,ie=Z,Z+=te;_.qd=ne,_.rd=ie}}function qi(_,T){var R=_.l.ma,z=R.Z==0||R.Z==1?_.l.j:_.C;if(z=_.C<z?z:_.C,e(T<=_.l.o),T>z){var Z=_.l.width,te=R.ca,ne=R.tb+Z*z,ie=_.V,oe=_.Ba+_.c*z,ue=_.gc;e(_.ab==1),e(ue[0].hc==3),Ml(ue[0],z,T,ie,oe,te,ne),Xn(R,z,T,te,ne,Z)}_.C=_.Ma=T}function Fa(_,T,R,z,Z,te,ne){var ie=_.$/z,oe=_.$%z,ue=_.m,we=_.s,Me=R+_.$,ce=Me;Z=R+z*Z;var ke=R+z*te,Pe=280+we.ua,He=_.Pb?ie:16777216,Le=0<we.ua?we.Wa:null,qe=we.wc,Ge=Me<ke?xi(we,oe,ie):null;e(_.C<te),e(ke<=Z);var ct=!1;e:for(;;){for(;ct||Me<ke;){var Je=0;if(ie>=He){var Dt=Me-R;e((He=_).Pb),He.wd=He.m,He.xd=Dt,0<He.s.ua&&lt(He.s.Wa,He.s.vb),He=ie+bu}if(oe&qe||(Ge=xi(we,oe,ie)),e(Ge!=null),Ge.Qb&&(T[Me]=Ge.qb,ct=!0),!ct)if(xe(ue),Ge.jc){Je=ue,Dt=T;var kt=Me,xn=Ge.pd[ae(Je)&vu-1];e(Ge.jc),256>xn.g?(pe(Je,Je.u+xn.g),Dt[kt]=xn.value,Je=0):(pe(Je,Je.u+xn.g-256),e(256<=xn.value),Je=xn.value),Je==0&&(ct=!0)}else Je=zn(Ge.G[0],Ge.H[0],ue);if(ue.h)break;if(ct||256>Je){if(!ct)if(Ge.nd)T[Me]=(Ge.qb|Je<<8)>>>0;else{if(xe(ue),ct=zn(Ge.G[1],Ge.H[1],ue),xe(ue),Dt=zn(Ge.G[2],Ge.H[2],ue),kt=zn(Ge.G[3],Ge.H[3],ue),ue.h)break;T[Me]=(kt<<24|ct<<16|Je<<8|Dt)>>>0}if(ct=!1,++Me,++oe>=z&&(oe=0,++ie,ne!=null&&ie<=te&&!(ie%16)&&ne(_,ie),Le!=null))for(;ce<Me;)Je=T[ce++],Le.X[(506832829*Je&4294967295)>>>Le.Mb]=Je}else if(280>Je){if(Je=Ba(Je-256,ue),Dt=zn(Ge.G[4],Ge.H[4],ue),xe(ue),Dt=es(z,Dt=Ba(Dt,ue)),ue.h)break;if(Me-R<Dt||Z-Me<Je)break e;for(kt=0;kt<Je;++kt)T[Me+kt]=T[Me+kt-Dt];for(Me+=Je,oe+=Je;oe>=z;)oe-=z,++ie,ne!=null&&ie<=te&&!(ie%16)&&ne(_,ie);if(e(Me<=Z),oe&qe&&(Ge=xi(we,oe,ie)),Le!=null)for(;ce<Me;)Je=T[ce++],Le.X[(506832829*Je&4294967295)>>>Le.Mb]=Je}else{if(!(Je<Pe))break e;for(ct=Je-280,e(Le!=null);ce<Me;)Je=T[ce++],Le.X[(506832829*Je&4294967295)>>>Le.Mb]=Je;Je=Me,e(!(ct>>>(Dt=Le).Xa)),T[Je]=Dt.X[ct],ct=!0}ct||e(ue.h==le(ue))}if(_.Pb&&ue.h&&Me<Z)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&lt(_.s.vb,_.s.Wa);else{if(ue.h)break e;ne?.(_,ie>te?te:ie),_.a=0,_.$=Me-R}return 1}return _.a=3,0}function ts(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var T=_.Wa;T!=null&&(T.X=null),_.vb=null,e(_!=null)}function kl(){var _=new gn;return _==null?null:(_.a=0,_.xb=Pv,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Si=et,Bd=pt,Fd=Pn,_c=Wt,kc=At,Rl=It,vh=Jt,U.VP8LMapColor32b=Ll,U.VP8LMapColor8b=ya,_)}function Hs(_,T,R,z,Z){var te=1,ne=[_],ie=[T],oe=z.m,ue=z.s,we=null,Me=0;e:for(;;){if(R)for(;te&&ye(oe,1);){var ce=ne,ke=ie,Pe=z,He=1,Le=Pe.m,qe=Pe.gc[Pe.ab],Ge=ye(Le,2);if(Pe.Oc&1<<Ge)te=0;else{switch(Pe.Oc|=1<<Ge,qe.hc=Ge,qe.Ea=ce[0],qe.nc=ke[0],qe.K=[null],++Pe.ab,e(4>=Pe.ab),Ge){case 0:case 1:qe.b=ye(Le,3)+2,He=Hs(Xe(qe.Ea,qe.b),Xe(qe.nc,qe.b),0,Pe,qe.K),qe.K=qe.K[0];break;case 3:var ct,Je=ye(Le,8)+1,Dt=16<Je?0:4<Je?1:2<Je?2:3;if(ce[0]=Xe(qe.Ea,Dt),qe.b=Dt,ct=He=Hs(Je,1,0,Pe,qe.K)){var kt,xn=Je,Pt=qe,Dn=1<<(8>>Pt.b),zr=a(Dn);if(zr==null)ct=0;else{var En=Pt.K[0],Ct=Pt.w;for(zr[0]=Pt.K[0][0],kt=1;kt<1*xn;++kt)zr[kt]=Lt(En[Ct+kt],zr[kt-1]);for(;kt<4*Dn;++kt)zr[kt]=0;Pt.K[0]=null,Pt.K[0]=zr,ct=1}}He=ct;break;case 2:break;default:e(0)}te=He}}if(ne=ne[0],ie=ie[0],te&&ye(oe,1)&&!(te=1<=(Me=ye(oe,4))&&11>=Me)){z.a=3;break e}var gt;if(gt=te)t:{var ti,dn,On,vr=z,Vi=ne,_a=ie,Rr=Me,Pi=R,qa=vr.m,Ni=vr.s,In=[null],nr=1,ni=0,lr=_o[Rr];n:for(;;){if(Pi&&ye(qa,1)){var Gi=ye(qa,3)+2,ri=Xe(Vi,Gi),rr=Xe(_a,Gi),Ci=ri*rr;if(!Hs(ri,rr,0,vr,In))break n;for(In=In[0],Ni.xc=Gi,ti=0;ti<Ci;++ti){var yr=In[ti]>>8&65535;In[ti]=yr,yr>=nr&&(nr=yr+1)}}if(qa.h)break n;for(dn=0;5>dn;++dn){var Li=wh[dn];!dn&&0<Rr&&(Li+=1<<Rr),ni<Li&&(ni=Li)}var Mi=s(nr*lr,K),Cr=nr,Qn=s(Cr,J);if(Qn==null)var Ha=null;else e(65536>=Cr),Ha=Qn;var hi=a(ni);if(Ha==null||hi==null||Mi==null){vr.a=1;break n}var nn=Mi;for(ti=On=0;ti<nr;++ti){var rn=Ha[ti],ir=rn.G,ks=rn.H,Eo=0,os=1,Ri=0;for(dn=0;5>dn;++dn){Li=wh[dn],ir[dn]=nn,ks[dn]=On,!dn&&0<Rr&&(Li+=1<<Rr);i:{var Cu,Tu=Li,dg=vr,Ir=hi,Lv=nn,Mv=On,fg=0,Ac=dg.m,SC=ye(Ac,1);if(i(Ir,0,0,Tu),SC){var Rv=ye(Ac,1)+1,Iv=ye(Ac,1),pg=ye(Ac,Iv==0?1:8);Ir[pg]=1,Rv==2&&(Ir[pg=ye(Ac,8)]=1);var ia=1}else{var di=a(19),Cp=ye(Ac,4)+4;if(19<Cp){dg.a=3;var Eu=0;break i}for(Cu=0;Cu<Cp;++Cu)di[Sp[Cu]]=ye(Ac,3);var Vd=void 0,kh=void 0,Dl=dg,mg=di,Gd=Tu,gg=Ir,vg=0,Oc=Dl.m,jv=8,Dv=s(128,K);r:for(;I(Dv,0,7,mg,19);){if(ye(Oc,1)){var ax=2+2*ye(Oc,3);if((Vd=2+ye(Oc,ax))>Gd)break r}else Vd=Gd;for(kh=0;kh<Gd&&Vd--;){xe(Oc);var Bv=Dv[0+(127&ae(Oc))];pe(Oc,Oc.u+Bv.g);var Au=Bv.value;if(16>Au)gg[kh++]=Au,Au!=0&&(jv=Au);else{var sx=Au==16,ox=Au-16,lx=$d[ox],Fv=ye(Oc,wo[ox])+lx;if(kh+Fv>Gd)break r;for(var cx=sx?jv:0;0<Fv--;)gg[kh++]=cx}}vg=1;break r}vg||(Dl.a=3),ia=vg}(ia=ia&&!Ac.h)&&(fg=I(Lv,Mv,8,Ir,Tu)),ia&&fg!=0?Eu=fg:(dg.a=3,Eu=0)}if(Eu==0)break n;if(os&&sg[dn]==1&&(os=nn[On].g==0),Eo+=nn[On].g,On+=Eu,3>=dn){var Ch,yg=hi[0];for(Ch=1;Ch<Li;++Ch)hi[Ch]>yg&&(yg=hi[Ch]);Ri+=yg}}if(rn.nd=os,rn.Qb=0,os&&(rn.qb=(ir[3][ks[3]+0].value<<24|ir[1][ks[1]+0].value<<16|ir[2][ks[2]+0].value)>>>0,Eo==0&&256>ir[0][ks[0]+0].value&&(rn.Qb=1,rn.qb+=ir[0][ks[0]+0].value<<8)),rn.jc=!rn.Qb&&6>Ri,rn.jc){var Tp,Bl=rn;for(Tp=0;Tp<vu;++Tp){var Pc=Tp,Nc=Bl.pd[Pc],bg=Bl.G[0][Bl.H[0]+Pc];256<=bg.value?(Nc.g=bg.g+256,Nc.value=bg.value):(Nc.g=0,Nc.value=0,Pc>>=wr(bg,8,Nc),Pc>>=wr(Bl.G[1][Bl.H[1]+Pc],16,Nc),Pc>>=wr(Bl.G[2][Bl.H[2]+Pc],0,Nc),wr(Bl.G[3][Bl.H[3]+Pc],24,Nc))}}}Ni.vc=In,Ni.Wb=nr,Ni.Ya=Ha,Ni.yc=Mi,gt=1;break t}gt=0}if(!(te=gt)){z.a=3;break e}if(0<Me){if(ue.ua=1<<Me,!se(ue.Wa,Me)){z.a=1,te=0;break e}}else ue.ua=0;var xg=z,Th=ne,ux=ie,Kd=xg.s,Yd=Kd.xc;if(xg.c=Th,xg.i=ux,Kd.md=Xe(Th,Yd),Kd.wc=Yd==0?-1:(1<<Yd)-1,R){z.xb=xu;break e}if((we=a(ne*ie))==null){z.a=1,te=0;break e}te=(te=Fa(z,we,0,ne,ie,ie,null))&&!oe.h;break e}return te?(Z!=null?Z[0]=we:(e(we==null),e(R)),z.$=0,R||ts(ue)):ts(ue),te}function Et(_,T){var R=_.c*_.i,z=R+T+16*T;return e(_.c<=T),_.V=a(z),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+R+T,1)}function be(_,T){var R=_.C,z=T-R,Z=_.V,te=_.Ba+_.c*R;for(e(T<=_.l.o);0<z;){var ne=16<z?16:z,ie=_.l.ma,oe=_.l.width,ue=oe*ne,we=ie.ca,Me=ie.tb+oe*R,ce=_.Ta,ke=_.Ua;Vo(_,ne,Z,te),Js(ce,ke,we,Me,ue),Xn(ie,R,R+ne,we,Me,oe),z-=ne,Z+=ne*_.c,R+=ne}e(R==T),_.C=_.Ma=T}function ot(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function kr(){this.Yb=(function(){var _=[];return(function T(R,z,Z){for(var te=Z[z],ne=0;ne<te&&(R.push(Z.length>z+1?[]:0),!(Z.length<z+1));ne++)T(R[ne],z+1,Z)})(_,0,[3,11]),_})()}function Cn(){this.jb=a(3),this.Wc=o([4,8],kr),this.Xc=o([4,17],kr)}function Ei(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Zr(){this.ld=this.La=this.dd=this.tc=0}function ta(){this.Na=this.la=0}function Ws(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zr),this.Y=0,this.ya=Array(new Qr),this.aa=0,this.l=new lc}function du(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qm(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new ot,this.Kc=new wt,this.ed=new Ei,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,V),this.ia=0,this.pb=s(4,Ws),this.Pa=new Cn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new du),this.Hd=0,this.rb=Array(new ta),this.sb=0,this.wa=Array(new Zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qr),this.L=this.aa=0,this.gd=o([4,2],Zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vs(_,T){return 0>_?0:_>T?T:_}function lc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Go(){var _=new qm;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Zs||(Zs=fu)),_}function sr(_,T,R){return _.a==0&&(_.a=T,_.sc=R,_.cb=0),0}function np(_,T,R){return 3<=R&&_[T+0]==157&&_[T+1]==1&&_[T+2]==42}function Cl(_,T){if(_==null)return 0;if(_.a=0,_.sc="OK",T==null)return sr(_,2,"null VP8Io passed to VP8GetHeaders()");var R=T.data,z=T.w,Z=T.ha;if(4>Z)return sr(_,7,"Truncated header.");var te=R[z+0]|R[z+1]<<8|R[z+2]<<16,ne=_.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return sr(_,3,"Incorrect keyframe parameters.");if(!ne.yd)return sr(_,4,"Frame not displayable.");z+=3,Z-=3;var ie=_.Kc;if(ne.Rb){if(7>Z)return sr(_,7,"cannot parse picture header");if(!np(R,z,Z))return sr(_,3,"Bad code word");ie.c=16383&(R[z+4]<<8|R[z+3]),ie.Td=R[z+4]>>6,ie.i=16383&(R[z+6]<<8|R[z+5]),ie.Ud=R[z+6]>>6,z+=7,Z-=7,_.za=ie.c+15>>4,_.Ub=ie.i+15>>4,T.width=ie.c,T.height=ie.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((te=_.Pa).jb,0,255,te.jb.length),e((te=_.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(ne.ub>Z)return sr(_,7,"bad partition length");W(te=_.m,R,z,ne.ub),z+=ne.ub,Z-=ne.ub,ne.Rb&&(ie.Ld=fe(te),ie.Kd=fe(te)),ie=_.Qa;var oe,ue=_.Pa;if(e(te!=null),e(ie!=null),ie.Cb=fe(te),ie.Cb){if(ie.Bb=fe(te),fe(te)){for(ie.Fb=fe(te),oe=0;4>oe;++oe)ie.Zb[oe]=fe(te)?ee(te,7):0;for(oe=0;4>oe;++oe)ie.Lb[oe]=fe(te)?ee(te,6):0}if(ie.Bb)for(oe=0;3>oe;++oe)ue.jb[oe]=fe(te)?Q(te,8):255}else ie.Bb=0;if(te.Ka)return sr(_,3,"cannot parse segment header");if((ie=_.ed).zd=fe(te),ie.Tb=Q(te,6),ie.wb=Q(te,3),ie.Pc=fe(te),ie.Pc&&fe(te)){for(ue=0;4>ue;++ue)fe(te)&&(ie.vd[ue]=ee(te,6));for(ue=0;4>ue;++ue)fe(te)&&(ie.od[ue]=ee(te,6))}if(_.L=ie.Tb==0?0:ie.zd?1:2,te.Ka)return sr(_,3,"cannot parse filter header");var we=Z;if(Z=oe=z,z=oe+we,ie=we,_.Xb=(1<<Q(_.m,2))-1,we<3*(ue=_.Xb))R=7;else{for(oe+=3*ue,ie-=3*ue,we=0;we<ue;++we){var Me=R[Z+0]|R[Z+1]<<8|R[Z+2]<<16;Me>ie&&(Me=ie),W(_.Jc[+we],R,oe,Me),oe+=Me,ie-=Me,Z+=3}W(_.Jc[+ue],R,oe,ie),R=oe<z?0:5}if(R!=0)return sr(_,R,"cannot parse partitions");for(R=Q(oe=_.m,7),Z=fe(oe)?ee(oe,4):0,z=fe(oe)?ee(oe,4):0,ie=fe(oe)?ee(oe,4):0,ue=fe(oe)?ee(oe,4):0,oe=fe(oe)?ee(oe,4):0,we=_.Qa,Me=0;4>Me;++Me){if(we.Cb){var ce=we.Zb[Me];we.Fb||(ce+=R)}else{if(0<Me){_.pb[Me]=_.pb[0];continue}ce=R}var ke=_.pb[Me];ke.Sc[0]=ko[Vs(ce+Z,127)],ke.Sc[1]=Co[Vs(ce+0,127)],ke.Eb[0]=2*ko[Vs(ce+z,127)],ke.Eb[1]=101581*Co[Vs(ce+ie,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=ko[Vs(ce+ue,117)],ke.Qc[1]=Co[Vs(ce+oe,127)],ke.lc=ce+oe}if(!ne.Rb)return sr(_,4,"Not a key frame.");for(fe(te),ne=_.Pa,R=0;4>R;++R){for(Z=0;8>Z;++Z)for(z=0;3>z;++z)for(ie=0;11>ie;++ie)ue=Ce(te,Ur[R][Z][z][ie])?Q(te,8):rx[R][Z][z][ie],ne.Wc[R][Z].Yb[z][ie]=ue;for(Z=0;17>Z;++Z)ne.Xc[R][Z]=ne.Wc[R][$n[Z]]}return _.kc=fe(te),_.kc&&(_.Bd=Q(te,8)),_.cb=1}function fu(_,T,R,z,Z,te,ne){var ie=T[Z].Yb[R];for(R=0;16>Z;++Z){if(!Ce(_,ie[R+0]))return Z;for(;!Ce(_,ie[R+1]);)if(ie=T[++Z].Yb[0],R=0,Z==16)return 16;var oe=T[Z+1].Yb;if(Ce(_,ie[R+2])){var ue=_,we=0;if(Ce(ue,(ce=ie)[(Me=R)+3]))if(Ce(ue,ce[Me+6])){for(ie=0,Me=2*(we=Ce(ue,ce[Me+8]))+(ce=Ce(ue,ce[Me+9+we])),we=0,ce=nx[Me];ce[ie];++ie)we+=we+Ce(ue,ce[ie]);we+=3+(8<<Me)}else Ce(ue,ce[Me+7])?(we=7+2*Ce(ue,165),we+=Ce(ue,145)):we=5+Ce(ue,159);else we=Ce(ue,ce[Me+4])?3+Ce(ue,ce[Me+5]):2;ie=oe[2]}else we=1,ie=oe[1];oe=ne+Ov[Z],0>(ue=_).b&&Oe(ue);var Me,ce=ue.b,ke=(Me=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=ke,ue.Ca|=1,ue.I-=(Me+1&ke)<<ce,te[oe]=((we^ke)-ke)*z[(0<Z)+0]}return 16}function rp(_){var T=_.rb[_.sb-1];T.la=0,T.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function ns(_,T,R,z,Z){Z=_[T+R+32*z]+(Z>>3),_[T+R+32*z]=-256&Z?0>Z?0:255:Z}function Hi(_,T,R,z,Z,te){ns(_,T,0,R,z+Z),ns(_,T,1,R,z+te),ns(_,T,2,R,z-te),ns(_,T,3,R,z-Z)}function Ai(_){return(20091*_>>16)+_}function Od(_,T,R,z){var Z,te=0,ne=a(16);for(Z=0;4>Z;++Z){var ie=_[T+0]+_[T+8],oe=_[T+0]-_[T+8],ue=(35468*_[T+4]>>16)-Ai(_[T+12]),we=Ai(_[T+4])+(35468*_[T+12]>>16);ne[te+0]=ie+we,ne[te+1]=oe+ue,ne[te+2]=oe-ue,ne[te+3]=ie-we,te+=4,T++}for(Z=te=0;4>Z;++Z)ie=(_=ne[te+0]+4)+ne[te+8],oe=_-ne[te+8],ue=(35468*ne[te+4]>>16)-Ai(ne[te+12]),ns(R,z,0,0,ie+(we=Ai(ne[te+4])+(35468*ne[te+12]>>16))),ns(R,z,1,0,oe+ue),ns(R,z,2,0,oe-ue),ns(R,z,3,0,ie-we),te++,z+=32}function Hm(_,T,R,z){var Z=_[T+0]+4,te=35468*_[T+4]>>16,ne=Ai(_[T+4]),ie=35468*_[T+1]>>16;Hi(R,z,0,Z+ne,_=Ai(_[T+1]),ie),Hi(R,z,1,Z+te,_,ie),Hi(R,z,2,Z-te,_,ie),Hi(R,z,3,Z-ne,_,ie)}function ip(_,T,R,z,Z){Od(_,T,R,z),Z&&Od(_,T+16,R,z+4)}function rs(_,T,R,z){Cc(_,T+0,R,z,1),Cc(_,T+32,R,z+128,1)}function ap(_,T,R,z){var Z;for(_=_[T+0]+4,Z=0;4>Z;++Z)for(T=0;4>T;++T)ns(R,z,T,Z,_)}function sp(_,T,R,z){_[T+0]&&or(_,T+0,R,z),_[T+16]&&or(_,T+16,R,z+4),_[T+32]&&or(_,T+32,R,z+128),_[T+48]&&or(_,T+48,R,z+128+4)}function Ko(_,T,R,z){var Z,te=a(16);for(Z=0;4>Z;++Z){var ne=_[T+0+Z]+_[T+12+Z],ie=_[T+4+Z]+_[T+8+Z],oe=_[T+4+Z]-_[T+8+Z],ue=_[T+0+Z]-_[T+12+Z];te[0+Z]=ne+ie,te[8+Z]=ne-ie,te[4+Z]=ue+oe,te[12+Z]=ue-oe}for(Z=0;4>Z;++Z)ne=(_=te[0+4*Z]+3)+te[3+4*Z],ie=te[1+4*Z]+te[2+4*Z],oe=te[1+4*Z]-te[2+4*Z],ue=_-te[3+4*Z],R[z+0]=ne+ie>>3,R[z+16]=ue+oe>>3,R[z+32]=ne-ie>>3,R[z+48]=ue-oe>>3,z+=64}function uh(_,T,R){var z,Z=T-32,te=za,ne=255-_[Z-1];for(z=0;z<R;++z){var ie,oe=te,ue=ne+_[T-1];for(ie=0;ie<R;++ie)_[T+ie]=oe[ue+_[Z+ie]];T+=32}}function Wm(_,T){uh(_,T,4)}function Vm(_,T){uh(_,T,8)}function op(_,T){uh(_,T,16)}function lp(_,T){var R;for(R=0;16>R;++R)r(_,T+32*R,_,T-32,16)}function Gm(_,T){var R;for(R=16;0<R;--R)i(_,T,_[T-1],16),T+=32}function Ss(_,T,R){var z;for(z=0;16>z;++z)i(T,R+32*z,_,16)}function Yo(_,T){var R,z=16;for(R=0;16>R;++R)z+=_[T-1+32*R]+_[T+R-32];Ss(z>>5,_,T)}function cc(_,T){var R,z=8;for(R=0;16>R;++R)z+=_[T-1+32*R];Ss(z>>4,_,T)}function hh(_,T){var R,z=8;for(R=0;16>R;++R)z+=_[T+R-32];Ss(z>>4,_,T)}function pu(_,T){Ss(128,_,T)}function hn(_,T,R){return _+2*T+R+2>>2}function Km(_,T){var R,z=T-32;for(z=new Uint8Array([hn(_[z-1],_[z+0],_[z+1]),hn(_[z+0],_[z+1],_[z+2]),hn(_[z+1],_[z+2],_[z+3]),hn(_[z+2],_[z+3],_[z+4])]),R=0;4>R;++R)r(_,T+32*R,z,0,z.length)}function cp(_,T){var R=_[T-1],z=_[T-1+32],Z=_[T-1+64],te=_[T-1+96];Fe(_,T+0,16843009*hn(_[T-1-32],R,z)),Fe(_,T+32,16843009*hn(R,z,Z)),Fe(_,T+64,16843009*hn(z,Z,te)),Fe(_,T+96,16843009*hn(Z,te,te))}function Ym(_,T){var R,z=4;for(R=0;4>R;++R)z+=_[T+R-32]+_[T-1+32*R];for(z>>=3,R=0;4>R;++R)i(_,T+32*R,z,4)}function Gs(_,T){var R=_[T-1+0],z=_[T-1+32],Z=_[T-1+64],te=_[T-1-32],ne=_[T+0-32],ie=_[T+1-32],oe=_[T+2-32],ue=_[T+3-32];_[T+0+96]=hn(z,Z,_[T-1+96]),_[T+1+96]=_[T+0+64]=hn(R,z,Z),_[T+2+96]=_[T+1+64]=_[T+0+32]=hn(te,R,z),_[T+3+96]=_[T+2+64]=_[T+1+32]=_[T+0+0]=hn(ne,te,R),_[T+3+64]=_[T+2+32]=_[T+1+0]=hn(ie,ne,te),_[T+3+32]=_[T+2+0]=hn(oe,ie,ne),_[T+3+0]=hn(ue,oe,ie)}function ga(_,T){var R=_[T+1-32],z=_[T+2-32],Z=_[T+3-32],te=_[T+4-32],ne=_[T+5-32],ie=_[T+6-32],oe=_[T+7-32];_[T+0+0]=hn(_[T+0-32],R,z),_[T+1+0]=_[T+0+32]=hn(R,z,Z),_[T+2+0]=_[T+1+32]=_[T+0+64]=hn(z,Z,te),_[T+3+0]=_[T+2+32]=_[T+1+64]=_[T+0+96]=hn(Z,te,ne),_[T+3+32]=_[T+2+64]=_[T+1+96]=hn(te,ne,ie),_[T+3+64]=_[T+2+96]=hn(ne,ie,oe),_[T+3+96]=hn(ie,oe,oe)}function up(_,T){var R=_[T-1+0],z=_[T-1+32],Z=_[T-1+64],te=_[T-1-32],ne=_[T+0-32],ie=_[T+1-32],oe=_[T+2-32],ue=_[T+3-32];_[T+0+0]=_[T+1+64]=te+ne+1>>1,_[T+1+0]=_[T+2+64]=ne+ie+1>>1,_[T+2+0]=_[T+3+64]=ie+oe+1>>1,_[T+3+0]=oe+ue+1>>1,_[T+0+96]=hn(Z,z,R),_[T+0+64]=hn(z,R,te),_[T+0+32]=_[T+1+96]=hn(R,te,ne),_[T+1+32]=_[T+2+96]=hn(te,ne,ie),_[T+2+32]=_[T+3+96]=hn(ne,ie,oe),_[T+3+32]=hn(ie,oe,ue)}function dh(_,T){var R=_[T+0-32],z=_[T+1-32],Z=_[T+2-32],te=_[T+3-32],ne=_[T+4-32],ie=_[T+5-32],oe=_[T+6-32],ue=_[T+7-32];_[T+0+0]=R+z+1>>1,_[T+1+0]=_[T+0+64]=z+Z+1>>1,_[T+2+0]=_[T+1+64]=Z+te+1>>1,_[T+3+0]=_[T+2+64]=te+ne+1>>1,_[T+0+32]=hn(R,z,Z),_[T+1+32]=_[T+0+96]=hn(z,Z,te),_[T+2+32]=_[T+1+96]=hn(Z,te,ne),_[T+3+32]=_[T+2+96]=hn(te,ne,ie),_[T+3+64]=hn(ne,ie,oe),_[T+3+96]=hn(ie,oe,ue)}function Ks(_,T){var R=_[T-1+0],z=_[T-1+32],Z=_[T-1+64],te=_[T-1+96];_[T+0+0]=R+z+1>>1,_[T+2+0]=_[T+0+32]=z+Z+1>>1,_[T+2+32]=_[T+0+64]=Z+te+1>>1,_[T+1+0]=hn(R,z,Z),_[T+3+0]=_[T+1+32]=hn(z,Z,te),_[T+3+32]=_[T+1+64]=hn(Z,te,te),_[T+3+64]=_[T+2+64]=_[T+0+96]=_[T+1+96]=_[T+2+96]=_[T+3+96]=te}function fh(_,T){var R=_[T-1+0],z=_[T-1+32],Z=_[T-1+64],te=_[T-1+96],ne=_[T-1-32],ie=_[T+0-32],oe=_[T+1-32],ue=_[T+2-32];_[T+0+0]=_[T+2+32]=R+ne+1>>1,_[T+0+32]=_[T+2+64]=z+R+1>>1,_[T+0+64]=_[T+2+96]=Z+z+1>>1,_[T+0+96]=te+Z+1>>1,_[T+3+0]=hn(ie,oe,ue),_[T+2+0]=hn(ne,ie,oe),_[T+1+0]=_[T+3+32]=hn(R,ne,ie),_[T+1+32]=_[T+3+64]=hn(z,R,ne),_[T+1+64]=_[T+3+96]=hn(Z,z,R),_[T+1+96]=hn(te,Z,z)}function Tl(_,T){var R;for(R=0;8>R;++R)r(_,T+32*R,_,T-32,8)}function Xm(_,T){var R;for(R=0;8>R;++R)i(_,T,_[T-1],8),T+=32}function go(_,T,R){var z;for(z=0;8>z;++z)i(T,R+32*z,_,8)}function Pd(_,T){var R,z=8;for(R=0;8>R;++R)z+=_[T+R-32]+_[T-1+32*R];go(z>>4,_,T)}function Nd(_,T){var R,z=4;for(R=0;8>R;++R)z+=_[T+R-32];go(z>>3,_,T)}function na(_,T){var R,z=4;for(R=0;8>R;++R)z+=_[T-1+32*R];go(z>>3,_,T)}function El(_,T){go(128,_,T)}function vo(_,T,R){var z=_[T-R],Z=_[T+0],te=3*(Z-z)+Tc[1020+_[T-2*R]-_[T+R]],ne=bp[112+(te+4>>3)];_[T-R]=za[255+z+bp[112+(te+3>>3)]],_[T+0]=za[255+Z-ne]}function uc(_,T,R,z){var Z=_[T+0],te=_[T+R];return ba[255+_[T-2*R]-_[T-R]]>z||ba[255+te-Z]>z}function Ld(_,T,R,z){return 4*ba[255+_[T-R]-_[T+0]]+ba[255+_[T-2*R]-_[T+R]]<=z}function ph(_,T,R,z,Z){var te=_[T-3*R],ne=_[T-2*R],ie=_[T-R],oe=_[T+0],ue=_[T+R],we=_[T+2*R],Me=_[T+3*R];return 4*ba[255+ie-oe]+ba[255+ne-ue]>z?0:ba[255+_[T-4*R]-te]<=Z&&ba[255+te-ne]<=Z&&ba[255+ne-ie]<=Z&&ba[255+Me-we]<=Z&&ba[255+we-ue]<=Z&&ba[255+ue-oe]<=Z}function hc(_,T,R,z){var Z=2*z+1;for(z=0;16>z;++z)Ld(_,T+z,R,Z)&&vo(_,T+z,R)}function dc(_,T,R,z){var Z=2*z+1;for(z=0;16>z;++z)Ld(_,T+z*R,1,Z)&&vo(_,T+z*R,1)}function mh(_,T,R,z){var Z;for(Z=3;0<Z;--Z)hc(_,T+=4*R,R,z)}function hp(_,T,R,z){var Z;for(Z=3;0<Z;--Z)dc(_,T+=4,R,z)}function fc(_,T,R,z,Z,te,ne,ie){for(te=2*te+1;0<Z--;){if(ph(_,T,R,te,ne))if(uc(_,T,R,ie))vo(_,T,R);else{var oe=_,ue=T,we=R,Me=oe[ue-2*we],ce=oe[ue-we],ke=oe[ue+0],Pe=oe[ue+we],He=oe[ue+2*we],Le=27*(Ge=Tc[1020+3*(ke-ce)+Tc[1020+Me-Pe]])+63>>7,qe=18*Ge+63>>7,Ge=9*Ge+63>>7;oe[ue-3*we]=za[255+oe[ue-3*we]+Ge],oe[ue-2*we]=za[255+Me+qe],oe[ue-we]=za[255+ce+Le],oe[ue+0]=za[255+ke-Le],oe[ue+we]=za[255+Pe-qe],oe[ue+2*we]=za[255+He-Ge]}T+=z}}function pc(_,T,R,z,Z,te,ne,ie){for(te=2*te+1;0<Z--;){if(ph(_,T,R,te,ne))if(uc(_,T,R,ie))vo(_,T,R);else{var oe=_,ue=T,we=R,Me=oe[ue-we],ce=oe[ue+0],ke=oe[ue+we],Pe=bp[112+(4+(He=3*(ce-Me))>>3)],He=bp[112+(He+3>>3)],Le=Pe+1>>1;oe[ue-2*we]=za[255+oe[ue-2*we]+Le],oe[ue-we]=za[255+Me+He],oe[ue+0]=za[255+ce-Pe],oe[ue+we]=za[255+ke-Le]}T+=z}}function Jm(_,T,R,z,Z,te){fc(_,T,R,1,16,z,Z,te)}function mc(_,T,R,z,Z,te){fc(_,T,1,R,16,z,Z,te)}function Zm(_,T,R,z,Z,te){var ne;for(ne=3;0<ne;--ne)pc(_,T+=4*R,R,1,16,z,Z,te)}function N(_,T,R,z,Z,te){var ne;for(ne=3;0<ne;--ne)pc(_,T+=4,1,R,16,z,Z,te)}function X(_,T,R,z,Z,te,ne,ie){fc(_,T,Z,1,8,te,ne,ie),fc(R,z,Z,1,8,te,ne,ie)}function de(_,T,R,z,Z,te,ne,ie){fc(_,T,1,Z,8,te,ne,ie),fc(R,z,1,Z,8,te,ne,ie)}function ve(_,T,R,z,Z,te,ne,ie){pc(_,T+4*Z,Z,1,8,te,ne,ie),pc(R,z+4*Z,Z,1,8,te,ne,ie)}function Ee(_,T,R,z,Z,te,ne,ie){pc(_,T+4,1,Z,8,te,ne,ie),pc(R,z+4,1,Z,8,te,ne,ie)}function Ve(){this.ba=new kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kt(){this.ua=0,this.Wa=new Xt,this.vb=new Xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new K}function gn(){this.xb=this.a=0,this.l=new lc,this.ca=new kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kt,this.ab=0,this.gc=s(4,Mt),this.Oc=0}function Tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jn(_,T,R,z,Z,te,ne){for(_=_==null?0:_[T+0],T=0;T<ne;++T)Z[te+T]=_+R[z+T]&255,_=Z[te+T]}function ei(_,T,R,z,Z,te,ne){var ie;if(_==null)Jn(null,null,R,z,Z,te,ne);else for(ie=0;ie<ne;++ie)Z[te+ie]=_[T+ie]+R[z+ie]&255}function wi(_,T,R,z,Z,te,ne){if(_==null)Jn(null,null,R,z,Z,te,ne);else{var ie,oe=_[T+0],ue=oe,we=oe;for(ie=0;ie<ne;++ie)ue=we+(oe=_[T+ie])-ue,we=R[z+ie]+(-256&ue?0>ue?0:255:ue)&255,ue=oe,Z[te+ie]=we}}function Lr(_,T,R,z){var Z=T.width,te=T.o;if(e(_!=null&&T!=null),0>R||0>=z||R+z>te)return null;if(!_.Cc){if(_.ga==null){var ne;if(_.ga=new Tn,(ne=_.ga==null)||(ne=T.width*T.o,e(_.Gb.length==0),_.Gb=a(ne),_.Uc=0,_.Gb==null?ne=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ne=1),ne=!ne),!ne){ne=_.ga;var ie=_.Fa,oe=_.P,ue=_.qc,we=_.mb,Me=_.nb,ce=oe+1,ke=ue-1,Pe=ne.l;if(e(ie!=null&&we!=null&&T!=null),Ec[0]=null,Ec[1]=Jn,Ec[2]=ei,Ec[3]=wi,ne.ca=we,ne.tb=Me,ne.c=T.width,ne.i=T.height,e(0<ne.c&&0<ne.i),1>=ue)T=0;else if(ne.$a=3&ie[oe+0],ne.Z=ie[oe+0]>>2&3,ne.Lc=ie[oe+0]>>4&3,oe=ie[oe+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||oe)T=0;else if(Pe.put=Zt,Pe.ac=ws,Pe.bc=$s,Pe.ma=ne,Pe.width=T.width,Pe.height=T.height,Pe.Da=T.Da,Pe.v=T.v,Pe.va=T.va,Pe.j=T.j,Pe.o=T.o,ne.$a)e:{e(ne.$a==1),T=kl();t:for(;;){if(T==null){T=0;break e}if(e(ne!=null),ne.mc=T,T.c=ne.c,T.i=ne.i,T.l=ne.l,T.l.ma=ne,T.l.width=ne.c,T.l.height=ne.i,T.a=0,he(T.m,ie,ce,ke),!Hs(ne.c,ne.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&hr(T.s)?(ne.ic=1,ie=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ie),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ne.ic=0,T=Et(T,ne.c)),!T))break t;T=1;break e}ne.mc=null,T=0}else T=ke>=ne.c*ne.i;ne=!T}if(ne)return null;_.ga.Lc!=1?_.Ga=0:z=te-R}e(_.ga!=null),e(R+z<=te);e:{if(T=(ie=_.ga).c,te=ie.l.o,ie.$a==0){if(ce=_.rc,ke=_.Vc,Pe=_.Fa,oe=_.P+1+R*T,ue=_.mb,we=_.nb+R*T,e(oe<=_.P+_.qc),ie.Z!=0)for(e(Ec[ie.Z]!=null),ne=0;ne<z;++ne)Ec[ie.Z](ce,ke,Pe,oe,ue,we,T),ce=ue,ke=we,we+=T,oe+=T;else for(ne=0;ne<z;++ne)r(ue,we,Pe,oe,T),ce=ue,ke=we,we+=T,oe+=T;_.rc=ce,_.Vc=ke}else{if(e(ie.mc!=null),T=R+z,e((ne=ie.mc)!=null),e(T<=ne.i),ne.C>=T)T=1;else if(ie.ic||Xo(),ie.ic){ie=ne.V,ce=ne.Ba,ke=ne.c;var He=ne.i,Le=(Pe=1,oe=ne.$/ke,ue=ne.$%ke,we=ne.m,Me=ne.s,ne.$),qe=ke*He,Ge=ke*T,ct=Me.wc,Je=Le<Ge?xi(Me,ue,oe):null;e(Le<=qe),e(T<=He),e(hr(Me));t:for(;;){for(;!we.h&&Le<Ge;){if(ue&ct||(Je=xi(Me,ue,oe)),e(Je!=null),xe(we),256>(He=zn(Je.G[0],Je.H[0],we)))ie[ce+Le]=He,++Le,++ue>=ke&&(ue=0,++oe<=T&&!(oe%16)&&qi(ne,oe));else{if(!(280>He)){Pe=0;break t}He=Ba(He-256,we);var Dt,kt=zn(Je.G[4],Je.H[4],we);if(xe(we),!(Le>=(kt=es(ke,kt=Ba(kt,we)))&&qe-Le>=He)){Pe=0;break t}for(Dt=0;Dt<He;++Dt)ie[ce+Le+Dt]=ie[ce+Le+Dt-kt];for(Le+=He,ue+=He;ue>=ke;)ue-=ke,++oe<=T&&!(oe%16)&&qi(ne,oe);Le<Ge&&ue&ct&&(Je=xi(Me,ue,oe))}e(we.h==le(we))}qi(ne,oe>T?T:oe);break t}!Pe||we.h&&Le<qe?(Pe=0,ne.a=we.h?5:3):ne.$=Le,T=Pe}else T=Fa(ne,ne.V,ne.Ba,ne.c,ne.i,T,be);if(!T){z=0;break e}}R+z>=te&&(_.Cc=1),z=1}if(!z)return null;if(_.Cc&&((z=_.ga)!=null&&(z.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+R*Z}function Wi(_,T,R,z,Z,te){for(;0<Z--;){var ne,ie=_,oe=T+(R?1:0),ue=_,we=T+(R?0:3);for(ne=0;ne<z;++ne){var Me=ue[we+4*ne];Me!=255&&(Me*=32897,ie[oe+4*ne+0]=ie[oe+4*ne+0]*Me>>23,ie[oe+4*ne+1]=ie[oe+4*ne+1]*Me>>23,ie[oe+4*ne+2]=ie[oe+4*ne+2]*Me>>23)}T+=te}}function Oi(_,T,R,z,Z){for(;0<z--;){var te;for(te=0;te<R;++te){var ne=_[T+2*te+0],ie=15&(ue=_[T+2*te+1]),oe=4369*ie,ue=(240&ue|ue>>4)*oe>>16;_[T+2*te+0]=(240&ne|ne>>4)*oe>>16&240|(15&ne|ne<<4)*oe>>16>>4&15,_[T+2*te+1]=240&ue|ie}T+=Z}}function va(_,T,R,z,Z,te,ne,ie){var oe,ue,we=255;for(ue=0;ue<Z;++ue){for(oe=0;oe<z;++oe){var Me=_[T+oe];te[ne+4*oe]=Me,we&=Me}T+=R,ne+=ie}return we!=255}function gc(_,T,R,z,Z){var te;for(te=0;te<Z;++te)R[z+te]=_[T+te]>>8}function Xo(){bh=Wi,bo=Oi,gp=va,Js=gc}function vc(_,T,R){U[_]=function(z,Z,te,ne,ie,oe,ue,we,Me,ce,ke,Pe,He,Le,qe,Ge,ct){var Je,Dt=ct-1>>1,kt=ie[oe+0]|ue[we+0]<<16,xn=Me[ce+0]|ke[Pe+0]<<16;e(z!=null);var Pt=3*kt+xn+131074>>2;for(T(z[Z+0],255&Pt,Pt>>16,He,Le),te!=null&&(Pt=3*xn+kt+131074>>2,T(te[ne+0],255&Pt,Pt>>16,qe,Ge)),Je=1;Je<=Dt;++Je){var Dn=ie[oe+Je]|ue[we+Je]<<16,zr=Me[ce+Je]|ke[Pe+Je]<<16,En=kt+Dn+xn+zr+524296,Ct=En+2*(Dn+xn)>>3;Pt=Ct+kt>>1,kt=(En=En+2*(kt+zr)>>3)+Dn>>1,T(z[Z+2*Je-1],255&Pt,Pt>>16,He,Le+(2*Je-1)*R),T(z[Z+2*Je-0],255&kt,kt>>16,He,Le+(2*Je-0)*R),te!=null&&(Pt=En+xn>>1,kt=Ct+zr>>1,T(te[ne+2*Je-1],255&Pt,Pt>>16,qe,Ge+(2*Je-1)*R),T(te[ne+2*Je+0],255&kt,kt>>16,qe,Ge+(2*Je+0)*R)),kt=Dn,xn=zr}1&ct||(Pt=3*kt+xn+131074>>2,T(z[Z+ct-1],255&Pt,Pt>>16,He,Le+(ct-1)*R),te!=null&&(Pt=3*xn+kt+131074>>2,T(te[ne+ct-1],255&Pt,Pt>>16,qe,Ge+(ct-1)*R)))}}function dp(){wa[ng]=Sh,wa[$a]=qd,wa[rg]=Nv,wa[xo]=lg,wa[xp]=wu,wa[Ud]=jl,wa[yu]=Su,wa[wp]=qd,wa[ig]=lg,wa[zd]=wu,wa[ag]=jl}function Md(_){return _&-16384?0>_?0:255:_>>cg}function Al(_,T){return Md((19077*_>>8)+(26149*T>>8)-14234)}function Jo(_,T,R){return Md((19077*_>>8)-(6419*T>>8)-(13320*R>>8)+8708)}function gh(_,T){return Md((19077*_>>8)+(33050*T>>8)-17685)}function yc(_,T,R,z,Z){z[Z+0]=Al(_,R),z[Z+1]=Jo(_,T,R),z[Z+2]=gh(_,T)}function ra(_,T,R,z,Z){z[Z+0]=gh(_,T),z[Z+1]=Jo(_,T,R),z[Z+2]=Al(_,R)}function mu(_,T,R,z,Z){var te=Jo(_,T,R);T=te<<3&224|gh(_,T)>>3,z[Z+0]=248&Al(_,R)|te>>5,z[Z+1]=T}function gu(_,T,R,z,Z){var te=240&gh(_,T)|15;z[Z+0]=240&Al(_,R)|Jo(_,T,R)>>4,z[Z+1]=te}function Rd(_,T,R,z,Z){z[Z+0]=255,yc(_,T,R,z,Z+1)}function Ol(_,T,R,z,Z){ra(_,T,R,z,Z),z[Z+3]=255}function is(_,T,R,z,Z){yc(_,T,R,z,Z),z[Z+3]=255}function bc(_,T,R){U[_]=function(z,Z,te,ne,ie,oe,ue,we,Me){for(var ce=we+(-2&Me)*R;we!=ce;)T(z[Z+0],te[ne+0],ie[oe+0],ue,we),T(z[Z+1],te[ne+0],ie[oe+0],ue,we+R),Z+=2,++ne,++oe,we+=2*R;1&Me&&T(z[Z+0],te[ne+0],ie[oe+0],ue,we)}}function Id(_,T,R){return R==0?_==0?T==0?6:5:T==0?4:0:R}function fp(_,T,R,z,Z){switch(_>>>30){case 3:Cc(T,R,z,Z,0);break;case 2:Ua(T,R,z,Z);break;case 1:or(T,R,z,Z)}}function Ys(_,T){var R,z,Z=T.M,te=T.Nb,ne=_.oc,ie=_.pc+40,oe=_.oc,ue=_.pc+584,we=_.oc,Me=_.pc+600;for(R=0;16>R;++R)ne[ie+32*R-1]=129;for(R=0;8>R;++R)oe[ue+32*R-1]=129,we[Me+32*R-1]=129;for(0<Z?ne[ie-1-32]=oe[ue-1-32]=we[Me-1-32]=129:(i(ne,ie-32-1,127,21),i(oe,ue-32-1,127,9),i(we,Me-32-1,127,9)),z=0;z<_.za;++z){var ce=T.ya[T.aa+z];if(0<z){for(R=-1;16>R;++R)r(ne,ie+32*R-4,ne,ie+32*R+12,4);for(R=-1;8>R;++R)r(oe,ue+32*R-4,oe,ue+32*R+4,4),r(we,Me+32*R-4,we,Me+32*R+4,4)}var ke=_.Gd,Pe=_.Hd+z,He=ce.ad,Le=ce.Hc;if(0<Z&&(r(ne,ie-32,ke[Pe].y,0,16),r(oe,ue-32,ke[Pe].f,0,8),r(we,Me-32,ke[Pe].ea,0,8)),ce.Za){var qe=ne,Ge=ie-32+16;for(0<Z&&(z>=_.za-1?i(qe,Ge,ke[Pe].y[15],4):r(qe,Ge,ke[Pe+1].y,0,4)),R=0;4>R;R++)qe[Ge+128+R]=qe[Ge+256+R]=qe[Ge+384+R]=qe[Ge+0+R];for(R=0;16>R;++R,Le<<=2)qe=ne,Ge=ie+ki[R],ui[ce.Ob[R]](qe,Ge),fp(Le,He,16*+R,qe,Ge)}else if(qe=Id(z,Z,ce.Ob[0]),ss[qe](ne,ie),Le!=0)for(R=0;16>R;++R,Le<<=2)fp(Le,He,16*+R,ne,ie+ki[R]);for(R=ce.Gc,qe=Id(z,Z,ce.Dd),tl[qe](oe,ue),tl[qe](we,Me),Le=He,qe=oe,Ge=ue,255&(ce=0|R)&&(170&ce?yo(Le,256,qe,Ge):Zn(Le,256,qe,Ge)),ce=we,Le=Me,255&(R>>=8)&&(170&R?yo(He,320,ce,Le):Zn(He,320,ce,Le)),Z<_.Ub-1&&(r(ke[Pe].y,0,ne,ie+480,16),r(ke[Pe].f,0,oe,ue+224,8),r(ke[Pe].ea,0,we,Me+224,8)),R=8*te*_.B,ke=_.sa,Pe=_.ta+16*z+16*te*_.R,He=_.qa,ce=_.ra+8*z+R,Le=_.Ha,qe=_.Ia+8*z+R,R=0;16>R;++R)r(ke,Pe+R*_.R,ne,ie+32*R,16);for(R=0;8>R;++R)r(He,ce+R*_.B,oe,ue+32*R,8),r(Le,qe+R*_.B,we,Me+32*R,8)}}function Zo(_,T,R,z,Z,te,ne,ie,oe){var ue=[0],we=[0],Me=0,ce=oe!=null?oe.kd:0,ke=oe??new it;if(_==null||12>R)return 7;ke.data=_,ke.w=T,ke.ha=R,T=[T],R=[R],ke.gb=[ke.gb];e:{var Pe=T,He=R,Le=ke.gb;if(e(_!=null),e(He!=null),e(Le!=null),Le[0]=0,12<=He[0]&&!n(_,Pe[0],"RIFF")){if(n(_,Pe[0]+8,"WEBP")){Le=3;break e}var qe=rt(_,Pe[0]+4);if(12>qe||4294967286<qe){Le=3;break e}if(ce&&qe>He[0]-8){Le=7;break e}Le[0]=qe,Pe[0]+=12,He[0]-=12}Le=0}if(Le!=0)return Le;for(qe=0<ke.gb[0],R=R[0];;){e:{var Ge=_;He=T,Le=R;var ct=ue,Je=we,Dt=Pe=[0];if((Pt=Me=[Me])[0]=0,8>Le[0])Le=7;else{if(!n(Ge,He[0],"VP8X")){if(rt(Ge,He[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var kt=rt(Ge,He[0]+8),xn=1+nt(Ge,He[0]+12);if(2147483648<=xn*(Ge=1+nt(Ge,He[0]+15))){Le=3;break e}Dt!=null&&(Dt[0]=kt),ct!=null&&(ct[0]=xn),Je!=null&&(Je[0]=Ge),He[0]+=18,Le[0]-=18,Pt[0]=1}Le=0}}if(Me=Me[0],Pe=Pe[0],Le!=0)return Le;if(He=!!(2&Pe),!qe&&Me)return 3;if(te!=null&&(te[0]=!!(16&Pe)),ne!=null&&(ne[0]=He),ie!=null&&(ie[0]=0),ne=ue[0],Pe=we[0],Me&&He&&oe==null){Le=0;break}if(4>R){Le=7;break}if(qe&&Me||!qe&&!Me&&!n(_,T[0],"ALPH")){R=[R],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{kt=_,Le=T,qe=R;var Pt=ke.gb;ct=ke.na,Je=ke.P,Dt=ke.Sa,xn=22,e(kt!=null),e(qe!=null),Ge=Le[0];var Dn=qe[0];for(e(ct!=null),e(Dt!=null),ct[0]=null,Je[0]=null,Dt[0]=0;;){if(Le[0]=Ge,qe[0]=Dn,8>Dn){Le=7;break e}var zr=rt(kt,Ge+4);if(4294967286<zr){Le=3;break e}var En=8+zr+1&-2;if(xn+=En,0<Pt&&xn>Pt){Le=3;break e}if(!n(kt,Ge,"VP8 ")||!n(kt,Ge,"VP8L")){Le=0;break e}if(Dn[0]<En){Le=7;break e}n(kt,Ge,"ALPH")||(ct[0]=kt,Je[0]=Ge+8,Dt[0]=zr),Ge+=En,Dn-=En}}if(R=R[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Le!=0)break}R=[R],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Pt=_,Le=T,qe=R,ct=ke.gb[0],Je=ke.Ja,Dt=ke.xa,kt=Le[0],Ge=!n(Pt,kt,"VP8 "),xn=!n(Pt,kt,"VP8L"),e(Pt!=null),e(qe!=null),e(Je!=null),e(Dt!=null),8>qe[0])Le=7;else{if(Ge||xn){if(Pt=rt(Pt,kt+4),12<=ct&&Pt>ct-12){Le=3;break e}if(ce&&Pt>qe[0]-8){Le=7;break e}Je[0]=Pt,Le[0]+=8,qe[0]-=8,Dt[0]=xn}else Dt[0]=5<=qe[0]&&Pt[kt+0]==47&&!(Pt[kt+4]>>5),Je[0]=qe[0];Le=0}if(R=R[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],T=T[0],Le!=0)break;if(4294967286<ke.Ja)return 3;if(ie==null||He||(ie[0]=ke.xa?2:1),ne=[ne],Pe=[Pe],ke.xa){if(5>R){Le=7;break}ie=ne,ce=Pe,He=te,_==null||5>R?_=0:5<=R&&_[T+0]==47&&!(_[T+4]>>5)?(qe=[0],Pt=[0],ct=[0],he(Je=new F,_,T,R),qs(Je,qe,Pt,ct)?(ie!=null&&(ie[0]=qe[0]),ce!=null&&(ce[0]=Pt[0]),He!=null&&(He[0]=ct[0]),_=1):_=0):_=0}else{if(10>R){Le=7;break}ie=Pe,_==null||10>R||!np(_,T+3,R-3)?_=0:(ce=_[T+0]|_[T+1]<<8|_[T+2]<<16,He=16383&(_[T+7]<<8|_[T+6]),_=16383&(_[T+9]<<8|_[T+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=ke.Ja||!He||!_?_=0:(ne&&(ne[0]=He),ie&&(ie[0]=_),_=1))}if(!_||(ne=ne[0],Pe=Pe[0],Me&&(ue[0]!=ne||we[0]!=Pe)))return 3;oe!=null&&(oe[0]=ke,oe.offset=T-oe.w,e(4294967286>T-oe.w),e(oe.offset==oe.ha-R));break}return Le==0||Le==7&&Me&&oe==null?(te!=null&&(te[0]|=ke.na!=null&&0<ke.na.length),z!=null&&(z[0]=ne),Z!=null&&(Z[0]=Pe),0):Le}function xc(_,T,R){var z=T.width,Z=T.height,te=0,ne=0,ie=z,oe=Z;if(T.Da=_!=null&&0<_.Da,T.Da&&(ie=_.cd,oe=_.bd,te=_.v,ne=_.j,11>R||(te&=-2,ne&=-2),0>te||0>ne||0>=ie||0>=oe||te+ie>z||ne+oe>Z))return 0;if(T.v=te,T.j=ne,T.va=te+ie,T.o=ne+oe,T.U=ie,T.T=oe,T.da=_!=null&&0<_.da,T.da){if(!Tt(ie,oe,R=[_.ib],te=[_.hb]))return 0;T.ib=R[0],T.hb=te[0]}return T.ob=_!=null&&_.ob,T.Kb=_==null||!_.Sd,T.da&&(T.ob=T.ib<3*z/4&&T.hb<3*Z/4,T.Kb=0),1}function pp(_){if(_==null)return 2;if(11>_.S){var T=_.f.RGBA;T.fb+=(_.height-1)*T.A,T.A=-T.A}else T=_.f.kb,_=_.height,T.O+=(_-1)*T.fa,T.fa=-T.fa,T.N+=(_-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(_-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(_-1)*T.lb,T.lb=-T.lb);return 0}function Qo(_,T,R,z){if(z==null||0>=_||0>=T)return 2;if(R!=null){if(R.Da){var Z=R.cd,te=R.bd,ne=-2&R.v,ie=-2&R.j;if(0>ne||0>ie||0>=Z||0>=te||ne+Z>_||ie+te>T)return 2;_=Z,T=te}if(R.da){if(!Tt(_,T,Z=[R.ib],te=[R.hb]))return 2;_=Z[0],T=te[0]}}z.width=_,z.height=T;e:{var oe=z.width,ue=z.height;if(_=z.S,0>=oe||0>=ue||!(_>=ng&&13>_))_=2;else{if(0>=z.Rd&&z.sd==null){ne=te=Z=T=0;var we=(ie=oe*hg[_])*ue;if(11>_||(te=(ue+1)/2*(T=(oe+1)/2),_==12&&(ne=(Z=oe)*ue)),(ue=a(we+2*te+ne))==null){_=1;break e}z.sd=ue,11>_?((oe=z.f.RGBA).eb=ue,oe.fb=0,oe.A=ie,oe.size=we):((oe=z.f.kb).y=ue,oe.O=0,oe.fa=ie,oe.Fd=we,oe.f=ue,oe.N=0+we,oe.Ab=T,oe.Cd=te,oe.ea=ue,oe.W=0+we+te,oe.Db=T,oe.Ed=te,_==12&&(oe.F=ue,oe.J=0+we+2*te),oe.Tc=ne,oe.lb=Z)}if(T=1,Z=z.S,te=z.width,ne=z.height,Z>=ng&&13>Z)if(11>Z)_=z.f.RGBA,T&=(ie=Math.abs(_.A))*(ne-1)+te<=_.size,T&=ie>=te*hg[Z],T&=_.eb!=null;else{_=z.f.kb,ie=(te+1)/2,we=(ne+1)/2,oe=Math.abs(_.fa),ue=Math.abs(_.Ab);var Me=Math.abs(_.Db),ce=Math.abs(_.lb),ke=ce*(ne-1)+te;T&=oe*(ne-1)+te<=_.Fd,T&=ue*(we-1)+ie<=_.Cd,T=(T&=Me*(we-1)+ie<=_.Ed)&oe>=te&ue>=ie&Me>=ie,T&=_.y!=null,T&=_.f!=null,T&=_.ea!=null,Z==12&&(T&=ce>=te,T&=ke<=_.Tc,T&=_.F!=null)}else T=0;_=T?0:2}}return _!=0||R!=null&&R.fd&&(_=pp(z)),_}var vu=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],as=24,Pl=32,Nl=8,wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(_){return _},U.Predictor2=function(_,T,R){return T[R+0]},U.Predictor3=function(_,T,R){return T[R+1]},U.Predictor4=function(_,T,R){return T[R-1]},U.Predictor5=function(_,T,R){return Ht(Ht(_,T[R+1]),T[R+0])},U.Predictor6=function(_,T,R){return Ht(_,T[R-1])},U.Predictor7=function(_,T,R){return Ht(_,T[R+0])},U.Predictor8=function(_,T,R){return Ht(T[R-1],T[R+0])},U.Predictor9=function(_,T,R){return Ht(T[R+0],T[R+1])},U.Predictor10=function(_,T,R){return Ht(Ht(_,T[R-1]),Ht(T[R+0],T[R+1]))},U.Predictor11=function(_,T,R){var z=T[R+0];return 0>=_e(z>>24&255,_>>24&255,(T=T[R-1])>>24&255)+_e(z>>16&255,_>>16&255,T>>16&255)+_e(z>>8&255,_>>8&255,T>>8&255)+_e(255&z,255&_,255&T)?z:_},U.Predictor12=function(_,T,R){var z=T[R+0];return(st((_>>24&255)+(z>>24&255)-((T=T[R-1])>>24&255))<<24|st((_>>16&255)+(z>>16&255)-(T>>16&255))<<16|st((_>>8&255)+(z>>8&255)-(T>>8&255))<<8|st((255&_)+(255&z)-(255&T)))>>>0},U.Predictor13=function(_,T,R){var z=T[R-1];return(mt((_=Ht(_,T[R+0]))>>24&255,z>>24&255)<<24|mt(_>>16&255,z>>16&255)<<16|mt(_>>8&255,z>>8&255)<<8|mt(255&_,255&z))>>>0};var jd=U.PredictorAdd0;U.PredictorAdd1=De,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var Dd=U.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Si,Qm=U.ColorIndexInverseTransform,Ll=U.MapARGB,Ml=U.VP8LColorIndexInverseTransformAlpha,ya=U.MapAlpha,Sc=U.VP8LPredictorsAdd=[];Sc.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Bd,Fd,_c,kc,Rl,vh,Xs,Cc,Ua,yo,or,Zn,Mr,_i,Il,el,yh,mp,Tv,Q1,ex,tx,Ev,Av,bh,bo,gp,Js,xh=a(511),eg=a(2041),vp=a(225),yp=a(767),tg=0,Tc=eg,bp=vp,za=yp,ba=xh,ng=0,$a=1,rg=2,xo=3,xp=4,Ud=5,yu=6,wp=7,ig=8,zd=9,ag=10,wo=[2,3,7],$d=[3,3,11],wh=[280,256,256,256,40],sg=[0,1,1,1,0],Sp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],So=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_o=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bu=8,ko=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Co=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zs=null,nx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ov=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],og=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ur=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$n=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ss=[],ui=[],tl=[],xu=1,Pv=2,Ec=[],wa=[];vc("UpsampleRgbLinePair",yc,3),vc("UpsampleBgrLinePair",ra,3),vc("UpsampleRgbaLinePair",is,4),vc("UpsampleBgraLinePair",Ol,4),vc("UpsampleArgbLinePair",Rd,4),vc("UpsampleRgba4444LinePair",gu,2),vc("UpsampleRgb565LinePair",mu,2);var Sh=U.UpsampleRgbLinePair,Nv=U.UpsampleBgrLinePair,qd=U.UpsampleRgbaLinePair,lg=U.UpsampleBgraLinePair,wu=U.UpsampleArgbLinePair,jl=U.UpsampleRgba4444LinePair,Su=U.UpsampleRgb565LinePair,To=16,Hd=1<<To-1,_h=-227,_u=482,cg=6,ku=0,Sa=a(256),ug=a(256),ix=a(256),bC=a(256),xC=a(_u-_h),wC=a(_u-_h);bc("YuvToRgbRow",yc,3),bc("YuvToBgrRow",ra,3),bc("YuvToRgbaRow",is,4),bc("YuvToBgraRow",Ol,4),bc("YuvToArgbRow",Rd,4),bc("YuvToRgba4444Row",gu,2),bc("YuvToRgb565Row",mu,2);var ki=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wd=[0,2,8],_p=[8,7,6,4,4,2,2,2,1,1,1,1],kp=1;this.WebPDecodeRGBA=function(_,T,R,z,Z){var te=$a,ne=new Ve,ie=new kn;ne.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var oe=ie.width,ue=ie.height,we=new jt;if(we==null||_==null)var Me=2;else e(we!=null),Me=Zo(_,T,R,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Me!=0?oe=0:(oe!=null&&(oe[0]=we.width[0]),ue!=null&&(ue[0]=we.height[0]),oe=1),oe){ie.width=ie.width[0],ie.height=ie.height[0],z!=null&&(z[0]=ie.width),Z!=null&&(Z[0]=ie.height);e:{if(z=new lc,(Z=new it).data=_,Z.w=T,Z.ha=R,Z.kd=1,T=[0],e(Z!=null),((_=Zo(Z.data,Z.w,Z.ha,null,null,null,T,null,Z))==0||_==7)&&T[0]&&(_=4),(T=_)==0){if(e(ne!=null),z.data=Z.data,z.w=Z.w+Z.offset,z.ha=Z.ha-Z.offset,z.put=Zt,z.ac=ws,z.bc=$s,z.ma=ne,Z.xa){if((_=kl())==null){ne=1;break e}if((function(ce,ke){var Pe=[0],He=[0],Le=[0];t:for(;;){if(ce==null)return 0;if(ke==null)return ce.a=2,0;if(ce.l=ke,ce.a=0,he(ce.m,ke.data,ke.w,ke.ha),!qs(ce.m,Pe,He,Le)){ce.a=3;break t}if(ce.xb=Pv,ke.width=Pe[0],ke.height=He[0],!Hs(Pe[0],He[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(_,z)){if(z=(T=Qo(z.width,z.height,ne.Oa,ne.ba))==0){t:{z=_;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((R=z.l)!=null),e((Z=R.ma)!=null),z.xb!=0){if(z.ca=Z.ba,z.tb=Z.tb,e(z.ca!=null),!xc(Z.Oa,R,xo)){z.a=2;break n}if(!Et(z,R.width)||R.da)break n;if((R.da||ln(z.ca.S))&&Xo(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Xo()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!se(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Fa(z,z.V,z.Ba,z.c,z.i,R.o,$i))break n;Z.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(T=_.a)}else T=_.a}else{if((_=new Go)==null){ne=1;break e}if(_.Fa=Z.na,_.P=Z.P,_.qc=Z.Sa,Cl(_,z)){if((T=Qo(z.width,z.height,ne.Oa,ne.ba))==0){if(_.Aa=0,R=ne.Oa,e((Z=_)!=null),R!=null){if(0<(oe=0>(oe=R.Md)?0:100<oe?255:255*oe/100)){for(ue=we=0;4>ue;++ue)12>(Me=Z.pb[ue]).lc&&(Me.ia=oe*_p[0>Me.lc?0:Me.lc]>>3),we|=Me.ia;we&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=R.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(ce,ke){if(ce==null)return 0;if(ke==null)return sr(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Cl(ce,ke))return 0;if(e(ce.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(ce.L=0);var Pe=Wd[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=ke.v-Pe>>4,ce.zb=ke.j-Pe>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=ke.o+15+Pe>>4,ce.Hb=ke.va+15+Pe>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var He=ce.ed;for(Pe=0;4>Pe;++Pe){var Le;if(ce.Qa.Cb){var qe=ce.Qa.Lb[Pe];ce.Qa.Fb||(qe+=He.Tb)}else qe=He.Tb;for(Le=0;1>=Le;++Le){var Ge=ce.gd[Pe][Le],ct=qe;if(He.Pc&&(ct+=He.vd[0],Le&&(ct+=He.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var Je=ct;0<He.wb&&(Je=4<He.wb?Je>>2:Je>>1)>9-He.wb&&(Je=9-He.wb),1>Je&&(Je=1),Ge.dd=Je,Ge.tc=2*ct+Je,Ge.ld=40<=ct?2:15<=ct?1:0}else Ge.tc=0;Ge.La=Le}}}Pe=0}else sr(ce,6,"Frame setup failed"),Pe=ce.a;if(Pe=Pe==0){if(Pe){ce.$c=0,0<ce.Aa||(ce.Ic=kp);t:{Pe=ce.Ic,He=4*(Je=ce.za);var Dt=32*Je,kt=Je+1,xn=0<ce.L?Je*(0<ce.Aa?2:1):0,Pt=(ce.Aa==2?2:1)*Je;if((Ge=He+832+(Le=3*(16*Pe+Wd[ce.L])/2*Dt)+(qe=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ge)Pe=0;else{if(Ge>ce.Vb){if(ce.Vb=0,ce.Ec=a(Ge),ce.Fc=0,ce.Ec==null){Pe=sr(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ge}Ge=ce.Ec,ct=ce.Fc,ce.Ac=Ge,ce.Bc=ct,ct+=He,ce.Gd=s(Dt,du),ce.Hd=0,ce.rb=s(kt+1,ta),ce.sb=1,ce.wa=xn?s(xn,Zr):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Je),e(!0),ce.oc=Ge,ce.pc=ct,ct+=832,ce.ya=s(Pt,Qr),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Je),ce.R=16*Je,ce.B=8*Je,Je=(Dt=Wd[ce.L])*ce.R,Dt=Dt/2*ce.B,ce.sa=Ge,ce.ta=ct+Je,ce.qa=ce.sa,ce.ra=ce.ta+16*Pe*ce.R+Dt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*Pe*ce.B+Dt,ce.$c=0,ct+=Le,ce.mb=qe?Ge:null,ce.nb=qe?ct:null,e(ct+qe<=ce.Fc+ce.Vb),rp(ce),i(ce.Ac,ce.Bc,0,He),Pe=1}}if(Pe){if(ke.ka=0,ke.y=ce.sa,ke.O=ce.ta,ke.f=ce.qa,ke.N=ce.ra,ke.ea=ce.Ha,ke.Vd=ce.Ia,ke.fa=ce.R,ke.Rc=ce.B,ke.F=null,ke.J=0,!tg){for(Pe=-255;255>=Pe;++Pe)xh[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)eg[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)vp[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)yp[255+Pe]=0>Pe?0:255<Pe?255:Pe;tg=1}Xs=Ko,Cc=ip,yo=rs,or=ap,Zn=sp,Ua=Hm,Mr=Jm,_i=mc,Il=X,el=de,yh=Zm,mp=N,Tv=ve,Q1=Ee,ex=hc,tx=dc,Ev=mh,Av=hp,ui[0]=Ym,ui[1]=Wm,ui[2]=Km,ui[3]=cp,ui[4]=Gs,ui[5]=up,ui[6]=ga,ui[7]=dh,ui[8]=fh,ui[9]=Ks,ss[0]=Yo,ss[1]=op,ss[2]=lp,ss[3]=Gm,ss[4]=cc,ss[5]=hh,ss[6]=pu,tl[0]=Pd,tl[1]=Vm,tl[2]=Tl,tl[3]=Xm,tl[4]=na,tl[5]=Nd,tl[6]=El,Pe=1}else Pe=0}Pe&&(Pe=(function(Dn,zr){for(Dn.M=0;Dn.M<Dn.Va;++Dn.M){var En,Ct=Dn.Jc[Dn.M&Dn.Xb],gt=Dn.m,ti=Dn;for(En=0;En<ti.za;++En){var dn=gt,On=ti,vr=On.Ac,Vi=On.Bc+4*En,_a=On.zc,Rr=On.ya[On.aa+En];if(On.Qa.Bb?Rr.$b=Ce(dn,On.Pa.jb[0])?2+Ce(dn,On.Pa.jb[2]):Ce(dn,On.Pa.jb[1]):Rr.$b=0,On.kc&&(Rr.Ad=Ce(dn,On.Bd)),Rr.Za=!Ce(dn,145)+0,Rr.Za){var Pi=Rr.Ob,qa=0;for(On=0;4>On;++On){var Ni,In=_a[0+On];for(Ni=0;4>Ni;++Ni){In=xa[vr[Vi+Ni]][In];for(var nr=og[Ce(dn,In[0])];0<nr;)nr=og[2*nr+Ce(dn,In[nr])];In=-nr,vr[Vi+Ni]=In}r(Pi,qa,vr,Vi,4),qa+=4,_a[0+On]=In}}else In=Ce(dn,156)?Ce(dn,128)?1:3:Ce(dn,163)?2:0,Rr.Ob[0]=In,i(vr,Vi,In,4),i(_a,0,In,4);Rr.Dd=Ce(dn,142)?Ce(dn,114)?Ce(dn,183)?1:3:2:0}if(ti.m.Ka)return sr(Dn,7,"Premature end-of-partition0 encountered.");for(;Dn.ja<Dn.za;++Dn.ja){if(ti=Ct,dn=(gt=Dn).rb[gt.sb-1],vr=gt.rb[gt.sb+gt.ja],En=gt.ya[gt.aa+gt.ja],Vi=gt.kc?En.Ad:0)dn.la=vr.la=0,En.Za||(dn.Na=vr.Na=0),En.Hc=0,En.Gc=0,En.ia=0;else{var ni,lr;if(dn=vr,vr=ti,Vi=gt.Pa.Xc,_a=gt.ya[gt.aa+gt.ja],Rr=gt.pb[_a.$b],On=_a.ad,Pi=0,qa=gt.rb[gt.sb-1],In=Ni=0,i(On,Pi,0,384),_a.Za)var Gi=0,ri=Vi[3];else{nr=a(16);var rr=dn.Na+qa.Na;if(rr=Zs(vr,Vi[1],rr,Rr.Eb,0,nr,0),dn.Na=qa.Na=(0<rr)+0,1<rr)Xs(nr,0,On,Pi);else{var Ci=nr[0]+3>>3;for(nr=0;256>nr;nr+=16)On[Pi+nr]=Ci}Gi=1,ri=Vi[0]}var yr=15&dn.la,Li=15&qa.la;for(nr=0;4>nr;++nr){var Mi=1&Li;for(Ci=lr=0;4>Ci;++Ci)yr=yr>>1|(Mi=(rr=Zs(vr,ri,rr=Mi+(1&yr),Rr.Sc,Gi,On,Pi))>Gi)<<7,lr=lr<<2|(3<rr?3:1<rr?2:On[Pi+0]!=0),Pi+=16;yr>>=4,Li=Li>>1|Mi<<7,Ni=(Ni<<8|lr)>>>0}for(ri=yr,Gi=Li>>4,ni=0;4>ni;ni+=2){for(lr=0,yr=dn.la>>4+ni,Li=qa.la>>4+ni,nr=0;2>nr;++nr){for(Mi=1&Li,Ci=0;2>Ci;++Ci)rr=Mi+(1&yr),yr=yr>>1|(Mi=0<(rr=Zs(vr,Vi[2],rr,Rr.Qc,0,On,Pi)))<<3,lr=lr<<2|(3<rr?3:1<rr?2:On[Pi+0]!=0),Pi+=16;yr>>=2,Li=Li>>1|Mi<<5}In|=lr<<4*ni,ri|=yr<<4<<ni,Gi|=(240&Li)<<ni}dn.la=ri,qa.la=Gi,_a.Hc=Ni,_a.Gc=In,_a.ia=43690&In?0:Rr.ia,Vi=!(Ni|In)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[En.$b][En.Za],gt.wa[gt.Y+gt.ja].La|=!Vi),ti.Ka)return sr(Dn,7,"Premature end-of-file encountered.")}if(rp(Dn),gt=zr,ti=1,En=(Ct=Dn).D,dn=0<Ct.L&&Ct.M>=Ct.zb&&Ct.M<=Ct.Va,Ct.Aa==0)t:{if(En.M=Ct.M,En.uc=dn,Ys(Ct,En),ti=1,En=(lr=Ct.D).Nb,dn=(In=Wd[Ct.L])*Ct.R,vr=In/2*Ct.B,nr=16*En*Ct.R,Ci=8*En*Ct.B,Vi=Ct.sa,_a=Ct.ta-dn+nr,Rr=Ct.qa,On=Ct.ra-vr+Ci,Pi=Ct.Ha,qa=Ct.Ia-vr+Ci,Li=(yr=lr.M)==0,Ni=yr>=Ct.Va-1,Ct.Aa==2&&Ys(Ct,lr),lr.uc)for(Mi=(rr=Ct).D.M,e(rr.D.uc),lr=rr.yb;lr<rr.Hb;++lr){Gi=lr,ri=Mi;var Cr=(Qn=(Ri=rr).D).Nb;ni=Ri.R;var Qn=Qn.wa[Qn.Y+Gi],Ha=Ri.sa,hi=Ri.ta+16*Cr*ni+16*Gi,nn=Qn.dd,rn=Qn.tc;if(rn!=0)if(e(3<=rn),Ri.L==1)0<Gi&&tx(Ha,hi,ni,rn+4),Qn.La&&Av(Ha,hi,ni,rn),0<ri&&ex(Ha,hi,ni,rn+4),Qn.La&&Ev(Ha,hi,ni,rn);else{var ir=Ri.B,ks=Ri.qa,Eo=Ri.ra+8*Cr*ir+8*Gi,os=Ri.Ha,Ri=Ri.Ia+8*Cr*ir+8*Gi;Cr=Qn.ld,0<Gi&&(_i(Ha,hi,ni,rn+4,nn,Cr),el(ks,Eo,os,Ri,ir,rn+4,nn,Cr)),Qn.La&&(mp(Ha,hi,ni,rn,nn,Cr),Q1(ks,Eo,os,Ri,ir,rn,nn,Cr)),0<ri&&(Mr(Ha,hi,ni,rn+4,nn,Cr),Il(ks,Eo,os,Ri,ir,rn+4,nn,Cr)),Qn.La&&(yh(Ha,hi,ni,rn,nn,Cr),Tv(ks,Eo,os,Ri,ir,rn,nn,Cr))}}if(Ct.ia&&alert("todo:DitherRow"),gt.put!=null){if(lr=16*yr,yr=16*(yr+1),Li?(gt.y=Ct.sa,gt.O=Ct.ta+nr,gt.f=Ct.qa,gt.N=Ct.ra+Ci,gt.ea=Ct.Ha,gt.W=Ct.Ia+Ci):(lr-=In,gt.y=Vi,gt.O=_a,gt.f=Rr,gt.N=On,gt.ea=Pi,gt.W=qa),Ni||(yr-=In),yr>gt.o&&(yr=gt.o),gt.F=null,gt.J=null,Ct.Fa!=null&&0<Ct.Fa.length&&lr<yr&&(gt.J=Lr(Ct,gt,lr,yr-lr),gt.F=Ct.mb,gt.F==null&&gt.F.length==0)){ti=sr(Ct,3,"Could not decode alpha data.");break t}lr<gt.j&&(In=gt.j-lr,lr=gt.j,e(!(1&In)),gt.O+=Ct.R*In,gt.N+=Ct.B*(In>>1),gt.W+=Ct.B*(In>>1),gt.F!=null&&(gt.J+=gt.width*In)),lr<yr&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=lr-gt.j,gt.U=gt.va-gt.v,gt.T=yr-lr,ti=gt.put(gt))}En+1!=Ct.Ic||Ni||(r(Ct.sa,Ct.ta-dn,Vi,_a+16*Ct.R,dn),r(Ct.qa,Ct.ra-vr,Rr,On+8*Ct.B,vr),r(Ct.Ha,Ct.Ia-vr,Pi,qa+8*Ct.B,vr))}if(!ti)return sr(Dn,6,"Output aborted.")}return 1})(ce,ke)),ke.bc!=null&&ke.bc(ke),Pe&=1}return Pe?(ce.cb=0,Pe):0})(_,z)||(T=_.a)}}else T=_.a}T==0&&ne.Oa!=null&&ne.Oa.fd&&(T=pp(ne.ba))}ne=T}te=ne!=0?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var hg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,G){for(var M="",I=0;I<4;I++)M+=String.fromCharCode(U[G++]);return M}function u(U,G){return U[G+0]|U[G+1]<<8}function f(U,G){return(U[G+0]|U[G+1]<<8|U[G+2]<<16)>>>0}function m(U,G){return(U[G+0]|U[G+1]<<8|U[G+2]<<16|U[G+3]<<24)>>>0}new l;var p=[0],v=[0],b=[],x=new l,w=t,C=(function(U,G){var M={},I=0,K=!1,H=0,J=0;if(M.frames=[],!(function(V,F){for(var ae=0;ae<4;ae++)if(V[F+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(U,G)){for(m(U,G+=4),G+=8;G<U.length;){var W=c(U,G),Q=m(U,G+=4);G+=4;var ee=Q+(1&Q);switch(W){case"VP8 ":case"VP8L":M.frames[I]===void 0&&(M.frames[I]={}),(ye=M.frames[I]).src_off=K?J:G-8,ye.src_size=H+Q+8,I++,K&&(K=!1,H=0,J=0);break;case"VP8X":(ye=M.header={}).feature_flags=U[G];var he=G+4;ye.canvas_width=1+f(U,he),he+=3,ye.canvas_height=1+f(U,he),he+=3;break;case"ALPH":K=!0,H=ee+8,J=G-8;break;case"ANIM":(ye=M.header).bgcolor=m(U,G),he=G+4,ye.loop_count=u(U,he),he+=2;break;case"ANMF":var Y,ye;(ye=M.frames[I]={}).offset_x=2*f(U,G),G+=3,ye.offset_y=2*f(U,G),G+=3,ye.width=1+f(U,G),G+=3,ye.height=1+f(U,G),G+=3,ye.duration=f(U,G),G+=3,Y=U[G++],ye.dispose=1&Y,ye.blend=Y>>1&1}W!="ANMF"&&(G+=ee)}return M}})(w,0);C.response=w,C.rgbaoutput=!0,C.dataurl=!1;var E=C.header?C.header:null,O=C.frames?C.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],v=[E.canvas_width];for(var P=0;P<O.length&&O[P].blend!=0;P++);}var L=O[0],B=x.WebPDecodeRGBA(w,L.src_off,L.src_size,v,p);L.rgba=B,L.imgwidth=v[0],L.imgheight=p[0];for(var $=0;$<v[0]*p[0]*4;$++)b[$]=B[$];return this.width=v,this.height=p,this.data=b,this}(function(t){var e,n,r,i,a,s,o,l,c,u=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new s,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new s,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=V;Object.defineProperty(this,"pdf",{get:function(){return F}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(se){ae=!!se}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(se){le=!!se}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(se){isNaN(se)||(pe=se)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(se){isNaN(se)||(xe=se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(se){var lt;typeof se=="number"?lt=[se,se,se,se]:((lt=new Array(4))[0]=se[0],lt[1]=se.length>=2?se[1]:lt[0],lt[2]=se.length>=3?se[2]:lt[0],lt[3]=se.length>=4?se[3]:lt[1]),c.margin=lt}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(se){Oe=se}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(se){fe=se}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(se){Ce=se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(se){se instanceof u&&(c=se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(se){c.path=se}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(se){Fe=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var lt;lt=m(se),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var lt=m(se);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var Te=null,nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(se){Te=null,nt=null,rt=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var lt;if(this.ctx.font=se,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(se))!==null){var Xt=lt[1];lt[2];var Tt=lt[3],Xe=lt[4];lt[5];var Lt=lt[6],xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(xt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:xt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var Gt=(function(ht){var Pn,Wt,At=[],It=ht.trim();if(It==="")return UT;if(It in gB)return[gB[It]];for(;It!=="";){switch(Wt=null,Pn=(It=yB(It)).charAt(0)){case'"':case"'":Wt=QCe(It.substring(1),Pn);break;default:Wt=e5e(It)}if(Wt===null||(At.push(Wt[0]),(It=yB(Wt[1]))!==""&&It.charAt(0)!==","))return UT;It=It.replace(/^,/,"")}return At})(Lt);if(this.fontFaces){var Ht=(function(ht,Pn){var Wt=ht.getFontList(),At=JSON.stringify(Wt);if(Te===null||nt!==At){var It=(function(Jt){var Ot=[];return Object.keys(Jt).forEach(function(Nn){Jt[Nn].forEach(function(ln){var cn=null;switch(ln){case"bold":cn={family:Nn,weight:"bold"};break;case"italic":cn={family:Nn,style:"italic"};break;case"bolditalic":cn={family:Nn,weight:"bold",style:"italic"};break;case"":case"normal":cn={family:Nn}}cn!==null&&(cn.ref={name:Nn,style:ln},Ot.push(cn))})}),Ot})(Wt);Te=(function(Jt){for(var Ot={},Nn=0;Nn<Jt.length;++Nn){var ln=FT(Jt[Nn]),cn=ln.family,er=ln.stretch,kn=ln.style,jt=ln.weight;Ot[cn]=Ot[cn]||{},Ot[cn][er]=Ot[cn][er]||{},Ot[cn][er][kn]=Ot[cn][er][kn]||{},Ot[cn][er][kn][jt]=ln}return Ot})(It.concat(Pn)),nt=At}return Te})(this.pdf,this.fontFaces),st=Gt.map(function(ht){return{family:ht,stretch:"normal",weight:Tt,style:Xt}}),mt=(function(ht,Pn,Wt){for(var At=(Wt=Wt||{}).defaultFontFamily||"times",It=Object.assign({},ZCe,Wt.genericFontFamilies||{}),Jt=null,Ot=null,Nn=0;Nn<Pn.length;++Nn)if(It[(Jt=FT(Pn[Nn])).family]&&(Jt.family=It[Jt.family]),ht.hasOwnProperty(Jt.family)){Ot=ht[Jt.family];break}if(!(Ot=Ot||ht[At]))throw new Error("Could not find a font-family for the rule '"+vB(Jt)+"' and default family '"+At+"'.");if(Ot=(function(ln,cn){if(cn[ln])return cn[ln];var er=AP[ln],kn=er<=AP.normal?-1:1,jt=mB(cn,_J,er,kn);if(!jt)throw new Error("Could not find a matching font-stretch value for "+ln);return jt})(Jt.stretch,Ot),Ot=(function(ln,cn){if(cn[ln])return cn[ln];for(var er=SJ[ln],kn=0;kn<er.length;++kn)if(cn[er[kn]])return cn[er[kn]];throw new Error("Could not find a matching font-style for "+ln)})(Jt.style,Ot),!(Ot=(function(ln,cn){if(cn[ln])return cn[ln];if(ln===400&&cn[500])return cn[500];if(ln===500&&cn[400])return cn[400];var er=JCe[ln],kn=mB(cn,kJ,er,ln<400?-1:1);if(!kn)throw new Error("Could not find a matching font-weight for value "+ln);return kn})(Jt.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+vB(Jt)+"'.");return Ot})(Ht,st);this.pdf.setFont(mt.ref.name,mt.ref.style)}else{var _e="";(Tt==="bold"||parseInt(Tt,10)>=700||Xt==="bold")&&(_e="bold"),Xt==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var De="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Gt.length;tt++){if(this.pdf.internal.getFont(Gt[tt],_e,{noFallback:!0,disableWarning:!0})!==void 0){De=Gt[tt];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(Gt[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=Gt[tt],_e="bold";else if(this.pdf.internal.getFont(Gt[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=Gt[tt],_e="normal";break}}if(De===""){for(var pt=0;pt<Gt.length;pt++)if(et[Gt[pt]]){De=et[Gt[pt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};f.prototype.setLineDash=function(V){this.lineDash=V},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(V,F){if(isNaN(V)||isNaN(F))throw qr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new s(V,F));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(V,F)},f.prototype.closePath=function(){var V=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Pr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){V=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.lineTo=function(V,F){if(isNaN(V)||isNaN(F))throw qr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new s(V,F));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(V,F,ae,le){if(isNaN(ae)||isNaN(le)||isNaN(V)||isNaN(F))throw qr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(ae,le)),xe=this.ctx.transform.applyToPoint(new s(V,F));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},f.prototype.bezierCurveTo=function(V,F,ae,le,pe,xe){if(isNaN(pe)||isNaN(xe)||isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le))throw qr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new s(pe,xe)),fe=this.ctx.transform.applyToPoint(new s(V,F)),Ce=this.ctx.transform.applyToPoint(new s(ae,le));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ce.x,y2:Ce.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new s(Oe.x,Oe.y)},f.prototype.arc=function(V,F,ae,le,pe,xe){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le)||isNaN(pe))throw qr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new s(V,F));V=Oe.x,F=Oe.y;var fe=this.ctx.transform.applyToPoint(new s(0,ae)),Ce=this.ctx.transform.applyToPoint(new s(0,0));ae=Math.sqrt(Math.pow(fe.x-Ce.x,2)+Math.pow(fe.y-Ce.y,2))}Math.abs(pe-le)>=2*Math.PI&&(le=0,pe=2*Math.PI),this.path.push({type:"arc",x:V,y:F,radius:ae,startAngle:le,endAngle:pe,counterclockwise:xe})},f.prototype.arcTo=function(V,F,ae,le,pe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(V,F,ae,le){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le))throw qr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,F),this.lineTo(V+ae,F),this.lineTo(V+ae,F+le),this.lineTo(V,F+le),this.lineTo(V,F),this.lineTo(V+ae,F),this.lineTo(V,F)},f.prototype.fillRect=function(V,F,ae,le){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le))throw qr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,F,ae,le),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},f.prototype.strokeRect=function(V,F,ae,le){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le))throw qr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(V,F,ae,le),this.stroke())},f.prototype.clearRect=function(V,F,ae,le){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le))throw qr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,F,ae,le))},f.prototype.save=function(V){V=typeof V!="boolean"||V;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},f.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(F),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(V){var F,ae,le,pe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))F=0,ae=0,le=0,pe=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(xe!==null)F=parseInt(xe[1]),ae=parseInt(xe[2]),le=parseInt(xe[3]),pe=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)F=parseInt(xe[1]),ae=parseInt(xe[2]),le=parseInt(xe[3]),pe=parseFloat(xe[4]);else{if(pe=1,typeof V=="string"&&V.charAt(0)!=="#"){var Oe=new mJ(V);V=Oe.ok?Oe.toHex():"#000000"}V.length===4?(F=V.substring(1,2),F+=F,ae=V.substring(2,3),ae+=ae,le=V.substring(3,4),le+=le):(F=V.substring(1,3),ae=V.substring(3,5),le=V.substring(5,7)),F=parseInt(F,16),ae=parseInt(ae,16),le=parseInt(le,16)}}return{r:F,g:ae,b:le,a:pe,style:V}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(V,F,ae,le){if(isNaN(F)||isNaN(ae)||typeof V!="string")throw qr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!p.call(this)){var pe=ee(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:V,x:F,y:ae,scale:xe,angle:pe,align:this.textAlign,maxWidth:le})}},f.prototype.strokeText=function(V,F,ae,le){if(isNaN(F)||isNaN(ae)||typeof V!="string")throw qr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){le=isNaN(le)?void 0:le;var pe=ee(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;I.call(this,{text:V,x:F,y:ae,scale:xe,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:le})}},f.prototype.measureText=function(V){if(typeof V!="string")throw qr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,ae=this.pdf.internal.scaleFactor,le=F.internal.getFontSize(),pe=F.getStringUnitWidth(V)*le/F.internal.scaleFactor;return new function(xe){var Oe=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:pe*=Math.round(96*ae/72*1e4)/1e4})},f.prototype.scale=function(V,F){if(isNaN(V)||isNaN(F))throw qr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new l(V,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.rotate=function(V){if(isNaN(V))throw qr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(V,F){if(isNaN(V)||isNaN(F))throw qr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new l(1,0,0,1,V,F);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.transform=function(V,F,ae,le,pe,xe){if(isNaN(V)||isNaN(F)||isNaN(ae)||isNaN(le)||isNaN(pe)||isNaN(xe))throw qr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new l(V,F,ae,le,pe,xe);this.ctx.transform=this.ctx.transform.multiply(Oe)},f.prototype.setTransform=function(V,F,ae,le,pe,xe){V=isNaN(V)?1:V,F=isNaN(F)?0:F,ae=isNaN(ae)?0:ae,le=isNaN(le)?1:le,pe=isNaN(pe)?0:pe,xe=isNaN(xe)?0:xe,this.ctx.transform=new l(V,F,ae,le,pe,xe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(V,F,ae,le,pe,xe,Oe,fe,Ce){var Fe=this.pdf.getImageProperties(V),Te=1,nt=1,rt=1,se=1;le!==void 0&&fe!==void 0&&(rt=fe/le,se=Ce/pe,Te=Fe.width/le*fe/le,nt=Fe.height/pe*Ce/pe),xe===void 0&&(xe=F,Oe=ae,F=0,ae=0),le!==void 0&&fe===void 0&&(fe=le,Ce=pe),le===void 0&&fe===void 0&&(fe=Fe.width,Ce=Fe.height);var lt=this.ctx.transform.decompose(),Xt=ee(lt.rotate.shx),Tt=new l,Xe=(Tt=(Tt=(Tt=Tt.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new o(xe-F*rt,Oe-ae*se,le*Te,pe*nt));if(this.autoPaging){for(var Lt,xt=x.call(this,Xe),Gt=[],Ht=0;Ht<xt.length;Ht+=1)Gt.indexOf(xt[Ht])===-1&&Gt.push(xt[Ht]);E(Gt);for(var st=Gt[0],mt=Gt[Gt.length-1],_e=st;_e<mt+1;_e++){this.pdf.setPage(_e);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=_e===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=_e===1?0:tt+(_e-2)*pt;if(this.ctx.clip_path.length!==0){var Pn=this.path;Lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Lt,this.posX+this.margin[3],-ht+et+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Pn}var Wt=JSON.parse(JSON.stringify(Xe));Wt=C([Wt],this.posX+this.margin[3],-ht+et+this.ctx.prevPageLastElemOffset)[0];var At=(_e>st||_e<mt)&&b.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,pt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Xt),At&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Xt)};var x=function(V,F,ae){var le=[];F=F||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":le.push(Math.floor((V.y+pe)/ae)+1);break;case"arc":le.push(Math.floor((V.y+pe-V.radius)/ae)+1),le.push(Math.floor((V.y+pe+V.radius)/ae)+1);break;case"qct":var xe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);le.push(Math.floor((xe.y+pe)/ae)+1),le.push(Math.floor((xe.y+xe.h+pe)/ae)+1);break;case"bct":var Oe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);le.push(Math.floor((Oe.y+pe)/ae)+1),le.push(Math.floor((Oe.y+Oe.h+pe)/ae)+1);break;case"rect":le.push(Math.floor((V.y+pe)/ae)+1),le.push(Math.floor((V.y+V.h+pe)/ae)+1)}for(var fe=0;fe<le.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<le[fe];)w.call(this);return le},w=function(){var V=this.fillStyle,F=this.strokeStyle,ae=this.font,le=this.lineCap,pe=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=F,this.font=ae,this.lineCap=le,this.lineWidth=pe,this.lineJoin=xe},C=function(V,F,ae){for(var le=0;le<V.length;le++)switch(V[le].type){case"bct":V[le].x2+=F,V[le].y2+=ae;case"qct":V[le].x1+=F,V[le].y1+=ae;default:V[le].x+=F,V[le].y+=ae}return V},E=function(V){return V.sort(function(F,ae){return F-ae})},O=function(V,F){var ae=this.fillStyle,le=this.strokeStyle,pe=this.lineCap,xe=this.lineWidth,Oe=Math.abs(xe*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var Ce,Fe,Te=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),rt=[],se=0;se<nt.length;se++)if(nt[se].x!==void 0)for(var lt=x.call(this,nt[se]),Xt=0;Xt<lt.length;Xt+=1)rt.indexOf(lt[Xt])===-1&&rt.push(lt[Xt]);for(var Tt=0;Tt<rt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<rt[Tt];)w.call(this);E(rt);for(var Xe=rt[0],Lt=rt[rt.length-1],xt=Xe;xt<Lt+1;xt++){this.pdf.setPage(xt),this.fillStyle=ae,this.strokeStyle=le,this.lineCap=pe,this.lineWidth=Oe,this.lineJoin=fe;var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=xt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=xt===1?0:st+(xt-2)*mt;if(this.ctx.clip_path.length!==0){var De=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ce,this.posX+this.margin[3],-_e+Ht+this.ctx.prevPageLastElemOffset),P.call(this,V,!0),this.path=De}if(Fe=JSON.parse(JSON.stringify(Te)),this.path=C(Fe,this.posX+this.margin[3],-_e+Ht+this.ctx.prevPageLastElemOffset),F===!1||xt===0){var et=(xt>Xe||xt<Lt)&&b.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,mt,null).clip().discardPath()),P.call(this,V,F),et&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=Te}else this.lineWidth=Oe,P.call(this,V,F),this.lineWidth=xe},P=function(V,F){if((V!=="stroke"||F||!v.call(this))&&(V==="stroke"||F||!p.call(this))){for(var ae,le,pe=[],xe=this.path,Oe=0;Oe<xe.length;Oe++){var fe=xe[Oe];switch(fe.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ce=pe.length;if(xe[Oe-1]&&!isNaN(xe[Oe-1].x)&&(ae=[fe.x-xe[Oe-1].x,fe.y-xe[Oe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(pe[Ce-1].close!==!0&&pe[Ce-1].begin!==!0){pe[Ce-1].deltas.push(ae),pe[Ce-1].abs.push(fe);break}}break;case"bct":ae=[fe.x1-xe[Oe-1].x,fe.y1-xe[Oe-1].y,fe.x2-xe[Oe-1].x,fe.y2-xe[Oe-1].y,fe.x-xe[Oe-1].x,fe.y-xe[Oe-1].y],pe[pe.length-1].deltas.push(ae);break;case"qct":var Fe=xe[Oe-1].x+2/3*(fe.x1-xe[Oe-1].x),Te=xe[Oe-1].y+2/3*(fe.y1-xe[Oe-1].y),nt=fe.x+2/3*(fe.x1-fe.x),rt=fe.y+2/3*(fe.y1-fe.y),se=fe.x,lt=fe.y;ae=[Fe-xe[Oe-1].x,Te-xe[Oe-1].y,nt-xe[Oe-1].x,rt-xe[Oe-1].y,se-xe[Oe-1].x,lt-xe[Oe-1].y],pe[pe.length-1].deltas.push(ae);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(fe)}}le=F?null:V==="stroke"?"stroke":"fill";for(var Xt=!1,Tt=0;Tt<pe.length;Tt++)if(pe[Tt].arc)for(var Xe=pe[Tt].abs,Lt=0;Lt<Xe.length;Lt++){var xt=Xe[Lt];xt.type==="arc"?$.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,F,!Xt):K.call(this,xt.x,xt.y),Xt=!0}else if(pe[Tt].close===!0)this.pdf.internal.out("h"),Xt=!1;else if(pe[Tt].begin!==!0){var Gt=pe[Tt].start.x,Ht=pe[Tt].start.y;H.call(this,pe[Tt].deltas,Gt,Ht),Xt=!0}le&&U.call(this,le),F&&G.call(this)}},L=function(V){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ae;case"top":return V+F-ae;case"hanging":return V+F-2*ae;case"middle":return V+F/2-ae;default:return V}},B=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(F,ae){this.colorStops.push([F,ae])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(V,F,ae,le,pe,xe,Oe,fe,Ce){for(var Fe=W.call(this,ae,le,pe,xe),Te=0;Te<Fe.length;Te++){var nt=Fe[Te];Te===0&&(Ce?M.call(this,nt.x1+V,nt.y1+F):K.call(this,nt.x1+V,nt.y1+F)),J.call(this,V,F,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}fe?G.call(this):U.call(this,Oe)},U=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(V,F){this.pdf.internal.out(n(V)+" "+r(F)+" m")},I=function(V){var F;switch(V.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var ae,le,pe,xe=this.pdf.getTextDimensions(V.text),Oe=L.call(this,V.y),fe=B.call(this,Oe)-xe.h,Ce=this.ctx.transform.applyToPoint(new s(V.x,Oe));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Te=new l;Te=(Te=(Te=Te.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var nt=this.ctx.transform.applyToRectangle(new o(V.x,Oe,xe.w,xe.h)),rt=Te.applyToRectangle(new o(V.x,fe,xe.w,xe.h)),se=x.call(this,rt),lt=[],Xt=0;Xt<se.length;Xt+=1)lt.indexOf(se[Xt])===-1&&lt.push(se[Xt]);E(lt);for(var Tt=lt[0],Xe=lt[lt.length-1],Lt=Tt;Lt<Xe+1;Lt++){this.pdf.setPage(Lt);var xt=Lt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[2],st=Ht-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],_e=mt-this.margin[3],De=Lt===1?0:Gt+(Lt-2)*st;if(this.ctx.clip_path.length!==0){var et=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ae,this.posX+this.margin[3],-1*De+xt),P.call(this,"fill",!0),this.path=et}var tt=C([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-De+xt+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),pe=this.lineWidth,this.lineWidth=pe*V.scale);var pt=this.autoPaging!=="text";if(pt||tt.y+tt.h<=Ht){if(pt||tt.y>=xt&&tt.x<=mt){var ht=pt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||mt-tt.x)[0],Pn=C([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-De+xt+this.ctx.prevPageLastElemOffset)[0],Wt=pt&&(Lt>Tt||Lt<Xe)&&b.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,st,null).clip().discardPath()),this.pdf.text(ht,Pn.x,Pn.y,{angle:V.angle,align:F,renderingMode:V.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else tt.y<Ht&&(this.ctx.prevPageLastElemOffset+=Ht-tt.y);V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)}}else V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),pe=this.lineWidth,this.lineWidth=pe*V.scale),this.pdf.text(V.text,Ce.x+this.posX,Ce.y+this.posY,{angle:V.angle,align:F,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)},K=function(V,F,ae,le){ae=ae||0,le=le||0,this.pdf.internal.out(n(V+ae)+" "+r(F+le)+" l")},H=function(V,F,ae){return this.pdf.lines(V,F,ae,null,null)},J=function(V,F,ae,le,pe,xe,Oe,fe){this.pdf.internal.out([e(i(ae+V)),e(a(le+F)),e(i(pe+V)),e(a(xe+F)),e(i(Oe+V)),e(a(fe+F)),"c"].join(" "))},W=function(V,F,ae,le){for(var pe=2*Math.PI,xe=Math.PI/2;F>ae;)F-=pe;var Oe=Math.abs(ae-F);Oe<pe&&le&&(Oe=pe-Oe);for(var fe=[],Ce=le?-1:1,Fe=F;Oe>1e-5;){var Te=Fe+Ce*Math.min(Oe,xe);fe.push(Q.call(this,V,Fe,Te)),Oe-=Math.abs(Te-Fe),Fe=Te}return fe},Q=function(V,F,ae){var le=(ae-F)/2,pe=V*Math.cos(le),xe=V*Math.sin(le),Oe=pe,fe=-xe,Ce=Oe*Oe+fe*fe,Fe=Ce+Oe*pe+fe*xe,Te=4/3*(Math.sqrt(2*Ce*Fe)-Fe)/(Oe*xe-fe*pe),nt=Oe-Te*fe,rt=fe+Te*Oe,se=nt,lt=-rt,Xt=le+F,Tt=Math.cos(Xt),Xe=Math.sin(Xt);return{x1:V*Math.cos(F),y1:V*Math.sin(F),x2:nt*Tt-rt*Xe,y2:nt*Xe+rt*Tt,x3:se*Tt-lt*Xe,y3:se*Xe+lt*Tt,x4:V*Math.cos(ae),y4:V*Math.sin(ae)}},ee=function(V){return 180*V/Math.PI},he=function(V,F,ae,le,pe,xe){var Oe=V+.5*(ae-V),fe=F+.5*(le-F),Ce=pe+.5*(ae-pe),Fe=xe+.5*(le-xe),Te=Math.min(V,pe,Oe,Ce),nt=Math.max(V,pe,Oe,Ce),rt=Math.min(F,xe,fe,Fe),se=Math.max(F,xe,fe,Fe);return new o(Te,rt,nt-Te,se-rt)},Y=function(V,F,ae,le,pe,xe,Oe,fe){var Ce,Fe,Te,nt,rt,se,lt,Xt,Tt,Xe,Lt,xt,Gt,Ht,st=ae-V,mt=le-F,_e=pe-ae,De=xe-le,et=Oe-pe,tt=fe-xe;for(Fe=0;Fe<41;Fe++)Tt=(lt=(Te=V+(Ce=Fe/40)*st)+Ce*((rt=ae+Ce*_e)-Te))+Ce*(rt+Ce*(pe+Ce*et-rt)-lt),Xe=(Xt=(nt=F+Ce*mt)+Ce*((se=le+Ce*De)-nt))+Ce*(se+Ce*(xe+Ce*tt-se)-Xt),Fe==0?(Lt=Tt,xt=Xe,Gt=Tt,Ht=Xe):(Lt=Math.min(Lt,Tt),xt=Math.min(xt,Xe),Gt=Math.max(Gt,Tt),Ht=Math.max(Ht,Xe));return new o(Math.round(Lt),Math.round(xt),Math.round(Gt-Lt),Math.round(Ht-xt))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,F,ae=(V=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:F}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(en.API),(function(t){var e=function(s){var o,l,c,u,f,m,p,v,b,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(f=((f=((f=((f=(f-(x=f%85))/85)-(b=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,l.push(m+33,p+33,v+33,b+33,x+33)):l.push(122);return(function(w,C){for(var E=C;E>0;E--)w.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,f,m=String,p="length",v=255,b="charCodeAt",x="slice",w="replace";for(s[x](-2),s=s[x](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[p]%5||5))[p];f>u;u+=5)l=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(C,E){for(var O=E;O>0;O--)C.pop()})(c,o[p]),m.fromCharCode.apply(m,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=wP(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(en.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,c,u){var f=new XMLHttpRequest,m=0,p=function(v){var b=v.length,x=[],w=String.fromCharCode;for(m=0;m<b;m+=1)x.push(w(255&v.charCodeAt(m)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)})(i,a,s)}catch{}return o})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(en.API),(function(t){function e(){return(wn.html2canvas?Promise.resolve(wn.html2canvas):ur(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wn.DOMPurify?Promise.resolve(wn.DOMPurify):ur(()=>Promise.resolve().then(()=>Jce),void 0)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Pr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],b=v.src.find(function(x){return x.format==="truetype"});b&&c.addFont(b.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||en.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,u),m}).then(u,f).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),m=c.call(f,o,l);return s.convert(m,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,en.getPageSize=function(o,l,c){if(Pr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,b=0,x=0;if(p.hasOwnProperty(m))b=p[m][1]/f,x=p[m][0]/f;else try{b=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>b&&(v=x,x=b,b=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>x&&(v=x,x=b,b=v)}return{width:x,height:b,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(FT):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(en.API),en.API.addJS=function(t){return xB=t,this.internal.events.subscribe("postPutResources",function(){vw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vw!==void 0&&bB!==void 0&&this.internal.out("/Names <</JavaScript "+vw+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=n.internal.newObject();u.push(f);var m=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(en.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){m=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),b={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:m,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return b})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(en.API),en.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=DCe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?(function($){for(var U=$.width,G=$.height,M=$.data,I=$.palette,K=$.depth,H=!1,J=[],W=[],Q=void 0,ee=!1,he=0,Y=0;Y<I.length;Y++){var ye=k8(I[Y],4),V=ye[0],F=ye[1],ae=ye[2],le=ye[3];J.push(V,F,ae),le!=null&&(le===0?(he++,W.length<1&&W.push(Y)):le<255&&(ee=!0))}if(ee||he>1){H=!0,W=void 0;var pe=U*G;Q=new Uint8Array(pe);for(var xe=new DataView(M.buffer),Oe=0;Oe<pe;Oe++){var fe=zT(xe,Oe,K),Ce=k8(I[fe],4)[3];Q[Oe]=Ce}}else he===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:M,alphaBytes:Q,needSMask:H,palette:J,mask:W}})(a):l===2||l===4?(function($){for(var U=$.data,G=$.width,M=$.height,I=$.channels,K=$.depth,H=I===2?"DeviceGray":"DeviceRGB",J=I-1,W=G*M,Q=J,ee=W*Q,he=1*W,Y=Math.ceil(ee*K/8),ye=Math.ceil(he*K/8),V=new Uint8Array(Y),F=new Uint8Array(ye),ae=new DataView(U.buffer),le=new DataView(V.buffer),pe=new DataView(F.buffer),xe=!1,Oe=0;Oe<W;Oe++){for(var fe=Oe*I,Ce=0;Ce<Q;Ce++)OB(le,zT(ae,fe+Ce,K),Oe*Q+Ce,K);var Fe=zT(ae,fe+Q,K);Fe<(1<<K)-1&&(xe=!0),OB(pe,Fe,1*Oe,K)}return{colorSpace:H,colorsPerPixel:J,sMaskBitsPerComponent:xe?K:void 0,colorBytes:V,alphaBytes:F,needSMask:xe}})(a):(function($){var U=$.data,G=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(M){for(var I=M.length,K=new Uint8Array(2*I),H=new DataView(K.buffer,K.byteOffset,K.byteLength),J=0;J<I;J++)H.setUint16(2*J,M[J],!1);return K})(U):U,needSMask:!1}})(a);var f,m,p,v=i,b=v.colorSpace,x=v.colorsPerPixel,w=v.sMaskBitsPerComponent,C=v.colorBytes,E=v.alphaBytes,O=v.needSMask,P=v.palette,L=v.mask,B=null;return r!==en.API.image_compression.NONE&&typeof wP=="function"?(B=(function($){var U;switch($){case en.API.image_compression.FAST:U=11;break;case en.API.image_compression.MEDIUM:U=13;break;case en.API.image_compression.SLOW:U=14;break;default:U=12}return U})(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(B," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=kB(C,Math.ceil(s*x*u/8),x,u,r),O&&(p=kB(E,Math.ceil(s*w/8),1,w,r))):(f=void 0,m=void 0,t=C,O&&(p=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:m,transparency:L,palette:P,sMask:p,predictor:B,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:b}}},(function(t){t.processGIF89A=function(e,n,r,i){var a=new i5e(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new $T(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A})(en.API),Rc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){qr.log("bit decode error:"+n)}},Rc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Rc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Rc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Rc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Rc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Rc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Rc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Rc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new Rc(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new $T(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(en.API),NB.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new NB(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new $T(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(en.API),en.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],m=r[c+2],p=r[c+3];a[o++]=u,a[o++]=f,a[o++]=m,s[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},en.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dg=en.API,yw=Dg.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,m=0,p=t.length,v=0,b=o[0]||l,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(m=f&&Pr(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,x.push((o[r]||b)/l+m)),v=r;return x},wB=Dg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dg.processArabic&&(t=Dg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:yw.apply(this,arguments).reduce(function(a,s){return a+s},0)},SB=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},_B=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],f=[u],m=n.textIndent||0,p=0,v=0,b=t.split(" "),x=yw.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),C=[];b.map(function(O){(O=O.split(/\s*\n/)).length>1?C=C.concat(O.map(function(P,L){return(L&&P.length?`
`:"")+P})):C.push(O[0])}),b=C,l=wB.apply(this,[w,n])}for(a=0,s=b.length;a<s;a++){var E=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),E=1),m+p+(v=(i=yw.apply(this,[r,n])).reduce(function(O,P){return O+P},0))>e||E){if(v>e){for(o=SB.apply(this,[r,i,e-(m+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(O,P){return O+P},0)}else u=[r];f.push(u),m=v+l,p=x}else u.push(r),m+=p+v,p=x}return c=l?function(O,P){return(P?w:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},Dg.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(_B.apply(this,[r[o],s,a]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,v,b,x,w=["{"];for(var C in m){if(p=m[C],isNaN(parseInt(C,10))?v="'"+C+"'":(C=parseInt(C,10),v=(v=s(C).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),x="-"):(b=s(p).slice(2),x=""),b=x+b.slice(0,-1)+i[b.slice(-1)];else{if(Pr(p)!=="object")throw new Error("Don't know what to do with value type "+Pr(p)+".");b=o(p)}w.push(v+b)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,b,x,w={},C=1,E=w,O=[],P="",L="",B=m.length-1,$=1;$<B;$+=1)(x=m[$])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(O.push([E,b]),E={},b=void 0):x=="}"?((v=O.pop())[0][v[1]]=E,b=void 0,E=v[0]):x=="-"?C=-1:b===void 0?r.hasOwnProperty(x)?(P+=r[x],b=parseInt(P,16)*C,C=1,P=""):P+=x:r.hasOwnProperty(x)?(L+=r[x],E[b]=parseInt(L,16)*C,C=1,b=void 0,L=""):L+=x;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])})(en.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(a2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(en),en.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw qr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw qr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(wn.canvg?Promise.resolve(wn.canvg):ur(()=>import("./index.es-B6YdjvEM.js"),__vite__mapDeps([46,7,6]))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},en.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},en.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function m(v,b){var x,w=!1;for(x=0;x<v.length;x+=1)v[x]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(Pr(t)==="object"){for(i in t)if(a=t[i],m(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&m(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(en.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,m=a.length;f<m;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,f,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(o=Object.keys(a).sort(function(p,v){return p-v})).length;f<m;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var x=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+t0(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+t0(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+t0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var v=c();u({data:m,addLength1:!0,objectId:v}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+t0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+t0(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},m=f.pdfEscape,p=f.activeFontKey,v=f.fonts,b=p,x="",w=0,C="",E=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(C=o,b=p,Array.isArray(o)&&(C=o[0]),w=0;w<C.length;w+=1)v[b].metadata.hasOwnProperty("cmap")&&(s=v[b].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?x+=C[w]:x+="";var O="";return parseInt(b.slice(1))<14||E==="WinAnsiEncoding"?O=m(x,b).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(O=n(x,v[b])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])})(en),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(en.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,E=0;this.__bidiEngine__={};var O=function(M){var I=M.charCodeAt(),K=I>>8,H=b[K];return H!==void 0?f[256*H+(255&I)]:K===252||K===253?"AL":w.test(K)?"L":K===8?"R":"N"},P=function(M){for(var I,K=0;K<M.length;K++){if((I=O(M.charAt(K)))==="L")return!1;if(I==="R")return!0}return!1},L=function(M,I,K,H){var J,W,Q,ee,he=I[H];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(he="AN");break;case"AL":C=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":H<1||H+1>=I.length||(J=K[H-1])!=="EN"&&J!=="AN"||(W=I[H+1])!=="EN"&&W!=="AN"?he="N":C&&(W="AN"),he=W===J?W:"N";break;case"ES":he=(J=H>0?K[H-1]:"B")==="EN"&&H+1<I.length&&I[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&K[H-1]==="EN"){he="EN";break}if(C){he="N";break}for(Q=H+1,ee=I.length;Q<ee&&I[Q]==="ET";)Q++;he=Q<ee&&I[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ee=I.length,Q=H+1;Q<ee&&I[Q]==="NSM";)Q++;if(Q<ee){var Y=M[H],ye=Y>=1425&&Y<=2303||Y===64286;if(J=I[Q],ye&&(J==="R"||J==="AL")){he="R";break}}}he=H<1||(J=I[H-1])==="B"?"N":K[H-1];break;case"B":C=!1,i=!0,he=E;break;case"S":a=!0,he="N"}return he},B=function(M,I,K){var H=M.split("");return K&&$(H,K,{hiLevel:E}),H.reverse(),I&&I.reverse(),H.join("")},$=function(M,I,K){var H,J,W,Q,ee,he=-1,Y=M.length,ye=0,V=[],F=E?p:m,ae=[];for(C=!1,i=!1,a=!1,J=0;J<Y;J++)ae[J]=O(M[J]);for(W=0;W<Y;W++){if(ee=ye,V[W]=L(M,ae,V,W),H=240&(ye=F[ee][v[V[W]]]),ye&=15,I[W]=Q=F[ye][5],H>0)if(H===16){for(J=he;J<W;J++)I[J]=1;he=-1}else he=-1;if(F[ye][6])he===-1&&(he=W);else if(he>-1){for(J=he;J<W;J++)I[J]=Q;he=-1}ae[W]==="B"&&(I[W]=0),K.hiLevel|=Q}a&&(function(le,pe,xe){for(var Oe=0;Oe<xe;Oe++)if(le[Oe]==="S"){pe[Oe]=E;for(var fe=Oe-1;fe>=0&&le[fe]==="WS";fe--)pe[fe]=E}})(ae,I,Y)},U=function(M,I,K,H,J){if(!(J.hiLevel<M)){if(M===1&&E===1&&!i)return I.reverse(),void(K&&K.reverse());for(var W,Q,ee,he,Y=I.length,ye=0;ye<Y;){if(H[ye]>=M){for(ee=ye+1;ee<Y&&H[ee]>=M;)ee++;for(he=ye,Q=ee-1;he<Q;he++,Q--)W=I[he],I[he]=I[Q],I[Q]=W,K&&(W=K[he],K[he]=K[Q],K[Q]=W);ye=ee}ye++}}},G=function(M,I,K){var H=M.split(""),J={hiLevel:E};return K||(K=[]),$(H,K,J),(function(W,Q,ee){if(ee.hiLevel!==0&&u)for(var he,Y=0;Y<W.length;Y++)Q[Y]===1&&(he=x.indexOf(W[Y]))>=0&&(W[Y]=x[he+1])})(H,K,J),U(2,H,I,K,J),U(1,H,I,K,J),H.join("")};return this.__bidiEngine__.doBidiReorder=function(M,I,K){if((function(J,W){if(W)for(var Q=0;Q<J.length;Q++)W[Q]=Q;o===void 0&&(o=P(J)),c===void 0&&(c=P(J))})(M,I),s||!l||c)if(s&&l&&o^c)E=o?1:0,M=B(M,I,K);else if(!s&&l&&c)E=o?1:0,M=G(M,I,K),M=B(M,I);else if(!s||o||l||c){if(s&&!l&&o^c)M=B(M,I),o?(E=0,M=G(M,I,K)):(E=1,M=G(M,I,K),M=B(M,I));else if(s&&o&&!l&&c)E=1,M=G(M,I,K),M=B(M,I);else if(!s&&!l&&o^c){var H=u;o?(E=1,M=G(M,I,K),E=0,u=!1,M=G(M,I,K),u=H):(E=0,M=G(M,I,K),M=B(M,I),E=1,u=!1,M=G(M,I,K),u=H,M=B(M,I))}}else E=0,M=G(M,I,K);else E=o?1:0,M=G(M,I,K);return M},this.__bidiEngine__.setOptions=function(M){M&&(s=M.isInputVisual,l=M.isOutputVisual,o=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(en),en.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $f(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new b5e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new a5e(this.contents),this.head=new o5e(this),this.name=new d5e(this),this.cmap=new TJ(this),this.toUnicode={},this.hhea=new l5e(this),this.maxp=new f5e(this),this.hmtx=new p5e(this),this.post=new u5e(this),this.os2=new c5e(this),this.loca=new y5e(this),this.glyf=new m5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var uu,$f=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),a5e=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,f,m,p,v,b;for(b in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(i=new $f).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*p,c=i.pos+a,o=null,v=[],n)for(m=n[b],i.writeString(b),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),v=v.concat(m),b==="head"&&(o=c),c+=m.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=EJ.call(n);n.length%4;)n.push(0);for(a=new $f(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),s5e={}.hasOwnProperty,ah=function(t,e){for(var n in e)s5e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};uu=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var o5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new $f).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),LB=(function(){function t(e,n){var r,i,a,s,o,l,c,u,f,m,p,v,b,x,w,C,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,a=(function(){var O,P;for(P=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)P.push(e.readUInt16());return P})(),e.pos+=2,b=(function(){var O,P;for(P=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)P.push(e.readUInt16());return P})(),c=(function(){var O,P;for(P=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)P.push(e.readUInt16());return P})(),u=(function(){var O,P;for(P=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)P.push(e.readUInt16());return P})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var O,P;for(P=[],l=O=0;0<=i?O<i:O>i;l=0<=i?++O:--O)P.push(e.readUInt16());return P})(),l=w=0,E=a.length;w<E;l=++w)for(x=a[l],r=C=v=b[l];v<=x?C<=x:C>=x;r=v<=x?++C:--C)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-v)-(m-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,f,m,p,v,b,x,w,C,E,O,P,L,B,$,U,G,M,I,K,H,J,W,Q,ee,he,Y,ye,V,F,ae,le,pe,xe,Oe,fe,Ce,Fe,Te;switch(H=new $f,s=Object.keys(e).sort(function(nt,rt){return nt-rt}),n){case"macroman":for(b=0,x=(function(){var nt=[];for(v=0;v<256;++v)nt.push(0);return nt})(),C={0:0},a={},J=0,he=s.length;J<he;J++)C[fe=e[i=s[J]]]==null&&(C[fe]=++b),a[i]={old:e[i],new:C[e[i]]},x[i]=C[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:a,subtable:H.data,maxGlyphID:b+1};case"unicode":for(I=[],f=[],E=0,C={},r={},w=c=null,W=0,Y=s.length;W<Y;W++)C[P=e[i=s[W]]]==null&&(C[P]=++E),r[i]={old:P,new:C[P]},o=C[P]-i,w!=null&&o===c||(w&&f.push(w),I.push(i),c=o),w=i;for(w&&f.push(w),f.push(65535),I.push(65535),G=2*(U=I.length),$=2*Math.pow(Math.log(U)/Math.LN2,2),m=Math.log($/2)/Math.LN2,B=2*U-$,l=[],L=[],p=[],v=Q=0,ye=I.length;Q<ye;v=++Q){if(M=I[v],u=f[v],M===65535){l.push(0),L.push(0);break}if(M-(K=r[M].new)>=32768)for(l.push(0),L.push(2*(p.length+U-v)),i=ee=M;M<=u?ee<=u:ee>=u;i=M<=u?++ee:--ee)p.push(r[i].new);else l.push(K-M),L.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*U+2*p.length),H.writeUInt16(0),H.writeUInt16(G),H.writeUInt16($),H.writeUInt16(m),H.writeUInt16(B),xe=0,V=f.length;xe<V;xe++)i=f[xe],H.writeUInt16(i);for(H.writeUInt16(0),Oe=0,F=I.length;Oe<F;Oe++)i=I[Oe],H.writeUInt16(i);for(Ce=0,ae=l.length;Ce<ae;Ce++)o=l[Ce],H.writeUInt16(o);for(Fe=0,le=L.length;Fe<le;Fe++)O=L[Fe],H.writeUInt16(O);for(Te=0,pe=p.length;Te<pe;Te++)b=p[Te],H.writeUInt16(b);return{charMap:r,subtable:H.data,maxGlyphID:E+1}}},t})(),TJ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new LB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=LB.encode(e,n),(i=new $f).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),l5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),c5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),u5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t})(),h5e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},d5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,f,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=r.length;u<f;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new h5e(c,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),f5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),p5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,f,m;for(m=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],m.push(a.advance);return m}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),EJ=[].slice,m5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new $f(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new v5e(o,c,f,l,u):new g5e(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t})(),g5e=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),v5e=(function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new $f(EJ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),y5e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ah(t,uu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t})(),b5e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,f,m,p,v,b,x,w;for(i in r=TJ.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(v in m=r.maxGlyphID,s)v in p||(p[v]=m++);return u=(function(C){var E,O;for(E in O={},C)O[C[E]]=E;return O})(p),f=Object.keys(u).sort(function(C,E){return C-E}),b=(function(){var C,E,O;for(O=[],C=0,E=f.length;C<E;C++)o=f[C],O.push(u[o]);return O})(),a=this.font.glyf.encode(s,b,p),c=this.font.loca.encode(a.offsets,b),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();en.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();function x5e({roadmap:t,analysis:e}){const[n,r]=j.useState(!1),i=()=>{r(!0);const a=new en,s=a.internal.pageSize.getWidth();let o=20;a.setFontSize(24),a.setFont("helvetica","bold"),a.text("Career Development Resume",s/2,o,{align:"center"}),o+=15,a.setFontSize(10),a.setFont("helvetica","normal"),a.text("AI-Generated Career Roadmap",s/2,o,{align:"center"}),o+=15,a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Professional Summary",20,o),o+=8,a.setFontSize(10),a.setFont("helvetica","normal");const l=e.counselor_view||"Motivated professional with clear career goals.",c=a.splitTextToSize(l,s-40);a.text(c,20,o),o+=c.length*5+10,a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Career Progression Plan",20,o),o+=10,t.forEach((m,p)=>{o>250&&(a.addPage(),o=20),a.setFontSize(12),a.setFont("helvetica","bold"),a.text(`Year ${m.year}: ${m.role}`,20,o),o+=6,a.setFontSize(10),a.setFont("helvetica","italic"),a.text(m.focus,20,o),o+=6,a.setFont("helvetica","normal"),a.text("Key Skills:",20,o),o+=5,m.skills_to_acquire.forEach(v=>{a.text(` ${v}`,25,o),o+=5}),o+=5}),o>220&&(a.addPage(),o=20),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Technical Skills",20,o),o+=8;const u=t.flatMap(m=>m.skills_to_acquire),f=[...new Set(u)];a.setFontSize(10),a.setFont("helvetica","normal"),f.forEach(m=>{a.text(` ${m}`,20,o),o+=5}),a.save("CareerPath_Resume.pdf"),r(!1)};return S.jsxs(li,{className:"p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(W$,{className:"w-6 h-6 text-blue-600"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"AI Resume Builder"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Generate a professional resume from your roadmap"})]})]}),S.jsx(Or,{onClick:i,disabled:n,children:n?"Generating...":S.jsxs(S.Fragment,{children:[S.jsx(d3,{className:"w-4 h-4 mr-2"}),"Download PDF"]})})]}),S.jsx("p",{className:"text-sm text-slate-500",children:"Your resume will include your career progression, skills, and professional summary."})]})}function w5e({skills:t}){const e=r=>{const i={React:[{title:"Advanced React & Redux",platform:"Udemy",rating:4.7,duration:"40 hours",url:"https://udemy.com"},{title:"React - The Complete Guide",platform:"Udemy",rating:4.8,duration:"48 hours",url:"https://udemy.com"}],Python:[{title:"Complete Python Bootcamp",platform:"Udemy",rating:4.6,duration:"22 hours",url:"https://udemy.com"},{title:"Python for Data Science",platform:"Coursera",rating:4.7,duration:"30 hours",url:"https://coursera.org"}],Cloud:[{title:"AWS Certified Solutions Architect",platform:"Udemy",rating:4.7,duration:"25 hours",url:"https://udemy.com"},{title:"Azure Fundamentals",platform:"Microsoft Learn",rating:4.5,duration:"15 hours",url:"https://learn.microsoft.com"}]};for(const[a,s]of Object.entries(i))if(r.toLowerCase().includes(a.toLowerCase()))return s;return[{title:`Master ${r}`,platform:"Udemy",rating:4.5,duration:"20 hours",url:"https://udemy.com"}]},n=t.slice(0,3);return S.jsxs(li,{className:"p-6",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:" Recommended Courses"}),S.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Top courses to acquire your target skills"}),S.jsx("div",{className:"space-y-6",children:n.map((r,i)=>{const a=e(r);return S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:r}),S.jsx("div",{className:"space-y-3",children:a.map((s,o)=>S.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h5",{className:"font-medium text-slate-900 text-sm",children:s.title}),S.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-500",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(Kae,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.rating]}),S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(f3,{className:"w-3 h-3"}),s.duration]}),S.jsx("span",{className:"text-blue-600",children:s.platform})]})]}),S.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-blue-600 hover:text-blue-700",children:S.jsx(p3,{className:"w-4 h-4"})})]},o))})]},i)})})]})}function AJ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AJ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AJ(t))&&(r&&(r+=" "),r+=e);return r}var S5e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function s4(t){if(typeof t!="string")return!1;var e=S5e;return e.includes(t)}var _5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k5e=new Set(_5e);function OJ(t){return typeof t!="string"?!1:k5e.has(t)}function PJ(t){return typeof t=="string"&&t.startsWith("data-")}function nc(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OJ(n)||PJ(n))&&(e[n]=t[n]);return e}function xk(t){if(t==null)return null;if(j.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return nc(e)}return typeof t=="object"&&!Array.isArray(t)?nc(t):null}function Ds(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OJ(n)||PJ(n)||s4(n))&&(e[n]=t[n]);return e}function C5e(t){return t==null?null:j.isValidElement(t)?Ds(t.props):typeof t=="object"&&!Array.isArray(t)?Ds(t):null}var T5e=["children","width","height","viewBox","className","style","title","desc"];function OP(){return OP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OP.apply(null,arguments)}function E5e(t,e){if(t==null)return{};var n,r,i=A5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function A5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o4=j.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,u=E5e(t,T5e),f=a||{width:r,height:i,x:0,y:0},m=Nr("recharts-surface",s);return j.createElement("svg",OP({},Ds(u),{className:m,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),j.createElement("title",null,l),j.createElement("desc",null,c),n)}),O5e=["children","className"];function PP(){return PP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PP.apply(null,arguments)}function P5e(t,e){if(t==null)return{};var n,r,i=N5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rc=j.forwardRef((t,e)=>{var{children:n,className:r}=t,i=P5e(t,O5e),a=Nr("recharts-layer",r);return j.createElement("g",PP({className:a},Ds(i),{ref:e}),n)}),NJ=j.createContext(null),L5e=()=>j.useContext(NJ),qT={},HT={},MB;function M5e(){return MB||(MB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(HT)),HT}var WT={},RB;function LJ(){return RB||(RB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(WT)),WT}var VT={},IB;function l4(){return IB||(IB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(VT)),VT}var GT={},KT={},jB;function R5e(){return jB||(jB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(KT)),KT}var DB;function c4(){return DB||(DB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R5e(),n=l4();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}t.toPath=r})(GT)),GT}var BB;function u4(){return BB||(BB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M5e(),n=LJ(),r=l4(),i=c4();function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=a})(qT)),qT}var YT,FB;function I5e(){return FB||(FB=1,YT=u4().get),YT}var j5e=I5e();const wk=sc(j5e);var D5e=4;function Nf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D5e,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Bi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Nf(o)+a:i+a},"")}var Xl=t=>t===0?0:t>0?1:-1,iu=t=>typeof t=="number"&&t!=+t,md=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,zt=t=>(typeof t=="number"||t instanceof Number)&&!iu(t),Ju=t=>zt(t)||typeof t=="string",B5e=0,qb=t=>{var e=++B5e;return"".concat(t||"").concat(e)},qf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!zt(e)&&typeof e!="string")return r;var a;if(md(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return iu(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},MJ=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function da(t,e,n){return zt(t)&&zt(e)?Nf(t+n*(e-t)):e}function RJ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wk(r,e))===n)}var Na=t=>t===null||typeof t>"u",I1=t=>Na(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function F5e(t){return t!=null}function j1(){}var U5e=["type","size","sizeType"];function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(null,arguments)}function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(n),!0).forEach(function(r){z5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z5e(t,e,n){return(e=$5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5e(t){var e=q5e(t,"string");return typeof e=="symbol"?e:e+""}function q5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H5e(t,e){if(t==null)return{};var n,r,i=W5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IJ={symbolCircle:lL,symbolCross:bge,symbolDiamond:wge,symbolSquare:Sge,symbolStar:Tge,symbolTriangle:Ege,symbolWye:Oge},V5e=Math.PI/180,G5e=t=>{var e="symbol".concat(I1(t));return IJ[e]||lL},K5e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*V5e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Y5e=(t,e)=>{IJ["symbol".concat(I1(t))]=e},h4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=H5e(t,U5e),a=zB(zB({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var m=G5e(s),p=Pge().type(m).size(K5e(n,r,s)),v=p();if(v!==null)return v},{className:l,cx:c,cy:u}=a,f=Ds(a);return zt(c)&&zt(u)&&zt(n)?j.createElement("path",NP({},f,{className:Nr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};h4.registerSymbol=Y5e;var jJ=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,d4=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{s4(i)&&(r[i]=(a=>n[i](n,a)))}),r},X5e=(t,e,n)=>r=>(t(e,n,r),null),DJ=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];s4(i)&&typeof a=="function"&&(r||(r={}),r[i]=X5e(a,e,n))}),r};function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){Z5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z5e(t,e,n){return(e=Q5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5e(t){var e=eTe(t,"string");return typeof e=="symbol"?e:e+""}function eTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(t,e){var n=J5e({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(null,arguments)}function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){nTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nTe(t,e,n){return(e=rTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rTe(t){var e=iTe(t,"string");return typeof e=="symbol"?e:e+""}function iTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wl=32,aTe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function sTe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Wl/2,a=Wl/6,s=Wl/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Wl,y2:i,className:"recharts-legend-icon"})}if(l==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Wl,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return j.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Wl/8,"h").concat(Wl,"v").concat(Wl*3/4,"h").concat(-Wl,"z"),className:"recharts-legend-icon"});if(j.isValidElement(e.legendIcon)){var u=tTe({},e);return delete u.legendIcon,j.cloneElement(e.legendIcon,u)}return j.createElement(h4,{fill:o,cx:i,cy:i,size:Wl,sizeType:"diameter",type:l})}function oTe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Wl,height:Wl},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var m=u.formatter||i,p=Nr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var v=u.inactive?a:u.color,b=m?m(u.value,u,f):u.value;return j.createElement("li",ES({className:p,style:l,key:"legend-item-".concat(f)},DJ(t,u,f)),j.createElement(o4,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(b," legend icon")},j.createElement(sTe,{data:u,iconType:s,inactiveColor:a})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b))})}var lTe=t=>{var e=Qa(t,aTe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},j.createElement(oTe,ES({},e,{payload:n})))},XT={},JT={},HB;function cTe(){return HB||(HB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(JT)),JT}var ZT={},WB;function uTe(){return WB||(WB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(ZT)),ZT}var QT={},VB;function BJ(){return VB||(VB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(QT)),QT}var eE={},tE={},nE={},GB;function hTe(){return GB||(GB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(nE)),nE}var KB;function f4(){return KB||(KB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hTe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(tE)),tE}var rE={},YB;function dTe(){return YB||(YB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(rE)),rE}var XB;function fTe(){return XB||(XB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f4(),n=dTe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(eE)),eE}var iE={},aE={},JB;function pTe(){return JB||(JB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u4();function n(r){return function(i){return e.get(i,r)}}t.property=n})(aE)),aE}var sE={},oE={},lE={},cE={},ZB;function FJ(){return ZB||(ZB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(cE)),cE}var uE={},QB;function UJ(){return QB||(QB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(uE)),uE}var hE={},eF;function zJ(){return eF||(eF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(hE)),hE}var tF;function mTe(){return tF||(tF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FJ(),n=UJ(),r=zJ();function i(u,f,m){return typeof m!="function"?i(u,f,()=>{}):a(u,f,function p(v,b,x,w,C,E){const O=m(v,b,x,w,C,E);return O!==void 0?!!O:a(v,b,p,E)},new Map)}function a(u,f,m,p){if(f===u)return!0;switch(typeof f){case"object":return s(u,f,m,p);case"function":return Object.keys(f).length>0?a(u,{...f},m,p):r.isEqualsSameValueZero(u,f);default:return e.isObject(u)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(u,f)}}function s(u,f,m,p){if(f==null)return!0;if(Array.isArray(f))return l(u,f,m,p);if(f instanceof Map)return o(u,f,m,p);if(f instanceof Set)return c(u,f,m,p);const v=Object.keys(f);if(u==null||n.isPrimitive(u))return v.length===0;if(v.length===0)return!0;if(p?.has(f))return p.get(f)===u;p?.set(f,u);try{for(let b=0;b<v.length;b++){const x=v[b];if(!n.isPrimitive(u)&&!(x in u)||f[x]===void 0&&u[x]!==void 0||f[x]===null&&u[x]!==null||!m(u[x],f[x],x,u,f,p))return!1}return!0}finally{p?.delete(f)}}function o(u,f,m,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,b]of f.entries()){const x=u.get(v);if(m(x,b,v,u,f,p)===!1)return!1}return!0}function l(u,f,m,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let b=0;b<f.length;b++){const x=f[b];let w=!1;for(let C=0;C<u.length;C++){if(v.has(C))continue;const E=u[C];let O=!1;if(m(E,x,b,u,f,p)&&(O=!0),O){v.add(C),w=!0;break}}if(!w)return!1}return!0}function c(u,f,m,p){return f.size===0?!0:u instanceof Set?l([...u],[...f],m,p):!1}t.isMatchWith=i,t.isSetMatch=c})(lE)),lE}var nF;function $J(){return nF||(nF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mTe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(oE)),oE}var dE={},fE={},pE={},rF;function gTe(){return rF||(rF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(pE)),pE}var mE={},iF;function p4(){return iF||(iF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(mE)),mE}var gE={},aF;function qJ(){return aF||(aF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",v="[object Error]",b="[object DataView]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",L="[object Int16Array]",B="[object Int32Array]",$="[object BigInt64Array]",U="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=u,t.bigInt64ArrayTag=$,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=v,t.float32ArrayTag=U,t.float64ArrayTag=G,t.functionTag=f,t.int16ArrayTag=L,t.int32ArrayTag=B,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=C,t.uint32ArrayTag=E,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=w})(gE)),gE}var vE={},sF;function vTe(){return sF||(sF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(vE)),vE}var oF;function HJ(){return oF||(oF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gTe(),n=p4(),r=qJ(),i=UJ(),a=vTe();function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,m,p=new Map,v=void 0){const b=v?.(u,f,m,p);if(b!==void 0)return b;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const x=new Array(u.length);p.set(u,x);for(let w=0;w<u.length;w++)x[w]=o(u[w],w,m,p,v);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;p.set(u,x);for(const[w,C]of u)x.set(w,o(C,w,m,p,v));return x}if(u instanceof Set){const x=new Set;p.set(u,x);for(const w of u)x.add(o(w,void 0,m,p,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,x);for(let w=0;w<u.length;w++)x[w]=o(u[w],w,m,p,v);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,x),l(x,u,m,p,v),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return p.set(u,x),l(x,u,m,p,v),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return p.set(u,x),l(x,u,m,p,v),x}if(u instanceof Error){const x=new u.constructor;return p.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,m,p,v),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return p.set(u,x),l(x,u,m,p,v),x}if(u instanceof Number){const x=new Number(u.valueOf());return p.set(u,x),l(x,u,m,p,v),x}if(u instanceof String){const x=new String(u.valueOf());return p.set(u,x),l(x,u,m,p,v),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return p.set(u,x),l(x,u,m,p,v),x}return u}function l(u,f,m=u,p,v){const b=[...Object.keys(f),...e.getSymbols(f)];for(let x=0;x<b.length;x++){const w=b[x],C=Object.getOwnPropertyDescriptor(u,w);(C==null||C.writable)&&(u[w]=o(f[w],w,m,p,v))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(fE)),fE}var lF;function yTe(){return lF||(lF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HJ();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(dE)),dE}var cF;function bTe(){return cF||(cF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J(),n=yTe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(sE)),sE}var yE={},bE={},xE={},uF;function xTe(){return uF||(uF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HJ(),n=p4(),r=qJ();function i(a,s){return e.cloneDeepWith(a,(o,l,c,u)=>{const f=s?.(o,l,c,u);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return u.set(a,m),e.copyProperties(m,a,c,u),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return e.copyProperties(m,a),m}case r.argumentsTag:{const m={};return e.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=i})(xE)),xE}var hF;function wTe(){return hF||(hF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xTe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(bE)),bE}var wE={},SE={},dF;function WJ(){return dF||(dF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(SE)),SE}var _E={},fF;function STe(){return fF||(fF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_E)),_E}var pF;function _Te(){return pF||(pF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LJ(),n=WJ(),r=STe(),i=c4();function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=a})(wE)),wE}var mF;function kTe(){return mF||(mF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J(),n=l4(),r=wTe(),i=u4(),a=_Te();function s(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=s})(yE)),yE}var gF;function CTe(){return gF||(gF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ(),n=pTe(),r=bTe(),i=kTe();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(iE)),iE}var vF;function TTe(){return vF||(vF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cTe(),n=uTe(),r=BJ(),i=fTe(),a=CTe();function s(o,l=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}t.uniqBy=s})(XT)),XT}var kE,yF;function ETe(){return yF||(yF=1,kE=TTe().uniqBy),kE}var ATe=ETe();const bF=sc(ATe);function VJ(t,e,n){return e===!0?bF(t,n):typeof e=="function"?bF(t,e):t}var CE={exports:{}},TE={};var xF;function OTe(){if(xF)return TE;xF=1;var t=T_(),e=uq();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return TE.useSyncExternalStoreWithSelector=function(c,u,f,m,p){var v=a(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function w(L){if(!C){if(C=!0,E=L,L=m(L),p!==void 0&&b.hasValue){var B=b.value;if(p(B,L))return O=B}return O=L}if(B=O,r(E,L))return B;var $=m(L);return p!==void 0&&p(B,$)?(E=L,B):(E=L,O=$)}var C=!1,E,O,P=f===void 0?null:f;return[function(){return w(u())},P===null?void 0:function(){return w(P())}]},[u,f,m,p]);var x=i(c,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=x},[x]),l(x),x},TE}var wF;function PTe(){return wF||(wF=1,CE.exports=OTe()),CE.exports}var NTe=PTe(),m4=j.createContext(null),LTe=t=>t,pa=()=>{var t=j.useContext(m4);return t?t.store.dispatch:LTe},u2=()=>{},MTe=()=>u2,RTe=(t,e)=>t===e;function on(t){var e=j.useContext(m4);return NTe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:MTe,e?e.store.getState:u2,e?e.store.getState:u2,e?t:u2,RTe)}function ITe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function jTe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function DTe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var SF=t=>Array.isArray(t)?t:[t];function BTe(t){const e=Array.isArray(t[0])?t[0]:t;return DTe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function FTe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var UTe=class{constructor(t){this.value=t}deref(){return this.value}},zTe=typeof WeakRef<"u"?WeakRef:UTe,$Te=0,_F=1;function bw(){return{s:$Te,v:void 0,o:null,p:null}}function GJ(t,e={}){let n=bw();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let o=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(p);b===void 0?(o=bw(),v.set(p,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(p);b===void 0?(o=bw(),v.set(p,o)):o=b}}const c=o;let u;if(o.s===_F)u=o.v;else if(u=t.apply(null,arguments),a++,r){const f=i?.deref?.()??i;f!=null&&r(f,u)&&(u=f,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new zTe(u):u}return c.s=_F,c.v=u,u}return s.clearCache=()=>{n=bw(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function qTe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),ITe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:p=GJ,argsMemoizeOptions:v=[]}=u,b=SF(m),x=SF(v),w=BTe(i),C=f(function(){return a++,c.apply(null,arguments)},...b),E=p(function(){s++;const P=FTe(w,arguments);return o=C.apply(null,P),o},...x);return Object.assign(E,{resultFunc:c,memoizedResultFunc:C,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var $e=qTe(GJ),HTe=Object.assign((t,e=$e)=>{jTe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>HTe}),EE={},AE={},OE={},kF;function WTe(){return kF||(kF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(OE)),OE}var PE={},NE={},CF;function KJ(){return CF||(CF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(NE)),NE}var TF;function VTe(){return TF||(TF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KJ(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(PE)),PE}var EF;function GTe(){return EF||(EF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WTe(),n=VTe(),r=c4();function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,v)=>{let b=p;for(let x=0;x<v.length&&b!=null;++x)b=b[v[x]];return b},u=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:c(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?c(v,p):typeof v=="object"?v[p]:v,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(v=>u(v,p))})).slice().sort((p,v)=>{for(let b=0;b<f.length;b++){const x=e.compareValues(p.criteria[b],v.criteria[b],o[b]);if(x!==0)return x}return 0}).map(p=>p.original)}t.orderBy=i})(AE)),AE}var LE={},AF;function KTe(){return AF||(AF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(n,0),i}t.flatten=e})(LE)),LE}var ME={},OF;function YJ(){return OF||(OF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WJ(),n=f4(),r=FJ(),i=zJ();function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}t.isIterateeCall=a})(ME)),ME}var PF;function YTe(){return PF||(PF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GTe(),n=KTe(),r=YJ();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(EE)),EE}var RE,NF;function XTe(){return NF||(NF=1,RE=YTe().sortBy),RE}var JTe=XTe();const Sk=sc(JTe);var XJ=t=>t.legend.settings,ZTe=t=>t.legend.size,QTe=t=>t.legend.payload,eEe=$e([QTe,XJ],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Sk(r,n):r});function tEe(){return on(eEe)}var xw=1;function JJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>xw||Math.abs(s.left-e.left)>xw||Math.abs(s.top-e.top)>xw||Math.abs(s.width-e.width)>xw)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function fs(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nEe=typeof Symbol=="function"&&Symbol.observable||"@@observable",LF=nEe,IE=()=>Math.random().toString(36).substring(7).split("").join("."),rEe={INIT:`@@redux/INIT${IE()}`,REPLACE:`@@redux/REPLACE${IE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${IE()}`},AS=rEe;function g4(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ZJ(t,e,n){if(typeof t!="function")throw new Error(fs(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fs(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fs(1));return n(ZJ)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,w)=>{s.set(w,x)}))}function u(){if(l)throw new Error(fs(3));return i}function f(x){if(typeof x!="function")throw new Error(fs(4));if(l)throw new Error(fs(5));let w=!0;c();const C=o++;return s.set(C,x),function(){if(w){if(l)throw new Error(fs(6));w=!1,c(),s.delete(C),a=null}}}function m(x){if(!g4(x))throw new Error(fs(7));if(typeof x.type>"u")throw new Error(fs(8));if(typeof x.type!="string")throw new Error(fs(17));if(l)throw new Error(fs(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(C=>{C()}),x}function p(x){if(typeof x!="function")throw new Error(fs(10));r=x,m({type:AS.REPLACE})}function v(){const x=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(fs(11));function C(){const O=w;O.next&&O.next(u())}return C(),{unsubscribe:x(C)}},[LF](){return this}}}return m({type:AS.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:p,[LF]:v}}function iEe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:AS.INIT})>"u")throw new Error(fs(12));if(typeof n(void 0,{type:AS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fs(13))})}function QJ(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{iEe(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],m=n[f],p=s[f],v=m(p,o);if(typeof v>"u")throw o&&o.type,new Error(fs(14));c[f]=v,l=l||v!==p}return l=l||r.length!==Object.keys(s).length,l?c:s}}function OS(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function aEe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(fs(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=OS(...o)(i.dispatch),{...i,dispatch:a}}}function eZ(t){return g4(t)&&"type"in t&&typeof t.type=="string"}var tZ=Symbol.for("immer-nothing"),MF=Symbol.for("immer-draftable"),ho=Symbol.for("immer-state");function Vc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yl=Object,tv=yl.getPrototypeOf,PS="constructor",_k="prototype",LP="configurable",NS="enumerable",h2="writable",Hb="value",gd=t=>!!t&&!!t[ho];function au(t){return t?nZ(t)||Ck(t)||!!t[MF]||!!t[PS]?.[MF]||Tk(t)||Ek(t):!1}var sEe=yl[_k][PS].toString(),RF=new WeakMap;function nZ(t){if(!t||!v4(t))return!1;const e=tv(t);if(e===null||e===yl[_k])return!0;const n=yl.hasOwnProperty.call(e,PS)&&e[PS];if(n===Object)return!0;if(!n0(n))return!1;let r=RF.get(n);return r===void 0&&(r=Function.toString.call(n),RF.set(n,r)),r===sEe}function kk(t,e,n=!0){D1(t)===0?(n?Reflect.ownKeys(t):yl.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function D1(t){const e=t[ho];return e?e.type_:Ck(t)?1:Tk(t)?2:Ek(t)?3:0}var IF=(t,e,n=D1(t))=>n===2?t.has(e):yl[_k].hasOwnProperty.call(t,e),MP=(t,e,n=D1(t))=>n===2?t.get(e):t[e],LS=(t,e,n,r=D1(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function oEe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ck=Array.isArray,Tk=t=>t instanceof Map,Ek=t=>t instanceof Set,v4=t=>typeof t=="object",n0=t=>typeof t=="function",jE=t=>typeof t=="boolean";function lEe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Vh=t=>t.copy_||t.base_,y4=t=>t.modified_?t.copy_:t.base_;function RP(t,e){if(Tk(t))return new Map(t);if(Ek(t))return new Set(t);if(Ck(t))return Array[_k].slice.call(t);const n=nZ(t);if(e===!0||e==="class_only"&&!n){const r=yl.getOwnPropertyDescriptors(t);delete r[ho];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[h2]===!1&&(o[h2]=!0,o[LP]=!0),(o.get||o.set)&&(r[s]={[LP]:!0,[h2]:!0,[NS]:o[NS],[Hb]:t[s]})}return yl.create(tv(t),r)}else{const r=tv(t);if(r!==null&&n)return{...t};const i=yl.create(r);return yl.assign(i,t)}}function b4(t,e=!1){return Ak(t)||gd(t)||!au(t)||(D1(t)>1&&yl.defineProperties(t,{set:ww,add:ww,clear:ww,delete:ww}),yl.freeze(t),e&&kk(t,(n,r)=>{b4(r,!0)},!1)),t}function cEe(){Vc(2)}var ww={[Hb]:cEe};function Ak(t){return t===null||!v4(t)?!0:yl.isFrozen(t)}var MS="MapSet",IP="Patches",jF="ArrayMethods",rZ={};function Sm(t){const e=rZ[t];return e||Vc(0,t),e}var DF=t=>!!rZ[t],Wb,iZ=()=>Wb,uEe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:DF(MS)?Sm(MS):void 0,arrayMethodsPlugin_:DF(jF)?Sm(jF):void 0});function BF(t,e){e&&(t.patchPlugin_=Sm(IP),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jP(t){DP(t),t.drafts_.forEach(hEe),t.drafts_=null}function DP(t){t===Wb&&(Wb=t.parent_)}var FF=t=>Wb=uEe(Wb,t);function hEe(t){const e=t[ho];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ho].modified_&&(jP(e),Vc(4)),au(t)&&(t=zF(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ho].base_,t,e)}else t=zF(e,n);return dEe(e,t,!0),jP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==tZ?t:void 0}function zF(t,e){if(Ak(e))return e;const n=e[ho];if(!n)return RS(e,t.handledSet_,t);if(!Ok(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);oZ(n,t)}return n.copy_}function dEe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b4(e,n)}function aZ(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ok=(t,e)=>t.scope_===e,fEe=[];function sZ(t,e,n,r){const i=Vh(t),a=t.type_;if(r!==void 0&&MP(i,r,a)===e){LS(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;kk(i,(l,c)=>{if(gd(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const s=t.draftLocations_.get(e)??fEe;for(const o of s)LS(i,o,n,a)}function pEe(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Ok(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=y4(a);sZ(t,a.draft_??a,s,n),oZ(a,i)})}function oZ(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}aZ(t)}}function mEe(t,e,n){const{scope_:r}=t;if(gd(n)){const i=n[ho];Ok(i,r)&&i.callbacks_.push(function(){d2(t);const s=y4(i);sZ(t,n,s,e)})}else au(n)&&t.callbacks_.push(function(){const a=Vh(t);t.type_===3?a.has(n)&&RS(n,r.handledSet_,r):MP(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&RS(MP(t.copy_,e,t.type_),r.handledSet_,r)})}function RS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||gd(t)||e.has(t)||!au(t)||Ak(t)||(e.add(t),kk(t,(r,i)=>{if(gd(i)){const a=i[ho];if(Ok(a,n)){const s=y4(a);LS(t,r,s,t.type_),aZ(a)}}else au(i)&&RS(i,e,n)})),t}function gEe(t,e){const n=Ck(t),r={type_:n?1:0,scope_:e?e.scope_:iZ(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=IS;n&&(i=[r],a=Vb);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var IS={get(t,e){if(e===ho)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Vh(t);if(!IF(i,e,t.type_))return vEe(t,i,e);const a=i[e];if(t.finalized_||!au(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&lEe(e))return a;if(a===DE(t.base_,e)){d2(t);const s=t.type_===1?+e:e,o=FP(t.scope_,a,t,s);return t.copy_[s]=o}return a},has(t,e){return e in Vh(t)},ownKeys(t){return Reflect.ownKeys(Vh(t))},set(t,e,n){const r=lZ(Vh(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=DE(Vh(t),e),a=i?.[ho];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(oEe(n,i)&&(n!==void 0||IF(t.base_,e,t.type_)))return!0;d2(t),BP(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),mEe(t,e,n)),!0},deleteProperty(t,e){return d2(t),DE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),BP(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Vh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[h2]:!0,[LP]:t.type_!==1||e!=="length",[NS]:r[NS],[Hb]:n[e]}},defineProperty(){Vc(11)},getPrototypeOf(t){return tv(t.base_)},setPrototypeOf(){Vc(12)}},Vb={};for(let t in IS){let e=IS[t];Vb[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Vb.deleteProperty=function(t,e){return Vb.set.call(this,t,e,void 0)};Vb.set=function(t,e,n){return IS.set.call(this,t[0],e,n,t[0])};function DE(t,e){const n=t[ho];return(n?Vh(n):t)[e]}function vEe(t,e,n){const r=lZ(e,n);return r?Hb in r?r[Hb]:r.get?.call(t.draft_):void 0}function lZ(t,e){if(!(e in t))return;let n=tv(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=tv(n)}}function BP(t){t.modified_||(t.modified_=!0,t.parent_&&BP(t.parent_))}function d2(t){t.copy_||(t.assigned_=new Map,t.copy_=RP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yEe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(n0(n)&&!n0(r)){const s=r;r=n;const o=this;return function(c=s,...u){return o.produce(c,f=>r.call(this,f,...u))}}n0(r)||Vc(6),i!==void 0&&!n0(i)&&Vc(7);let a;if(au(n)){const s=FF(this),o=FP(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?jP(s):DP(s)}return BF(s,i),UF(a,s)}else if(!n||!v4(n)){if(a=r(n),a===void 0&&(a=n),a===tZ&&(a=void 0),this.autoFreeze_&&b4(a,!0),i){const s=[],o=[];Sm(IP).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Vc(1,n)},this.produceWithPatches=(n,r)=>{if(n0(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},jE(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),jE(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),jE(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){au(e)||Vc(8),gd(e)&&(e=nu(e));const n=FF(this),r=FP(n,e,void 0);return r[ho].isManual_=!0,DP(n),r}finishDraft(e,n){const r=e&&e[ho];(!r||!r.isManual_)&&Vc(9);const{scope_:i}=r;return BF(i,n),UF(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Sm(IP).applyPatches_;return gd(e)?i(e,n):this.produce(e,a=>i(a,n))}};function FP(t,e,n,r){const[i,a]=Tk(e)?Sm(MS).proxyMap_(e,n):Ek(e)?Sm(MS).proxySet_(e,n):gEe(e,n);return(n?.scope_??iZ()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?pEe(n,a,r):a.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function nu(t){return gd(t)||Vc(10,t),cZ(t)}function cZ(t){if(!au(t)||Ak(t))return t;const e=t[ho];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RP(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=RP(t,!0);return kk(n,(i,a)=>{LS(n,i,cZ(a))},r),e&&(e.finalized_=!1),n}var bEe=new yEe,uZ=bEe.produce;function hZ(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var xEe=hZ(),wEe=hZ,SEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?OS:OS.apply(null,arguments)};function ic(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(wl(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>eZ(r)&&r.type===t,n}var dZ=class Jy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jy.prototype)}static get[Symbol.species](){return Jy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jy(...e[0].concat(this)):new Jy(...e.concat(this))}};function $F(t){return au(t)?uZ(t,()=>{}):t}function Sw(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _Ee(t){return typeof t=="boolean"}var kEe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new dZ;return n&&(_Ee(n)?s.push(xEe):s.push(wEe(n.extraArgument))),s},fZ="RTK_autoBatch",gi=()=>t=>({payload:t,meta:{[fZ]:!0}}),qF=t=>e=>{setTimeout(e,t)},pZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qF(10):t.type==="callback"?t.queueNotification:qF(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),m=r.subscribe(f);return o.add(u),()=>{m(),o.delete(u)}},dispatch(u){try{return i=!u?.meta?.[fZ],a=!i,a&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},CEe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new dZ(t);return r&&i.push(pZ(typeof r=="object"?r:void 0)),i};function TEe(t){const e=kEe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(g4(n))o=QJ(n);else throw new Error(wl(1));let l;typeof r=="function"?l=r(e):l=e();let c=OS;i&&(c=SEe({trace:!1,...typeof i=="object"&&i}));const u=aEe(...l),f=CEe(u);let m=typeof s=="function"?s(f):f();const p=c(...m);return ZJ(o,a,p)}function mZ(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wl(28));if(o in e)throw new Error(wl(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function EEe(t){return typeof t=="function"}function AEe(t,e){let[n,r,i]=mZ(e),a;if(EEe(t))a=()=>$F(t());else{const o=$F(t);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(gd(u)){const p=f(u,l);return p===void 0?u:p}else{if(au(u))return uZ(u,m=>f(m,l));{const m=f(u,l);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},o)}return s.getInitialState=a,s}var OEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PEe=(t=21)=>{let e="",n=t;for(;n--;)e+=OEe[Math.random()*64|0];return e},NEe=Symbol.for("rtk-slice-createasyncthunk");function LEe(t,e){return`${t}/${e}`}function MEe({creators:t}={}){const e=t?.asyncThunk?.[NEe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(wl(11));const s=(typeof r.reducers=="function"?r.reducers(IEe()):r.reducers)||{},o=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(E,O){const P=typeof E=="string"?E:E.type;if(!P)throw new Error(wl(12));if(P in l.sliceCaseReducersByType)throw new Error(wl(13));return l.sliceCaseReducersByType[P]=O,c},addMatcher(E,O){return l.sliceMatchers.push({matcher:E,reducer:O}),c},exposeAction(E,O){return l.actionCreators[E]=O,c},exposeCaseReducer(E,O){return l.sliceCaseReducersByName[E]=O,c}};o.forEach(E=>{const O=s[E],P={reducerName:E,type:LEe(i,E),createNotation:typeof r.reducers=="function"};DEe(O)?FEe(P,O,c,e):jEe(P,O,c)});function u(){const[E={},O=[],P=void 0]=typeof r.extraReducers=="function"?mZ(r.extraReducers):[r.extraReducers],L={...E,...l.sliceCaseReducersByType};return AEe(r.initialState,B=>{for(let $ in L)B.addCase($,L[$]);for(let $ of l.sliceMatchers)B.addMatcher($.matcher,$.reducer);for(let $ of O)B.addMatcher($.matcher,$.reducer);P&&B.addDefaultCase(P)})}const f=E=>E,m=new Map,p=new WeakMap;let v;function b(E,O){return v||(v=u()),v(E,O)}function x(){return v||(v=u()),v.getInitialState()}function w(E,O=!1){function P(B){let $=B[E];return typeof $>"u"&&O&&($=Sw(p,P,x)),$}function L(B=f){const $=Sw(m,O,()=>new WeakMap);return Sw($,B,()=>{const U={};for(const[G,M]of Object.entries(r.selectors??{}))U[G]=REe(M,B,()=>Sw(p,B,x),O);return U})}return{reducerPath:E,getSelectors:L,get selectors(){return L(P)},selectSlice:P}}const C={name:i,reducer:b,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...w(a),injectInto(E,{reducerPath:O,...P}={}){const L=O??a;return E.inject({reducerPath:L,reducer:b},P),{...C,...w(L,!0)}}};return C}}function REe(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Ho=MEe();function IEe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jEe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!BEe(r))throw new Error(wl(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?ic(t,s):ic(t))}function DEe(t){return t._reducerDefinitionType==="asyncThunk"}function BEe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FEe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(wl(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,f=i(t,a,u);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:s||_w,pending:o||_w,rejected:l||_w,settled:c||_w})}function _w(){}var UEe="task",gZ="listener",vZ="completed",x4="cancelled",zEe=`task-${x4}`,$Ee=`task-${vZ}`,UP=`${gZ}-${x4}`,qEe=`${gZ}-${vZ}`,Pk=class{constructor(t){this.code=t,this.message=`${UEe} ${x4} (reason: ${t})`}name="TaskAbortError";message},w4=(t,e)=>{if(typeof t!="function")throw new TypeError(wl(32))},jS=()=>{},yZ=(t,e=jS)=>(t.catch(e),t),bZ=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),rm=t=>{if(t.aborted)throw new Pk(t.reason)};function xZ(t,e){let n=jS;return new Promise((r,i)=>{const a=()=>i(new Pk(t.reason));if(t.aborted){a();return}n=bZ(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=jS})}var HEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Pk?"cancelled":"rejected",error:n}}finally{e?.()}},DS=t=>e=>yZ(xZ(t,e).then(n=>(rm(t),n))),wZ=t=>{const e=DS(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:S0}=Object,HF={},Nk="listenerMiddleware",WEe=(t,e)=>{const n=r=>bZ(t,()=>r.abort(t.reason));return(r,i)=>{w4(r);const a=new AbortController;n(a);const s=HEe(async()=>{rm(t),rm(a.signal);const o=await r({pause:DS(a.signal),delay:wZ(a.signal),signal:a.signal});return rm(a.signal),o},()=>a.abort($Ee));return i?.autoJoin&&e.push(s.catch(jS)),{result:DS(t)(s),cancel(){a.abort(zEe)}}}},VEe=(t,e)=>{const n=async(r,i)=>{rm(e);let a=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:r,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await xZ(e,Promise.race(o));return rm(e),l}finally{a()}};return(r,i)=>yZ(n(r,i))},SZ=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ic(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wl(21));return w4(a),{predicate:i,type:e,effect:a}},_Z=S0(t=>{const{type:e,predicate:n,effect:r}=SZ(t);return{id:PEe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wl(22))}}},{withTypes:()=>_Z}),WF=(t,e)=>{const{type:n,effect:r,predicate:i}=SZ(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},zP=t=>{t.pending.forEach(e=>{e.abort(UP)})},GEe=(t,e)=>()=>{for(const n of e.keys())zP(n);t.clear()},VF=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},kZ=S0(ic(`${Nk}/add`),{withTypes:()=>kZ}),KEe=ic(`${Nk}/removeAll`),CZ=S0(ic(`${Nk}/remove`),{withTypes:()=>CZ}),YEe=(...t)=>{console.error(`${Nk}/error`,...t)},B1=(t={})=>{const e=new Map,n=new Map,r=p=>{const v=n.get(p)??0;n.set(p,v+1)},i=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:a,onError:s=YEe}=t;w4(s);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&zP(p)}),l=p=>{const v=WF(e,p)??_Z(p);return o(v)};S0(l,{withTypes:()=>l});const c=p=>{const v=WF(e,p);return v&&(v.unsubscribe(),p.cancelActive&&zP(v)),!!v};S0(c,{withTypes:()=>c});const u=async(p,v,b,x)=>{const w=new AbortController,C=VEe(l,w.signal),E=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(v,S0({},b,{getOriginalState:x,condition:(O,P)=>C(O,P).then(Boolean),take:C,delay:wZ(w.signal),pause:DS(w.signal),extra:a,signal:w.signal,fork:WEe(w.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((O,P,L)=>{O!==w&&(O.abort(UP),L.delete(O))})},cancel:()=>{w.abort(UP),p.pending.delete(w)},throwIfCancelled:()=>{rm(w.signal)}})))}catch(O){O instanceof Pk||VF(s,O,{raisedBy:"effect"})}finally{await Promise.all(E),w.abort(qEe),i(p),p.pending.delete(w)}},f=GEe(e,n);return{middleware:p=>v=>b=>{if(!eZ(b))return v(b);if(kZ.match(b))return l(b.payload);if(KEe.match(b)){f();return}if(CZ.match(b))return c(b.payload);let x=p.getState();const w=()=>{if(x===HF)throw new Error(wl(23));return x};let C;try{if(C=v(b),e.size>0){const E=p.getState(),O=Array.from(e.values());for(const P of O){let L=!1;try{L=P.predicate(b,E,x)}catch(B){L=!1,VF(s,B,{raisedBy:"predicate"})}L&&u(P,b,p,w)}}}finally{x=HF}return C},startListening:l,stopListening:c,clearListeners:f}};function wl(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var XEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TZ=Ho({name:"chartLayout",initialState:XEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:JEe,setLayout:ZEe,setChartSize:QEe,setScale:eAe}=TZ.actions,tAe=TZ.reducer;function EZ(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function bi(t){return Number.isFinite(t)}function Zu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function GF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(n),!0).forEach(function(r){nAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nAe(t,e,n){return(e=rAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t){var e=iAe(t,"string");return typeof e=="symbol"?e:e+""}function iAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function La(t,e,n){return Na(t)||Na(e)?n:Ju(e)?wk(t,e,n):typeof e=="function"?e(t):n}var aAe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&zt(t[a]))return l0(l0({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&zt(t[s]))return l0(l0({},t),{},{[s]:t[s]+(i||0)})}return t},sh=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",AZ=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},OZ=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:m,axisType:p}=t;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(b=p==="angleAxis"&&a&&a.length>=2?Xl(a[0]-a[1])*2*b:b,f||m){var x=(f||m||[]).map((w,C)=>{var E=r?r.indexOf(w):w;return{coordinate:s(E)+b,value:w,offset:b,index:C}});return x.filter(w=>!iu(w.coordinate))}return l&&c?c.map((w,C)=>({coordinate:s(w)+b,value:w,index:C,offset:b})):s.ticks&&u!=null?s.ticks(u).map((w,C)=>({coordinate:s(w)+b,value:w,offset:b,index:C})):s.domain().map((w,C)=>({coordinate:s(w)+b,value:r?r[w]:w,index:C,offset:b}))},KF=1e-4,sAe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-KF,a=Math.max(r[0],r[1])+KF,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},oAe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=t[o],c=l?.[i];if(c!=null){var u=c[1],f=c[0],m=iu(u)?f:u;m>=0?(c[0]=a,c[1]=a+m,a=u):(c[0]=s,c[1]=s+m,s=u)}}}},lAe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=t[s],l=o?.[i];if(l!=null){var c=iu(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},cAe={sign:oAe,expand:Fge,none:mm,silhouette:Uge,wiggle:zge,positive:lAe},uAe=(t,e,n)=>{var r,i=(r=cAe[n])!==null&&r!==void 0?r:mm,a=Bge().keys(e).value((o,l)=>Number(La(o,l,0))).order(IO).offset(i),s=a(t);return s.forEach((o,l)=>{o.forEach((c,u)=>{var f=La(t[u],e[l],0);Array.isArray(f)&&f.length===2&&zt(f[0])&&zt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function hAe(t){return t==null?void 0:String(t)}function BS(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Na(i[e.dataKey])){var o=RJ(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=La(i,Na(s)?e.dataKey:s);return Na(l)?null:e.scale(l)}var dAe=t=>{var e=t.flat(2).filter(zt);return[Math.min(...e),Math.max(...e)]},fAe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],pAe=(t,e,n)=>{if(t!=null)return fAe(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var u=EZ(c,e,n),f=dAe(u);return!bi(f[0])||!bi(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},YF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nv=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Sk(e,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l?.coordinate||0)-(c?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function JF(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return l0(l0({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Lk(t,e){if(t)return String(t);if(typeof e=="string")return e}var mAe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},gAe=(t,e)=>e==="centric"?t.angle:t.radius,Sd=t=>t.layout.width,_d=t=>t.layout.height,vAe=t=>t.layout.scale,PZ=t=>t.layout.margin,Mk=$e(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Rk=$e(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),yAe="data-recharts-item-index",bAe="data-recharts-item-id",F1=60;function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){xAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xAe(t,e,n){return(e=wAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wAe(t){var e=SAe(t,"string");return typeof e=="symbol"?e:e+""}function SAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ae=t=>t.brush.height;function kAe(t){var e=Rk(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:F1;return n+i}return n},0)}function CAe(t){var e=Rk(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:F1;return n+i}return n},0)}function TAe(t){var e=Mk(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function EAe(t){var e=Mk(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xs=$e([Sd,_d,PZ,_Ae,kAe,CAe,TAe,EAe,XJ,ZTe],(t,e,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},m=kw(kw({},f),u),p=m.bottom;m.bottom+=r,m=aAe(m,l,c);var v=t-m.left-m.right,b=e-m.top-m.bottom;return kw(kw({brushBottom:p},m),{},{width:Math.max(v,0),height:Math.max(b,0)})}),AAe=$e(xs,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),NZ=$e(Sd,_d,(t,e)=>({x:0,y:0,width:t,height:e})),OAe=j.createContext(null),Fs=()=>j.useContext(OAe)!=null,Ik=t=>t.brush,jk=$e([Ik,xs,PZ],(t,e,n)=>({height:t.height,x:zt(t.x)?t.x:e.left,y:zt(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:zt(t.width)?t.width:e.width})),BE={},FE={},UE={},QF;function PAe(){return QF||(QF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),b()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},v=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{v(),s=void 0,o=null},x=()=>{u()},w=function(...C){if(i?.aborted)return;s=this,o=C;const E=m==null;p(),l&&E&&u()};return w.schedule=p,w.cancel=b,w.flush=x,i?.addEventListener("abort",b,{once:!0}),w}t.debounce=e})(UE)),UE}var e7;function NAe(){return e7||(e7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PAe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const m=e.debounce(function(...b){u=r.apply(this,b),f=null},i,{edges:c}),p=function(...b){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,b),f=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,b),u)},v=()=>(m.flush(),u);return p.cancel=m.cancel,p.flush=v,p}t.debounce=n})(FE)),FE}var t7;function LAe(){return t7||(t7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NAe();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(BE)),BE}var zE,n7;function MAe(){return n7||(n7=1,zE=LAe().throttle),zE}var RAe=MAe();const IAe=sc(RAe);var FS=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},LZ=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=md(r)?t:Number(r),l=md(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},jAe={width:0,height:0,overflow:"visible"},DAe={width:0,overflowX:"visible"},BAe={height:0,overflowY:"visible"},FAe={},UAe=t=>{var{width:e,height:n}=t,r=md(e),i=md(n);return r&&i?jAe:r?DAe:i?BAe:FAe};function zAe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function $P(){return $P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$P.apply(null,arguments)}function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){$Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ae(t,e,n){return(e=qAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qAe(t){var e=HAe(t,"string");return typeof e=="symbol"?e:e+""}function HAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MZ=j.createContext({width:-1,height:-1});function WAe(t){return Zu(t.width)&&Zu(t.height)}function RZ(t){var{children:e,width:n,height:r}=t,i=j.useMemo(()=>({width:n,height:r}),[n,r]);return WAe(i)?j.createElement(MZ.Provider,{value:i},e):null}var S4=()=>j.useContext(MZ),VAe=j.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:m,onResize:p,style:v={}}=t,b=j.useRef(null),x=j.useRef();x.current=p,j.useImperativeHandle(e,()=>b.current);var[w,C]=j.useState({containerWidth:r.width,containerHeight:r.height}),E=j.useCallback(($,U)=>{C(G=>{var M=Math.round($),I=Math.round(U);return G.containerWidth===M&&G.containerHeight===I?G:{containerWidth:M,containerHeight:I}})},[]);j.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return j1;var $=I=>{var K,{width:H,height:J}=I[0].contentRect;E(H,J),(K=x.current)===null||K===void 0||K.call(x,H,J)};u>0&&($=IAe($,u,{trailing:!0,leading:!1}));var U=new ResizeObserver($),{width:G,height:M}=b.current.getBoundingClientRect();return E(G,M),U.observe(b.current),()=>{U.disconnect()}},[E,u]);var{containerWidth:O,containerHeight:P}=w;FS(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:B}=LZ(O,P,{width:i,height:a,aspect:n,maxHeight:l});return FS(L!=null&&L>0||B!=null&&B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,B,i,a,s,o,n),j.createElement("div",{id:f?"".concat(f):void 0,className:Nr("recharts-responsive-container",m),style:i7(i7({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:b},j.createElement("div",{style:UAe({width:i,height:a})},j.createElement(RZ,{width:L,height:B},c)))}),GAe=j.forwardRef((t,e)=>{var n=S4();if(Zu(n.width)&&Zu(n.height))return t.children;var{width:r,height:i}=zAe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=LZ(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return zt(a)&&zt(s)?j.createElement(RZ,{width:a,height:s},t.children):j.createElement(VAe,$P({},t,{width:r,height:i,ref:e}))});function IZ(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Dk=()=>{var t,e=Fs(),n=on(AAe),r=on(jk),i=(t=on(Ik))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},KAe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jZ=()=>{var t;return(t=on(xs))!==null&&t!==void 0?t:KAe},_4=()=>on(Sd),k4=()=>on(_d),YAe=()=>on(t=>t.layout.margin),Fr=t=>t.layout.layoutType,Um=()=>on(Fr),XAe=()=>{var t=Um();if(t==="horizontal"||t==="vertical")return t},JAe=()=>{var t=Um();return t!==void 0},Bk=t=>{var e=pa(),n=Fs(),{width:r,height:i}=t,a=S4(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),j.useEffect(()=>{!n&&Zu(s)&&Zu(o)&&e(QEe({width:s,height:o}))},[e,n,s,o]),null},DZ=Symbol.for("immer-nothing"),a7=Symbol.for("immer-draftable"),_l=Symbol.for("immer-state");function Gc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gb=Object.getPrototypeOf;function rv(t){return!!t&&!!t[_l]}function _m(t){return t?BZ(t)||Array.isArray(t)||!!t[a7]||!!t.constructor?.[a7]||U1(t)||Uk(t):!1}var ZAe=Object.prototype.constructor.toString(),s7=new WeakMap;function BZ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=s7.get(n);return r===void 0&&(r=Function.toString.call(n),s7.set(n,r)),r===ZAe}function US(t,e,n=!0){Fk(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fk(t){const e=t[_l];return e?e.type_:Array.isArray(t)?1:U1(t)?2:Uk(t)?3:0}function qP(t,e){return Fk(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function FZ(t,e,n){const r=Fk(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function QAe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function U1(t){return t instanceof Map}function Uk(t){return t instanceof Set}function Bp(t){return t.copy_||t.base_}function HP(t,e){if(U1(t))return new Map(t);if(Uk(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BZ(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_l];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Gb(t),r)}else{const r=Gb(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function C4(t,e=!1){return zk(t)||rv(t)||!_m(t)||(Fk(t)>1&&Object.defineProperties(t,{set:Cw,add:Cw,clear:Cw,delete:Cw}),Object.freeze(t),e&&Object.values(t).forEach(n=>C4(n,!0))),t}function eOe(){Gc(2)}var Cw={value:eOe};function zk(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var tOe={};function km(t){const e=tOe[t];return e||Gc(0,t),e}var Kb;function UZ(){return Kb}function nOe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o7(t,e){e&&(km("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function WP(t){VP(t),t.drafts_.forEach(rOe),t.drafts_=null}function VP(t){t===Kb&&(Kb=t.parent_)}function l7(t){return Kb=nOe(Kb,t)}function rOe(t){const e=t[_l];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function c7(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_l].modified_&&(WP(e),Gc(4)),_m(t)&&(t=zS(e,t),e.parent_||$S(e,t)),e.patches_&&km("Patches").generateReplacementPatches_(n[_l].base_,t,e.patches_,e.inversePatches_)):t=zS(e,n,[]),WP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==DZ?t:void 0}function zS(t,e,n){if(zk(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_l];if(!i)return US(e,(a,s)=>u7(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return $S(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),US(s,(l,c)=>u7(t,i,a,l,c,n,o),r),$S(t,a,!1),n&&t.patches_&&km("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function u7(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=zk(i);if(!(o&&!s)){if(rv(i)){const l=a&&e&&e.type_!==3&&!qP(e.assigned_,r)?a.concat(r):void 0,c=zS(t,i,l);if(FZ(n,r,c),rv(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(_m(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;zS(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(U1(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&$S(t,i)}}}function $S(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&C4(e,n)}function iOe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:UZ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=T4;n&&(i=[r],a=Yb);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var T4={get(t,e){if(e===_l)return t;const n=Bp(t);if(!qP(n,e))return aOe(t,n,e);const r=n[e];return t.finalized_||!_m(r)?r:r===$E(t.base_,e)?(qE(t),t.copy_[e]=KP(r,t)):r},has(t,e){return e in Bp(t)},ownKeys(t){return Reflect.ownKeys(Bp(t))},set(t,e,n){const r=zZ(Bp(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$E(Bp(t),e),a=i?.[_l];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(QAe(n,i)&&(n!==void 0||qP(t.base_,e)))return!0;qE(t),GP(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $E(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,qE(t),GP(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bp(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Gc(11)},getPrototypeOf(t){return Gb(t.base_)},setPrototypeOf(){Gc(12)}},Yb={};US(T4,(t,e)=>{Yb[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yb.deleteProperty=function(t,e){return Yb.set.call(this,t,e,void 0)};Yb.set=function(t,e,n){return T4.set.call(this,t[0],e,n,t[0])};function $E(t,e){const n=t[_l];return(n?Bp(n):t)[e]}function aOe(t,e,n){const r=zZ(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function zZ(t,e){if(!(e in t))return;let n=Gb(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Gb(n)}}function GP(t){t.modified_||(t.modified_=!0,t.parent_&&GP(t.parent_))}function qE(t){t.copy_||(t.copy_=HP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var sOe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Gc(6),r!==void 0&&typeof r!="function"&&Gc(7);let i;if(_m(e)){const a=l7(this),s=KP(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?WP(a):VP(a)}return o7(a,r),c7(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===DZ&&(i=void 0),this.autoFreeze_&&C4(i,!0),r){const a=[],s=[];km("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Gc(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_m(t)||Gc(8),rv(t)&&(t=oOe(t));const e=l7(this),n=KP(t,void 0);return n[_l].isManual_=!0,VP(e),n}finishDraft(t,e){const n=t&&t[_l];(!n||!n.isManual_)&&Gc(9);const{scope_:r}=n;return o7(r,e),c7(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=km("Patches").applyPatches_;return rv(t)?r(t,e):this.produce(t,i=>r(i,e))}};function KP(t,e){const n=U1(t)?km("MapSet").proxyMap_(t,e):Uk(t)?km("MapSet").proxySet_(t,e):iOe(t,e);return(e?e.scope_:UZ()).drafts_.push(n),n}function oOe(t){return rv(t)||Gc(10,t),$Z(t)}function $Z(t){if(!_m(t)||zk(t))return t;const e=t[_l];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HP(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=HP(t,!0);return US(n,(i,a)=>{FZ(n,i,$Z(a))},r),e&&(e.finalized_=!1),n}var lOe=new sOe;lOe.produce;var cOe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qZ=Ho({name:"legend",initialState:cOe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:gi()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=nu(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:gi()},removeLegendPayload:{reducer(t,e){var n=nu(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:gi()}}}),{setLegendSize:h7,setLegendSettings:uOe,addLegendPayload:hOe,replaceLegendPayload:dOe,removeLegendPayload:fOe}=qZ.actions,pOe=qZ.reducer,mOe=["contextPayload"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(null,arguments)}function d7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(n),!0).forEach(function(r){gOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gOe(t,e,n){return(e=vOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vOe(t){var e=yOe(t,"string");return typeof e=="symbol"?e:e+""}function yOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bOe(t,e){if(t==null)return{};var n,r,i=xOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wOe(t){return t.value}function SOe(t){var{contextPayload:e}=t,n=bOe(t,mOe),r=VJ(e,t.payloadUniqBy,wOe),i=iv(iv({},n),{},{payload:r});return j.isValidElement(t.content)?j.cloneElement(t.content,i):typeof t.content=="function"?j.createElement(t.content,i):j.createElement(lTe,i)}function _Oe(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),iv(iv({},c),u)}function kOe(t){var e=pa();return j.useEffect(()=>{e(uOe(t))},[e,t]),null}function COe(t){var e=pa();return j.useEffect(()=>(e(h7(t)),()=>{e(h7({width:0,height:0}))}),[e,t]),null}function TOe(t,e,n,r){return t==="vertical"&&zt(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var EOe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function HZ(t){var e=Qa(t,EOe),n=tEe(),r=L5e(),i=YAe(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=JJ([n]),f=_4(),m=k4();if(f==null||m==null)return null;var p=f-(i?.left||0)-(i?.right||0),v=TOe(e.layout,s,a,p),b=l?o:iv(iv({position:"absolute",width:v?.width||a||"auto",height:v?.height||s||"auto"},_Oe(o,e,i,f,m,c)),o),x=l??r;if(x==null||n==null)return null;var w=j.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:u},j.createElement(kOe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&j.createElement(COe,{width:c.width,height:c.height}),j.createElement(SOe,YP({},e,v,{margin:i,chartWidth:f,chartHeight:m,contextPayload:n})));return E_.createPortal(w,x)}HZ.displayName="Legend";function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(null,arguments)}function f7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(n),!0).forEach(function(r){AOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AOe(t,e,n){return(e=OOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OOe(t){var e=POe(t,"string");return typeof e=="symbol"?e:e+""}function POe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NOe(t){return Array.isArray(t)&&Ju(t[0])&&Ju(t[1])?t.join(" ~ "):t}var LOe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:m=!1}=t,p=()=>{if(a&&a.length){var P={padding:0,margin:0},L=(o?Sk(a,o):a).map((B,$)=>{if(B.type==="none")return null;var U=B.formatter||s||NOe,{value:G,name:M}=B,I=G,K=M;if(U){var H=U(G,M,B,$,a);if(Array.isArray(H))[I,K]=H;else if(H!=null)I=H;else return null}var J=HE({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:J},Ju(K)?j.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Ju(K)?j.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,j.createElement("span",{className:"recharts-tooltip-item-value"},I),j.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:P},L)}return null},v=HE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=HE({margin:0},i),x=!Na(u),w=x?u:"",C=Nr("recharts-default-tooltip",l),E=Nr("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(w=f(u,a));var O=m?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",XP({className:C,style:v},O),j.createElement("p",{className:E,style:b},j.isValidElement(w)?w:"".concat(w)),p())},Ey="recharts-tooltip-wrapper",MOe={visibility:"hidden"};function ROe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Nr(Ey,{["".concat(Ey,"-right")]:zt(n)&&e&&zt(e.x)&&n>=e.x,["".concat(Ey,"-left")]:zt(n)&&e&&zt(e.x)&&n<e.x,["".concat(Ey,"-bottom")]:zt(r)&&e&&zt(e.y)&&r>=e.y,["".concat(Ey,"-top")]:zt(r)&&e&&zt(e.y)&&r<e.y})}function p7(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&zt(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?u:f;var m=l[r];if(m==null)return 0;if(s[r]){var p=u,v=m;return p<v?Math.max(f,m):Math.max(u,m)}if(c==null)return 0;var b=f+o,x=m+c;return b>x?Math.max(u,m):Math.max(f,m)}function IOe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jOe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,u,f;return s.height>0&&s.width>0&&n?(u=p7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=p7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=IOe({translateX:u,translateY:f,useTranslate3d:o})):c=MOe,{cssProperties:c,cssClasses:ROe({translateX:u,translateY:f,coordinate:n})}}function m7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(n),!0).forEach(function(r){JP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JP(t,e,n){return(e=DOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DOe(t){var e=BOe(t,"string");return typeof e=="symbol"?e:e+""}function BOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FOe extends j.PureComponent{constructor(){super(...arguments),JP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JP(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:v,lastBoundingBox:b,innerRef:x,hasPortalFromProps:w}=this.props,{cssClasses:C,cssProperties:E}=jOe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:p}),O=w?{}:Tw(Tw({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Tw(Tw({},O),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},v);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:x},a)}}var WZ=()=>{var t;return(t=on(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZP.apply(null,arguments)}function g7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(n),!0).forEach(function(r){UOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UOe(t,e,n){return(e=zOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zOe(t){var e=$Oe(t,"string");return typeof e=="symbol"?e:e+""}function $Oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y7={curveBasisClosed:SW,curveBasisOpen:kW,curveBasis:lb,curveBumpX:sL,curveBumpY:oL,curveLinearClosed:LW,curveLinear:pm,curveMonotoneX:fL,curveMonotoneY:pL,curveNatural:mL,curveStep:gL,curveStepAfter:yL,curveStepBefore:vL},qS=t=>bi(t.x)&&bi(t.y),b7=t=>t.base!=null&&qS(t.base)&&qS(t),Ay=t=>t.x,Oy=t=>t.y,qOe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(I1(t));return(n==="curveMonotone"||n==="curveBump")&&e?y7["".concat(n).concat(e==="vertical"?"Y":"X")]:y7[n]||pm},HOe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=qOe(e,i),o=a?n.filter(qS):n,l;if(Array.isArray(r)){var c=n.map((p,v)=>v7(v7({},p),{},{base:r[v]}));i==="vertical"?l=nw().y(Oy).x1(Ay).x0(p=>p.base.x):l=nw().x(Ay).y1(Oy).y0(p=>p.base.y);var u=l.defined(b7).curve(s),f=a?c.filter(b7):c;return u(f)}i==="vertical"&&zt(r)?l=nw().y(Oy).x1(Ay).x0(r):zt(r)?l=nw().x(Ay).y1(Oy).y0(r):l=aL().x(Ay).y(Oy);var m=l.defined(qS).curve(s);return m(o)},fb=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Um();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?HOe(s):r;return j.createElement("path",ZP({},nc(t),d4(t),{className:Nr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},WOe=["x","y","top","left","width","height","className"];function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(null,arguments)}function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VOe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){GOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GOe(t,e,n){return(e=KOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KOe(t){var e=YOe(t,"string");return typeof e=="symbol"?e:e+""}function YOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XOe(t,e){if(t==null)return{};var n,r,i=JOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZOe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),QOe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=XOe(t,WOe),c=VOe({x:e,y:n,top:r,left:i,width:a,height:s},l);return!zt(e)||!zt(n)||!zt(a)||!zt(s)||!zt(r)||!zt(i)?null:j.createElement("path",QP({},Ds(c),{className:Nr("recharts-cross",o),d:ZOe(e,n,a,s,r,i)}))};function ePe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function w7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(r){tPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tPe(t,e,n){return(e=nPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nPe(t){var e=rPe(t,"string");return typeof e=="symbol"?e:e+""}function rPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iPe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VZ=(t,e,n)=>t.map(r=>"".concat(iPe(r)," ").concat(e,"ms ").concat(n)).join(","),aPe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xb=(t,e)=>Object.keys(e).reduce((n,r)=>S7(S7({},n),{},{[r]:t(r,e[r])}),{});function _7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_7(Object(n),!0).forEach(function(r){sPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e,n){return(e=oPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oPe(t){var e=lPe(t,"string");return typeof e=="symbol"?e:e+""}function lPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HS=(t,e,n)=>t+(e-t)*n,eN=t=>{var{from:e,to:n}=t;return e!==n},GZ=(t,e,n)=>{var r=Xb((i,a)=>{if(eN(a)){var[s,o]=t(a.from,a.to,a.velocity);return Ea(Ea({},a),{},{from:s,velocity:o})}return a},e);return n<1?Xb((i,a)=>eN(a)&&r[i]!=null?Ea(Ea({},a),{},{velocity:HS(a.velocity,r[i].velocity,n),from:HS(a.from,r[i].from,n)}):a,e):GZ(t,r,n-1)};function cPe(t,e,n,r,i,a){var s,o=r.reduce((m,p)=>Ea(Ea({},m),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Xb((m,p)=>p.from,o),c=()=>!Object.values(o).filter(eN).length,u=null,f=m=>{s||(s=m);var p=m-s,v=p/n.dt;o=GZ(n,o,v),i(Ea(Ea(Ea({},t),e),l())),s=m,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{var m;(m=u)===null||m===void 0||m()})}function uPe(t,e,n,r,i,a,s){var o=null,l=i.reduce((f,m)=>{var p=t[m],v=e[m];return p==null||v==null?f:Ea(Ea({},f),{},{[m]:[p,v]})},{}),c,u=f=>{c||(c=f);var m=(f-c)/r,p=Xb((b,x)=>HS(...x,n(m)),l);if(a(Ea(Ea(Ea({},t),e),p)),m<1)o=s.setTimeout(u);else{var v=Xb((b,x)=>HS(...x,n(1)),l);a(Ea(Ea(Ea({},t),e),v))}};return()=>(o=s.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const hPe=(t,e,n,r,i,a)=>{var s=aPe(t,e);return n==null?()=>(i(Ea(Ea({},t),e)),()=>{}):n.isStepper===!0?cPe(t,e,n,s,i,a):uPe(t,e,n,r,s,i,a)};var WS=1e-4,KZ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],YZ=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),k7=(t,e)=>n=>{var r=KZ(t,e);return YZ(r,n)},dPe=(t,e)=>n=>{var r=KZ(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return YZ(i,n)},fPe=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},pPe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=fPe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},mPe=(t,e,n,r)=>{var i=k7(t,n),a=k7(e,r),s=dPe(t,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,m=0;m<8;++m){var p=i(f)-u,v=s(f);if(Math.abs(p-u)<WS||v<WS)return a(f);f=o(f-p/v)}return a(f)};return l.isStepper=!1,l},C7=function(){return mPe(...pPe(...arguments))},gPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*n,u=l*r,f=l+(c-u)*i/1e3,m=l*i/1e3+s;return Math.abs(m-o)<WS&&Math.abs(f)<WS?[o,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},vPe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C7(t);case"spring":return gPe();default:if(t.split("(")[0]==="cubic-bezier")return C7(t)}return typeof t=="function"?t:null};function yPe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class bPe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function xPe(){return yPe(new bPe)}var wPe=j.createContext(xPe);function SPe(t,e){var n=j.useContext(wPe);return j.useMemo(()=>e??n(t),[t,e,n])}var _Pe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),z1={isSsr:_Pe()},kPe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},T7={t:0},WE={t:1};function $k(t){var e=Qa(t,kPe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=e,u=n==="auto"?!z1.isSsr:n,f=SPe(e.animationId,e.animationManager),[m,p]=j.useState(u?T7:WE),v=j.useRef(null);return j.useEffect(()=>{u||p(WE)},[u]),j.useEffect(()=>{if(!u||!r)return j1;var b=hPe(T7,WE,vPe(a),i,p,f.getTimeoutController()),x=()=>{v.current=b()};return f.start([l,s,x,i,o]),()=>{f.stop(),v.current&&v.current(),o()}},[u,r,i,a,s,l,o,f]),c(m.t)}function qk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(qb(e)),r=j.useRef(t);return r.current!==t&&(n.current=qb(e),r.current=t),n.current}var CPe=["radius"],TPe=["radius"],E7,A7,O7,P7,N7,L7,M7,R7,I7,j7;function D7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(n),!0).forEach(function(r){EPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EPe(t,e,n){return(e=APe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function APe(t){var e=OPe(t,"string");return typeof e=="symbol"?e:e+""}function OPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(null,arguments)}function F7(t,e){if(t==null)return{};var n,r,i=PPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var U7=(t,e,n,r,i)=>{var a=Nf(n),s=Nf(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=i[p]>o?o:i[p];f=Bi(E7||(E7=Mu(["M",",",""])),t,e+l*m[0]),m[0]>0&&(f+=Bi(A7||(A7=Mu(["A ",",",",0,0,",",",",",""])),m[0],m[0],u,t+c*m[0],e)),f+=Bi(O7||(O7=Mu(["L ",",",""])),t+n-c*m[1],e),m[1]>0&&(f+=Bi(P7||(P7=Mu(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],u,t+n,e+l*m[1])),f+=Bi(N7||(N7=Mu(["L ",",",""])),t+n,e+r-l*m[2]),m[2]>0&&(f+=Bi(L7||(L7=Mu(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],u,t+n-c*m[2],e+r)),f+=Bi(M7||(M7=Mu(["L ",",",""])),t+c*m[3],e+r),m[3]>0&&(f+=Bi(R7||(R7=Mu(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],u,t,e+r-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f=Bi(I7||(I7=Mu(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*b,b,b,u,t+c*b,e,t+n-c*b,e,b,b,u,t+n,e+l*b,t+n,e+r-l*b,b,b,u,t+n-c*b,e+r,t+c*b,e+r,b,b,u,t,e+r-l*b)}else f=Bi(j7||(j7=Mu(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},z7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XZ=t=>{var e=Qa(t,z7),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:b}=e,x=j.useRef(o),w=j.useRef(l),C=j.useRef(a),E=j.useRef(s),O=j.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),P=qk(O,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var L=Nr("recharts-rectangle",u);if(!b){var B=Ds(e),{radius:$}=B,U=F7(B,CPe);return j.createElement("path",VS({},U,{x:Nf(a),y:Nf(s),width:Nf(o),height:Nf(l),radius:typeof c=="number"?c:void 0,className:L,d:U7(a,s,o,l,c)}))}var G=x.current,M=w.current,I=C.current,K=E.current,H="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),W=VZ(["strokeDasharray"],m,typeof f=="string"?f:z7.animationEasing);return j.createElement($k,{animationId:P,key:P,canBegin:r>0,duration:m,easing:f,isActive:b,begin:p},Q=>{var ee=da(G,o,Q),he=da(M,l,Q),Y=da(I,a,Q),ye=da(K,s,Q);n.current&&(x.current=ee,w.current=he,C.current=Y,E.current=ye);var V;v?Q>0?V={transition:W,strokeDasharray:J}:V={strokeDasharray:H}:V={strokeDasharray:J};var F=Ds(e),{radius:ae}=F,le=F7(F,TPe);return j.createElement("path",VS({},le,{radius:typeof c=="number"?c:void 0,className:L,d:U7(Y,ye,ee,he,c),ref:n,style:B7(B7({},V),e.style)}))})};function $7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(n),!0).forEach(function(r){NPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NPe(t,e,n){return(e=LPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LPe(t){var e=MPe(t,"string");return typeof e=="symbol"?e:e+""}function MPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GS=Math.PI/180,RPe=t=>t*180/Math.PI,gs=(t,e,n,r)=>({x:t+Math.cos(-GS*r)*n,y:e+Math.sin(-GS*r)*n}),IPe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jPe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},DPe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=jPe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:RPe(l),angleInRadian:l}},BPe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},FPe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},UPe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=DPe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=BPe(e),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?q7(q7({},e),{},{radius:i,angle:FPe(u,e)}):null};function JZ(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=gs(e,n,r,i),o=gs(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var H7,W7,V7,G7,K7,Y7,X7;function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tN.apply(null,arguments)}function Zp(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var zPe=(t,e)=>{var n=Xl(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ew=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+r,u=Math.asin(o/c)/GS,f=l?i:i+a*u,m=gs(e,n,c,f),p=gs(e,n,r,f),v=l?i-a*u:i,b=gs(e,n,c*Math.cos(u*GS),v);return{center:m,circleTangency:p,lineTangency:b,theta:u}},ZZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=zPe(a,s),l=a+o,c=gs(e,n,i,a),u=gs(e,n,i,l),f=Bi(H7||(H7=Zp(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),u.x,u.y);if(r>0){var m=gs(e,n,r,a),p=gs(e,n,r,l);f+=Bi(W7||(W7=Zp(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),m.x,m.y)}else f+=Bi(V7||(V7=Zp(["L ",","," Z"])),e,n);return f},$Pe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=Xl(c-l),{circleTangency:f,lineTangency:m,theta:p}=Ew({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:b,theta:x}=Ew({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(l-c):Math.abs(l-c)-p-x;if(w<0)return s?Bi(G7||(G7=Zp(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):ZZ({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var C=Bi(K7||(K7=Zp(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(u<0),f.x,f.y,i,i,+(w>180),+(u<0),v.x,v.y,a,a,+(u<0),b.x,b.y);if(r>0){var{circleTangency:E,lineTangency:O,theta:P}=Ew({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:L,lineTangency:B,theta:$}=Ew({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),U=o?Math.abs(l-c):Math.abs(l-c)-P-$;if(U<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+=Bi(Y7||(Y7=Zp(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),B.x,B.y,a,a,+(u<0),L.x,L.y,r,r,+(U>180),+(u>0),E.x,E.y,a,a,+(u<0),O.x,O.y)}else C+=Bi(X7||(X7=Zp(["L",",","Z"])),e,n);return C},qPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QZ=t=>{var e=Qa(t,qPe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(a<i||c===u)return null;var m=Nr("recharts-sector",f),p=a-i,v=qf(s,p,0,!0),b;return v>0&&Math.abs(c-u)<360?b=$Pe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):b=ZZ({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),j.createElement("path",tN({},Ds(e),{className:m,d:b}))};function HPe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(jJ(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=gs(r,i,a,o),c=gs(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return JZ(e)}}var VE={},GE={},KE={},J7;function WPe(){return J7||(J7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KJ();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(KE)),KE}var Z7;function VPe(){return Z7||(Z7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WPe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(GE)),GE}var Q7;function GPe(){return Q7||(Q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YJ(),n=VPe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=r})(VE)),VE}var YE,eU;function KPe(){return eU||(eU=1,YE=GPe().range),YE}var YPe=KPe();const eQ=sc(YPe),Zy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:z3,scaleDiverging:hW,scaleDivergingLog:dW,scaleDivergingPow:nL,scaleDivergingSqrt:yge,scaleDivergingSymlog:fW,scaleIdentity:WH,scaleImplicit:LO,scaleLinear:HH,scaleLog:GH,scaleOrdinal:U3,scalePoint:Upe,scalePow:V3,scaleQuantile:XH,scaleQuantize:JH,scaleRadial:YH,scaleSequential:oW,scaleSequentialLog:lW,scaleSequentialPow:tL,scaleSequentialQuantile:uW,scaleSequentialSqrt:vge,scaleSequentialSymlog:cW,scaleSqrt:Zpe,scaleSymlog:KH,scaleThreshold:ZH,scaleTime:mge,scaleUtc:gge,tickFormat:qH},Symbol.toStringTag,{value:"Module"}));var kd=t=>t.chartData,tQ=$e([kd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),E4=(t,e,n,r)=>r?tQ(t):kd(t),XPe=(t,e,n)=>n?tQ(t):kd(t);function Hf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(bi(e)&&bi(n))return!0}return!1}function tU(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function nQ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(bi(n))i=n;else if(typeof n=="function")return;if(bi(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Hf(s))return s}}function JPe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Hf(r))return tU(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(zt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&YF.test(i)){var l=YF.exec(i);if(l==null||l[1]==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(zt(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&XF.test(a)){var u=XF.exec(a);if(u==null||u[1]==null||e==null)o=void 0;else{var f=+u[1];o=e[1]+f}}else o=e?.[1];var m=[s,o];if(Hf(m))return e==null?m:tU(m,e,n)}}}var vv=1e9,ZPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O4,yi=!0,ac="[DecimalError] ",im=ac+"Invalid argument: ",A4=ac+"Exponent out of range: ",yv=Math.floor,Fp=Math.pow,QPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pl,Ka=1e7,oi=7,rQ=9007199254740991,KS=yv(rQ/oi),Nt={};Nt.absoluteValue=Nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Nt.comparedTo=Nt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*oi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Nt.dividedBy=Nt.div=function(t){return od(this,new this.constructor(t))};Nt.dividedToIntegerBy=Nt.idiv=function(t){var e=this,n=e.constructor;return Vr(od(e,new n(t),0,1),n.precision)};Nt.equals=Nt.eq=function(t){return!this.cmp(t)};Nt.exponent=function(){return fa(this)};Nt.greaterThan=Nt.gt=function(t){return this.cmp(t)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(t){return this.cmp(t)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(t){return this.cmp(t)<0};Nt.lessThanOrEqualTo=Nt.lte=function(t){return this.cmp(t)<1};Nt.logarithm=Nt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pl))throw Error(ac+"NaN");if(n.s<1)throw Error(ac+(n.s?"NaN":"-Infinity"));return n.eq(pl)?new r(0):(yi=!1,e=od(Jb(n,a),Jb(t,a),a),yi=!0,Vr(e,i))};Nt.minus=Nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sQ(e,t):iQ(e,(t.s=-t.s,t))};Nt.modulo=Nt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ac+"NaN");return n.s?(yi=!1,e=od(n,t,0,1).times(t),yi=!0,n.minus(e)):Vr(new r(n),i)};Nt.naturalExponential=Nt.exp=function(){return aQ(this)};Nt.naturalLogarithm=Nt.ln=function(){return Jb(this)};Nt.negated=Nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Nt.plus=Nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iQ(e,t):sQ(e,(t.s=-t.s,t))};Nt.precision=Nt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(im+t);if(e=fa(i)+1,r=i.d.length-1,n=r*oi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Nt.squareRoot=Nt.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ac+"NaN")}for(t=fa(o),yi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Vu(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(od(o,a,s+2)).times(.5),Vu(a.d).slice(0,s)===(e=Vu(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vr(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return yi=!0,Vr(r,n)};Nt.times=Nt.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,f=u.constructor,m=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=m.length,c=p.length,l<c&&(a=m,m=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*m[i-r-1]+e,a[i--]=o%Ka|0,e=o/Ka|0;a[i]=(a[i]+e)%Ka|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,yi?Vr(t,f.precision):t};Nt.toDecimalPlaces=Nt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qu(t,0,vv),e===void 0?e=r.rounding:Qu(e,0,8),Vr(n,t+fa(n)+1,e))};Nt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Cm(r,!0):(Qu(t,0,vv),e===void 0?e=i.rounding:Qu(e,0,8),r=Vr(new i(r),t+1,e),n=Cm(r,!0,t+1)),n};Nt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Cm(i):(Qu(t,0,vv),e===void 0?e=a.rounding:Qu(e,0,8),r=Vr(new a(i),t+fa(i)+1,e),n=Cm(r.abs(),!1,t+fa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Nt.toInteger=Nt.toint=function(){var t=this,e=t.constructor;return Vr(new e(t),fa(t)+1,e.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(pl);if(o=new l(o),!o.s){if(t.s<1)throw Error(ac+"Infinity");return o}if(o.eq(pl))return o;if(r=l.precision,t.eq(pl))return Vr(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=rQ){for(i=new l(pl),e=Math.ceil(r/oi+4),yi=!1;n%2&&(i=i.times(o),rU(i.d,e)),n=yv(n/2),n!==0;)o=o.times(o),rU(o.d,e);return yi=!0,t.s<0?new l(pl).div(i):Vr(i,r)}}else if(a<0)throw Error(ac+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,yi=!1,i=t.times(Jb(o,r+c)),yi=!0,i=aQ(i),i.s=a,i};Nt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=fa(i),r=Cm(i,n<=a.toExpNeg||n>=a.toExpPos)):(Qu(t,1,vv),e===void 0?e=a.rounding:Qu(e,0,8),i=Vr(new a(i),t,e),n=fa(i),r=Cm(i,t<=n||n<=a.toExpNeg,t)),r};Nt.toSignificantDigits=Nt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qu(t,1,vv),e===void 0?e=r.rounding:Qu(e,0,8)),Vr(new r(n),t,e)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fa(t),n=t.constructor;return Cm(t,e<=n.toExpNeg||e>=n.toExpPos)};function iQ(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),yi?Vr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/oi),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Ka|0,l[a]%=Ka;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,yi?Vr(e,f):e}function Qu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(im+t)}function Vu(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=oi-r.length,n&&(a+=xf(n)),a+=r;s=t[e],r=s+"",n=oi-r.length,n&&(a+=xf(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var od=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Ka|0,s=a/Ka|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ka+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,m,p,v,b,x,w,C,E,O,P,L,B,$,U=r.constructor,G=r.s==i.s?1:-1,M=r.d,I=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(ac+"Division by zero");for(l=r.e-i.e,B=I.length,P=M.length,p=new U(G),v=p.d=[],c=0;I[c]==(M[c]||0);)++c;if(I[c]>(M[c]||0)&&--l,a==null?C=a=U.precision:s?C=a+(fa(r)-fa(i))+1:C=a,C<0)return new U(0);if(C=C/oi+2|0,c=0,B==1)for(u=0,I=I[0],C++;(c<P||u)&&C--;c++)E=u*Ka+(M[c]||0),v[c]=E/I|0,u=E%I|0;else{for(u=Ka/(I[0]+1)|0,u>1&&(I=t(I,u),M=t(M,u),B=I.length,P=M.length),O=B,b=M.slice(0,B),x=b.length;x<B;)b[x++]=0;$=I.slice(),$.unshift(0),L=I[0],I[1]>=Ka/2&&++L;do u=0,o=e(I,b,B,x),o<0?(w=b[0],B!=x&&(w=w*Ka+(b[1]||0)),u=w/L|0,u>1?(u>=Ka&&(u=Ka-1),f=t(I,u),m=f.length,x=b.length,o=e(f,b,m,x),o==1&&(u--,n(f,B<m?$:I,m))):(u==0&&(o=u=1),f=I.slice()),m=f.length,m<x&&f.unshift(0),n(b,f,x),o==-1&&(x=b.length,o=e(I,b,B,x),o<1&&(u++,n(b,B<x?$:I,x))),x=b.length):o===0&&(u++,b=[0]),v[c++]=u,o&&b[0]?b[x++]=M[O]||0:(b=[M[O]],x=1);while((O++<P||b[0]!==void 0)&&C--)}return v[0]||v.shift(),p.e=l,Vr(p,s?a+fa(p)+1:a)}})();function aQ(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(fa(t)>16)throw Error(A4+fa(t));if(!t.s)return new u(pl);for(yi=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Fp(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(pl),u.precision=o;;){if(i=Vr(i.times(t),o),n=n.times(++l),s=a.plus(od(i,n,o)),Vu(s.d).slice(0,o)===Vu(a.d).slice(0,o)){for(;c--;)a=Vr(a.times(a),o);return u.precision=f,e==null?(yi=!0,Vr(a,f)):a}a=s}}function fa(t){for(var e=t.e*oi,n=t.d[0];n>=10;n/=10)e++;return e}function XE(t,e,n){if(e>t.LN10.sd())throw yi=!0,n&&(t.precision=n),Error(ac+"LN10 precision limit exceeded");return Vr(new t(t.LN10),e)}function xf(t){for(var e="";t--;)e+="0";return e}function Jb(t,e){var n,r,i,a,s,o,l,c,u,f=1,m=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(ac+(p.s?"NaN":"-Infinity"));if(p.eq(pl))return new b(0);if(e==null?(yi=!1,c=x):c=e,p.eq(10))return e==null&&(yi=!0),XE(b,c);if(c+=m,b.precision=c,n=Vu(v),r=n.charAt(0),a=fa(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Vu(p.d),r=n.charAt(0),f++;a=fa(p),r>1?(p=new b("0."+n),a++):p=new b(r+"."+n.slice(1))}else return l=XE(b,c+2,x).times(a+""),p=Jb(new b(r+"."+n.slice(1)),c-m).plus(l),b.precision=x,e==null?(yi=!0,Vr(p,x)):p;for(o=s=p=od(p.minus(pl),p.plus(pl),c),u=Vr(p.times(p),c),i=3;;){if(s=Vr(s.times(u),c),l=o.plus(od(s,new b(i),c)),Vu(l.d).slice(0,c)===Vu(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(XE(b,c+2,x).times(a+""))),o=od(o,new b(f),c),b.precision=x,e==null?(yi=!0,Vr(o,x)):o;o=l,i+=2}}function nU(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yv(n/oi),t.d=[],r=(n+1)%oi,n<0&&(r+=oi),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=oi;r<i;)t.d.push(+e.slice(r,r+=oi));e=e.slice(r),r=oi-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yi&&(t.e>KS||t.e<-KS))throw Error(A4+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vr(t,e,n){var r,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=oi,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/oi),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=oi,i=r-oi+s}if(n!==void 0&&(a=Fp(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Fp(10,s-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=fa(t),f.length=1,e=e-a-1,f[0]=Fp(10,(oi-e%oi)%oi),t.e=yv(-e/oi)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Fp(10,oi-r),f[u]=i>0?(c/Fp(10,s-i)%Fp(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Ka&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Ka)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(yi&&(t.e>KS||t.e<-KS))throw Error(A4+fa(t));return t}function sQ(t,e){var n,r,i,a,s,o,l,c,u,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),yi?Vr(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/oi),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ka-1;--l[a],l[i]+=Ka}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,yi?Vr(e,p):e):new m(0)}function Cm(t,e,n){var r,i=fa(t),a=Vu(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+xf(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xf(-i-1)+a,n&&(r=n-s)>0&&(a+=xf(r))):i>=s?(a+=xf(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+xf(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=xf(r))),t.s<0?"-"+a:a}function rU(t,e){if(t.length>e)return t.length=e,!0}function oQ(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(im+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return nU(s,a.toString())}else if(typeof a!="string")throw Error(im+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,QPe.test(a))nU(s,a);else throw Error(im+a)}if(i.prototype=Nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oQ,i.config=i.set=eNe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eNe(t){if(!t||typeof t!="object")throw Error(ac+"Object expected");var e,n,r,i=["precision",1,vv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(im+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(im+n+": "+r);return this}var O4=oQ(ZPe);pl=new O4(1);const Ar=O4;var tNe=t=>t,lQ={},cQ=t=>t===lQ,iU=t=>function e(){return arguments.length===0||arguments.length===1&&cQ(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},uQ=(t,e)=>t===1?e:iU(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==lQ).length;return a>=t?e(...r):uQ(t-a,iU(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(u=>cQ(u)?o.shift():u);return e(...c,...o)}))}),nNe=t=>uQ(t.length,t),nN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},rNe=nNe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),iNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tNe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function hQ(t){var e;return t===0?e=1:e=Math.floor(new Ar(t).abs().log(10).toNumber())+1,e}function dQ(t,e,n){for(var r=new Ar(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var fQ=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},pQ=(t,e,n)=>{if(t.lte(0))return new Ar(0);var r=hQ(t.toNumber()),i=new Ar(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ar(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Ar(l.toNumber()):new Ar(Math.ceil(l.toNumber()))},aNe=(t,e,n)=>{var r=new Ar(1),i=new Ar(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ar(10).pow(hQ(t)-1),i=new Ar(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ar(Math.floor(t)))}else t===0?i=new Ar(Math.floor((e-1)/2)):n||(i=new Ar(Math.floor(t)));var s=Math.floor((e-1)/2),o=iNe(rNe(l=>i.add(new Ar(l-s).mul(r)).toNumber()),nN);return o(0,e)},mQ=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var s=pQ(new Ar(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Ar(0):(o=new Ar(e).add(n).div(2),o=o.sub(new Ar(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ar(n).sub(o).div(s).toNumber()),u=l+c+1;return u>r?mQ(e,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Ar(l).mul(s)),tickMax:o.add(new Ar(c).mul(s))})},sNe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=fQ([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...nN(0,i-1).map(()=>1/0)]:[...nN(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return aNe(o,i,a);var{step:u,tickMin:f,tickMax:m}=mQ(o,l,s,a,0),p=dQ(f,m.add(new Ar(.1).mul(u)),u);return n>r?p.reverse():p},oNe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=fQ([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=pQ(new Ar(o).sub(s).div(l-1),a,0),u=[...dQ(new Ar(s),new Ar(o),c),o];return a===!1&&(u=u.map(f=>Math.round(f))),r>i?u.reverse():u},lNe=t=>t.rootProps.barCategoryGap,Hk=t=>t.rootProps.stackOffset,gQ=t=>t.rootProps.reverseStackOrder,P4=t=>t.options.chartName,N4=t=>t.rootProps.syncId,vQ=t=>t.rootProps.syncMethod,L4=t=>t.options.eventEmitter,cNe=t=>t.rootProps.baseValue,Ms={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wk=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},uNe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yh.angleAxisId,includeHidden:!1,name:void 0,reversed:Yh.reversed,scale:Yh.scale,tick:Yh.tick,tickCount:void 0,ticks:void 0,type:Yh.type,unit:void 0},hNe={allowDataOverflow:hl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hl.scale,tick:hl.tick,tickCount:hl.tickCount,ticks:void 0,type:hl.type,unit:void 0},dNe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yh.scale,tick:Yh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fNe={allowDataOverflow:hl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hl.scale,tick:hl.tick,tickCount:hl.tickCount,ticks:void 0,type:"category",unit:void 0},M4=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dNe:uNe,R4=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fNe:hNe,Vk=t=>t.polarOptions,I4=$e([Sd,_d,xs],IPe),yQ=$e([Vk,I4],(t,e)=>{if(t!=null)return qf(t.innerRadius,e,0)}),bQ=$e([Vk,I4],(t,e)=>{if(t!=null)return qf(t.outerRadius,e,e*.8)}),pNe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},xQ=$e([Vk],pNe);$e([M4,xQ],Wk);var wQ=$e([I4,yQ,bQ],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});$e([R4,wQ],Wk);var SQ=$e([Fr,Vk,yQ,bQ,Sd,_d],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:qf(s,i,i/2),cy:qf(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Ia=(t,e)=>e,Gk=(t,e,n)=>n;function j4(t){return t?.id}function _Q(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=j4(o);c.forEach((f,m)=>{var p=a==null||i?m:String(La(f,a,null)),v=La(f,o.dataKey,0),b;s.has(p)?b=s.get(p):b={},Object.assign(b,{[u]:v}),s.set(p,b)})}}),Array.from(s.values())}function D4(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Kk=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Yk(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function mNe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ja=t=>{var e=Fr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},bv=t=>t.tooltip.settings.axisId;function aU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(n),!0).forEach(function(r){gNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gNe(t,e,n){return(e=vNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vNe(t){var e=yNe(t,"string");return typeof e=="symbol"?e:e+""}function yNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rN=[0,"auto"],Va={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kQ=(t,e)=>t.cartesianAxis.xAxis[e],Cd=(t,e)=>{var n=kQ(t,e);return n??Va},Ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:F1},CQ=(t,e)=>t.cartesianAxis.yAxis[e],Td=(t,e)=>{var n=CQ(t,e);return n??Ga},bNe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B4=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bNe},po=(t,e,n)=>{switch(e){case"xAxis":return Cd(t,n);case"yAxis":return Td(t,n);case"zAxis":return B4(t,n);case"angleAxis":return M4(t,n);case"radiusAxis":return R4(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xNe=(t,e,n)=>{switch(e){case"xAxis":return Cd(t,n);case"yAxis":return Td(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$1=(t,e,n)=>{switch(e){case"xAxis":return Cd(t,n);case"yAxis":return Td(t,n);case"angleAxis":return M4(t,n);case"radiusAxis":return R4(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},TQ=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function EQ(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var F4=t=>t.graphicalItems.cartesianItems,wNe=$e([Ia,Gk],EQ),AQ=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),q1=$e([F4,po,wNe],AQ,{memoizeOptions:{resultEqualityCheck:Yk}}),OQ=$e([q1],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(D4)),PQ=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),SNe=$e([q1],PQ),NQ=t=>t.map(e=>e.data).filter(Boolean).flat(1),_Ne=$e([q1],NQ,{memoizeOptions:{resultEqualityCheck:Yk}}),LQ=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},U4=$e([_Ne,E4],LQ),MQ=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:La(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:La(i,r)}))):t.map(r=>({value:r})),Xk=$e([U4,po,q1],MQ);function RQ(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function f2(t){if(Ju(t)||t instanceof Date){var e=Number(t);if(bi(e))return e}}function sU(t){if(Array.isArray(t)){var e=[f2(t[0]),f2(t[1])];return Hf(e)?e:void 0}var n=f2(t);if(n!=null)return[n,n]}function vd(t){return t.map(f2).filter(F5e)}function kNe(t,e,n){return!n||typeof e!="number"||iu(e)?[]:n.length?vd(n.flatMap(r=>{var i=La(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!bi(a)||!bi(s)))return[e-a,e+s]})):[]}var Da=t=>{var e=ja(t),n=bv(t);return $1(t,e,n)},H1=$e([Da],t=>t?.dataKey),CNe=$e([OQ,E4,Da],_Q),IQ=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,u=c.map(j4);return[o,{stackedData:uAe(t,u,n),graphicalItems:c}]}))},jQ=$e([CNe,OQ,Hk,gQ],IQ),DQ=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=pAe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},TNe=$e([po],t=>t.allowDataOverflow),z4=t=>{var e;if(t==null||!("domain"in t))return rN;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=vd(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:rN},BQ=$e([po],z4),FQ=$e([BQ,TNe],nQ),ENe=$e([jQ,kd,Ia,FQ],DQ,{memoizeOptions:{resultEqualityCheck:Kk}}),$4=t=>t.errorBars,ANe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>RQ(n,r)),XS=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},UQ=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,u,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(w=>RQ(i,w)),m=La(o,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),p=kNe(o,m,f);if(p.length>=2){var v=Math.min(...p),b=Math.max(...p);(a==null||v<a)&&(a=v),(s==null||b>s)&&(s=b)}var x=sU(m);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var l=sU(La(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),bi(a)&&bi(s))return[a,s]},ONe=$e([U4,po,SNe,$4,Ia],UQ,{memoizeOptions:{resultEqualityCheck:Kk}});function PNe(t){var{value:e}=t;if(Ju(e)||e instanceof Date)return e}var NNe=(t,e,n)=>{var r=t.map(PNe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&MJ(r))?eQ(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},zQ=t=>t.referenceElements.dots,xv=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),LNe=$e([zQ,Ia,Gk],xv),$Q=t=>t.referenceElements.areas,MNe=$e([$Q,Ia,Gk],xv),qQ=t=>t.referenceElements.lines,RNe=$e([qQ,Ia,Gk],xv),HQ=(t,e)=>{if(t!=null){var n=vd(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},INe=$e(LNe,Ia,HQ),WQ=(t,e)=>{if(t!=null){var n=vd(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jNe=$e([MNe,Ia],WQ);function DNe(t){var e;if(t.x!=null)return vd([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:vd(n)}function BNe(t){var e;if(t.y!=null)return vd([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:vd(n)}var VQ=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?DNe(r):BNe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FNe=$e([RNe,Ia],VQ),UNe=$e(INe,FNe,jNe,(t,e,n)=>XS(t,n,e)),GQ=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?XS(r,a,i):XS(a,i);return JPe(e,c,t.allowDataOverflow)},zNe=$e([po,BQ,FQ,ENe,ONe,UNe,Fr,Ia],GQ,{memoizeOptions:{resultEqualityCheck:Kk}}),$Ne=[0,1],KQ=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,c=sh(e,a);if(c&&o==null){var u;return eQ(0,(u=n?.length)!==null&&u!==void 0?u:0)}return l==="category"?NNe(r,t,c):i==="expand"?$Ne:s}},q4=$e([po,Fr,U4,Xk,Hk,Ia,zNe],KQ),YQ=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(I1(a));return o in Zy?o:"point"}}},W1=$e([po,Fr,TQ,P4,Ia],YQ);function qNe(t){if(t!=null){if(t in Zy)return Zy[t]();var e="scale".concat(I1(t));if(e in Zy)return Zy[e]()}}function H4(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=qNe(e);if(i!=null){var a=i.domain(n).range(r);return sAe(a),a}}}var XQ=(t,e,n)=>{var r=z4(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Hf(t))return sNe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Hf(t))return oNe(t,e.tickCount,e.allowDecimals)}},W4=$e([q4,$1,W1],XQ),JQ=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Hf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},HNe=$e([po,q4,W4,Ia],JQ),WNe=$e(Xk,po,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(vd(t.map(f=>f.value))).sort((f,m)=>f-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var u=c-l;n=Math.min(n,u)}}return n/s}}),ZQ=$e(WNe,Fr,lNe,xs,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!bi(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=qf(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),VNe=(t,e,n)=>{var r=Cd(t,e);return r==null||typeof r.padding!="string"?0:ZQ(t,"xAxis",e,n,r.padding)},GNe=(t,e,n)=>{var r=Td(t,e);return r==null||typeof r.padding!="string"?0:ZQ(t,"yAxis",e,n,r.padding)},KNe=$e(Cd,VNe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),YNe=$e(Td,GNe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),XNe=$e([xs,KNe,jk,Ik,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),JNe=$e([xs,Fr,YNe,jk,Ik,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),V1=(t,e,n,r)=>{var i;switch(e){case"xAxis":return XNe(t,n,r);case"yAxis":return JNe(t,n,r);case"zAxis":return(i=B4(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return xQ(t);case"radiusAxis":return wQ(t,n);default:return}},QQ=$e([po,V1],Wk),Jk=$e([po,W1,HNe,QQ],H4);$e([q1,$4,Ia],ANe);function eee(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Zk=(t,e)=>e,Qk=(t,e,n)=>n,ZNe=$e(Mk,Zk,Qk,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(eee)),QNe=$e(Rk,Zk,Qk,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(eee)),tee=(t,e)=>({width:t.width,height:e.height}),e3e=(t,e)=>{var n=typeof e.width=="number"?e.width:F1;return{width:n,height:t.height}},t3e=$e(xs,Cd,tee),n3e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},r3e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},i3e=$e(_d,xs,ZNe,Zk,Qk,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=tee(e,o);s==null&&(s=n3e(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),a3e=$e(Sd,xs,QNe,Zk,Qk,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=e3e(e,o);s==null&&(s=r3e(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),s3e=(t,e)=>{var n=Cd(t,e);if(n!=null)return i3e(t,n.orientation,n.mirror)},o3e=$e([xs,Cd,s3e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),l3e=(t,e)=>{var n=Td(t,e);if(n!=null)return a3e(t,n.orientation,n.mirror)},c3e=$e([xs,Td,l3e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),u3e=$e(xs,Td,(t,e)=>{var n=typeof e.width=="number"?e.width:F1;return{width:n,height:t.height}}),nee=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=sh(t,r),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&MJ(l))return l}},V4=$e([Fr,Xk,po,Ia],nee),ree=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=sh(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},G4=$e([Fr,Xk,$1,Ia],ree),oU=$e([Fr,xNe,W1,Jk,V4,G4,V1,W4,Ia],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var c=sh(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),h3e=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var c=sh(t,l),{type:u,ticks:f,tickCount:m}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=u==="category"&&r.bandwidth?r.bandwidth()/p:0;v=l==="angleAxis"&&a!=null&&a.length>=2?Xl(a[0]-a[1])*2*v:v;var b=f||i;if(b){var x=b.map((w,C)=>{var E=s?s.indexOf(w):w;return{index:C,coordinate:r(E)+v,value:w,offset:v}});return x.filter(w=>bi(w.coordinate))}return c&&o?o.map((w,C)=>({coordinate:r(w)+v,value:w,index:C,offset:v})).filter(w=>bi(w.coordinate)):r.ticks?r.ticks(m).map(w=>({coordinate:r(w)+v,value:w,offset:v})):r.domain().map((w,C)=>({coordinate:r(w)+v,value:s?s[w]:w,index:C,offset:v}))}},iee=$e([Fr,$1,W1,Jk,W4,V1,V4,G4,Ia],h3e),d3e=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=sh(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&r?.length>=2?Xl(r[0]-r[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},eC=$e([Fr,$1,Jk,V1,V4,G4,Ia],d3e),tC=$e(po,Jk,(t,e)=>{if(!(t==null||e==null))return YS(YS({},t),{},{scale:e})}),f3e=$e([po,W1,q4,QQ],H4);$e((t,e,n)=>B4(t,n),f3e,(t,e)=>{if(!(t==null||e==null))return YS(YS({},t),{},{scale:e})});var p3e=$e([Fr,Mk,Rk],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aee=t=>t.options.defaultTooltipEventType,see=t=>t.options.validateTooltipEventTypes;function oee(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function K4(t,e){var n=aee(t),r=see(t);return oee(e,n,r)}function m3e(t){return on(e=>K4(e,t))}var lee=(t,e)=>{var n,r=Number(e);if(!(iu(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},g3e=t=>t.tooltip.settings,Cf={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},v3e={itemInteraction:{click:Cf,hover:Cf},axisInteraction:{click:Cf,hover:Cf},keyboardInteraction:Cf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cee=Ho({name:"tooltip",initialState:v3e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:gi()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=nu(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:gi()},removeTooltipEntrySettings:{reducer(t,e){var n=nu(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:gi()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:y3e,replaceTooltipEntrySettings:b3e,removeTooltipEntrySettings:x3e,setTooltipSettingsState:w3e,setActiveMouseOverItemIndex:S3e,mouseLeaveItem:HVe,mouseLeaveChart:uee,setActiveClickItemIndex:WVe,setMouseOverAxisIndex:hee,setMouseClickAxisIndex:_3e,setSyncInteraction:iN,setKeyboardInteraction:aN}=cee.actions,k3e=cee.reducer;function lU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(n),!0).forEach(function(r){C3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C3e(t,e,n){return(e=T3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3e(t){var e=E3e(t,"string");return typeof e=="symbol"?e:e+""}function E3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A3e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function O3e(t){return t.index!=null}var dee=(t,e,n,r)=>{if(e==null)return Cf;var i=A3e(t,e,n);if(i==null)return Cf;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(O3e(i)){if(a)return Aw(Aw({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Aw(Aw({},Cf),{},{coordinate:i.coordinate})};function P3e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function N3e(t,e){var n=P3e(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function L3e(t,e,n){if(n==null||e==null)return!0;var r=La(t,e);return r==null||!Hf(n)?!0:N3e(r,n)}var Y4=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!bi(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(a,o)),c=e[l];return c==null||L3e(c,n,r)?String(l):null},fee=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i?.[Number(a)];if(u)return n==="horizontal"?{x:u.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:u.coordinate}}},pee=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},G1=t=>t.options.tooltipPayloadSearcher,wv=t=>t.tooltip;function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){M3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M3e(t,e,n){return(e=R3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R3e(t){var e=I3e(t,"string");return typeof e=="symbol"?e:e+""}function I3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j3e(t,e){return t??e}var mee=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return t.reduce((m,p)=>{var v,{dataDefinedOnItem:b,settings:x}=p,w=j3e(b,o),C=Array.isArray(w)?EZ(w,c,u):w,E=(v=x?.dataKey)!==null&&v!==void 0?v:r,O=x?.nameKey,P;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?P=RJ(C,r,i):P=a(C,e,l,O),Array.isArray(P))P.forEach(B=>{var $=uU(uU({},x),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});m.push(JF({tooltipEntrySettings:$,dataKey:B.dataKey,payload:B.payload,value:La(B.payload,B.dataKey),name:B.name}))});else{var L;m.push(JF({tooltipEntrySettings:x,dataKey:E,payload:P,value:La(P,E),name:(L=La(P,O))!==null&&L!==void 0?L:x?.name}))}return m},f)}},X4=$e([Da,Fr,TQ,P4,ja],YQ),D3e=$e([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),B3e=$e([ja,bv],EQ),Sv=$e([D3e,Da,B3e],AQ,{memoizeOptions:{resultEqualityCheck:Yk}}),F3e=$e([Sv],t=>t.filter(D4)),U3e=$e([Sv],NQ,{memoizeOptions:{resultEqualityCheck:Yk}}),_v=$e([U3e,kd],LQ),z3e=$e([F3e,kd,Da],_Q),J4=$e([_v,Da,Sv],MQ),gee=$e([Da],z4),$3e=$e([Da],t=>t.allowDataOverflow),vee=$e([gee,$3e],nQ),q3e=$e([Sv],t=>t.filter(D4)),H3e=$e([z3e,q3e,Hk,gQ],IQ),W3e=$e([H3e,kd,ja,vee],DQ),V3e=$e([Sv],PQ),G3e=$e([_v,Da,V3e,$4,ja],UQ,{memoizeOptions:{resultEqualityCheck:Kk}}),K3e=$e([zQ,ja,bv],xv),Y3e=$e([K3e,ja],HQ),X3e=$e([$Q,ja,bv],xv),J3e=$e([X3e,ja],WQ),Z3e=$e([qQ,ja,bv],xv),Q3e=$e([Z3e,ja],VQ),eLe=$e([Y3e,Q3e,J3e],XS),tLe=$e([Da,gee,vee,W3e,G3e,eLe,Fr,ja],GQ),K1=$e([Da,Fr,_v,J4,Hk,ja,tLe],KQ),nLe=$e([K1,Da,X4],XQ),rLe=$e([Da,K1,nLe,ja],JQ),yee=t=>{var e=ja(t),n=bv(t),r=!1;return V1(t,e,n,r)},bee=$e([Da,yee],Wk),xee=$e([Da,X4,rLe,bee],H4),iLe=$e([Fr,J4,Da,ja],nee),aLe=$e([Fr,J4,Da,ja],ree),sLe=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,c=sh(t,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&i?.length>=2?Xl(i[0]-i[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:r(m)+f,value:m,index:p,offset:f})):r.domain().map((m,p)=>({coordinate:r(m)+f,value:a?a[m]:m,index:p,offset:f}))}}},Ed=$e([Fr,Da,X4,xee,yee,iLe,aLe,ja],sLe),Z4=$e([aee,see,g3e],(t,e,n)=>oee(n.shared,t,e)),wee=t=>t.tooltip.settings.trigger,Q4=t=>t.tooltip.settings.defaultIndex,Y1=$e([wv,Z4,wee,Q4],dee),Zb=$e([Y1,_v,H1,K1],Y4),See=$e([Ed,Zb],lee),oLe=$e([Y1],t=>{if(t)return t.dataKey});$e([Y1],t=>{if(t)return t.graphicalItemId});var _ee=$e([wv,Z4,wee,Q4],pee),lLe=$e([Sd,_d,Fr,xs,Ed,Q4,_ee,G1],fee),cLe=$e([Y1,lLe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),uLe=$e([Y1],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),hLe=$e([_ee,Zb,kd,H1,See,G1,Z4],mee),dLe=$e([hLe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){fLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fLe(t,e,n){return(e=pLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pLe(t){var e=mLe(t,"string");return typeof e=="symbol"?e:e+""}function mLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gLe=()=>on(Da),vLe=()=>{var t=gLe(),e=on(Ed),n=on(xee);return nv(!t||!n?void 0:dU(dU({},t),{},{scale:n}),e)};function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){yLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yLe(t,e,n){return(e=bLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bLe(t){var e=xLe(t,"string");return typeof e=="symbol"?e:e+""}function xLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wLe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},SLe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Bg(Bg(Bg({},r),gs(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Bg(Bg(Bg({},r),gs(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _Le(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var kee=(t,e,n,r,i)=>{var a,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,u,f,m,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,v=(u=n[o])===null||u===void 0?void 0:u.coordinate,b=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(m=n[o+1])===null||m===void 0?void 0:m.coordinate,x=void 0;if(!(p==null||v==null||b==null))if(Xl(v-p)!==Xl(b-v)){var w=[];if(Xl(b-v)===Xl(i[1]-i[0])){x=b;var C=v+i[1]-i[0];w[0]=Math.min(C,(C+p)/2),w[1]=Math.max(C,(C+p)/2)}else{x=p;var E=b+i[1]-i[0];w[0]=Math.min(v,(E+v)/2),w[1]=Math.max(v,(E+v)/2)}var O=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(t>O[0]&&t<=O[1]||t>=w[0]&&t<=w[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var L=Math.min(p,b),B=Math.max(p,b);if(t>(L+v)/2&&t<=(B+v)/2){var $;return($=n[o])===null||$===void 0?void 0:$.index}}}else if(e)for(var U=0;U<s;U++){var G=e[U];if(G!=null){var M=e[U+1],I=e[U-1];if(U===0&&M!=null&&t<=(G.coordinate+M.coordinate)/2||U===s-1&&I!=null&&t>(G.coordinate+I.coordinate)/2||U>0&&U<s-1&&I!=null&&M!=null&&t>(G.coordinate+I.coordinate)/2&&t<=(G.coordinate+M.coordinate)/2)return G.index}}return-1},Cee=()=>on(P4),eM=(t,e)=>e,Tee=(t,e,n)=>n,tM=(t,e,n,r)=>r,kLe=$e(Ed,t=>Sk(t,e=>e.coordinate)),nM=$e([wv,eM,Tee,tM],dee),rM=$e([nM,_v,H1,K1],Y4),CLe=(t,e,n)=>{if(e!=null){var r=wv(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Eee=$e([wv,eM,Tee,tM],pee),JS=$e([Sd,_d,Fr,xs,Ed,tM,Eee,G1],fee),TLe=$e([nM,JS],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Aee=$e([Ed,rM],lee),ELe=$e([Eee,rM,kd,H1,Aee,G1,eM],mee),ALe=$e([nM,rM],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),OLe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&_Le(t,s)){var o=mAe(t,e),l=kee(o,a,i,n,r),c=wLe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},PLe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=UPe(t,n);if(o){var l=gAe(o,e),c=kee(l,s,a,r,i),u=SLe(e,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},NLe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?OLe(t,e,r,i,a,s,o):PLe(t,e,n,r,i,a,s)},LLe=$e(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),MLe=$e(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ms)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:mNe}});function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){RLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RLe(t,e,n){return(e=ILe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ILe(t){var e=jLe(t,"string");return typeof e=="symbol"?e:e+""}function jLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DLe={},BLe={zIndexMap:Object.values(Ms).reduce((t,e)=>mU(mU({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),DLe)},FLe=new Set(Object.values(Ms));function ULe(t){return FLe.has(t)}var Oee=Ho({name:"zIndex",initialState:BLe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:gi()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!ULe(n)&&delete t.zIndexMap[n])},prepare:gi()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:gi()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:gi()}}}),{registerZIndexPortal:zLe,unregisterZIndexPortal:$Le,registerZIndexPortalElement:qLe,unregisterZIndexPortalElement:HLe}=Oee.actions,WLe=Oee.reducer;function oh(t){var{zIndex:e,children:n}=t,r=JAe(),i=r&&e!==void 0&&e!==0,a=Fs(),s=pa();j.useLayoutEffect(()=>i?(s(zLe({zIndex:e})),()=>{s($Le({zIndex:e}))}):j1,[s,e,i]);var o=on(l=>LLe(l,e,a));return i?o?E_.createPortal(n,o):null:n}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(null,arguments)}function gU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(n),!0).forEach(function(r){VLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VLe(t,e,n){return(e=GLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GLe(t){var e=KLe(t,"string");return typeof e=="symbol"?e:e+""}function KLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YLe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return j.isValidElement(e)?j.cloneElement(e,r):j.createElement(n,r)}function XLe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:u}=t,f=n,m=r,p=i;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var v,b,x;if(u==="ScatterChart")v=f,b=QOe,x=Ms.cursorLine;else if(u==="BarChart")v=ePe(o,f,a,s),b=XZ,x=Ms.cursorRectangle;else if(o==="radial"&&jJ(f)){var{cx:w,cy:C,radius:E,startAngle:O,endAngle:P}=JZ(f);v={cx:w,cy:C,startAngle:O,endAngle:P,innerRadius:E,outerRadius:E},b=QZ,x=Ms.cursorLine}else v={points:HPe(o,f,a)},b=fb,x=Ms.cursorLine;var L=typeof l=="object"&&"className"in l?l.className:void 0,B=Ow(Ow(Ow(Ow({stroke:"#ccc",pointerEvents:"none"},a),v),xk(l)),{},{payload:m,payloadIndex:p,className:Nr("recharts-tooltip-cursor",L)});return j.createElement(oh,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},j.createElement(YLe,{cursor:l,cursorComp:b,cursorProps:B}))}function JLe(t){var e=vLe(),n=jZ(),r=Um(),i=Cee();return e==null||n==null||r==null||i==null?null:j.createElement(XLe,sN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Pee=j.createContext(null),ZLe=()=>j.useContext(Pee),JE={exports:{}},vU;function QLe(){return vU||(vU=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,m),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,v=new Array(p);m<p;m++)v[m]=f[m].fn;return v},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,m,p,v){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,C,E;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,m),!0;case 5:return x.fn.call(x.context,u,f,m,p),!0;case 6:return x.fn.call(x.context,u,f,m,p,v),!0}for(E=1,C=new Array(w-1);E<w;E++)C[E-1]=arguments[E];x.fn.apply(x.context,C)}else{var O=x.length,P;for(E=0;E<O;E++)switch(x[E].once&&this.removeListener(c,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,u);break;case 3:x[E].fn.call(x[E].context,u,f);break;case 4:x[E].fn.call(x[E].context,u,f,m);break;default:if(!C)for(P=1,C=new Array(w-1);P<w;P++)C[P-1]=arguments[P];x[E].fn.apply(x[E].context,C)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,m){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!m||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var b=0,x=[],w=v.length;b<w;b++)(v[b].fn!==u||m&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(JE)),JE.exports}var e4e=QLe();const t4e=sc(e4e);var Qb=new t4e,oN="recharts.syncEvent.tooltip",yU="recharts.syncEvent.brush";function n4e(t,e){if(e){var n=Number.parseInt(e,10);if(!iu(n))return t?.[n]}}var r4e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Nee=Ho({name:"options",initialState:r4e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),i4e=Nee.reducer,{createEventEmitter:a4e}=Nee.actions;function s4e(t){return t.tooltip.syncInteraction}var o4e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Lee=Ho({name:"chartData",initialState:o4e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:bU,setDataStartEndIndexes:l4e,setComputedData:VVe}=Lee.actions,c4e=Lee.reducer,u4e=["x","y"];function xU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(n),!0).forEach(function(r){h4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h4e(t,e,n){return(e=d4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4e(t){var e=f4e(t,"string");return typeof e=="symbol"?e:e+""}function f4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4e(t,e){if(t==null)return{};var n,r,i=m4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function g4e(){var t=on(N4),e=on(L4),n=pa(),r=on(vQ),i=on(Ed),a=Um(),s=Dk(),o=on(l=>l.rootProps.className);j.useEffect(()=>{if(t==null)return j1;var l=(c,u,f)=>{if(e!==f&&t===c){if(r==="index"){var m;if(s&&u!==null&&u!==void 0&&(m=u.payload)!==null&&m!==void 0&&m.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:v,y:b}=p,x=p4e(p,u4e),{x:w,y:C,width:E,height:O}=u.payload.sourceViewBox,P=Fg(Fg({},x),{},{x:s.x+(E?(v-w)/E:0)*s.width,y:s.y+(O?(b-C)/O:0)*s.height});n(Fg(Fg({},u),{},{payload:Fg(Fg({},u.payload),{},{coordinate:P})}))}else n(u);return}if(i!=null){var L;if(typeof r=="function"){var B={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},$=r(i,B);L=i[$]}else r==="value"&&(L=i.find(W=>String(W.value)===u.payload.label));var{coordinate:U}=u.payload;if(L==null||u.payload.active===!1||U==null||s==null){n(iN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:M}=U,I=Math.min(G,s.x+s.width),K=Math.min(M,s.y+s.height),H={x:a==="horizontal"?L.coordinate:I,y:a==="horizontal"?K:L.coordinate},J=iN({active:u.payload.active,coordinate:H,dataKey:u.payload.dataKey,index:String(L.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(J)}}};return Qb.on(oN,l),()=>{Qb.off(oN,l)}},[o,n,e,t,r,i,a,s])}function v4e(){var t=on(N4),e=on(L4),n=pa();j.useEffect(()=>{if(t==null)return j1;var r=(i,a,s)=>{e!==s&&t===i&&n(l4e(a))};return Qb.on(yU,r),()=>{Qb.off(yU,r)}},[n,e,t])}function y4e(){var t=pa();j.useEffect(()=>{t(a4e())},[t]),g4e(),v4e()}function b4e(t,e,n,r,i,a){var s=on(p=>CLe(p,t,e)),o=on(L4),l=on(N4),c=on(vQ),u=on(s4e),f=u?.active,m=Dk();j.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=iN({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Qb.emit(oN,l,p,o)}},[f,n,s,i,r,o,l,c,a,m])}function wU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(n),!0).forEach(function(r){x4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x4e(t,e,n){return(e=w4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4e(t){var e=S4e(t,"string");return typeof e=="symbol"?e:e+""}function S4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _4e(t){return t.dataKey}function k4e(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(LOe,e)}var _U=[],C4e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T4e(t){var e,n,r=Qa(t,C4e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:m,position:p,reverseDirection:v,useTranslate3d:b,wrapperStyle:x,cursor:w,shared:C,trigger:E,defaultIndex:O,portal:P,axisId:L}=r,B=pa(),$=typeof O=="number"?String(O):O;j.useEffect(()=>{B(w3e({shared:C,trigger:E,axisId:L,active:i,defaultIndex:$}))},[B,C,E,L,i,$]);var U=Dk(),G=WZ(),M=m3e(C),{activeIndex:I,isActive:K}=(e=on(xe=>ALe(xe,M,E,$)))!==null&&e!==void 0?e:{},H=on(xe=>ELe(xe,M,E,$)),J=on(xe=>Aee(xe,M,E,$)),W=on(xe=>TLe(xe,M,E,$)),Q=H,ee=ZLe(),he=(n=i??K)!==null&&n!==void 0?n:!1,[Y,ye]=JJ([Q,he]),V=M==="axis"?J:void 0;b4e(M,E,W,V,I,he);var F=P??ee;if(F==null||U==null||M==null)return null;var ae=Q??_U;he||(ae=_U),c&&ae.length&&(ae=VJ(ae.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),m,_4e));var le=ae.length>0,pe=j.createElement(FOe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:he,coordinate:W,hasPayload:le,offset:f,position:p,reverseDirection:v,useTranslate3d:b,viewBox:U,wrapperStyle:x,lastBoundingBox:Y,innerRef:ye,hasPortalFromProps:!!P},k4e(l,SU(SU({},r),{},{payload:ae,label:V,active:he,activeIndex:I,coordinate:W,accessibilityLayer:G})));return j.createElement(j.Fragment,null,E_.createPortal(pe,F),he&&j.createElement(JLe,{cursor:w,tooltipEventType:M,coordinate:W,payload:ae,index:I}))}function E4e(t,e,n){return(e=A4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4e(t){var e=O4e(t,"string");return typeof e=="symbol"?e:e+""}function O4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class P4e{constructor(e){E4e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){L4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4e(t,e,n){return(e=M4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4e(t){var e=R4e(t,"string");return typeof e=="symbol"?e:e+""}function R4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I4e={cacheSize:2e3,enableCache:!0},Mee=N4e({},I4e),CU=new P4e(Mee.cacheSize),j4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TU="recharts_measurement_span";function D4e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var EU=(t,e)=>{try{var n=document.getElementById(TU);n||(n=document.createElement("span"),n.setAttribute("id",TU),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,j4e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||z1.isSsr)return{width:0,height:0};if(!Mee.enableCache)return EU(e,n);var r=D4e(e,n),i=CU.get(r);if(i)return i;var a=EU(e,n);return CU.set(r,a),a},Ree;function B4e(t,e,n){return(e=F4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4e(t){var e=U4e(t,"string");return typeof e=="symbol"?e:e+""}function U4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q4e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H4e=["cm","mm","pt","pc","in","Q","px"];function W4e(t){return H4e.includes(t)}var c0="NaN";function V4e(t,e){return t*q4e[e]}class ms{static parse(e){var n,[,r,i]=(n=$4e.exec(e))!==null&&n!==void 0?n:[];return r==null?ms.NaN:new ms(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,iu(e)&&(this.unit=""),n!==""&&!z4e.test(n)&&(this.num=NaN,this.unit=""),W4e(n)&&(this.num=V4e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ms(NaN,""):new ms(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ms(NaN,""):new ms(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ms(NaN,""):new ms(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ms(NaN,""):new ms(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return iu(this.num)}}Ree=ms;B4e(ms,"NaN",new Ree(NaN,""));function Iee(t){if(t==null||t.includes(c0))return c0;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=AU.exec(e))!==null&&n!==void 0?n:[],s=ms.parse(r??""),o=ms.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return c0;e=e.replace(AU,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,m]=(c=OU.exec(e))!==null&&c!==void 0?c:[],p=ms.parse(u??""),v=ms.parse(m??""),b=f==="+"?p.add(v):p.subtract(v);if(b.isNaN())return c0;e=e.replace(OU,b.toString())}return e}var PU=/\(([^()]*)\)/;function G4e(t){for(var e=t,n;(n=PU.exec(e))!=null;){var[,r]=n;e=e.replace(PU,Iee(r))}return e}function K4e(t){var e=t.replace(/\s+/g,"");return e=G4e(e),e=Iee(e),e}function Y4e(t){try{return K4e(t)}catch{return c0}}function ZE(t){var e=Y4e(t.slice(5,-1));return e===c0?"":e}var X4e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],J4e=["dx","dy","angle","className","breakAll"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(null,arguments)}function NU(t,e){if(t==null)return{};var n,r,i=Z4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Z4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jee=/[ \f\n\r\t\v\u2028\u2029]+/,Dee=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Na(e)||(n?i=e.toString().split(""):i=e.toString().split(jee));var a=i.map(o=>({word:o,width:pb(o,r).width})),s=n?0:pb("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Q4e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Bee=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),Fee=t=>t.reduce((e,n)=>e.width>n.width?e:n),eMe="",LU=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),c=Dee({breakAll:n,style:r,children:l+eMe});if(!c)return[!1,[]];var u=Bee(c.wordsWithComputedWidth,a,s,o),f=u.length>i||Fee(u).width>Number(a);return[f,u]},tMe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=zt(a),u=String(s),f=Bee(e,r,n,i);if(!c||i)return f;var m=f.length>a||Fee(f).width>Number(r);if(!m)return f;for(var p=0,v=u.length-1,b=0,x;p<=v&&b<=u.length-1;){var w=Math.floor((p+v)/2),C=w-1,[E,O]=LU(u,C,l,o,a,r,n,i),[P]=LU(u,w,l,o,a,r,n,i);if(!E&&!P&&(p=w+1),E&&P&&(v=w-1),!E&&P){x=O;break}b++}return x||f},MU=t=>{var e=Na(t)?[]:t.toString().split(jee);return[{words:e,width:void 0}]},nMe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!z1.isSsr){var o,l,c=Dee({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return MU(r);return tMe({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return MU(r)},Uee="#808080",rMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Uee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},iM=j.forwardRef((t,e)=>{var n=Qa(t,rMe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,f=NU(n,X4e),m=j.useMemo(()=>nMe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:v,angle:b,className:x,breakAll:w}=f,C=NU(f,J4e);if(!Ju(r)||!Ju(i)||m.length===0)return null;var E=Number(r)+(zt(p)?p:0),O=Number(i)+(zt(v)?v:0);if(!bi(E)||!bi(O))return null;var P;switch(u){case"start":P=ZE("calc(".concat(s,")"));break;case"middle":P=ZE("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=ZE("calc(".concat(m.length-1," * -").concat(a,")"));break}var L=[];if(l){var B=m[0].width,{width:$}=f;L.push("scale(".concat(zt($)&&zt(B)?$/B:1,")"))}return b&&L.push("rotate(".concat(b,", ").concat(E,", ").concat(O,")")),L.length&&(C.transform=L.join(" ")),j.createElement("text",lN({},Ds(C),{ref:e,x:E,y:O,className:Nr("recharts-text",x),textAnchor:c,fill:o.includes("url")?Uee:o}),m.map((U,G)=>{var M=U.words.join(w?"":" ");return j.createElement("tspan",{x:E,dy:G===0?P:a,key:"".concat(M,"-").concat(G)},M)}))});iM.displayName="Text";var iMe=["labelRef"],aMe=["content"];function RU(t,e){if(t==null)return{};var n,r,i=sMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(r){oMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oMe(t,e,n){return(e=lMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lMe(t){var e=cMe(t,"string");return typeof e=="symbol"?e:e+""}function cMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(null,arguments)}var zee=j.createContext(null),uMe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=j.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return j.createElement(zee.Provider,{value:l},o)},$ee=()=>{var t=j.useContext(zee),e=Dk();return t||IZ(e)},hMe=j.createContext(null),dMe=()=>{var t=j.useContext(hMe),e=on(SQ);return t||e},fMe=t=>{var{value:e,formatter:n}=t,r=Na(t.children)?e:t.children;return typeof n=="function"?n(r):r},aM=t=>t!=null&&typeof t=="function",pMe=(t,e)=>{var n=Xl(e-t),r=Math.min(Math.abs(e-t),360);return n*r},mMe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m,clockWise:p}=i,v=(c+u)/2,b=pMe(f,m),x=b>=0?1:-1,w,C;switch(e){case"insideStart":w=f+x*a,C=p;break;case"insideEnd":w=m-x*a,C=!p;break;case"end":w=m+x*a,C=p;break;default:throw new Error("Unsupported position ".concat(e))}C=b<=0?C:!C;var E=gs(o,l,v,w),O=gs(o,l,v,w+(C?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),L=Na(t.id)?qb("recharts-radial-line-"):t.id;return j.createElement("text",Xh({},r,{dominantBaseline:"central",className:Nr("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:L,d:P})),j.createElement("textPath",{xlinkHref:"#".concat(L)},n))},gMe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:u,y:f}=gs(r,i,s+e,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:p,y:v}=gs(r,i,m,c);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},cN=t=>"cx"in t&&zt(t.cx),vMe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!cN(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=e,f=s,m=s+(l-c)/2,p=(f+m)/2,v=(l+c)/2,b=f+l/2,x=u>=0?1:-1,w=x*r,C=x>0?"end":"start",E=x>0?"start":"end",O=l>=0?1:-1,P=O*r,L=O>0?"end":"start",B=O>0?"start":"end";if(i==="top"){var $={x:f+l/2,y:o-w,textAnchor:"middle",verticalAnchor:C};return Ki(Ki({},$),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var U={x:m+c/2,y:o+u+w,textAnchor:"middle",verticalAnchor:E};return Ki(Ki({},U),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var G={x:p-P,y:o+u/2,textAnchor:L,verticalAnchor:"middle"};return Ki(Ki({},G),a?{width:Math.max(G.x-a.x,0),height:u}:{})}if(i==="right"){var M={x:p+v+P,y:o+u/2,textAnchor:B,verticalAnchor:"middle"};return Ki(Ki({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:u}:{})}var I=a?{width:v,height:u}:{};return i==="insideLeft"?Ki({x:p+P,y:o+u/2,textAnchor:B,verticalAnchor:"middle"},I):i==="insideRight"?Ki({x:p+v-P,y:o+u/2,textAnchor:L,verticalAnchor:"middle"},I):i==="insideTop"?Ki({x:f+l/2,y:o+w,textAnchor:"middle",verticalAnchor:E},I):i==="insideBottom"?Ki({x:m+c/2,y:o+u-w,textAnchor:"middle",verticalAnchor:C},I):i==="insideTopLeft"?Ki({x:f+P,y:o+w,textAnchor:B,verticalAnchor:E},I):i==="insideTopRight"?Ki({x:f+l-P,y:o+w,textAnchor:L,verticalAnchor:E},I):i==="insideBottomLeft"?Ki({x:m+P,y:o+u-w,textAnchor:B,verticalAnchor:C},I):i==="insideBottomRight"?Ki({x:m+c-P,y:o+u-w,textAnchor:L,verticalAnchor:C},I):i&&typeof i=="object"&&(zt(i.x)||md(i.x))&&(zt(i.y)||md(i.y))?Ki({x:s+qf(i.x,v),y:o+qf(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):Ki({x:b,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},yMe={angle:0,offset:5,zIndex:Ms.label,position:"middle",textBreakAll:!1};function wf(t){var e=Qa(t,yMe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=e,u=dMe(),f=$ee(),m=r==="center"?f:u??f,p,v,b;if(n==null?p=m:cN(n)?p=n:p=IZ(n),!p||Na(i)&&Na(a)&&!j.isValidElement(s)&&typeof s!="function")return null;var x=Ki(Ki({},e),{},{viewBox:p});if(j.isValidElement(s)){var{labelRef:w}=x,C=RU(x,iMe);return j.cloneElement(s,C)}if(typeof s=="function"){var{content:E}=x,O=RU(x,aMe);if(v=j.createElement(s,O),j.isValidElement(v))return v}else v=fMe(e);var P=Ds(e);if(cN(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return mMe(e,r,v,P,p);b=gMe(p,e.offset,e.position)}else b=vMe(e,p);return j.createElement(oh,{zIndex:e.zIndex},j.createElement(iM,Xh({ref:c,className:Nr("recharts-label",o)},P,b,{textAnchor:Q4e(P.textAnchor)?P.textAnchor:b.textAnchor,breakAll:l}),v))}wf.displayName="Label";var bMe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?j.createElement(wf,Xh({key:"label-implicit"},r)):Ju(t)?j.createElement(wf,Xh({key:"label-implicit",value:t},r)):j.isValidElement(t)?t.type===wf?j.cloneElement(t,Ki({key:"label-implicit"},r)):j.createElement(wf,Xh({key:"label-implicit",content:t},r)):aM(t)?j.createElement(wf,Xh({key:"label-implicit",content:t},r)):t&&typeof t=="object"?j.createElement(wf,Xh({},t,{key:"label-implicit"},r)):null};function xMe(t){var{label:e,labelRef:n}=t,r=$ee();return bMe(e,r,n)||null}var QE={},eA={},jU;function wMe(){return jU||(jU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(eA)),eA}var tA={},DU;function SMe(){return DU||(DU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(tA)),tA}var BU;function _Me(){return BU||(BU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wMe(),n=SMe(),r=f4();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(QE)),QE}var nA,FU;function kMe(){return FU||(FU=1,nA=_Me().last),nA}var CMe=kMe();const TMe=sc(CMe);var EMe=["valueAccessor"],AMe=["dataKey","clockWise","id","textBreakAll","zIndex"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(null,arguments)}function UU(t,e){if(t==null)return{};var n,r,i=OMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PMe=t=>Array.isArray(t.value)?TMe(t.value):t.value,qee=j.createContext(void 0),Hee=qee.Provider,Wee=j.createContext(void 0);Wee.Provider;function NMe(){return j.useContext(qee)}function LMe(){return j.useContext(Wee)}function p2(t){var{valueAccessor:e=PMe}=t,n=UU(t,EMe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=UU(n,AMe),c=NMe(),u=LMe(),f=c||u;return!f||!f.length?null:j.createElement(oh,{zIndex:o??Ms.label},j.createElement(rc,{className:"recharts-label-list"},f.map((m,p)=>{var v,b=Na(r)?e(m,p):La(m&&m.payload,r),x=Na(a)?{}:{id:"".concat(a,"-").concat(p)};return j.createElement(wf,ZS({key:"label-".concat(p)},Ds(m),l,x,{fill:(v=n.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,index:p,zIndex:0}))})))}p2.displayName="LabelList";function Vee(t){var{label:e}=t;return e?e===!0?j.createElement(p2,{key:"labelList-implicit"}):j.isValidElement(e)||aM(e)?j.createElement(p2,{key:"labelList-implicit",content:e}):typeof e=="object"?j.createElement(p2,ZS({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(null,arguments)}var Gee=t=>{var{cx:e,cy:n,r,className:i}=t,a=Nr("recharts-dot",i);return zt(e)&&zt(n)&&zt(r)?j.createElement("circle",uN({},nc(t),d4(t),{className:a,cx:e,cy:n,r})):null},MMe={radiusAxis:{},angleAxis:{}},Kee=Ho({name:"polarAxis",initialState:MMe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:GVe,removeRadiusAxis:KVe,addAngleAxis:YVe,removeAngleAxis:XVe}=Kee.actions,RMe=Kee.reducer,sM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,rA={},zU;function IMe(){return zU||(zU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(rA)),rA}var iA,$U;function jMe(){return $U||($U=1,iA=IMe().isPlainObject),iA}var DMe=jMe();const BMe=sc(DMe);var qU,HU,WU,VU,GU;function KU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(n),!0).forEach(function(r){FMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FMe(t,e,n){return(e=UMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UMe(t){var e=zMe(t,"string");return typeof e=="symbol"?e:e+""}function zMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(null,arguments)}function Py(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XU=(t,e,n,r,i)=>{var a=n-r,s;return s=Bi(qU||(qU=Py(["M ",",",""])),t,e),s+=Bi(HU||(HU=Py(["L ",",",""])),t+n,e),s+=Bi(WU||(WU=Py(["L ",",",""])),t+n-a/2,e+i),s+=Bi(VU||(VU=Py(["L ",",",""])),t+n-a/2-r,e+i),s+=Bi(GU||(GU=Py(["L ",","," Z"])),t,e),s},$Me={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qMe=t=>{var e=Qa(t,$Me),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=e,m=j.useRef(null),[p,v]=j.useState(-1),b=j.useRef(i),x=j.useRef(a),w=j.useRef(s),C=j.useRef(n),E=j.useRef(r),O=qk(t,"trapezoid-");if(j.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var H=m.current.getTotalLength();H&&v(H)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=Nr("recharts-trapezoid",o);if(!f)return j.createElement("g",null,j.createElement("path",QS({},Ds(e),{className:P,d:XU(n,r,i,a,s)})));var L=b.current,B=x.current,$=w.current,U=C.current,G=E.current,M="0px ".concat(p===-1?1:p,"px"),I="".concat(p,"px 0px"),K=VZ(["strokeDasharray"],c,l);return j.createElement($k,{animationId:O,key:O,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},H=>{var J=da(L,i,H),W=da(B,a,H),Q=da($,s,H),ee=da(U,n,H),he=da(G,r,H);m.current&&(b.current=J,x.current=W,w.current=Q,C.current=ee,E.current=he);var Y=H>0?{transition:K,strokeDasharray:I}:{strokeDasharray:M};return j.createElement("path",QS({},Ds(e),{className:P,d:XU(ee,he,J,W,Q),ref:m,style:YU(YU({},Y),e.style)}))})},HMe=["option","shapeType","activeClassName"];function WMe(t,e){if(t==null)return{};var n,r,i=VMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(r){GMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GMe(t,e,n){return(e=KMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KMe(t){var e=YMe(t,"string");return typeof e=="symbol"?e:e+""}function YMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XMe(t,e){return e_(e_({},e),t)}function JMe(t,e){return t==="symbols"}function ZU(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return j.createElement(XZ,n);case"trapezoid":return j.createElement(qMe,n);case"sector":return j.createElement(QZ,n);case"symbols":if(JMe(e))return j.createElement(h4,n);break;case"curve":return j.createElement(fb,n);default:return null}}function ZMe(t){return j.isValidElement(t)?t.props:t}function QMe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=WMe(t,HMe),a;if(j.isValidElement(e))a=j.cloneElement(e,e_(e_({},i),ZMe(e)));else if(typeof e=="function")a=e(i,i.index);else if(BMe(e)&&typeof e!="boolean"){var s=XMe(e,i);a=j.createElement(ZU,{shapeType:n,elementProps:s})}else{var o=i;a=j.createElement(ZU,{shapeType:n,elementProps:o})}return i.isActive?j.createElement(rc,{className:r},a):a}function Yee(t){var{tooltipEntrySettings:e}=t,n=pa(),r=Fs(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(y3e(e)):i.current!==e&&n(b3e({prev:i.current,next:e})),i.current=e)},[e,n,r]),j.useLayoutEffect(()=>()=>{i.current&&(n(x3e(i.current)),i.current=null)},[n]),null}function Xee(t){var{legendPayload:e}=t,n=pa(),r=Fs(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(hOe(e)):i.current!==e&&n(dOe({prev:i.current,next:e})),i.current=e)},[n,r,e]),j.useLayoutEffect(()=>()=>{i.current&&(n(fOe(i.current)),i.current=null)},[n]),null}var aA,eRe=()=>{var[t]=j.useState(()=>qb("uid-"));return t},tRe=(aA=wse.useId)!==null&&aA!==void 0?aA:eRe;function nRe(t,e){var n=tRe();return e||(t?"".concat(t,"-").concat(n):n)}var rRe=j.createContext(void 0),Jee=t=>{var{id:e,type:n,children:r}=t,i=nRe("recharts-".concat(n),e);return j.createElement(rRe.Provider,{value:i},r(i))},iRe={cartesianItems:[],polarItems:[]},Zee=Ho({name:"graphicalItems",initialState:iRe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:gi()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=nu(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:gi()},removeCartesianGraphicalItem:{reducer(t,e){var n=nu(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:gi()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:gi()},removePolarGraphicalItem:{reducer(t,e){var n=nu(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:gi()}}}),{addCartesianGraphicalItem:aRe,replaceCartesianGraphicalItem:sRe,removeCartesianGraphicalItem:oRe,addPolarGraphicalItem:JVe,removePolarGraphicalItem:ZVe}=Zee.actions,lRe=Zee.reducer,cRe=t=>{var e=pa(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(aRe(t)):n.current!==t&&e(sRe({prev:n.current,next:t})),n.current=t},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(e(oRe(n.current)),n.current=null)},[e]),null},Qee=j.memo(cRe),uRe=["points"];function QU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(n),!0).forEach(function(r){hRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hRe(t,e,n){return(e=dRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dRe(t){var e=fRe(t,"string");return typeof e=="symbol"?e:e+""}function fRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}function pRe(t,e){if(t==null)return{};var n,r,i=mRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gRe(t){var{option:e,dotProps:n,className:r}=t;if(j.isValidElement(e))return j.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Nr(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=pRe(a,uRe);return j.createElement(Gee,t_({},o,{className:i}))}function vRe(t,e){return t==null?!1:e?!0:t.length===1}function ete(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=Ms.scatter}=t;if(!vRe(e,n))return null;var u=sM(n),f=C5e(n),m=e.map((v,b)=>{var x,w,C=sA(sA(sA({r:3},s),f),{},{index:b,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(w=v.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:v.value,payload:v.payload,points:e});return j.createElement(gRe,{key:"dot-".concat(b),option:n,dotProps:C,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),j.createElement(oh,{zIndex:c},j.createElement(rc,t_({className:r},p),m))}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){yRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yRe(t,e,n){return(e=bRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=xRe(t,"string");return typeof e=="symbol"?e:e+""}function xRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tte=0,wRe={xAxis:{},yAxis:{},zAxis:{}},nte=Ho({name:"cartesianAxis",initialState:wRe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:gi()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:gi()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:gi()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:gi()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:gi()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:gi()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:gi()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:gi()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:gi()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=tz(tz({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:SRe,replaceXAxis:_Re,removeXAxis:kRe,addYAxis:CRe,replaceYAxis:TRe,removeYAxis:ERe,addZAxis:QVe,replaceZAxis:eGe,removeZAxis:tGe,updateYAxisWidth:ARe}=nte.actions,ORe=nte.reducer,PRe=$e([xs],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),NRe=$e([PRe,Sd,_d],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),nC=()=>on(NRe),LRe=()=>on(dLe);function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){MRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MRe(t,e,n){return(e=RRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RRe(t){var e=IRe(t,"string");return typeof e=="symbol"?e:e+""}function IRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jRe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=oA(oA(oA({},o),xk(i)),d4(i)),c;return j.isValidElement(i)?c=j.cloneElement(i,l):typeof i=="function"?c=i(l):c=j.createElement(Gee,l),j.createElement(rc,{className:"recharts-active-dot",clipPath:s},c)};function hN(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Ms.activeDot}=t,o=on(Zb),l=LRe();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return Na(c)?null:j.createElement(oh,{zIndex:s},j.createElement(jRe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var DRe=t=>{var{chartData:e}=t,n=pa(),r=Fs();return j.useEffect(()=>r?()=>{}:(n(bU(e)),()=>{n(bU(void 0))}),[e,n,r]),null},rz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rte=Ho({name:"brush",initialState:rz,reducers:{setBrushSettings(t,e){return e.payload==null?rz:e.payload}}}),{setBrushSettings:nGe}=rte.actions,BRe=rte.reducer;function FRe(t,e,n){return(e=URe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function URe(t){var e=zRe(t,"string");return typeof e=="symbol"?e:e+""}function zRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oM{static create(e){return new oM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}FRe(oM,"EPS",1e-4);function $Re(t){return(t%180+180)%180}var qRe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$Re(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},HRe={dots:[],areas:[],lines:[]},ite=Ho({name:"referenceElements",initialState:HRe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=nu(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=nu(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=nu(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:rGe,removeDot:iGe,addArea:aGe,removeArea:sGe,addLine:oGe,removeLine:lGe}=ite.actions,WRe=ite.reducer,VRe=j.createContext(void 0),GRe=t=>{var{children:e}=t,[n]=j.useState("".concat(qb("recharts"),"-clip")),r=nC();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return j.createElement(VRe.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function ate(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function KRe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qRe(r,n)}function YRe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function e1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function XRe(t,e){return ate(t,e+1)}function JRe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,c=1,u=s,f=function(){var v=r?.[l];if(v===void 0)return{v:ate(r,c)};var b=l,x,w=()=>(x===void 0&&(x=n(v,b)),x),C=v.coordinate,E=l===0||e1(t,C,w,u,o);E||(l=0,u=s,c+=1),E&&(u=C+t*(w()/2+i),l+=c)},m;c<=a.length;)if(m=f(),m)return m.v;return[]}function ZRe(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=e,c=1;c<=s;c++){for(var u=(s-1)%c,f=o,m=!0,p=function(){var C=r[v],E=v,O,P=()=>(O===void 0&&(O=n(C,E)),O),L=C.coordinate,B=v===u||e1(t,L,P,f,l);if(!B)return m=!1,1;B&&(f=L+t*(P()/2+i))},v=u;v<s&&!p();v+=c);if(m){for(var b=[],x=u;x<s;x+=c)b.push(r[x]);return b}}return[]}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){QRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QRe(t,e,n){return(e=eIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eIe(t){var e=tIe(t,"string");return typeof e=="symbol"?e:e+""}function tIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nIe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(m){var p=a[m],v,b=()=>(v===void 0&&(v=n(p,m)),v);if(m===s-1){var x=t*(p.coordinate+t*b()/2-l);a[m]=p=Ns(Ns({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[m]=p=Ns(Ns({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var w=e1(t,p.tickCoord,b,o,l);w&&(l=p.tickCoord-t*(b()/2+i),a[m]=Ns(Ns({},p),{},{isShow:!0}))}},u=s-1;u>=0;u--)c(u);return a}function rIe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var u=r[o-1],f=n(u,o-1),m=t*(u.coordinate+t*f/2-c);if(s[o-1]=u=Ns(Ns({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate}),u.tickCoord!=null){var p=e1(t,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Ns(Ns({},u),{},{isShow:!0}))}}for(var v=a?o-1:o,b=function(C){var E=s[C],O,P=()=>(O===void 0&&(O=n(E,C)),O);if(C===0){var L=t*(E.coordinate-t*P()/2-l);s[C]=E=Ns(Ns({},E),{},{tickCoord:L<0?E.coordinate-L*t:E.coordinate})}else s[C]=E=Ns(Ns({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var B=e1(t,E.tickCoord,P,l,c);B&&(l=E.tickCoord+t*(P()/2+i),s[C]=Ns(Ns({},E),{},{isShow:!0}))}},x=0;x<v;x++)b(x);return s}function lM(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!r)return[];if(zt(l)||z1.isSsr){var m;return(m=XRe(i,zt(l)?l:0))!==null&&m!==void 0?m:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",b=u&&v==="width"?pb(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(E,O)=>{var P=typeof c=="function"?c(E.value,O):E.value;return v==="width"?KRe(pb(P,{fontSize:e,letterSpacing:n}),b,f):pb(P,{fontSize:e,letterSpacing:n})[v]},w=i.length>=2?Xl(i[1].coordinate-i[0].coordinate):1,C=YRe(a,w,v);return l==="equidistantPreserveStart"?JRe(w,C,x,i,s):l==="equidistantPreserveEnd"?ZRe(w,C,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=rIe(w,C,x,i,s,l==="preserveStartEnd"):p=nIe(w,C,x,i,s),p.filter(E=>E.isShow))}var iIe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},aIe=["axisLine","width","height","className","hide","ticks","axisType"];function sIe(t,e){if(t==null)return{};var n,r,i=oIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(null,arguments)}function az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?az(Object(n),!0).forEach(function(r){lIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lIe(t,e,n){return(e=cIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cIe(t){var e=uIe(t,"string");return typeof e=="symbol"?e:e+""}function uIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ld={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ms.axis};function hIe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=ca(ca(ca({},l),nc(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=ca(ca({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=ca(ca({},c),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return j.createElement("line",Tm({},c,{className:Nr("recharts-cartesian-axis-line",wk(o,"className"))}))}function dIe(t,e,n,r,i,a,s,o,l){var c,u,f,m,p,v,b=o?-1:1,x=t.tickSize||s,w=zt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=u=t.coordinate,m=n+ +!o*i,f=m-b*x,v=f-b*l,p=w;break;case"left":f=m=t.coordinate,u=e+ +!o*r,c=u-b*x,p=c-b*l,v=w;break;case"right":f=m=t.coordinate,u=e+ +o*r,c=u+b*x,p=c+b*l,v=w;break;default:c=u=t.coordinate,m=n+ +o*i,f=m+b*x,v=f+b*l,p=w;break}return{line:{x1:c,y1:f,x2:u,y2:m},tick:{x:p,y:v}}}function fIe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function pIe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function mIe(t){var{option:e,tickProps:n,value:r}=t,i,a=Nr(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(e))i=j.cloneElement(e,ca(ca({},n),{},{className:a}));else if(typeof e=="function")i=e(ca(ca({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Nr(s,e?.className)),i=j.createElement(iM,Tm({},n,{className:s}),r)}return i}var gIe=j.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:m,y:p,width:v,height:b,tickSize:x,tickMargin:w,fontSize:C,letterSpacing:E,getTicksConfig:O,events:P,axisType:L}=t,B=lM(ca(ca({},O),{},{ticks:n}),C,E),$=fIe(u,f),U=pIe(u,f),G=nc(O),M=xk(r),I={};typeof i=="object"&&(I=i);var K=ca(ca({},G),{},{fill:"none"},I),H=B.map(Q=>ca({entry:Q},dIe(Q,m,p,v,b,u,x,f,w))),J=H.map(Q=>{var{entry:ee,line:he}=Q;return j.createElement(rc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&j.createElement("line",Tm({},K,he,{className:Nr("recharts-cartesian-axis-tick-line",wk(i,"className"))})))}),W=H.map((Q,ee)=>{var{entry:he,tick:Y}=Q,ye=ca(ca(ca(ca({textAnchor:$,verticalAnchor:U},G),{},{stroke:"none",fill:a},M),Y),{},{index:ee,payload:he,visibleTicksCount:B.length,tickFormatter:s,padding:l},c);return j.createElement(rc,Tm({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},DJ(P,he,ee)),r&&j.createElement(mIe,{option:r,tickProps:ye,value:"".concat(typeof s=="function"?s(he.value,ee):he.value).concat(o||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},W.length>0&&j.createElement(oh,{zIndex:Ms.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},W)),J.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},J))}),vIe=j.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,c=sIe(t,aIe),[u,f]=j.useState(""),[m,p]=j.useState(""),v=j.useRef(null);j.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return iIe({ticks:v.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=j.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=w;var C=w[0];if(C){var E=window.getComputedStyle(C),O=E.fontSize,P=E.letterSpacing;(O!==u||P!==m)&&(f(O),p(P))}}},[u,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(oh,{zIndex:t.zIndex},j.createElement(rc,{className:Nr("recharts-cartesian-axis",a)},j.createElement(hIe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:nc(t)}),j.createElement(gIe,{ref:b,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),j.createElement(uMe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},j.createElement(xMe,{label:t.label,labelRef:t.labelRef}),t.children)))}),cM=j.forwardRef((t,e)=>{var n=Qa(t,ld);return j.createElement(vIe,Tm({},n,{ref:e}))});cM.displayName="CartesianAxis";var yIe=["x1","y1","x2","y2","key"],bIe=["offset"],xIe=["xAxisId","yAxisId"],wIe=["xAxisId","yAxisId"];function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){SIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SIe(t,e,n){return(e=_Ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ie(t){var e=kIe(t,"string");return typeof e=="symbol"?e:e+""}function kIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(null,arguments)}function n_(t,e){if(t==null)return{};var n,r,i=CIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TIe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return j.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ste(t){var{option:e,lineItemProps:n}=t,r;if(j.isValidElement(e))r=j.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,u=n_(n,yIe),f=(i=nc(u))!==null&&i!==void 0?i:{},{offset:m}=f,p=n_(f,bIe);r=j.createElement("line",Qp({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function EIe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=n_(t,xIe),l=i.map((c,u)=>{var f=Ls(Ls({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return j.createElement(ste,{key:"line-".concat(u),option:r,lineItemProps:f})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function AIe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=n_(t,wIe),l=i.map((c,u)=>{var f=Ls(Ls({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return j.createElement(ste,{option:r,lineItemProps:f,key:"line-".concat(u)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function OIe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var p=!c[m+1],v=p?i+s-f:c[m+1]-f;if(v<=0)return null;var b=m%e.length;return j.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:v,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function PIe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var p=!c[m+1],v=p?i+s-f:c[m+1]-f;if(v<=0)return null;var b=m%n.length;return j.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:v,height:o,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var NIe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return AZ(lM(Ls(Ls(Ls({},ld),n),{},{ticks:OZ(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},LIe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return AZ(lM(Ls(Ls(Ls({},ld),n),{},{ticks:OZ(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},MIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ms.grid};function ote(t){var e=_4(),n=k4(),r=jZ(),i=Ls(Ls({},Qa(t,MIe)),{},{x:zt(t.x)?t.x:r.left,y:zt(t.y)?t.y:r.top,width:zt(t.width)?t.width:r.width,height:zt(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:m,verticalValues:p}=i,v=Fs(),b=on(U=>oU(U,"xAxis",a,v)),x=on(U=>oU(U,"yAxis",s,v));if(!Zu(c)||!Zu(u)||!zt(o)||!zt(l))return null;var w=i.verticalCoordinatesGenerator||NIe,C=i.horizontalCoordinatesGenerator||LIe,{horizontalPoints:E,verticalPoints:O}=i;if((!E||!E.length)&&typeof C=="function"){var P=m&&m.length,L=C({yAxis:x?Ls(Ls({},x),{},{ticks:P?m:x.ticks}):void 0,width:e??c,height:n??u,offset:r},P?!0:f);FS(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(E=L)}if((!O||!O.length)&&typeof w=="function"){var B=p&&p.length,$=w({xAxis:b?Ls(Ls({},b),{},{ticks:B?p:b.ticks}):void 0,width:e??c,height:n??u,offset:r},B?!0:f);FS(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(O=$)}return j.createElement(oh,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(TIe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(OIe,Qp({},i,{horizontalPoints:E})),j.createElement(PIe,Qp({},i,{verticalPoints:O})),j.createElement(EIe,Qp({},i,{offset:r,horizontalPoints:E,xAxis:b,yAxis:x})),j.createElement(AIe,Qp({},i,{offset:r,verticalPoints:O,xAxis:b,yAxis:x}))))}ote.displayName="CartesianGrid";var RIe={},lte=Ho({name:"errorBars",initialState:RIe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cGe,replaceErrorBar:uGe,removeErrorBar:hGe}=lte.actions,IIe=lte.reducer,jIe=["children"];function DIe(t,e){if(t==null)return{};var n,r,i=BIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FIe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},UIe=j.createContext(FIe);function zIe(t){var{children:e}=t,n=DIe(t,jIe);return j.createElement(UIe.Provider,{value:n},e)}function uM(t,e){var n,r,i=on(c=>Cd(c,t)),a=on(c=>Td(c,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Va.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ga.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function cte(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=nC(),{needClipX:a,needClipY:s,needClip:o}=uM(e,n);if(!o||!i)return null;var{x:l,y:c,width:u,height:f}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}var ute=(t,e,n,r)=>tC(t,"xAxis",e,r),hte=(t,e,n,r)=>eC(t,"xAxis",e,r),dte=(t,e,n,r)=>tC(t,"yAxis",n,r),fte=(t,e,n,r)=>eC(t,"yAxis",n,r),$Ie=$e([Fr,ute,dte,hte,fte],(t,e,n,r,i)=>sh(t,"xAxis")?nv(e,r,!1):nv(n,i,!1)),qIe=(t,e,n,r,i)=>i;function HIe(t){return t.type==="line"}var WIe=$e([F4,qIe],(t,e)=>t.filter(HIe).find(n=>n.id===e)),VIe=$e([Fr,ute,dte,hte,fte,WIe,$Ie,E4],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:m}=a,p;if(m!=null&&m.length>0?p=m:p=l?.slice(c,u+1),p!=null)return Lje({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:p})}});function pte(t){var e=xk(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var lA={exports:{}},cA={};var oz;function GIe(){if(oz)return cA;oz=1;var t=T_();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return cA.useSyncExternalStoreWithSelector=function(l,c,u,f,m){var p=i(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=s(function(){function x(P){if(!w){if(w=!0,C=P,P=f(P),m!==void 0&&v.hasValue){var L=v.value;if(m(L,P))return E=L}return E=P}if(L=E,n(C,P))return L;var B=f(P);return m!==void 0&&m(L,B)?(C=P,L):(C=P,E=B)}var w=!1,C,E,O=u===void 0?null:u;return[function(){return x(c())},O===null?void 0:function(){return x(O())}]},[c,u,f,m]);var b=r(l,p[0],p[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),o(b),b},cA}var lz;function KIe(){return lz||(lz=1,lA.exports=GIe()),lA.exports}KIe();function YIe(t){t()}function XIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){YIe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cz={notify(){},get:()=>[]};function JIe(t,e){let n,r=cz,i=0,a=!1;function s(b){u();const x=r.subscribe(b);let w=!1;return()=>{w||(w=!0,x(),f())}}function o(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function u(){i++,n||(n=t.subscribe(l),r=XIe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cz)}function m(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return v}var ZIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QIe=ZIe(),eje=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tje=eje(),nje=()=>QIe||tje?j.useLayoutEffect:j.useEffect,rje=nje();function uz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ije(t,e){if(uz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!uz(t[n[i]],e[n[i]]))return!1;return!0}var aje=Symbol.for("react-redux-context"),sje=typeof globalThis<"u"?globalThis:{};function oje(){if(!j.createContext)return{};const t=sje[aje]??=new Map;let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var lje=oje();function cje(t){const{children:e,context:n,serverState:r,store:i}=t,a=j.useMemo(()=>{const l=JIe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=j.useMemo(()=>i.getState(),[i]);rje(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||lje;return j.createElement(o.Provider,{value:a},e)}var uje=cje,hje=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dje(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function rC(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(hje.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ije(t[r],e[r]))return!1}else if(!dje(t[r],e[r]))return!1;return!0}var fje=["id"],pje=["type","layout","connectNulls","needClip","shape"],mje=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(null,arguments)}function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(r){gje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gje(t,e,n){return(e=vje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vje(t){var e=yje(t,"string");return typeof e=="symbol"?e:e+""}function yje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hM(t,e){if(t==null)return{};var n,r,i=bje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xje=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Lk(n,e),payload:t}]},wje=j.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Lk(s,e),hide:o,type:c,color:r,unit:l,graphicalItemId:u}};return j.createElement(Yee,{tooltipEntrySettings:f})}),mte=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Sje(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var _je=(t,e,n)=>{var r=n.reduce((f,m)=>f+m);if(!r)return mte(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...Sje(n,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function kje(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=hM(r,fje),c=nc(l);return j.createElement(ete,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function Cje(t){var{showLabels:e,children:n,points:r}=t,i=j.useMemo(()=>r?.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qu(qu({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(Hee,{value:e?i:void 0},n)}function dz(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:c,shape:u}=a,f=hM(a,pje),m=qu(qu({},Ds(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return j.createElement(j.Fragment,null,r?.length>1&&j.createElement(QMe,t1({shapeType:"curve",option:u},m,{pathRef:n})),j.createElement(kje,{points:r,clipPathId:e,props:a}))}function Tje(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Eje(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:m,width:p,height:v,onAnimationEnd:b,onAnimationStart:x}=n,w=i.current,C=qk(s,"recharts-line-"),E=j.useRef(C),[O,P]=j.useState(!1),L=!O,B=j.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),$=j.useCallback(()=>{typeof x=="function"&&x(),P(!0)},[x]),U=Tje(r.current),G=j.useRef(0);E.current!==C&&(G.current=a.current,E.current=C);var M=G.current;return j.createElement(Cje,{points:s,showLabels:L},n.children,j.createElement($k,{animationId:C,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:B,onAnimationStart:$,key:C},I=>{var K=da(M,U+M,I),H=Math.min(K,U),J;if(l)if(o){var W="".concat(o).split(/[,\s]+/gim).map(he=>parseFloat(he));J=_je(H,U,W)}else J=mte(U,H);else J=o==null?void 0:String(o);if(I>0&&U>0&&(i.current=s,a.current=Math.max(a.current,H)),w){var Q=w.length/s.length,ee=I===1?s:s.map((he,Y)=>{var ye=Math.floor(Y*Q);if(w[ye]){var V=w[ye];return qu(qu({},he),{},{x:da(V.x,he.x,I),y:da(V.y,he.y,I)})}return m?qu(qu({},he),{},{x:da(p*2,he.x,I),y:da(v/2,he.y,I)}):qu(qu({},he),{},{x:he.x,y:he.y})});return i.current=ee,j.createElement(dz,{props:n,points:ee,clipPathId:e,pathRef:r,strokeDasharray:J})}return j.createElement(dz,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:J})}),j.createElement(Vee,{label:n.label}))}function Aje(t){var{clipPathId:e,props:n}=t,r=j.useRef(null),i=j.useRef(0),a=j.useRef(null);return j.createElement(Eje,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Oje=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:La(t.payload,e)}};class Pje extends j.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:f,needClip:m,zIndex:p}=this.props;if(e)return null;var v=Nr("recharts-line",i),b=f,{r:x,strokeWidth:w}=pte(n),C=sM(n),E=x*2+w,O=m?"url(#clipPath-".concat(C?"":"dots-").concat(b,")"):void 0;return j.createElement(oh,{zIndex:p},j.createElement(rc,{className:v},m&&j.createElement("defs",null,j.createElement(cte,{clipPathId:b,xAxisId:a,yAxisId:s}),!C&&j.createElement("clipPath",{id:"clipPath-dots-".concat(b)},j.createElement("rect",{x:l-E/2,y:o-E/2,width:c+E,height:u+E}))),j.createElement(zIe,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Oje,errorBarOffset:0},j.createElement(Aje,{props:this.props,clipPathId:b}))),j.createElement(hN,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var gte={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ms.line,type:"linear"};function Nje(t){var e=Qa(t,gte),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:m,xAxisId:p,yAxisId:v,id:b}=e,x=hM(e,mje),{needClip:w}=uM(p,v),C=nC(),E=Um(),O=Fs(),P=on(G=>VIe(G,p,v,O,b));if(E!=="horizontal"&&E!=="vertical"||P==null||C==null)return null;var{height:L,width:B,x:$,y:U}=C;return j.createElement(Pje,t1({},x,{id:b,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:m,xAxisId:p,yAxisId:v,points:P,layout:E,height:L,width:B,left:$,top:U,needClip:w}))}function Lje(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var f=La(c,s);if(e==="horizontal"){var m=BS({axis:n,ticks:i,bandSize:o,entry:c,index:u}),p=Na(f)?null:r.scale(f);return{x:m,y:p,value:f,payload:c}}var v=Na(f)?null:n.scale(f),b=BS({axis:r,ticks:a,bandSize:o,entry:c,index:u});return v==null||b==null?null:{x:v,y:b,value:f,payload:c}}).filter(Boolean)}function Mje(t){var e=Qa(t,gte),n=Fs();return j.createElement(Jee,{id:e.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(Xee,{legendPayload:xje(e)}),j.createElement(wje,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),j.createElement(Qee,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),j.createElement(Nje,t1({},e,{id:r}))))}var vte=j.memo(Mje,rC);vte.displayName="Line";function dM(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:tte}function fM(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:tte}var yte=(t,e,n)=>tC(t,"xAxis",dM(t,e),n),bte=(t,e,n)=>eC(t,"xAxis",dM(t,e),n),xte=(t,e,n)=>tC(t,"yAxis",fM(t,e),n),wte=(t,e,n)=>eC(t,"yAxis",fM(t,e),n),Rje=$e([Fr,yte,xte,bte,wte],(t,e,n,r,i)=>sh(t,"xAxis")?nv(e,r,!1):nv(n,i,!1)),Ije=(t,e)=>e,Ste=$e([F4,Ije],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),_te=t=>{var e=Fr(t),n=sh(e,"xAxis");return n?"yAxis":"xAxis"},jje=(t,e)=>{var n=_te(t);return n==="yAxis"?fM(t,e):dM(t,e)},Dje=(t,e,n)=>jQ(t,_te(t),jje(t,e),n),Bje=$e([Ste,Dje],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=j4(t);if(!(r==null||i==null)){var a=(n=e[r])===null||n===void 0?void 0:n.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),Fje=$e([Fr,yte,xte,bte,wte,Bje,XPe,Rje,Ste,cNe],(t,e,n,r,i,a,s,o,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:m}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,v;if(p&&p.length>0?v=p:v=u?.slice(f,m+1),v!=null)return iDe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:c,bandSize:o})}}),Uje=["id"],zje=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(null,arguments)}function kte(t,e){if(t==null)return{};var n,r,i=$je(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $je(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){qje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qje(t,e,n){return(e=Hje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hje(t){var e=Wje(t,"string");return typeof e=="symbol"?e:e+""}function Wje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r_(t,e){return t&&t!=="none"?t:e}var Vje=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r_(r,i),value:Lk(n,e),payload:t}]},Gje=j.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Lk(s,e),hide:o,type:c,color:r_(r,a),unit:l,graphicalItemId:u}};return j.createElement(Yee,{tooltipEntrySettings:f})});function Kje(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=nc(r);return j.createElement(ete,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function Yje(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return u0(u0({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return j.createElement(Hee,{value:e?i:void 0},n)}function pz(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=a,{id:f}=a,m=kte(a,Uje),p=nc(m),v=Ds(m);return j.createElement(j.Fragment,null,e?.length>1&&j.createElement(rc,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},j.createElement(fb,am({},v,{id:f,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&j.createElement(fb,am({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&u&&j.createElement(fb,am({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),j.createElement(Kje,{points:e,props:m,clipPathId:i}))}function Xje(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!bi(o)||!bi(l))return null;var c=r*Math.abs(o-l),u=Math.max(...a.map(f=>f.x||0));return zt(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(f=>f.x||0),u)),zt(u)?j.createElement("rect",{x:0,y:o<l?o:o-c,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}function Jje(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!bi(o)||!bi(l))return null;var c=r*Math.abs(o-l),u=Math.max(...a.map(f=>f.y||0));return zt(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(f=>f.y||0),u)),zt(u)?j.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}function Zje(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?j.createElement(Xje,{alpha:e,points:r,baseLine:i,strokeWidth:a}):j.createElement(Jje,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Qje(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:m,onAnimationEnd:p}=r,v=j.useMemo(()=>({points:s,baseLine:o}),[s,o]),b=qk(v,"recharts-area-"),x=XAe(),[w,C]=j.useState(!1),E=!w,O=j.useCallback(()=>{typeof p=="function"&&p(),C(!1)},[p]),P=j.useCallback(()=>{typeof m=="function"&&m(),C(!0)},[m]);if(x==null)return null;var L=i.current,B=a.current;return j.createElement(Yje,{showLabels:E,points:s},r.children,j.createElement($k,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:P,key:b},$=>{if(L){var U=L.length/s.length,G=$===1?s:s.map((I,K)=>{var H=Math.floor(K*U);if(L[H]){var J=L[H];return u0(u0({},I),{},{x:da(J.x,I.x,$),y:da(J.y,I.y,$)})}return I}),M;return zt(o)?M=da(B,o,$):Na(o)||iu(o)?M=da(B,0,$):M=o.map((I,K)=>{var H=Math.floor(K*U);if(Array.isArray(B)&&B[H]){var J=B[H];return u0(u0({},I),{},{x:da(J.x,I.x,$),y:da(J.y,I.y,$)})}return I}),$>0&&(i.current=G,a.current=M),j.createElement(pz,{points:G,baseLine:M,needClip:e,clipPathId:n,props:r})}return $>0&&(i.current=s,a.current=o),j.createElement(rc,null,l&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(Zje,{alpha:$,points:s,baseLine:o,layout:x,strokeWidth:r.strokeWidth}))),j.createElement(rc,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(pz,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),j.createElement(Vee,{label:r.label}))}function eDe(t){var{needClip:e,clipPathId:n,props:r}=t,i=j.useRef(null),a=j.useRef();return j.createElement(Qje,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class tDe extends j.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:f,id:m,baseLine:p,zIndex:v}=this.props;if(e)return null;var b=Nr("recharts-area",i),x=m,{r:w,strokeWidth:C}=pte(n),E=sM(n),O=w*2+C,P=o?"url(#clipPath-".concat(E?"":"dots-").concat(x,")"):void 0;return j.createElement(oh,{zIndex:v},j.createElement(rc,{className:b},o&&j.createElement("defs",null,j.createElement(cte,{clipPathId:x,xAxisId:l,yAxisId:c}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(x)},j.createElement("rect",{x:s-O/2,y:a-O/2,width:u+O,height:f+O}))),j.createElement(eDe,{needClip:o,clipPathId:x,props:this.props})),j.createElement(hN,{points:r,mainColor:r_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(p)&&j.createElement(hN,{points:p,mainColor:r_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var Cte={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ms.area};function nDe(t){var e,n=Qa(t,Cte),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:m,legendType:p,stroke:v,xAxisId:b,yAxisId:x}=n,w=kte(n,zje),C=Um(),E=Cee(),{needClip:O}=uM(b,x),P=Fs(),{points:L,isRange:B,baseLine:$}=(e=on(H=>Fje(H,t.id,P)))!==null&&e!==void 0?e:{},U=nC();if(C!=="horizontal"&&C!=="vertical"||U==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:G,width:M,x:I,y:K}=U;return!L||!L.length?null:j.createElement(tDe,am({},w,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:$,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:G,hide:f,layout:C,isAnimationActive:m==="auto"?!z1.isSsr:m,isRange:B,legendType:p,needClip:O,points:L,stroke:v,width:M,left:I,top:K,xAxisId:b,yAxisId:x}))}var rDe=(t,e,n,r,i)=>{var a=n??e;if(zt(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function iDe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:m,bandSize:p}=t,v=i&&i.length,b=rDe(a,s,n,o,l),x=a==="horizontal",w=!1,C=c.map((O,P)=>{var L,B,$;if(v)$=i[u+P];else{var U=La(O,r);Array.isArray(U)?($=U,w=!0):$=[b,U]}var G=(L=(B=$)===null||B===void 0?void 0:B[1])!==null&&L!==void 0?L:null,M=G==null||v&&!e&&La(O,r)==null;return x?{x:BS({axis:o,ticks:f,bandSize:p,entry:O,index:P}),y:M?null:l.scale(G),value:$,payload:O}:{x:M?null:o.scale(G),y:BS({axis:l,ticks:m,bandSize:p,entry:O,index:P}),value:$,payload:O}}),E;return v||w?E=C.map(O=>{var P=Array.isArray(O.value)?O.value[0]:null;return x?{x:O.x,y:P!=null&&O.y!=null?l.scale(P):null,payload:O.payload}:{x:P!=null?o.scale(P):null,y:O.y,payload:O.payload}}):E=x?l.scale(b):o.scale(b),{points:C,baseLine:E,isRange:w}}function aDe(t){var e=Qa(t,Cte),n=Fs();return j.createElement(Jee,{id:e.id,type:"area"},r=>j.createElement(j.Fragment,null,j.createElement(Xee,{legendPayload:Vje(e)}),j.createElement(Gje,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),j.createElement(Qee,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:hAe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),j.createElement(nDe,am({},e,{id:r}))))}var dN=j.memo(aDe,rC);dN.displayName="Area";var sDe=["domain","range"],oDe=["domain","range"];function mz(t,e){if(t==null)return{};var n,r,i=lDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Tte(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=mz(t,sDe),{domain:a,range:s}=e,o=mz(e,oDe);return!gz(n,a)||!gz(r,s)?!1:rC(i,o)}var cDe=["dangerouslySetInnerHTML","ticks","scale"],uDe=["id","scale"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}function vz(t,e){if(t==null)return{};var n,r,i=hDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dDe(t){var e=pa(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(SRe(t)):n.current!==t&&e(_Re({prev:n.current,next:t})),n.current=t},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(kRe(n.current)),n.current=null)},[e]),null}var fDe=t=>{var{xAxisId:e,className:n}=t,r=on(NZ),i=Fs(),a="xAxis",s=on(w=>iee(w,a,e,i)),o=on(w=>t3e(w,e)),l=on(w=>o3e(w,e)),c=on(w=>kQ(w,e));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:m}=t,p=vz(t,cDe),{id:v,scale:b}=c,x=vz(c,uDe);return j.createElement(cM,fN({},p,x,{x:l.x,y:l.y,width:o.width,height:o.height,className:Nr("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},pDe={allowDataOverflow:Va.allowDataOverflow,allowDecimals:Va.allowDecimals,allowDuplicatedCategory:Va.allowDuplicatedCategory,angle:Va.angle,axisLine:ld.axisLine,height:Va.height,hide:!1,includeHidden:Va.includeHidden,interval:Va.interval,minTickGap:Va.minTickGap,mirror:Va.mirror,orientation:Va.orientation,padding:Va.padding,reversed:Va.reversed,scale:Va.scale,tick:Va.tick,tickCount:Va.tickCount,tickLine:ld.tickLine,tickSize:ld.tickSize,type:Va.type,xAxisId:0},mDe=t=>{var e=Qa(t,pDe);return j.createElement(j.Fragment,null,j.createElement(dDe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),j.createElement(fDe,e))},Ete=j.memo(mDe,Tte);Ete.displayName="XAxis";var gDe=["dangerouslySetInnerHTML","ticks","scale"],vDe=["id","scale"];function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(null,arguments)}function yz(t,e){if(t==null)return{};var n,r,i=yDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bDe(t){var e=pa(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(CRe(t)):n.current!==t&&e(TRe({prev:n.current,next:t})),n.current=t},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(ERe(n.current)),n.current=null)},[e]),null}var xDe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=j.useRef(null),s=j.useRef(null),o=on(NZ),l=Fs(),c=pa(),u="yAxis",f=on(L=>u3e(L,e)),m=on(L=>c3e(L,e)),p=on(L=>iee(L,u,e,l)),v=on(L=>CQ(L,e));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!f||aM(i)||j.isValidElement(i)||v==null)){var L=a.current;if(L){var B=L.getCalculatedWidth();Math.round(f.width)!==Math.round(B)&&c(ARe({id:e,width:B}))}}},[p,f,c,i,e,r,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:x,scale:w}=t,C=yz(t,gDe),{id:E,scale:O}=v,P=yz(v,vDe);return j.createElement(cM,pN({},C,P,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Nr("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:p,axisType:u}))},wDe={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:Ga.allowDecimals,allowDuplicatedCategory:Ga.allowDuplicatedCategory,angle:Ga.angle,axisLine:ld.axisLine,hide:!1,includeHidden:Ga.includeHidden,interval:Ga.interval,minTickGap:Ga.minTickGap,mirror:Ga.mirror,orientation:Ga.orientation,padding:Ga.padding,reversed:Ga.reversed,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,tickLine:ld.tickLine,tickSize:ld.tickSize,type:Ga.type,width:Ga.width,yAxisId:0},SDe=t=>{var e=Qa(t,wDe);return j.createElement(j.Fragment,null,j.createElement(bDe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),j.createElement(xDe,e))},Ate=j.memo(SDe,Tte);Ate.displayName="YAxis";var _De=(t,e)=>e,pM=$e([_De,Fr,SQ,ja,bee,Ed,kLe,xs],NLe),mM=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Ote=ic("mouseClick"),Pte=B1();Pte.startListening({actionCreator:Ote,effect:(t,e)=>{var n=t.payload,r=pM(e.getState(),mM(n));r?.activeIndex!=null&&e.dispatch(_3e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mN=ic("mouseMove"),Nte=B1(),Pw=null;Nte.startListening({actionCreator:mN,effect:(t,e)=>{var n=t.payload;Pw!==null&&cancelAnimationFrame(Pw);var r=mM(n);Pw=requestAnimationFrame(()=>{var i=e.getState(),a=K4(i,i.tooltip.settings.shared);if(a==="axis"){var s=pM(i,r);s?.activeIndex!=null?e.dispatch(hee({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(uee())}Pw=null})}});function kDe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var bz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Lte=Ho({name:"rootProps",initialState:bz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:bz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),CDe=Lte.reducer,{updateOptions:TDe}=Lte.actions,Mte=Ho({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:dGe}=Mte.actions,EDe=Mte.reducer,Rte=ic("keyDown"),Ite=ic("focus"),gM=B1();gM.startListening({actionCreator:Rte,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Y4(i,_v(n),H1(n),K1(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ed(n);if(a==="Enter"){var c=JS(n,"axis","hover",String(i.index));e.dispatch(aN({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var u=p3e(n),f=u==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,p=o+m*f;if(!(l==null||p>=l.length||p<0)){var v=JS(n,"axis","hover",String(p));e.dispatch(aN({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});gM.startListening({actionCreator:Ite,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=JS(n,"axis","hover",String(a));e.dispatch(aN({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Hl=ic("externalEvent"),jte=B1(),uA=new Map;jte.startListening({actionCreator:Hl,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=uA.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:cLe(o),activeDataKey:oLe(o),activeIndex:Zb(o),activeLabel:See(o),activeTooltipIndex:Zb(o),isTooltipActive:uLe(o)};n(l,r)}finally{uA.delete(i)}});uA.set(i,s)}}});var ADe=$e([wv],t=>t.tooltipItemPayloads),ODe=$e([ADe,G1,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),Dte=ic("touchMove"),Bte=B1();Bte.startListening({actionCreator:Dte,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=K4(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=pM(r,mM({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(hee({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(yAe),f=(o=c.getAttribute(bAe))!==null&&o!==void 0?o:void 0,m=Sv(r).find(b=>b.id===f);if(u==null||m==null||f==null)return;var{dataKey:p}=m,v=ODe(r,u,f);e.dispatch(S3e({activeDataKey:p,activeIndex:u,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var PDe=QJ({brush:BRe,cartesianAxis:ORe,chartData:c4e,errorBars:IIe,graphicalItems:lRe,layout:tAe,legend:pOe,options:i4e,polarAxis:RMe,polarOptions:EDe,referenceElements:WRe,rootProps:CDe,tooltip:k3e,zIndex:WLe}),NDe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TEe({reducer:PDe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Pte.middleware,Nte.middleware,gM.middleware,jte.middleware,Bte.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(pZ({type:"raf"}))},devTools:{serialize:{replacer:kDe},name:"recharts-".concat(n)}})};function LDe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Fs(),a=j.useRef(null);if(i)return n;a.current==null&&(a.current=NDe(e,r));var s=m4;return j.createElement(uje,{context:s,store:a.current},n)}function MDe(t){var{layout:e,margin:n}=t,r=pa(),i=Fs();return j.useEffect(()=>{i||(r(ZEe(e)),r(JEe(n)))},[r,i,e,n]),null}var RDe=j.memo(MDe,rC);function IDe(t){var e=pa();return j.useEffect(()=>{e(TDe(t))},[e,t]),null}function xz(t){var{zIndex:e,isPanorama:n}=t,r=j.useRef(null),i=pa();return j.useLayoutEffect(()=>(r.current&&i(qLe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(HLe({zIndex:e,isPanorama:n}))}),[i,e,n]),j.createElement("g",{tabIndex:-1,ref:r})}function wz(t){var{children:e,isPanorama:n}=t,r=on(MLe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return j.createElement(j.Fragment,null,i.map(s=>j.createElement(xz,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>j.createElement(xz,{key:s,zIndex:s,isPanorama:n})))}var jDe=["children"];function DDe(t,e){if(t==null)return{};var n,r,i=BDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}var FDe={width:"100%",height:"100%",display:"block"},UDe=j.forwardRef((t,e)=>{var n=_4(),r=k4(),i=WZ();if(!Zu(n)||!Zu(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,u;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0),j.createElement(o4,i_({},s,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:FDe,ref:e}),a)}),zDe=t=>{var{children:e}=t,n=on(jk);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return j.createElement(o4,{width:r,height:i,x:s,y:a},e)},Sz=j.forwardRef((t,e)=>{var{children:n}=t,r=DDe(t,jDe),i=Fs();return i?j.createElement(zDe,null,j.createElement(wz,{isPanorama:!0},n)):j.createElement(UDe,i_({ref:e},r),j.createElement(wz,{isPanorama:!1},n))});function $De(){var t=pa(),[e,n]=j.useState(null),r=on(vAe);return j.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;bi(a)&&a!==r&&t(eAe(a))}},[e,t,r]),n}function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){HDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HDe(t,e,n){return(e=WDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WDe(t){var e=VDe(t,"string");return typeof e=="symbol"?e:e+""}function VDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(null,arguments)}var GDe=()=>(y4e(),null);function a_(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var KDe=j.forwardRef((t,e)=>{var n,r,i=j.useRef(null),[a,s]=j.useState({containerWidth:a_((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:a_((r=t.style)===null||r===void 0?void 0:r.height)}),o=j.useCallback((c,u)=>{s(f=>{var m=Math.round(c),p=Math.round(u);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=j.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var m=v=>{var{width:b,height:x}=v[0].contentRect;o(b,x)},p=new ResizeObserver(m);p.observe(c),i.current=p}},[e,o]);return j.useEffect(()=>()=>{var c=i.current;c?.disconnect()},[o]),j.createElement(j.Fragment,null,j.createElement(Bk,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Em({ref:l},t)))}),YDe=j.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=j.useState({containerWidth:a_(n),containerHeight:a_(r)}),s=j.useCallback((l,c)=>{a(u=>{var f=Math.round(l),m=Math.round(c);return u.containerWidth===f&&u.containerHeight===m?u:{containerWidth:f,containerHeight:m}})},[]),o=j.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();s(c,u)}},[e,s]);return j.createElement(j.Fragment,null,j.createElement(Bk,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Em({ref:o},t)))}),XDe=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return j.createElement(j.Fragment,null,j.createElement(Bk,{width:n,height:r}),j.createElement("div",Em({ref:e},t)))}),JDe=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return md(n)||md(r)?j.createElement(YDe,Em({},t,{ref:e})):j.createElement(XDe,Em({},t,{ref:e}))});function ZDe(t){return t===!0?KDe:JDe}var QDe=j.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:v,onTouchStart:b,style:x,width:w,responsive:C,dispatchTouchEvents:E=!0}=t,O=j.useRef(null),P=pa(),[L,B]=j.useState(null),[$,U]=j.useState(null),G=$De(),M=S4(),I=M?.width>0?M.width:w,K=M?.height>0?M.height:i,H=j.useCallback(fe=>{G(fe),typeof e=="function"&&e(fe),B(fe),U(fe),fe!=null&&(O.current=fe)},[G,e,B,U]),J=j.useCallback(fe=>{P(Ote(fe)),P(Hl({handler:a,reactEvent:fe}))},[P,a]),W=j.useCallback(fe=>{P(mN(fe)),P(Hl({handler:c,reactEvent:fe}))},[P,c]),Q=j.useCallback(fe=>{P(uee()),P(Hl({handler:u,reactEvent:fe}))},[P,u]),ee=j.useCallback(fe=>{P(mN(fe)),P(Hl({handler:f,reactEvent:fe}))},[P,f]),he=j.useCallback(()=>{P(Ite())},[P]),Y=j.useCallback(fe=>{P(Rte(fe.key))},[P]),ye=j.useCallback(fe=>{P(Hl({handler:s,reactEvent:fe}))},[P,s]),V=j.useCallback(fe=>{P(Hl({handler:o,reactEvent:fe}))},[P,o]),F=j.useCallback(fe=>{P(Hl({handler:l,reactEvent:fe}))},[P,l]),ae=j.useCallback(fe=>{P(Hl({handler:m,reactEvent:fe}))},[P,m]),le=j.useCallback(fe=>{P(Hl({handler:b,reactEvent:fe}))},[P,b]),pe=j.useCallback(fe=>{E&&P(Dte(fe)),P(Hl({handler:v,reactEvent:fe}))},[P,E,v]),xe=j.useCallback(fe=>{P(Hl({handler:p,reactEvent:fe}))},[P,p]),Oe=ZDe(C);return j.createElement(Pee.Provider,{value:L},j.createElement(NJ.Provider,{value:$},j.createElement(Oe,{width:I??x?.width,height:K??x?.height,className:Nr("recharts-wrapper",r),style:qDe({position:"relative",cursor:"default",width:I,height:K},x),onClick:J,onContextMenu:ye,onDoubleClick:V,onFocus:he,onKeyDown:Y,onMouseDown:F,onMouseEnter:W,onMouseLeave:Q,onMouseMove:ee,onMouseUp:ae,onTouchEnd:xe,onTouchMove:pe,onTouchStart:le,ref:H},j.createElement(GDe,null),n)))}),e6e=["width","height","responsive","children","className","style","compact","title","desc"];function t6e(t,e){if(t==null)return{};var n,r,i=n6e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r6e=j.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:u}=t,f=t6e(t,e6e),m=nc(f);return l?j.createElement(j.Fragment,null,j.createElement(Bk,{width:n,height:r}),j.createElement(Sz,{otherAttributes:m,title:c,desc:u},a)):j.createElement(QDe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},j.createElement(Sz,{otherAttributes:m,title:c,desc:u,ref:e},j.createElement(GRe,null,a)))});function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gN.apply(null,arguments)}var i6e={top:5,right:5,bottom:5,left:5},a6e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:i6e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},s6e=j.forwardRef(function(e,n){var r,i=Qa(e.categoricalChartProps,a6e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return j.createElement(LDe,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},j.createElement(DRe,{chartData:c.data}),j.createElement(RDe,{layout:i.layout,margin:i.margin}),j.createElement(IDe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(r6e,gN({},i,{ref:n})))}),o6e=["axis"],l6e=j.forwardRef((t,e)=>j.createElement(s6e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:o6e,tooltipPayloadSearcher:n4e,categoricalChartProps:t,ref:e}));function c6e({roadmap:t,salaryProjection:e}){const n=a=>`${(a/1e5).toFixed(1)}L`,i=t.map((a,s)=>{const c=6e5+s*2e5;return{year:`Year ${a.year}`,role:a.role,salary:c,marketAvg:c*.95,topPercentile:c*1.25}});return S.jsxs(li,{className:"p-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx(om,{className:"w-6 h-6 text-green-600"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:" Salary Progression"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Projected earnings over your career path (in INR)"})]})]}),S.jsx(GAe,{width:"100%",height:300,children:S.jsxs(l6e,{data:i,children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"colorSalary",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),S.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),S.jsxs("linearGradient",{id:"colorMarket",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),S.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),S.jsx(ote,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),S.jsx(Ete,{dataKey:"year",stroke:"#64748b"}),S.jsx(Ate,{stroke:"#64748b",tickFormatter:a=>n(a)}),S.jsx(T4e,{formatter:a=>n(a),contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px"}}),S.jsx(HZ,{}),S.jsx(dN,{type:"monotone",dataKey:"salary",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorSalary)",name:"Your Projection"}),S.jsx(dN,{type:"monotone",dataKey:"marketAvg",stroke:"#10b981",fillOpacity:1,fill:"url(#colorMarket)",name:"Market Average"}),S.jsx(vte,{type:"monotone",dataKey:"topPercentile",stroke:"#f59e0b",strokeDasharray:"5 5",name:"Top 25%",dot:!1})]})}),S.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[S.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n(i[0].salary)}),S.jsx("div",{className:"text-xs text-slate-600",children:"Starting"})]}),S.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-green-600",children:n(i[i.length-1].salary)}),S.jsxs("div",{className:"text-xs text-slate-600",children:["Year ",t.length]})]}),S.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[S.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["+",((i[i.length-1].salary-i[0].salary)/i[0].salary*100).toFixed(0),"%"]}),S.jsx("div",{className:"text-xs text-slate-600",children:"Growth"})]})]})]})}function u6e({activeTab:t,setActiveTab:e,tabs:n}){return S.jsx("div",{className:"border-b border-slate-200 mb-8",children:S.jsx("div",{className:"flex gap-1 overflow-x-auto",children:n.map(r=>S.jsxs("button",{onClick:()=>e(r.id),className:`relative px-6 py-3 font-medium transition-colors whitespace-nowrap ${t===r.id?"text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[S.jsxs("span",{className:"flex items-center gap-2",children:[r.icon,r.label]}),t===r.id&&S.jsx(St.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},r.id))})})}function h6e({roadmap:t}){const[e,n]=j.useState({}),r=(s,o)=>{const l=`${s}-${o}`;n(c=>({...c,[l]:!c[l]}))},a=(()=>{const s=t.reduce((l,c)=>l+c.milestones.length,0),o=Object.values(e).filter(Boolean).length;return Math.round(o/s*100)})();return S.jsxs(li,{className:"p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Yae,{className:"w-6 h-6 text-yellow-600"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:" Progress Tracker"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Track your career milestones"})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[a,"%"]}),S.jsx("div",{className:"text-xs text-slate-500",children:"Complete"})]})]}),S.jsx("div",{className:"mb-6 bg-slate-200 rounded-full h-3 overflow-hidden",children:S.jsx(St.div,{className:"h-full bg-gradient-to-r from-blue-500 to-green-500",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})}),S.jsx("div",{className:"space-y-6",children:t.map((s,o)=>S.jsxs("div",{className:"border-l-2 border-blue-200 pl-4",children:[S.jsxs("h4",{className:"font-semibold text-slate-800 mb-3",children:["Year ",s.year,": ",s.role]}),S.jsx("div",{className:"space-y-2",children:s.milestones.map((l,c)=>{const u=`${o}-${c}`,f=e[u];return S.jsxs("button",{onClick:()=>r(o,c),className:"flex items-start gap-3 w-full text-left p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[f?S.jsx(k_,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}):S.jsx(Xae,{className:"w-5 h-5 text-slate-300 shrink-0 mt-0.5"}),S.jsx("span",{className:`text-sm ${f?"text-slate-400 line-through":"text-slate-700"}`,children:l})]},c)})})]},o))}),a===100&&S.jsxs(St.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg text-center",children:[S.jsx("p",{className:"text-lg font-bold text-green-700",children:" Congratulations!"}),S.jsx("p",{className:"text-sm text-green-600",children:"You've completed all milestones!"})]})]})}function d6e({field:t}){const[e,n]=j.useState(!1),[r,i]=j.useState(0),[a,s]=j.useState([]),[o,l]=j.useState(!1),u=[{question:`What is your current experience level in ${t||"your field"}?`,options:["Complete beginner - just starting out","Some experience - 6 months to 1 year","Intermediate - 1-3 years of practice","Advanced - 3+ years of expertise"],correct:2},{question:"How do you prefer to learn new skills?",options:["Hands-on projects and building things","Structured courses and tutorials","Reading documentation and books","Learning from mentors and peers"],correct:0},{question:"What motivates you most in your career?",options:["High salary and financial growth","Creative freedom and innovation","Making a positive impact","Job security and stability"],correct:1},{question:"How comfortable are you with taking on new challenges?",options:["I prefer staying in my comfort zone","I take calculated risks when necessary","I actively seek challenging opportunities","I thrive on constant change and uncertainty"],correct:2},{question:"What is your biggest career obstacle right now?",options:["Lack of technical skills","Limited networking opportunities","Unclear career direction","Work-life balance issues"],correct:2}],f=b=>{const x=[...a,b];s(x),r<u.length-1?i(r+1):l(!0)},m=()=>{const b=a.filter((x,w)=>x===u[w].correct).length;return Math.round(b/u.length*100)},p=b=>b>=80?{level:"Advanced",color:"text-green-600",bg:"bg-green-50",icon:""}:b>=50?{level:"Intermediate",color:"text-blue-600",bg:"bg-blue-50",icon:""}:{level:"Beginner",color:"text-orange-600",bg:"bg-orange-50",icon:""};if(!e)return S.jsx(li,{className:"p-8",children:S.jsxs("div",{className:"text-center",children:[S.jsx(St.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block mb-4",children:S.jsx(Tb,{className:"w-16 h-16 text-purple-600 mx-auto"})}),S.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:" Skill Assessment Quiz"}),S.jsxs("p",{className:"text-slate-600 mb-2",children:["Take a quick ",u.length,"-question quiz to validate your current skill level."]}),S.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This helps us personalize your roadmap based on your experience."}),S.jsx(Or,{onClick:()=>n(!0),className:"px-8 py-3",children:"Start Assessment "})]})});if(o){const b=m(),{level:x,color:w,bg:C,icon:E}=p(b);return S.jsx(li,{className:"p-8",children:S.jsxs(St.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[S.jsx(St.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},children:S.jsx(m3,{className:"w-20 h-20 text-green-600 mx-auto mb-4"})}),S.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Quiz Complete! "}),S.jsxs("div",{className:`inline-block px-8 py-6 ${C} rounded-2xl mb-6 shadow-lg`,children:[S.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Your Skill Level"}),S.jsx("p",{className:"text-6xl mb-2",children:E}),S.jsx("p",{className:`text-4xl font-bold ${w} mb-2`,children:x}),S.jsxs("p",{className:"text-lg text-slate-500",children:["Score: ",b,"%"]})]}),S.jsxs("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:[b>=80&&"Excellent! You have strong fundamentals. Your roadmap will focus on advanced topics.",b>=50&&b<80&&"Good progress! Your roadmap will balance fundamentals with intermediate concepts.",b<50&&"Great start! Your roadmap will emphasize building strong foundations first."]}),S.jsx(Or,{onClick:()=>{n(!1),i(0),s([]),l(!1)},children:"Retake Quiz"})]})})}const v=u[r];return S.jsxs(li,{className:"p-8",children:[S.jsxs("div",{className:"mb-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-3",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Skill Assessment"}),S.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Question ",r+1," of ",u.length]})]}),S.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:S.jsx(St.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full",initial:{width:0},animate:{width:`${(r+1)/u.length*100}%`},transition:{duration:.3}})})]}),S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"mb-8",children:[S.jsx("h4",{className:"text-2xl font-semibold text-slate-800 mb-6 leading-relaxed",children:v.question}),S.jsx("div",{className:"space-y-3",children:v.options.map((b,x)=>S.jsx(St.button,{onClick:()=>f(x),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full text-left p-5 border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 group-hover:bg-blue-100 flex items-center justify-center shrink-0 font-semibold text-slate-600 group-hover:text-blue-600",children:String.fromCharCode(65+x)}),S.jsx("span",{className:"font-medium text-slate-700 group-hover:text-slate-900 flex-1 pt-1",children:b})]})},x))})]},r),S.jsx("p",{className:"text-sm text-slate-400 text-center",children:" Choose the option that best describes you"})]})}function f6e({field:t}){const e=[{name:"Priya Sharma",role:"Senior Marketing Manager",company:"Google India",expertise:["Digital Marketing","SEO","Content Strategy"],linkedin:"https://linkedin.com",image:""},{name:"Rahul Verma",role:"Lead Software Engineer",company:"Microsoft",expertise:["Full Stack","Cloud","System Design"],linkedin:"https://linkedin.com",image:""},{name:"Ananya Patel",role:"Product Manager",company:"Amazon",expertise:["Product Strategy","Agile","User Research"],linkedin:"https://linkedin.com",image:""}];return S.jsxs(li,{className:"p-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx(V$,{className:"w-6 h-6 text-indigo-600"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:" Mentor Matching"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Connect with industry experts in your field"})]})]}),S.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((n,r)=>S.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[S.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[S.jsx("div",{className:"text-4xl",children:n.image}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-bold text-slate-900",children:n.name}),S.jsx("p",{className:"text-sm text-slate-600",children:n.role}),S.jsx("p",{className:"text-xs text-blue-600",children:n.company})]})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Expertise:"}),S.jsx("div",{className:"flex flex-wrap gap-1",children:n.expertise.map((i,a)=>S.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:i},a))})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:S.jsxs(Or,{variant:"outline",className:"w-full text-xs",children:[S.jsx(Jae,{className:"w-3 h-3 mr-1"}),"LinkedIn"]})}),S.jsxs(Or,{className:"flex-1 text-xs",children:[S.jsx(G$,{className:"w-3 h-3 mr-1"}),"Connect"]})]})]},r))}),S.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:S.jsxs("p",{className:"text-sm text-blue-800",children:[" ",S.jsx("strong",{children:"Tip:"})," Mentors are matched based on your career goals and field of interest. Reach out to start building your professional network!"]})})]})}function p6e(){const{state:t}=tq(),e=t?.result,[n,r]=j.useState("overview");if(!e)return S.jsx(Sse,{to:"/simulate",replace:!0});const{roadmap:i,analysis:a}=e,s=[{id:"overview",label:"Overview",icon:S.jsx(Zae,{className:"w-4 h-4"})},{id:"roadmap",label:"Roadmap",icon:S.jsx(Qae,{className:"w-4 h-4"})},{id:"skills",label:"Skills & Courses",icon:S.jsx(QA,{className:"w-4 h-4"})},{id:"salary",label:"Salary",icon:S.jsx(Y$,{className:"w-4 h-4"})},{id:"tools",label:"Tools",icon:S.jsx(ese,{className:"w-4 h-4"})}];return S.jsxs("div",{className:"min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Your AI-Generated Career Roadmap"}),S.jsx("p",{className:"text-slate-600 mt-2",children:"Personalized strategy for the next 6 years."})]}),S.jsx(u6e,{activeTab:n,setActiveTab:r,tabs:s}),n==="overview"&&S.jsxs("div",{className:"space-y-8",children:[e.flowchart&&S.jsx(P_e,{flowchartSyntax:e.flowchart}),S.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsxs(li,{className:"bg-white border-l-4 border-l-blue-500",children:[S.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Market Outlook"}),S.jsx("p",{className:"text-slate-900 font-medium",children:a.market_outlook})]}),S.jsxs(li,{className:"bg-white border-l-4 border-l-green-500",children:[S.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Salary Projection"}),S.jsx("p",{className:"text-slate-900 font-medium",children:a.salary_projection})]}),S.jsxs(li,{className:"bg-white border-l-4 border-l-orange-500",children:[S.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Skill Gaps"}),S.jsx("p",{className:"text-slate-900 font-medium",children:a.skill_gaps})]}),S.jsxs(li,{className:"bg-white border-l-4 border-l-purple-500",children:[S.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Counselor's View"}),S.jsx("p",{className:"text-slate-900 font-medium",children:a.counselor_view})]})]}),S.jsx(f6e,{field:i[0]?.role})]}),n==="roadmap"&&S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute left-8 md:left-1/2 top-0 bottom-0 w-0.5 bg-slate-200"}),S.jsx("div",{className:"space-y-12",children:i.map((o,l)=>S.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:`relative flex flex-col md:flex-row gap-8 ${l%2===0?"md:flex-row-reverse":""}`,children:[S.jsx("div",{className:"absolute left-8 md:left-1/2 -translate-x-1/2 w-8 h-8 rounded-full bg-blue-600 border-4 border-white shadow-lg flex items-center justify-center z-10",children:S.jsx("span",{className:"text-xs font-bold text-white",children:o.year})}),S.jsx("div",{className:"w-full md:w-1/2 pl-20 md:pl-0",children:S.jsxs(li,{className:`relative ${l%2===0?"md:mr-12":"md:ml-12"}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:S.jsx(Eb,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900",children:o.title}),S.jsx("p",{className:"text-blue-600 font-medium",children:o.role})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Focus Area"}),S.jsx("p",{className:"text-slate-600 text-sm",children:o.focus})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Skills to Acquire"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills_to_acquire.map((c,u)=>S.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 text-xs rounded-full border border-slate-200",children:c},u))})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Key Milestones"}),S.jsx("ul",{className:"space-y-2",children:o.milestones.map((c,u)=>S.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600",children:[S.jsx(k_,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),c]},u))})]})]})]})})]},l))})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6 pt-12",children:[S.jsxs(li,{className:"bg-red-50 border border-red-100",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(K$,{className:"w-6 h-6 text-red-600"}),S.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Risk Assessment"})]}),S.jsx("p",{className:"text-red-700 mb-4",children:a.risk_assessment})]}),S.jsxs(li,{className:"bg-indigo-50 border border-indigo-100",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(om,{className:"w-6 h-6 text-indigo-600"}),S.jsx("h3",{className:"text-lg font-bold text-indigo-900",children:"Backup Paths"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:a.backup_paths.map((o,l)=>S.jsx("span",{className:"px-3 py-1 bg-white text-indigo-700 font-medium rounded-full shadow-sm",children:o},l))})]})]})]}),n==="skills"&&S.jsxs("div",{className:"space-y-8",children:[S.jsx(d6e,{field:i[0]?.role}),i.length>0&&S.jsx(w5e,{skills:i.flatMap(o=>o.skills_to_acquire)})]}),n==="salary"&&S.jsx("div",{className:"space-y-8",children:S.jsx(c6e,{roadmap:i,salaryProjection:a.salary_projection})}),n==="tools"&&S.jsxs("div",{className:"space-y-8",children:[S.jsx(h6e,{roadmap:i}),S.jsx(x5e,{roadmap:i,analysis:a})]}),S.jsx("div",{className:"flex justify-center pt-8",children:S.jsx(ul,{to:"/simulate",children:S.jsx(Or,{variant:"outline",children:"Start New Simulation"})})})]}),S.jsx(N_e,{userRoadmap:e})]})}const m6e=()=>{const{user:t,isLoaded:e,isSignedIn:n}=y1(),r=nq(),[i,a]=j.useState(1),[s,o]=j.useState(!1),[l,c]=j.useState({education_level:"",grade_or_year:"",stream_or_branch:"",school_name:"",interests:"",goals:"",location:"",budget:""});if(e&&!n)return S.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:S.jsxs(li,{className:"p-8 max-w-md w-full text-center",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please Sign In"}),S.jsx("p",{className:"text-slate-600 mb-6",children:"You need to be signed in to access the onboarding."}),S.jsx("div",{className:"flex justify-center",children:S.jsx(wle,{})})]})});if(!e)return S.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const u=()=>a(i+1),f=async()=>{if(!t){console.error("No user found");return}o(!0);try{const m={clerk_id:t?.id,email:t?.primaryEmailAddress?.emailAddress,name:t?.fullName,...l,onboarding_completed:!0};(await fetch("http://localhost:5000/api/opec/student/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok?r("/opec/chat"):console.error("Failed to save profile")}catch(m){console.error("Error:",m)}finally{o(!1)}};return S.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-2xl w-full",children:[S.jsxs("div",{className:"mb-8 text-center",children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Welcome! Let's build your profile"}),S.jsxs("p",{className:"text-slate-600 mt-2",children:["Step ",i," of 4"]}),S.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full mt-4 overflow-hidden",children:S.jsx(St.div,{className:"h-full bg-blue-600",initial:{width:0},animate:{width:`${i/4*100}%`}})})]}),S.jsxs(li,{className:"p-8",children:[i===1&&S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Education Level"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Are you in school or college?"}),S.jsx("div",{className:"grid gap-3",children:[{val:"school",title:"School Student",desc:"Currently in 10th or 12th grade"},{val:"college",title:"College Student",desc:"Pursuing undergraduate or postgraduate"}].map(m=>S.jsxs("button",{type:"button",onClick:()=>c({...l,education_level:m.val,grade_or_year:"",stream_or_branch:""}),className:`p-4 border rounded-xl text-left transition-all ${l.education_level===m.val?"border-blue-600 bg-blue-50 ring-1 ring-blue-600":"border-slate-200 hover:border-blue-300"}`,children:[S.jsx("h3",{className:"font-semibold text-slate-900",children:m.title}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:m.desc})]},m.val))})]}),l.education_level==="school"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Which grade are you in?"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg",value:l.grade_or_year,onChange:m=>c({...l,grade_or_year:m.target.value}),children:[S.jsx("option",{value:"",children:"Select Grade"}),S.jsx("option",{value:"10th",children:"10th Grade"}),S.jsx("option",{value:"12th",children:"12th Grade"})]})]}),l.education_level==="school"&&l.grade_or_year==="12th"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Stream"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg",value:l.stream_or_branch,onChange:m=>c({...l,stream_or_branch:m.target.value}),children:[S.jsx("option",{value:"",children:"Select Stream"}),S.jsx("option",{value:"PCM",children:"PCM (Physics, Chemistry, Math)"}),S.jsx("option",{value:"PCB",children:"PCB (Physics, Chemistry, Biology)"}),S.jsx("option",{value:"Commerce",children:"Commerce"}),S.jsx("option",{value:"Arts",children:"Arts/Humanities"})]})]}),l.education_level==="college"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Year of Study"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg",value:l.grade_or_year,onChange:m=>c({...l,grade_or_year:m.target.value}),children:[S.jsx("option",{value:"",children:"Select Year"}),S.jsx("option",{value:"1st Year",children:"1st Year"}),S.jsx("option",{value:"2nd Year",children:"2nd Year"}),S.jsx("option",{value:"3rd Year",children:"3rd Year"}),S.jsx("option",{value:"4th Year",children:"4th Year / Final Year"}),S.jsx("option",{value:"Postgraduate",children:"Postgraduate (M.Tech/MBA/etc.)"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Branch / Major"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg",value:l.stream_or_branch,onChange:m=>c({...l,stream_or_branch:m.target.value}),children:[S.jsx("option",{value:"",children:"Select Branch"}),S.jsx("option",{value:"Computer Science",children:"Computer Science / IT"}),S.jsx("option",{value:"Electronics",children:"Electronics & Communication"}),S.jsx("option",{value:"Electrical",children:"Electrical Engineering"}),S.jsx("option",{value:"Mechanical",children:"Mechanical Engineering"}),S.jsx("option",{value:"Civil",children:"Civil Engineering"}),S.jsx("option",{value:"Chemical",children:"Chemical Engineering"}),S.jsx("option",{value:"Biotechnology",children:"Biotechnology"}),S.jsx("option",{value:"Other Engineering",children:"Other Engineering"}),S.jsx("option",{value:"BBA",children:"BBA / Management"}),S.jsx("option",{value:"BCA",children:"BCA"}),S.jsx("option",{value:"Commerce",children:"B.Com / Commerce"}),S.jsx("option",{value:"Arts",children:"BA / Arts"}),S.jsx("option",{value:"Science",children:"B.Sc / Science"}),S.jsx("option",{value:"Other",children:"Other"})]})]})]}),S.jsxs(Or,{className:"w-full mt-4",onClick:u,disabled:!l.education_level||!l.grade_or_year||l.education_level==="college"&&!l.stream_or_branch||l.grade_or_year==="12th"&&!l.stream_or_branch,children:["Next ",S.jsx(id,{className:"w-4 h-4 ml-2"})]})]})]}),i===2&&S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"College / School Details"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:l.education_level==="school"?"School Name":"College / University Name"}),S.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg",placeholder:l.education_level==="school"?"e.g. Delhi Public School":"e.g. IIT Delhi, VIT, Anna University",value:l.school_name,onChange:m=>c({...l,school_name:m.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location (City)"}),S.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg",placeholder:"e.g. Bangalore, Mumbai, Delhi",value:l.location,onChange:m=>c({...l,location:m.target.value})})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(Or,{variant:"secondary",onClick:()=>a(1),className:"w-1/3",children:"Back"}),S.jsxs(Or,{className:"w-2/3",onClick:u,disabled:!l.school_name,children:["Next ",S.jsx(id,{className:"w-4 h-4 ml-2"})]})]})]})]}),i===3&&S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Your Interests & Goals"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"What interests you?"}),S.jsx("textarea",{className:"w-full p-3 border rounded-lg h-24",placeholder:"e.g. AI, Web Development, Medicine, Business, Finance...",value:l.interests,onChange:m=>c({...l,interests:m.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"What are your career goals?"}),S.jsx("textarea",{className:"w-full p-3 border rounded-lg h-24",placeholder:l.education_level==="school"?"e.g. Get into a good engineering college, become a doctor...":"e.g. Get placed in FAANG, crack CAT, pursue higher studies...",value:l.goals,onChange:m=>c({...l,goals:m.target.value})})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(Or,{variant:"secondary",onClick:()=>a(2),className:"w-1/3",children:"Back"}),S.jsxs(Or,{className:"w-2/3",onClick:u,disabled:!l.interests||!l.goals,children:["Next ",S.jsx(id,{className:"w-4 h-4 ml-2"})]})]})]})]}),i===4&&S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Final Details"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("p",{className:"text-slate-600",children:"Almost there! Just one more thing..."}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:l.education_level==="school"?"Budget for college (optional)":"Budget for courses/certifications (optional)"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg",value:l.budget,onChange:m=>c({...l,budget:m.target.value}),children:[S.jsx("option",{value:"",children:"Prefer not to say"}),S.jsx("option",{value:"Under 5L",children:"Under 5 Lakhs"}),S.jsx("option",{value:"5L-10L",children:"5-10 Lakhs"}),S.jsx("option",{value:"10L-20L",children:"10-20 Lakhs"}),S.jsx("option",{value:"Above 20L",children:"Above 20 Lakhs"}),S.jsx("option",{value:"No constraint",children:"No budget constraint"})]})]}),S.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[S.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Your Profile Summary"}),S.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[S.jsxs("li",{children:[" ",S.jsx("strong",{children:l.education_level==="school"?"School":"College"}),": ",l.grade_or_year]}),l.stream_or_branch&&S.jsxs("li",{children:[" ",S.jsx("strong",{children:l.education_level==="school"?"Stream":"Branch"}),": ",l.stream_or_branch]}),S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Location"}),": ",l.location||"Not specified"]}),S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Goals"}),": ",l.goals.substring(0,50),l.goals.length>50?"...":""]})]})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(Or,{variant:"secondary",onClick:()=>a(3),className:"w-1/3",children:"Back"}),S.jsxs(Or,{className:"w-2/3",onClick:f,disabled:s,children:[s?"Starting...":"Start Your Journey",!s&&S.jsx(k_,{className:"w-4 h-4 ml-2"})]})]})]})]})]})]})})},g6e=()=>{const{user:t}=y1(),[e,n]=j.useState(null),[r,i]=j.useState(!0);j.useEffect(()=>{(async()=>{if(t?.id)try{const c=await fetch(`http://localhost:5000/api/opec/chat/stats?clerk_id=${t.id}`);if(c.ok){const u=await c.json();n(u)}}catch(l){console.error("Failed to fetch dashboard stats:",l)}finally{i(!1)}})()},[t?.id]);const a={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return S.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:S.jsxs(St.div,{variants:a,initial:"hidden",animate:"show",className:"max-w-5xl mx-auto space-y-8",children:[S.jsxs(St.div,{variants:s,className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:["Welcome back, ",t?.firstName]}),S.jsx("p",{className:"text-slate-600 mt-2 text-lg",children:"Your journey to career clarity continues."})]}),S.jsxs("div",{className:"flex items-center text-sm text-slate-500 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-200",children:[S.jsx(f3,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Last active: ",e?.last_active?new Date(e.last_active).toLocaleDateString():"New User"]})]}),S.jsx(St.div,{variants:s,children:S.jsxs(li,{className:"p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-indigo-100",children:[S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full blur-3xl -mr-32 -mt-32 opacity-50 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg text-white",children:S.jsx(H$,{className:"w-8 h-8"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Resume Session"}),S.jsxs("p",{className:"text-slate-600 mt-1 max-w-lg",children:["Continue exploring your thoughts. You've sent ",e?.message_count||0," messages so far."]})]})]}),S.jsx(ul,{to:"/opec/chat",children:S.jsxs(Or,{className:"bg-slate-900 text-white hover:bg-slate-800 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all px-8 py-6 rounded-xl text-lg",children:["Continue to Chat",S.jsx(id,{className:"w-5 h-5 ml-2"})]})})]})]})}),S.jsx(St.div,{variants:s,children:S.jsxs(li,{className:"p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-blue-100",children:[S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full blur-3xl -mr-32 -mt-32 opacity-50 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg text-white",children:S.jsx(om,{className:"w-8 h-8"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Build Your Roadmap"}),S.jsx("p",{className:"text-slate-600 mt-1 max-w-lg",children:"Ready to take action? Use our career simulator to create a personalized roadmap with concrete next steps."})]})]}),S.jsx(ul,{to:"/opec/simulate",children:S.jsxs(Or,{className:"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all px-8 py-6 rounded-xl text-lg",children:["Start Simulator",S.jsx(id,{className:"w-5 h-5 ml-2"})]})})]})]})}),S.jsxs(St.div,{variants:s,className:"grid md:grid-cols-3 gap-6",children:[S.jsxs(li,{className:"p-6 relative overflow-hidden bg-white hover:shadow-lg transition-all border-slate-200",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-50 rounded-full blur-2xl -mr-16 -mt-16"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("div",{className:"p-2 bg-green-100 rounded-lg text-green-600",children:S.jsx(g3,{className:"w-5 h-5"})}),e?.clarity_score&&e.clarity_score>0&&S.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.clarity_score>50?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.clarity_score>50?"On Track":"Starting"})]}),S.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:r?"...":`${e?.clarity_score||0}%`}),S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Current Clarity Score"})]})]}),S.jsxs(li,{className:"p-6 relative overflow-hidden bg-white hover:shadow-lg transition-all border-slate-200",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-2xl -mr-16 -mt-16"}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("div",{className:"flex items-center justify-between mb-4",children:S.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:S.jsx(v1,{className:"w-5 h-5"})})}),S.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:r?"...":e?.patterns_count||0}),S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Patterns Identified"})]})]}),S.jsxs(li,{className:"p-6 relative overflow-hidden bg-white hover:shadow-lg transition-all border-slate-200",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-50 rounded-full blur-2xl -mr-16 -mt-16"}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("div",{className:"flex items-center justify-between mb-4",children:S.jsx("div",{className:"p-2 bg-purple-100 rounded-lg text-purple-600",children:S.jsx(om,{className:"w-5 h-5"})})}),S.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:r?"...":e?.message_count||0}),S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Messages Exchanged"})]})]})]}),S.jsx(St.div,{variants:s,children:S.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 rounded-2xl p-8 text-center text-white shadow-xl relative overflow-hidden",children:[S.jsx(Tb,{className:"w-32 h-32 text-white opacity-5 absolute -bottom-8 -left-8 rotate-12"}),S.jsx("p",{className:"text-xl md:text-2xl font-medium italic relative z-10",children:'"The clearer your vision, the easier your decisions becomes."'})]})})]})})};function v6e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const y6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x6e={};function kz(t,e){return(x6e.jsx?b6e:y6e).test(t)}const w6e=/[ \t\n\f\r]/g;function S6e(t){return typeof t=="object"?t.type==="text"?Cz(t.value):!1:Cz(t)}function Cz(t){return t.replace(w6e,"")===""}class X1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}X1.prototype.normal={};X1.prototype.property={};X1.prototype.space=void 0;function Fte(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new X1(n,r,e)}function vN(t){return t.toLowerCase()}class Wo{constructor(e,n){this.attribute=n,this.property=e}}Wo.prototype.attribute="";Wo.prototype.booleanish=!1;Wo.prototype.boolean=!1;Wo.prototype.commaOrSpaceSeparated=!1;Wo.prototype.commaSeparated=!1;Wo.prototype.defined=!1;Wo.prototype.mustUseProperty=!1;Wo.prototype.number=!1;Wo.prototype.overloadedBoolean=!1;Wo.prototype.property="";Wo.prototype.spaceSeparated=!1;Wo.prototype.space=void 0;let _6e=0;const Mn=zm(),oa=zm(),yN=zm(),dt=zm(),Kr=zm(),_0=zm(),ll=zm();function zm(){return 2**++_6e}const bN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mn,booleanish:oa,commaOrSpaceSeparated:ll,commaSeparated:_0,number:dt,overloadedBoolean:yN,spaceSeparated:Kr},Symbol.toStringTag,{value:"Module"})),hA=Object.keys(bN);class vM extends Wo{constructor(e,n,r,i){let a=-1;if(super(e,n),Tz(this,"space",i),typeof r=="number")for(;++a<hA.length;){const s=hA[a];Tz(this,hA[a],(r&bN[s])===bN[s])}}}vM.prototype.defined=!0;function Tz(t,e,n){n&&(t[e]=n)}function kv(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new vM(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[vN(r)]=r,n[vN(a.attribute)]=r}return new X1(e,n,t.space)}const Ute=kv({properties:{ariaActiveDescendant:null,ariaAtomic:oa,ariaAutoComplete:null,ariaBusy:oa,ariaChecked:oa,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:Kr,ariaCurrent:null,ariaDescribedBy:Kr,ariaDetails:null,ariaDisabled:oa,ariaDropEffect:Kr,ariaErrorMessage:null,ariaExpanded:oa,ariaFlowTo:Kr,ariaGrabbed:oa,ariaHasPopup:null,ariaHidden:oa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kr,ariaLevel:dt,ariaLive:null,ariaModal:oa,ariaMultiLine:oa,ariaMultiSelectable:oa,ariaOrientation:null,ariaOwns:Kr,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:oa,ariaReadOnly:oa,ariaRelevant:null,ariaRequired:oa,ariaRoleDescription:Kr,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:oa,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function zte(t,e){return e in t?t[e]:e}function $te(t,e){return zte(t,e.toLowerCase())}const k6e=kv({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_0,acceptCharset:Kr,accessKey:Kr,action:null,allow:null,allowFullScreen:Mn,allowPaymentRequest:Mn,allowUserMedia:Mn,alt:null,as:null,async:Mn,autoCapitalize:null,autoComplete:Kr,autoFocus:Mn,autoPlay:Mn,blocking:Kr,capture:null,charSet:null,checked:Mn,cite:null,className:Kr,cols:dt,colSpan:null,content:null,contentEditable:oa,controls:Mn,controlsList:Kr,coords:dt|_0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mn,defer:Mn,dir:null,dirName:null,disabled:Mn,download:yN,draggable:oa,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mn,formTarget:null,headers:Kr,height:dt,hidden:yN,high:dt,href:null,hrefLang:null,htmlFor:Kr,httpEquiv:Kr,id:null,imageSizes:null,imageSrcSet:null,inert:Mn,inputMode:null,integrity:null,is:null,isMap:Mn,itemId:null,itemProp:Kr,itemRef:Kr,itemScope:Mn,itemType:Kr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:Mn,muted:Mn,name:null,nonce:null,noModule:Mn,noValidate:Mn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mn,optimum:dt,pattern:null,ping:Kr,placeholder:null,playsInline:Mn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mn,referrerPolicy:null,rel:Kr,required:Mn,reversed:Mn,rows:dt,rowSpan:dt,sandbox:Kr,scope:null,scoped:Mn,seamless:Mn,selected:Mn,shadowRootClonable:Mn,shadowRootDelegatesFocus:Mn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:oa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:Mn,useMap:null,value:oa,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kr,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mn,declare:Mn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:Mn,noHref:Mn,noShade:Mn,noWrap:Mn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:oa,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mn,disableRemotePlayback:Mn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:$te}),C6e=kv({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ll,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:Kr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:Mn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_0,g2:_0,glyphName:_0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:ll,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ll,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ll,rev:ll,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ll,requiredFeatures:ll,requiredFonts:ll,requiredFormats:ll,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:ll,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ll,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ll,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zte}),qte=kv({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Hte=kv({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$te}),Wte=kv({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),T6e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},E6e=/[A-Z]/g,Ez=/-[a-z]/g,A6e=/^data[-\w.:]+$/i;function O6e(t,e){const n=vN(e);let r=e,i=Wo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A6e.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Ez,N6e);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Ez.test(a)){let s=a.replace(E6e,P6e);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=vM}return new i(r,e)}function P6e(t){return"-"+t.toLowerCase()}function N6e(t){return t.charAt(1).toUpperCase()}const L6e=Fte([Ute,k6e,qte,Hte,Wte],"html"),yM=Fte([Ute,C6e,qte,Hte,Wte],"svg");function M6e(t){return t.join(" ").trim()}var Ug={},dA,Az;function R6e(){if(Az)return dA;Az=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",u="*",f="",m="comment",p="declaration";function v(x,w){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];w=w||{};var C=1,E=1;function O(H){var J=H.match(e);J&&(C+=J.length);var W=H.lastIndexOf(l);E=~W?H.length-W:E+H.length}function P(){var H={line:C,column:E};return function(J){return J.position=new L(H),U(),J}}function L(H){this.start=H,this.end={line:C,column:E},this.source=w.source}L.prototype.content=x;function B(H){var J=new Error(w.source+":"+C+":"+E+": "+H);if(J.reason=H,J.filename=w.source,J.line=C,J.column=E,J.source=x,!w.silent)throw J}function $(H){var J=H.exec(x);if(J){var W=J[0];return O(W),x=x.slice(W.length),J}}function U(){$(n)}function G(H){var J;for(H=H||[];J=M();)J!==!1&&H.push(J);return H}function M(){var H=P();if(!(c!=x.charAt(0)||u!=x.charAt(1))){for(var J=2;f!=x.charAt(J)&&(u!=x.charAt(J)||c!=x.charAt(J+1));)++J;if(J+=2,f===x.charAt(J-1))return B("End of comment missing");var W=x.slice(2,J-2);return E+=2,O(W),x=x.slice(J),E+=2,H({type:m,comment:W})}}function I(){var H=P(),J=$(r);if(J){if(M(),!$(i))return B("property missing ':'");var W=$(a),Q=H({type:p,property:b(J[0].replace(t,f)),value:W?b(W[0].replace(t,f)):f});return $(s),Q}}function K(){var H=[];G(H);for(var J;J=I();)J!==!1&&(H.push(J),G(H));return H}return U(),K()}function b(x){return x?x.replace(o,f):f}return dA=v,dA}var Oz;function I6e(){if(Oz)return Ug;Oz=1;var t=Ug&&Ug.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.default=n;const e=t(R6e());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),o=typeof i=="function";return s.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;o?i(c,u,l):u&&(a=a||{},a[c]=u)}),a}return Ug}var Ny={},Pz;function j6e(){if(Pz)return Ny;Pz=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||n.test(c)||t.test(c)},s=function(c,u){return u.toUpperCase()},o=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),a(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(e,s))};return Ny.camelCase=l,Ny}var Ly,Nz;function D6e(){if(Nz)return Ly;Nz=1;var t=Ly&&Ly.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(I6e()),n=j6e();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(o,l){o&&l&&(s[(0,n.camelCase)(o,a)]=l)}),s}return r.default=r,Ly=r,Ly}var B6e=D6e();const F6e=sc(B6e),Vte=Gte("end"),bM=Gte("start");function Gte(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function U6e(t){const e=bM(t),n=Vte(t);if(e&&n)return{start:e,end:n}}function mb(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Lz(t.position):"start"in t||"end"in t?Lz(t):"line"in t||"column"in t?xN(t):""}function xN(t){return Mz(t&&t.line)+":"+Mz(t&&t.column)}function Lz(t){return xN(t&&t.start)+"-"+xN(t&&t.end)}function Mz(t){return t&&typeof t=="number"?t:1}class Us extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=mb(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Us.prototype.file="";Us.prototype.name="";Us.prototype.reason="";Us.prototype.message="";Us.prototype.stack="";Us.prototype.column=void 0;Us.prototype.line=void 0;Us.prototype.ancestors=void 0;Us.prototype.cause=void 0;Us.prototype.fatal=void 0;Us.prototype.place=void 0;Us.prototype.ruleId=void 0;Us.prototype.source=void 0;const xM={}.hasOwnProperty,z6e=new Map,$6e=/[A-Z]/g,q6e=new Set(["table","tbody","thead","tfoot","tr"]),H6e=new Set(["td","th"]),Kte="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function W6e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Q6e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Z6e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?yM:L6e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Yte(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function Yte(t,e,n){if(e.type==="element")return V6e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return G6e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Y6e(t,e,n);if(e.type==="mdxjsEsm")return K6e(t,e);if(e.type==="root")return X6e(t,e,n);if(e.type==="text")return J6e(t,e)}function V6e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=yM,t.schema=i),t.ancestors.push(e);const a=Jte(t,e.tagName,!1),s=e8e(t,e);let o=SM(t,e);return q6e.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!S6e(l):!0})),Xte(t,s,a,e),wM(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function G6e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}n1(t,e.position)}function K6e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);n1(t,e.position)}function Y6e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=yM,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:Jte(t,e.name,!0),s=t8e(t,e),o=SM(t,e);return Xte(t,s,a,e),wM(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function X6e(t,e,n){const r={};return wM(r,SM(t,e)),t.create(e,t.Fragment,r,n)}function J6e(t,e){return e.value}function Xte(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function wM(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Z6e(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function Q6e(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=bM(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function e8e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&xM.call(e.properties,i)){const a=n8e(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&H6e.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function t8e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else n1(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else n1(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function SM(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:z6e;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=Yte(t,a,s);o!==void 0&&n.push(o)}return n}function n8e(t,e,n){const r=O6e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?v6e(n):M6e(n)),r.property==="style"){let i=typeof n=="object"?n:r8e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=i8e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?T6e[r.property]||r.property:r.attribute,n]}}function r8e(t,e){try{return F6e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Us("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Kte+"#cannot-parse-style-attribute",i}}function Jte(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=kz(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=kz(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return xM.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);n1(t)}function n1(t,e){const n=new Us("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Kte+"#cannot-handle-mdx-estrees-without-createevaluater",n}function i8e(t){const e={};let n;for(n in t)xM.call(t,n)&&(e[a8e(n)]=t[n]);return e}function a8e(t){let e=t.replace($6e,s8e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function s8e(t){return"-"+t.toLowerCase()}const fA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},o8e={};function l8e(t,e){const n=o8e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Zte(t,r,i)}function Zte(t,e,n){if(c8e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Rz(t.children,e,n)}return Array.isArray(t)?Rz(t,e,n):""}function Rz(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Zte(t[i],e,n);return r.join("")}function c8e(t){return!!(t&&typeof t=="object")}const Iz=document.createElement("i");function _M(t){const e="&"+t+";";Iz.innerHTML=e;const n=Iz.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function eh(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Kl(t,e){return t.length>0?(eh(t,t.length,0,e),t):e}const jz={}.hasOwnProperty;function u8e(t){const e={};let n=-1;for(;++n<t.length;)h8e(e,t[n]);return e}function h8e(t,e){let n;for(n in e){const i=(jz.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){jz.call(i,s)||(i[s]=[]);const o=a[s];d8e(i[s],Array.isArray(o)?o:o?[o]:[])}}}function d8e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);eh(t,0,0,r)}function Qte(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function k0(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hu=Qf(/[A-Za-z]/),bl=Qf(/[\dA-Za-z]/),f8e=Qf(/[#-'*+\--9=?A-Z^-~]/);function wN(t){return t!==null&&(t<32||t===127)}const SN=Qf(/\d/),p8e=Qf(/[\dA-Fa-f]/),m8e=Qf(/[!-/:-@[-`{-~]/);function _n(t){return t!==null&&t<-2}function zo(t){return t!==null&&(t<0||t===32)}function xr(t){return t===-2||t===-1||t===32}const g8e=Qf(new RegExp("\\p{P}|\\p{S}","u")),v8e=Qf(/\s/);function Qf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Cv(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&bl(t.charCodeAt(n+1))&&bl(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Xr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return xr(l)?(t.enter(n),o(l)):e(l)}function o(l){return xr(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const y8e={tokenize:b8e};function b8e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Xr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return _n(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const x8e={tokenize:w8e},Dz={tokenize:S8e};function w8e(t){const e=this,n=[];let r=0,i,a,s;return o;function o(E){if(r<n.length){const O=n[r];return e.containerState=O[1],t.attempt(O[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const O=e.events.length;let P=O,L;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){L=e.events[P][1].end;break}w(r);let B=O;for(;B<e.events.length;)e.events[B][1].end={...L},B++;return eh(e.events,P+1,0,e.events.slice(O)),e.events.length=B,c(E)}return o(E)}function c(E){if(r===n.length){if(!i)return m(E);if(i.currentConstruct&&i.currentConstruct.concrete)return v(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Dz,u,f)(E)}function u(E){return i&&C(),w(r),m(E)}function f(E){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,v(E)}function m(E){return e.containerState={},t.attempt(Dz,p,v)(E)}function p(E){return r++,n.push([e.currentConstruct,e.containerState]),m(E)}function v(E){if(E===null){i&&C(),w(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),b(E)}function b(E){if(E===null){x(t.exit("chunkFlow"),!0),w(0),t.consume(E);return}return _n(E)?(t.consume(E),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(E),b)}function x(E,O){const P=e.sliceStream(E);if(O&&P.push(null),E.previous=a,a&&(a.next=E),a=E,i.defineSkip(E.start),i.write(P),e.parser.lazy[E.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<s&&(!i.events[L][1].end||i.events[L][1].end.offset>s))return;const B=e.events.length;let $=B,U,G;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(U){G=e.events[$][1].end;break}U=!0}for(w(r),L=B;L<e.events.length;)e.events[L][1].end={...G},L++;eh(e.events,$+1,0,e.events.slice(B)),e.events.length=L}}function w(E){let O=n.length;for(;O-- >E;){const P=n[O];e.containerState=P[1],P[0].exit.call(e,t)}n.length=E}function C(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function S8e(t,e,n){return Xr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bz(t){if(t===null||zo(t)||v8e(t))return 1;if(g8e(t))return 2}function kM(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const _N={name:"attention",resolveAll:_8e,tokenize:k8e};function _8e(t,e){let n=-1,r,i,a,s,o,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},m={...t[n][1].start};Fz(f,-l),Fz(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Kl(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Kl(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Kl(c,kM(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Kl(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Kl(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,eh(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function k8e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Bz(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),u=Bz(l),f=!u||u===2&&i||n.includes(l),m=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!m)),c._close=!!(a===42?m:m&&(u||!f)),e(l)}}function Fz(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const C8e={name:"autolink",tokenize:T8e};function T8e(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Hu(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||bl(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||bl(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||wN(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):f8e(p)?(t.consume(p),c):n(p)}function u(p){return bl(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):m(p)}function m(p){if((p===45||bl(p))&&r++<63){const v=p===45?m:f;return t.consume(p),v}return n(p)}}const iC={partial:!0,tokenize:E8e};function E8e(t,e,n){return r;function r(a){return xr(a)?Xr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||_n(a)?e(a):n(a)}}const ene={continuation:{tokenize:O8e},exit:P8e,name:"blockQuote",tokenize:A8e};function A8e(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return xr(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function O8e(t,e,n){const r=this;return i;function i(s){return xr(s)?Xr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(ene,e,n)(s)}}function P8e(t){t.exit("blockQuote")}const tne={name:"characterEscape",tokenize:N8e};function N8e(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return m8e(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const nne={name:"characterReference",tokenize:L8e};function L8e(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=bl,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=p8e,u):(t.enter("characterReferenceValue"),a=7,s=SN,u(f))}function u(f){if(f===59&&i){const m=t.exit("characterReferenceValue");return s===bl&&!_M(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),u):n(f)}}const Uz={partial:!0,tokenize:R8e},zz={concrete:!0,name:"codeFenced",tokenize:M8e};function M8e(t,e,n){const r=this,i={partial:!0,tokenize:P};let a=0,s=0,o;return l;function l(L){return c(L)}function c(L){const B=r.events[r.events.length-1];return a=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(L)}function u(L){return L===o?(s++,t.consume(L),u):s<3?n(L):(t.exit("codeFencedFenceSequence"),xr(L)?Xr(t,f,"whitespace")(L):f(L))}function f(L){return L===null||_n(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(Uz,b,O)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(L))}function m(L){return L===null||_n(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(L)):xr(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xr(t,p,"whitespace")(L)):L===96&&L===o?n(L):(t.consume(L),m)}function p(L){return L===null||_n(L)?f(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(L))}function v(L){return L===null||_n(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(L)):L===96&&L===o?n(L):(t.consume(L),v)}function b(L){return t.attempt(i,O,x)(L)}function x(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),w}function w(L){return a>0&&xr(L)?Xr(t,C,"linePrefix",a+1)(L):C(L)}function C(L){return L===null||_n(L)?t.check(Uz,b,O)(L):(t.enter("codeFlowValue"),E(L))}function E(L){return L===null||_n(L)?(t.exit("codeFlowValue"),C(L)):(t.consume(L),E)}function O(L){return t.exit("codeFenced"),e(L)}function P(L,B,$){let U=0;return G;function G(J){return L.enter("lineEnding"),L.consume(J),L.exit("lineEnding"),M}function M(J){return L.enter("codeFencedFence"),xr(J)?Xr(L,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):I(J)}function I(J){return J===o?(L.enter("codeFencedFenceSequence"),K(J)):$(J)}function K(J){return J===o?(U++,L.consume(J),K):U>=s?(L.exit("codeFencedFenceSequence"),xr(J)?Xr(L,H,"whitespace")(J):H(J)):$(J)}function H(J){return J===null||_n(J)?(L.exit("codeFencedFence"),B(J)):$(J)}}}function R8e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const pA={name:"codeIndented",tokenize:j8e},I8e={partial:!0,tokenize:D8e};function j8e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Xr(t,a,"linePrefix",5)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):_n(c)?t.attempt(I8e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||_n(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function D8e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):_n(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Xr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):_n(s)?i(s):n(s)}}const B8e={name:"codeText",previous:U8e,resolve:F8e,tokenize:z8e};function F8e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function U8e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function z8e(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,u(f)):_n(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||_n(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class $8e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&My(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),My(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),My(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);My(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);My(this.left,n.reverse())}}}function My(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function rne(t){const e={};let n=-1,r,i,a,s,o,l,c;const u=new $8e(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,q8e(u,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},o=u.slice(i,n),o.unshift(r),u.splice(i,n-i+1,o))}}return eh(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function q8e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,m=-1,p=n,v=0,b=0;const x=[b];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(b=m+1,x.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),m=x.length;m--;){const w=o.slice(x[m],x[m+1]),C=a.pop();l.push([C,C+w.length-1]),t.splice(C,2,w)}for(l.reverse(),m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const H8e={resolve:V8e,tokenize:G8e},W8e={partial:!0,tokenize:K8e};function V8e(t){return rne(t),t}function G8e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):_n(o)?t.check(W8e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function K8e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Xr(t,a,"linePrefix")}function a(s){if(s===null||_n(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function ine(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(w){return w===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(w),t.exit(a),m):w===null||w===32||w===41||wN(w)?n(w):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),b(w))}function m(w){return w===62?(t.enter(a),t.consume(w),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(t.exit("chunkString"),t.exit(o),m(w)):w===null||w===60||_n(w)?n(w):(t.consume(w),w===92?v:p)}function v(w){return w===60||w===62||w===92?(t.consume(w),p):p(w)}function b(w){return!u&&(w===null||w===41||zo(w))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(w)):u<c&&w===40?(t.consume(w),u++,b):w===41?(t.consume(w),u--,b):w===null||w===32||w===40||wN(w)?n(w):(t.consume(w),w===92?x:b)}function x(w){return w===40||w===41||w===92?(t.consume(w),b):b(w)}}function ane(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),u}function u(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):_n(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||_n(p)||o++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!xr(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function sne(t,e,n,r,i,a){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),c(m))}function c(m){return m===s?(t.exit(a),l(s)):m===null?n(m):_n(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Xr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===s||m===null||_n(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?f:u)}function f(m){return m===s||m===92?(t.consume(m),u):u(m)}}function gb(t,e){let n;return r;function r(i){return _n(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):xr(i)?Xr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Y8e={name:"definition",tokenize:J8e},X8e={partial:!0,tokenize:Z8e};function J8e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return ane.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=k0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return zo(p)?gb(t,c)(p):c(p)}function c(p){return ine(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(X8e,f,f)(p)}function f(p){return xr(p)?Xr(t,m,"whitespace")(p):m(p)}function m(p){return p===null||_n(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function Z8e(t,e,n){return r;function r(o){return zo(o)?gb(t,i)(o):n(o)}function i(o){return sne(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return xr(o)?Xr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||_n(o)?e(o):n(o)}}const Q8e={name:"hardBreakEscape",tokenize:eBe};function eBe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return _n(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const tBe={name:"headingAtx",resolve:nBe,tokenize:rBe};function nBe(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},eh(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function rBe(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),a(u)}function a(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||zo(u)?(t.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||_n(u)?(t.exit("atxHeading"),e(u)):xr(u)?Xr(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||zo(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const iBe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$z=["pre","script","style","textarea"],aBe={concrete:!0,name:"htmlFlow",resolveTo:lBe,tokenize:cBe},sBe={partial:!0,tokenize:hBe},oBe={partial:!0,tokenize:uBe};function lBe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function cBe(t,e,n){const r=this;let i,a,s,o,l;return c;function c(F){return u(F)}function u(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),f}function f(F){return F===33?(t.consume(F),m):F===47?(t.consume(F),a=!0,b):F===63?(t.consume(F),i=3,r.interrupt?e:Y):Hu(F)?(t.consume(F),s=String.fromCharCode(F),x):n(F)}function m(F){return F===45?(t.consume(F),i=2,p):F===91?(t.consume(F),i=5,o=0,v):Hu(F)?(t.consume(F),i=4,r.interrupt?e:Y):n(F)}function p(F){return F===45?(t.consume(F),r.interrupt?e:Y):n(F)}function v(F){const ae="CDATA[";return F===ae.charCodeAt(o++)?(t.consume(F),o===ae.length?r.interrupt?e:I:v):n(F)}function b(F){return Hu(F)?(t.consume(F),s=String.fromCharCode(F),x):n(F)}function x(F){if(F===null||F===47||F===62||zo(F)){const ae=F===47,le=s.toLowerCase();return!ae&&!a&&$z.includes(le)?(i=1,r.interrupt?e(F):I(F)):iBe.includes(s.toLowerCase())?(i=6,ae?(t.consume(F),w):r.interrupt?e(F):I(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):a?C(F):E(F))}return F===45||bl(F)?(t.consume(F),s+=String.fromCharCode(F),x):n(F)}function w(F){return F===62?(t.consume(F),r.interrupt?e:I):n(F)}function C(F){return xr(F)?(t.consume(F),C):G(F)}function E(F){return F===47?(t.consume(F),G):F===58||F===95||Hu(F)?(t.consume(F),O):xr(F)?(t.consume(F),E):G(F)}function O(F){return F===45||F===46||F===58||F===95||bl(F)?(t.consume(F),O):P(F)}function P(F){return F===61?(t.consume(F),L):xr(F)?(t.consume(F),P):E(F)}function L(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),l=F,B):xr(F)?(t.consume(F),L):$(F)}function B(F){return F===l?(t.consume(F),l=null,U):F===null||_n(F)?n(F):(t.consume(F),B)}function $(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||zo(F)?P(F):(t.consume(F),$)}function U(F){return F===47||F===62||xr(F)?E(F):n(F)}function G(F){return F===62?(t.consume(F),M):n(F)}function M(F){return F===null||_n(F)?I(F):xr(F)?(t.consume(F),M):n(F)}function I(F){return F===45&&i===2?(t.consume(F),W):F===60&&i===1?(t.consume(F),Q):F===62&&i===4?(t.consume(F),ye):F===63&&i===3?(t.consume(F),Y):F===93&&i===5?(t.consume(F),he):_n(F)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(sBe,V,K)(F)):F===null||_n(F)?(t.exit("htmlFlowData"),K(F)):(t.consume(F),I)}function K(F){return t.check(oBe,H,V)(F)}function H(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),J}function J(F){return F===null||_n(F)?K(F):(t.enter("htmlFlowData"),I(F))}function W(F){return F===45?(t.consume(F),Y):I(F)}function Q(F){return F===47?(t.consume(F),s="",ee):I(F)}function ee(F){if(F===62){const ae=s.toLowerCase();return $z.includes(ae)?(t.consume(F),ye):I(F)}return Hu(F)&&s.length<8?(t.consume(F),s+=String.fromCharCode(F),ee):I(F)}function he(F){return F===93?(t.consume(F),Y):I(F)}function Y(F){return F===62?(t.consume(F),ye):F===45&&i===2?(t.consume(F),Y):I(F)}function ye(F){return F===null||_n(F)?(t.exit("htmlFlowData"),V(F)):(t.consume(F),ye)}function V(F){return t.exit("htmlFlow"),e(F)}}function uBe(t,e,n){const r=this;return i;function i(s){return _n(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function hBe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(iC,e,n)}}const dBe={name:"htmlText",tokenize:fBe};function fBe(t,e,n){const r=this;let i,a,s;return o;function o(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),l}function l(Y){return Y===33?(t.consume(Y),c):Y===47?(t.consume(Y),P):Y===63?(t.consume(Y),E):Hu(Y)?(t.consume(Y),$):n(Y)}function c(Y){return Y===45?(t.consume(Y),u):Y===91?(t.consume(Y),a=0,v):Hu(Y)?(t.consume(Y),C):n(Y)}function u(Y){return Y===45?(t.consume(Y),p):n(Y)}function f(Y){return Y===null?n(Y):Y===45?(t.consume(Y),m):_n(Y)?(s=f,Q(Y)):(t.consume(Y),f)}function m(Y){return Y===45?(t.consume(Y),p):f(Y)}function p(Y){return Y===62?W(Y):Y===45?m(Y):f(Y)}function v(Y){const ye="CDATA[";return Y===ye.charCodeAt(a++)?(t.consume(Y),a===ye.length?b:v):n(Y)}function b(Y){return Y===null?n(Y):Y===93?(t.consume(Y),x):_n(Y)?(s=b,Q(Y)):(t.consume(Y),b)}function x(Y){return Y===93?(t.consume(Y),w):b(Y)}function w(Y){return Y===62?W(Y):Y===93?(t.consume(Y),w):b(Y)}function C(Y){return Y===null||Y===62?W(Y):_n(Y)?(s=C,Q(Y)):(t.consume(Y),C)}function E(Y){return Y===null?n(Y):Y===63?(t.consume(Y),O):_n(Y)?(s=E,Q(Y)):(t.consume(Y),E)}function O(Y){return Y===62?W(Y):E(Y)}function P(Y){return Hu(Y)?(t.consume(Y),L):n(Y)}function L(Y){return Y===45||bl(Y)?(t.consume(Y),L):B(Y)}function B(Y){return _n(Y)?(s=B,Q(Y)):xr(Y)?(t.consume(Y),B):W(Y)}function $(Y){return Y===45||bl(Y)?(t.consume(Y),$):Y===47||Y===62||zo(Y)?U(Y):n(Y)}function U(Y){return Y===47?(t.consume(Y),W):Y===58||Y===95||Hu(Y)?(t.consume(Y),G):_n(Y)?(s=U,Q(Y)):xr(Y)?(t.consume(Y),U):W(Y)}function G(Y){return Y===45||Y===46||Y===58||Y===95||bl(Y)?(t.consume(Y),G):M(Y)}function M(Y){return Y===61?(t.consume(Y),I):_n(Y)?(s=M,Q(Y)):xr(Y)?(t.consume(Y),M):U(Y)}function I(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,K):_n(Y)?(s=I,Q(Y)):xr(Y)?(t.consume(Y),I):(t.consume(Y),H)}function K(Y){return Y===i?(t.consume(Y),i=void 0,J):Y===null?n(Y):_n(Y)?(s=K,Q(Y)):(t.consume(Y),K)}function H(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||zo(Y)?U(Y):(t.consume(Y),H)}function J(Y){return Y===47||Y===62||zo(Y)?U(Y):n(Y)}function W(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function Q(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),ee}function ee(Y){return xr(Y)?Xr(t,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):he(Y)}function he(Y){return t.enter("htmlTextData"),s(Y)}}const CM={name:"labelEnd",resolveAll:vBe,resolveTo:yBe,tokenize:bBe},pBe={tokenize:xBe},mBe={tokenize:wBe},gBe={tokenize:SBe};function vBe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&eh(t,0,t.length,n),t}function yBe(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},u={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Kl(o,t.slice(a+1,a+r+3)),o=Kl(o,[["enter",u,e]]),o=Kl(o,kM(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Kl(o,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),o=Kl(o,t.slice(s+1)),o=Kl(o,[["exit",l,e]]),eh(t,a,t.length,o),t}function bBe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(m){return a?a._inactive?f(m):(s=r.parser.defined.includes(k0(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(pBe,u,s?u:f)(m):m===91?t.attempt(mBe,u,s?c:f)(m):s?u(m):f(m)}function c(m){return t.attempt(gBe,u,f)(m)}function u(m){return e(m)}function f(m){return a._balanced=!0,n(m)}}function xBe(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return zo(f)?gb(t,a)(f):a(f)}function a(f){return f===41?u(f):ine(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return zo(f)?gb(t,l)(f):u(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?sne(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return zo(f)?gb(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function wBe(t,e,n){const r=this;return i;function i(o){return ane.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(k0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function SBe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const _Be={name:"labelStartImage",resolveAll:CM.resolveAll,tokenize:kBe};function kBe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const CBe={name:"labelStartLink",resolveAll:CM.resolveAll,tokenize:TBe};function TBe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const mA={name:"lineEnding",tokenize:EBe};function EBe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xr(t,e,"linePrefix")}}const m2={name:"thematicBreak",tokenize:ABe};function ABe(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_n(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),xr(c)?Xr(t,o,"whitespace")(c):o(c))}}const Ro={continuation:{tokenize:LBe},exit:RBe,name:"list",tokenize:NBe},OBe={partial:!0,tokenize:IBe},PBe={partial:!0,tokenize:MBe};function NBe(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const v=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:SN(p)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(m2,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return SN(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(iC,r.interrupt?n:u,t.attempt(OBe,m,f))}function u(p){return r.containerState.initialBlankLine=!0,a++,m(p)}function f(p){return xr(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function LBe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(iC,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!xr(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(PBe,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xr(t,t.attempt(Ro,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function MBe(t,e,n){const r=this;return Xr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function RBe(t){t.exit(this.containerState.type)}function IBe(t,e,n){const r=this;return Xr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const qz={name:"setextUnderline",resolveTo:jBe,tokenize:DBe};function jBe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function DBe(t,e,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),xr(c)?Xr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_n(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const BBe={tokenize:FBe};function FBe(t){const e=this,n=t.attempt(iC,r,t.attempt(this.parser.constructs.flowInitial,i,Xr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(H8e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const UBe={resolveAll:lne()},zBe=one("string"),$Be=one("text");function one(t){return{resolveAll:lne(t==="text"?qBe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function lne(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function qBe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const HBe={42:Ro,43:Ro,45:Ro,48:Ro,49:Ro,50:Ro,51:Ro,52:Ro,53:Ro,54:Ro,55:Ro,56:Ro,57:Ro,62:ene},WBe={91:Y8e},VBe={[-2]:pA,[-1]:pA,32:pA},GBe={35:tBe,42:m2,45:[qz,m2],60:aBe,61:qz,95:m2,96:zz,126:zz},KBe={38:nne,92:tne},YBe={[-5]:mA,[-4]:mA,[-3]:mA,33:_Be,38:nne,42:_N,60:[C8e,dBe],91:CBe,92:[Q8e,tne],93:CM,95:_N,96:B8e},XBe={null:[_N,UBe]},JBe={null:[42,95]},ZBe={null:[]},QBe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:JBe,contentInitial:WBe,disable:ZBe,document:HBe,flow:GBe,flowInitial:VBe,insideSpan:XBe,string:KBe,text:YBe},Symbol.toStringTag,{value:"Module"}));function eFe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:B(P),check:B(L),consume:C,enter:E,exit:O,interrupt:B(L,{interrupt:!0})},c={code:null,containerState:{},defineSkip:b,events:[],now:v,parser:t,previous:null,sliceSerialize:m,sliceStream:p,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(M){return s=Kl(s,M),x(),s[s.length-1]!==null?[]:($(e,0),c.events=kM(a,c.events,c),c.events)}function m(M,I){return nFe(p(M),I)}function p(M){return tFe(s,M)}function v(){const{_bufferIndex:M,_index:I,line:K,column:H,offset:J}=r;return{_bufferIndex:M,_index:I,line:K,column:H,offset:J}}function b(M){i[M.line]=M.column,G()}function x(){let M;for(;r._index<s.length;){const I=s[r._index];if(typeof I=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<I.length;)w(I.charCodeAt(r._bufferIndex));else w(I)}}function w(M){u=u(M)}function C(M){_n(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,G()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function E(M,I){const K=I||{};return K.type=M,K.start=v(),c.events.push(["enter",K,c]),o.push(K),K}function O(M){const I=o.pop();return I.end=v(),c.events.push(["exit",I,c]),I}function P(M,I){$(M,I.from)}function L(M,I){I.restore()}function B(M,I){return K;function K(H,J,W){let Q,ee,he,Y;return Array.isArray(H)?V(H):"tokenize"in H?V([H]):ye(H);function ye(pe){return xe;function xe(Oe){const fe=Oe!==null&&pe[Oe],Ce=Oe!==null&&pe.null,Fe=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return V(Fe)(Oe)}}function V(pe){return Q=pe,ee=0,pe.length===0?W:F(pe[ee])}function F(pe){return xe;function xe(Oe){return Y=U(),he=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?le():pe.tokenize.call(I?Object.assign(Object.create(c),I):c,l,ae,le)(Oe)}}function ae(pe){return M(he,Y),J}function le(pe){return Y.restore(),++ee<Q.length?F(Q[ee]):W}}}function $(M,I){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&eh(c.events,I,c.events.length-I,M.resolve(c.events.slice(I),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function U(){const M=v(),I=c.previous,K=c.currentConstruct,H=c.events.length,J=Array.from(o);return{from:H,restore:W};function W(){r=M,c.previous=I,c.currentConstruct=K,c.events.length=H,o=J,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function tFe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function nFe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function rFe(t){const r={constructs:u8e([QBe,...(t||{}).extensions||[]]),content:i(y8e),defined:[],document:i(x8e),flow:i(BBe),lazy:{},string:i(zBe),text:i($Be)};return r;function i(a){return s;function s(o){return eFe(r,a,o)}}}function iFe(t){for(;!rne(t););return t}const Hz=/[\0\t\n\r]/g;function aFe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,u,f,m,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(Hz.lastIndex=f,c=Hz.exec(a),m=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(m),!c){e=a.slice(f);break}if(p===10&&f===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<m&&(l.push(a.slice(f,m)),t+=m-f),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const sFe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oFe(t){return t.replace(sFe,lFe)}function lFe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Qte(n.slice(a?2:1),a?16:10)}return _M(n)||t}const cne={}.hasOwnProperty;function cFe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),uFe(n)(iFe(rFe(n).document().write(aFe()(t,e,!0))))}function uFe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Xe),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(se),blockQuote:a(Ce),characterEscape:U,characterReference:U,codeFenced:a(Fe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Fe,s),codeText:a(Te,s),codeTextData:U,data:U,codeFlowValue:U,definition:a(nt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(rt),hardBreakEscape:a(lt),hardBreakTrailing:a(lt),htmlFlow:a(Xt,s),htmlFlowData:U,htmlText:a(Xt,s),htmlTextData:U,image:a(Tt),label:s,link:a(Xe),listItem:a(xt),listItemValue:m,listOrdered:a(Lt,f),listUnordered:a(Lt),paragraph:a(Gt),reference:F,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(se),strong:a(Ht),thematicBreak:a(mt)},exit:{atxHeading:l(),atxHeadingSequence:P,autolink:l(),autolinkEmail:fe,autolinkProtocol:Oe,blockQuote:l(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:pe,characterReference:xe,codeFenced:l(x),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:G,codeIndented:l(w),codeText:l(J),codeTextData:G,data:G,definition:l(),definitionDestinationString:O,definitionLabelString:C,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(K),htmlFlowData:G,htmlText:l(H),htmlTextData:G,image:l(Q),label:he,labelText:ee,lineEnding:M,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ae,resourceDestinationString:Y,resourceTitleString:ye,resource:V,setextHeading:l($),setextHeadingLineSequence:B,setextHeadingText:L,strong:l(),thematicBreak:l()}};une(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(_e){let De={type:"root",children:[]};const et={stack:[De],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:u,data:n},tt=[];let pt=-1;for(;++pt<_e.length;)if(_e[pt][1].type==="listOrdered"||_e[pt][1].type==="listUnordered")if(_e[pt][0]==="enter")tt.push(pt);else{const ht=tt.pop();pt=i(_e,ht,pt)}for(pt=-1;++pt<_e.length;){const ht=e[_e[pt][0]];cne.call(ht,_e[pt][1].type)&&ht[_e[pt][1].type].call(Object.assign({sliceSerialize:_e[pt][2].sliceSerialize},et),_e[pt][1])}if(et.tokenStack.length>0){const ht=et.tokenStack[et.tokenStack.length-1];(ht[1]||Wz).call(et,void 0,ht[0])}for(De.position={start:df(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:df(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<e.transforms.length;)De=e.transforms[pt](De)||De;return De}function i(_e,De,et){let tt=De-1,pt=-1,ht=!1,Pn,Wt,At,It;for(;++tt<=et;){const Jt=_e[tt];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?pt++:pt--,It=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(Pn&&!It&&!pt&&!At&&(At=tt),It=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:It=void 0}if(!pt&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||pt===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(Pn){let Ot=tt;for(Wt=void 0;Ot--;){const Nn=_e[Ot];if(Nn[1].type==="lineEnding"||Nn[1].type==="lineEndingBlank"){if(Nn[0]==="exit")continue;Wt&&(_e[Wt][1].type="lineEndingBlank",ht=!0),Nn[1].type="lineEnding",Wt=Ot}else if(!(Nn[1].type==="linePrefix"||Nn[1].type==="blockQuotePrefix"||Nn[1].type==="blockQuotePrefixWhitespace"||Nn[1].type==="blockQuoteMarker"||Nn[1].type==="listItemIndent"))break}At&&(!Wt||At<Wt)&&(Pn._spread=!0),Pn.end=Object.assign({},Wt?_e[Wt][1].start:Jt[1].end),_e.splice(Wt||tt,0,["exit",Pn,Jt[2]]),tt++,et++}if(Jt[1].type==="listItemPrefix"){const Ot={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};Pn=Ot,_e.splice(tt,0,["enter",Ot,Jt[2]]),tt++,et++,At=void 0,It=!0}}}return _e[De][1]._spread=ht,et}function a(_e,De){return et;function et(tt){o.call(this,_e(tt),tt),De&&De.call(this,tt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(_e,De,et){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([De,et||void 0]),_e.position={start:df(De.start),end:void 0}}function l(_e){return De;function De(et){_e&&_e.call(this,et),c.call(this,et)}}function c(_e,De){const et=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==_e.type&&(De?De.call(this,_e,tt[0]):(tt[1]||Wz).call(this,_e,tt[0]));else throw new Error("Cannot close `"+_e.type+"` ("+mb({start:_e.start,end:_e.end})+"): its not open");et.position.end=df(_e.end)}function u(){return l8e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(_e){if(this.data.expectingFirstListItemValue){const De=this.stack[this.stack.length-2];De.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.lang=_e}function v(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.meta=_e}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.value=_e.replace(/(\r?\n|\r)$/g,"")}function C(_e){const De=this.resume(),et=this.stack[this.stack.length-1];et.label=De,et.identifier=k0(this.sliceSerialize(_e)).toLowerCase()}function E(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.title=_e}function O(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.url=_e}function P(_e){const De=this.stack[this.stack.length-1];if(!De.depth){const et=this.sliceSerialize(_e).length;De.depth=et}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function B(_e){const De=this.stack[this.stack.length-1];De.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function U(_e){const et=this.stack[this.stack.length-1].children;let tt=et[et.length-1];(!tt||tt.type!=="text")&&(tt=st(),tt.position={start:df(_e.start),end:void 0},et.push(tt)),this.stack.push(tt)}function G(_e){const De=this.stack.pop();De.value+=this.sliceSerialize(_e),De.position.end=df(_e.end)}function M(_e){const De=this.stack[this.stack.length-1];if(this.data.atHardBreak){const et=De.children[De.children.length-1];et.position.end=df(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(De.type)&&(U.call(this,_e),G.call(this,_e))}function I(){this.data.atHardBreak=!0}function K(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.value=_e}function H(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.value=_e}function J(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.value=_e}function W(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=De,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function Q(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=De,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function ee(_e){const De=this.sliceSerialize(_e),et=this.stack[this.stack.length-2];et.label=oFe(De),et.identifier=k0(De).toLowerCase()}function he(){const _e=this.stack[this.stack.length-1],De=this.resume(),et=this.stack[this.stack.length-1];if(this.data.inReference=!0,et.type==="link"){const tt=_e.children;et.children=tt}else et.alt=De}function Y(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.url=_e}function ye(){const _e=this.resume(),De=this.stack[this.stack.length-1];De.title=_e}function V(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ae(_e){const De=this.resume(),et=this.stack[this.stack.length-1];et.label=De,et.identifier=k0(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function le(_e){this.data.characterReferenceType=_e.type}function pe(_e){const De=this.sliceSerialize(_e),et=this.data.characterReferenceType;let tt;et?(tt=Qte(De,et==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=_M(De);const pt=this.stack[this.stack.length-1];pt.value+=tt}function xe(_e){const De=this.stack.pop();De.position.end=df(_e.end)}function Oe(_e){G.call(this,_e);const De=this.stack[this.stack.length-1];De.url=this.sliceSerialize(_e)}function fe(_e){G.call(this,_e);const De=this.stack[this.stack.length-1];De.url="mailto:"+this.sliceSerialize(_e)}function Ce(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rt(){return{type:"emphasis",children:[]}}function se(){return{type:"heading",depth:0,children:[]}}function lt(){return{type:"break"}}function Xt(){return{type:"html",value:""}}function Tt(){return{type:"image",title:null,url:"",alt:null}}function Xe(){return{type:"link",title:null,url:"",children:[]}}function Lt(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function xt(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function Ht(){return{type:"strong",children:[]}}function st(){return{type:"text",value:""}}function mt(){return{type:"thematicBreak"}}}function df(t){return{line:t.line,column:t.column,offset:t.offset}}function une(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?une(t,r):hFe(t,r)}}function hFe(t,e){let n;for(n in e)if(cne.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Wz(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mb({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mb({start:e.start,end:e.end})+") is still open")}function dFe(t){const e=this;e.parser=n;function n(r){return cFe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function fFe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function pFe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function mFe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function gFe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vFe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yFe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Cv(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function bFe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xFe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function hne(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function wFe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hne(t,e);const i={src:Cv(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function SFe(t,e){const n={src:Cv(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function _Fe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kFe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hne(t,e);const i={href:Cv(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function CFe(t,e){const n={href:Cv(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function TFe(t,e,n){const r=t.all(e),i=n?EFe(n):dne(e),a={},s=[];if(typeof e.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function EFe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dne(n[r])}return e}function dne(t){const e=t.spread;return e??t.children.length>1}function AFe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function OFe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PFe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function NFe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LFe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=bM(e.children[1]),l=Vte(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function MFe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],m={},p=s?s[l]:void 0;p&&(m.align=p);let v={type:"element",tagName:a,properties:m,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(f,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function RFe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Vz=9,Gz=32;function IFe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(Kz(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(Kz(e.slice(i),i>0,!1)),a.join("")}function Kz(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===Vz||a===Gz;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===Vz||a===Gz;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function jFe(t,e){const n={type:"text",value:IFe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function DFe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const BFe={blockquote:fFe,break:pFe,code:mFe,delete:gFe,emphasis:vFe,footnoteReference:yFe,heading:bFe,html:xFe,imageReference:wFe,image:SFe,inlineCode:_Fe,linkReference:kFe,link:CFe,listItem:TFe,list:AFe,paragraph:OFe,root:PFe,strong:NFe,table:LFe,tableCell:RFe,tableRow:MFe,text:jFe,thematicBreak:DFe,toml:Nw,yaml:Nw,definition:Nw,footnoteDefinition:Nw};function Nw(){}const fne=-1,aC=0,vb=1,s_=2,TM=3,EM=4,AM=5,OM=6,pne=7,mne=8,Yz=typeof self=="object"?self:globalThis,FFe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case aC:case fne:return n(s,i);case vb:{const o=n([],i);for(const l of s)o.push(r(l));return o}case s_:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case TM:return n(new Date(s),i);case EM:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case AM:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case OM:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case pne:{const{name:o,message:l}=s;return n(new Yz[o](l),i)}case mne:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new Yz[a](s),i)};return r},Xz=t=>FFe(new Map,t)(0),zg="",{toString:UFe}={},{keys:zFe}=Object,Ry=t=>{const e=typeof t;if(e!=="object"||!t)return[aC,e];const n=UFe.call(t).slice(8,-1);switch(n){case"Array":return[vb,zg];case"Object":return[s_,zg];case"Date":return[TM,zg];case"RegExp":return[EM,zg];case"Map":return[AM,zg];case"Set":return[OM,zg];case"DataView":return[vb,n]}return n.includes("Array")?[vb,n]:n.includes("Error")?[pne,n]:[s_,n]},Lw=([t,e])=>t===aC&&(e==="function"||e==="symbol"),$Fe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Ry(s);switch(o){case aC:{let u=s;switch(l){case"bigint":o=mne,u=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([fne],s)}return i([o,u],s)}case vb:{if(l){let m=s;return l==="DataView"?m=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(s)),i([l,[...m]],s)}const u=[],f=i([o,u],s);for(const m of s)u.push(a(m));return f}case s_:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const m of zFe(s))(t||!Lw(Ry(s[m])))&&u.push([a(m),a(s[m])]);return f}case TM:return i([o,s.toISOString()],s);case EM:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case AM:{const u=[],f=i([o,u],s);for(const[m,p]of s)(t||!(Lw(Ry(m))||Lw(Ry(p))))&&u.push([a(m),a(p)]);return f}case OM:{const u=[],f=i([o,u],s);for(const m of s)(t||!Lw(Ry(m)))&&u.push(a(m));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},Jz=(t,{json:e,lossy:n}={})=>{const r=[];return $Fe(!(e||n),!!e,new Map,r)(t),r},o_=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Xz(Jz(t,e)):structuredClone(t):(t,e)=>Xz(Jz(t,e));function qFe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function HFe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function WFe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||qFe,r=t.options.footnoteBackLabel||HFe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),m=Cv(f.toLowerCase());let p=0;const v=[],b=t.footnoteCounts.get(f);for(;b!==void 0&&++p<=b;){v.length>0&&v.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,p);typeof C=="string"&&(C={type:"text",value:C}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const x=u[u.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const C=x.children[x.children.length-1];C&&C.type==="text"?C.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...v)}else u.push(...v);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(u,!0)};t.patch(c,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...o_(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const gne=(function(t){if(t==null)return YFe;if(typeof t=="function")return sC(t);if(typeof t=="object")return Array.isArray(t)?VFe(t):GFe(t);if(typeof t=="string")return KFe(t);throw new Error("Expected function, string, or object as test")});function VFe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=gne(t[n]);return sC(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function GFe(t){const e=t;return sC(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function KFe(t){return sC(e);function e(n){return n&&n.type===t}}function sC(t){return e;function e(n,r,i){return!!(XFe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function YFe(){return!0}function XFe(t){return t!==null&&typeof t=="object"&&"type"in t}const vne=[],JFe=!0,Zz=!1,ZFe="skip";function QFe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=gne(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=vne,v,b,x;if((!e||a(l,c,u[u.length-1]||void 0))&&(p=e7e(n(l,u)),p[0]===Zz))return p;if("children"in l&&l.children){const w=l;if(w.children&&p[0]!==ZFe)for(b=(r?w.children.length:-1)+s,x=u.concat(w);b>-1&&b<w.children.length;){const C=w.children[b];if(v=o(C,b,x)(),v[0]===Zz)return v;b=typeof v[1]=="number"?v[1]:b+s}}return p}}}function e7e(t){return Array.isArray(t)?t:typeof t=="number"?[JFe,t]:t==null?vne:[t]}function yne(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),QFe(t,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const kN={}.hasOwnProperty,t7e={};function n7e(t,e){const n=e||t7e,r=new Map,i=new Map,a=new Map,s={...BFe,...n.handlers},o={all:c,applyData:i7e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:r7e,wrap:s7e};return yne(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,m=String(u.identifier).toUpperCase();f.has(m)||f.set(m,u)}}),o;function l(u,f){const m=u.type,p=o.handlers[m];if(kN.call(o.handlers,m)&&p)return p(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in u){const{children:b,...x}=u,w=o_(x);return w.children=o.all(u),w}return o_(u)}return(o.options.unknownHandler||a7e)(o,u,f)}function c(u){const f=[];if("children"in u){const m=u.children;let p=-1;for(;++p<m.length;){const v=o.one(m[p],u);if(v){if(p&&m[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Qz(v.value)),!Array.isArray(v)&&v.type==="element")){const b=v.children[0];b&&b.type==="text"&&(b.value=Qz(b.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function r7e(t,e){t.position&&(e.position=U6e(t))}function i7e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,o_(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function a7e(t,e){const n=e.data||{},r="value"in e&&!(kN.call(n,"hProperties")||kN.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function s7e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Qz(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function e9(t,e){const n=n7e(t,e),r=n.one(t,void 0),i=WFe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function o7e(t,e){return t&&"run"in t?async function(n,r){const i=e9(n,{file:r,...e});await t.run(i,r)}:function(n,r){return e9(n,{file:r,...t||e})}}function t9(t){if(t)throw t}var gA,n9;function l7e(){if(n9)return gA;n9=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},a=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=t.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!f)return!1;var m;for(m in c);return typeof m>"u"||t.call(c,m)},s=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},o=function(c,u){if(u==="__proto__")if(t.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return gA=function l(){var c,u,f,m,p,v,b=arguments[0],x=1,w=arguments.length,C=!1;for(typeof b=="boolean"&&(C=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<w;++x)if(c=arguments[x],c!=null)for(u in c)f=o(b,u),m=o(c,u),b!==m&&(C&&m&&(a(m)||(p=i(m)))?(p?(p=!1,v=f&&i(f)?f:[]):v=f&&a(f)?f:{},s(b,{name:u,newValue:l(C,v,m)})):typeof m<"u"&&s(b,{name:u,newValue:m}));return b},gA}var c7e=l7e();const vA=sc(c7e);function CN(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function u7e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?h7e(u,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function h7e(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Uu={basename:d7e,dirname:f7e,extname:p7e,join:m7e,sep:"/"};function d7e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');J1(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function f7e(t){if(J1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function p7e(t){J1(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function m7e(...t){let e=-1,n;for(;++e<t.length;)J1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":g7e(n)}function g7e(t){J1(t);const e=t.codePointAt(0)===47;let n=v7e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function v7e(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function J1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const y7e={cwd:b7e};function b7e(){return"/"}function TN(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function x7e(t){if(typeof t=="string")t=new URL(t);else if(!TN(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return w7e(t)}function w7e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const yA=["history","path","basename","stem","extname","dirname"];class bne{constructor(e){let n;e?TN(e)?n={path:e}:typeof e=="string"||S7e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":y7e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yA.length;){const a=yA[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)yA.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Uu.basename(this.path):void 0}set basename(e){xA(e,"basename"),bA(e,"basename"),this.path=Uu.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Uu.dirname(this.path):void 0}set dirname(e){r9(this.basename,"dirname"),this.path=Uu.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Uu.extname(this.path):void 0}set extname(e){if(bA(e,"extname"),r9(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Uu.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){TN(e)&&(e=x7e(e)),xA(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Uu.basename(this.path,this.extname):void 0}set stem(e){xA(e,"stem"),bA(e,"stem"),this.path=Uu.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Us(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function bA(t,e){if(t&&t.includes(Uu.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Uu.sep+"`")}function xA(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function r9(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function S7e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _7e=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),k7e={}.hasOwnProperty;class PM extends _7e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u7e()}copy(){const e=new PM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(vA(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_A("data",this.frozen),this.namespace[e]=n,this):k7e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_A("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Mw(e),r=this.parser||this.Parser;return wA("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),wA("process",this.parser||this.Parser),SA("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Mw(e),l=r.parse(o);r.run(l,o,function(u,f,m){if(u||!f||!m)return c(u);const p=f,v=r.stringify(p,m);E7e(v)?m.value=v:m.result=v,c(u,m)});function c(u,f){u||!f?s(u):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),wA("processSync",this.parser||this.Parser),SA("processSync",this.compiler||this.Compiler),this.process(e,i),a9("processSync","process",n),r;function i(a,s){n=!0,t9(a),r=s}}run(e,n,r){i9(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Mw(n);i.run(e,l,c);function c(u,f,m){const p=f||e;u?o(u):s?s(p):r(void 0,p,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),a9("runSync","run",r),i;function a(s,o){t9(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=Mw(n),i=this.compiler||this.Compiler;return SA("stringify",i),i9(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(_A("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=vA(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...u]);else if(u.length>0){let[p,...v]=u;const b=r[m][1];CN(b)&&CN(p)&&(p=vA(!0,b,p)),r[m]=[c,p,...v]}}}}const C7e=new PM().freeze();function wA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function SA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _A(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function i9(t){if(!CN(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function a9(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Mw(t){return T7e(t)?t:new bne(t)}function T7e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function E7e(t){return typeof t=="string"||A7e(t)}function A7e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const O7e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",s9=[],o9={allowDangerousHtml:!0},P7e=/^(https?|ircs?|mailto|xmpp)$/i,N7e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function L7e(t){const e=M7e(t),n=R7e(t);return I7e(e.runSync(e.parse(n),n),t)}function M7e(t){const e=t.rehypePlugins||s9,n=t.remarkPlugins||s9,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...o9}:o9;return C7e().use(dFe).use(n).use(o7e,r).use(e)}function R7e(t){const e=t.children||"",n=new bne;return typeof e=="string"&&(n.value=e),n}function I7e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||j7e;for(const u of N7e)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+O7e+u.id,void 0);return yne(t,c),W6e(t,{Fragment:S.Fragment,components:i,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function c(u,f,m){if(u.type==="raw"&&m&&typeof f=="number")return s?m.children.splice(f,1):m.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let p;for(p in fA)if(Object.hasOwn(fA,p)&&Object.hasOwn(u.properties,p)){const v=u.properties[p],b=fA[p];(b===null||b.includes(u.tagName))&&(u.properties[p]=l(String(v||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(u,f,m)),p&&m&&typeof f=="number")return o&&u.children?m.children.splice(f,1,...u.children):m.children.splice(f,1),f}}}function j7e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||P7e.test(t.slice(0,e))?t:""}const xne=Ue.memo(({msg:t,index:e,onRetry:n,formatTimestamp:r})=>{const[i,a]=j.useState(!1);j.useEffect(()=>()=>{i&&window.speechSynthesis.cancel()},[i]);const s=()=>{if("speechSynthesis"in window)if(i)window.speechSynthesis.cancel(),a(!1);else{window.speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(t.content);o.onend=()=>a(!1),o.onerror=()=>a(!1),a(!0),window.speechSynthesis.speak(o)}};return S.jsx(St.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${t.role==="user"?"justify-end":"justify-start"}`,children:S.jsxs("div",{className:`flex max-w-[85%] ${t.role==="user"?"flex-row-reverse":"flex-row"} gap-3 items-start`,children:[S.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ${t.role==="user"?"bg-slate-200":"hidden"}`,"aria-hidden":"true",children:t.role==="user"?S.jsx(X$,{className:"w-5 h-5 text-slate-600"}):null}),S.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[S.jsxs("div",{className:`py-2 px-1 rounded-2xl ${t.role==="user"?"bg-indigo-50 text-slate-800 p-4 shadow-sm border border-indigo-100":"bg-transparent text-slate-800"} ${t.status==="error"?"border-2 border-red-500":""}`,children:[t.role==="assistant"?S.jsx("div",{className:`prose prose-slate max-w-none leading-relaxed text-[16px] font-serif\r
                                prose-headings:font-serif prose-headings:font-semibold\r
                                prose-p:my-2 prose-p:leading-relaxed\r
                                prose-strong:font-bold prose-strong:text-slate-900\r
                                prose-ul:my-2 prose-ul:list-disc prose-ul:pl-6\r
                                prose-ol:my-2 prose-ol:list-decimal prose-ol:pl-6\r
                                prose-li:my-1\r
                                prose-code:bg-slate-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-sm`,children:S.jsx(L7e,{children:t.content})}):S.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-[16px]",children:t.content}),S.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t.role==="user","text-slate-400"}`,children:[S.jsx("span",{className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:r(t.timestamp)}),t.status==="sending"&&S.jsx("span",{className:"text-xs opacity-80",children:"Sending..."}),t.status==="error"&&t.role==="user"&&S.jsxs("button",{onClick:()=>n(e),className:"text-xs flex items-center gap-1 hover:underline text-red-500 font-medium","aria-label":"Retry sending message",children:[S.jsx(J$,{className:"w-3 h-3"}),"Retry"]}),t.role==="assistant"&&S.jsx("button",{onClick:s,className:`ml-2 transition-colors ${i?"text-indigo-600 animate-pulse":"text-slate-300 hover:text-indigo-600"}`,title:i?"Stop Reading":"Read Aloud",children:i?S.jsx(Z$,{className:"w-3 h-3 fill-current"}):S.jsx(tse,{className:"w-3 h-3"})})]})]}),t.role==="assistant"&&t.signals&&Object.keys(t.signals).length>0&&S.jsxs("div",{className:"flex flex-wrap gap-2 ml-2",children:[S.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[S.jsx(v1,{className:"w-3 h-3"}),S.jsx("span",{className:"font-medium",children:"Detected:"})]}),Object.entries(t.signals).slice(0,3).map(([o])=>S.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-medium border border-indigo-100",children:o.replace(/_/g," ")},o))]})]})]})})});xne.displayName="MessageBubble";const D7e=({show:t,onClose:e,messagesCount:n,clarityScore:r,detectedPatterns:i,onExport:a,width:s,onGenerateReport:o,isGeneratingReport:l})=>t?S.jsxs("div",{className:"flex flex-col bg-white border-l border-slate-200 h-full shadow-xl md:shadow-none absolute md:relative right-0 z-40 md:z-auto",style:{width:`${s}px`},children:[S.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[S.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-800",children:[S.jsx(Cj,{className:"w-5 h-5 text-yellow-500"}),"Workspace"]}),S.jsx("button",{onClick:e,className:"h-8 w-8 flex items-center justify-center hover:bg-slate-200 rounded-lg transition-colors","aria-label":"Close sidebar",children:S.jsx(Q$,{className:"w-5 h-5 text-slate-600 hover:text-slate-900"})})]}),S.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 p-4 rounded-xl border border-indigo-100 shadow-sm",children:[S.jsxs("h4",{className:"font-semibold text-indigo-900 mb-2 flex items-center justify-between",children:[S.jsxs("span",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"relative flex h-3 w-3",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),"Market Pulse"]}),S.jsx("span",{className:"text-[10px] bg-white/50 px-2 py-0.5 rounded text-indigo-600 border border-indigo-100",children:"LIVE"})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("p",{className:"text-xs text-indigo-800/80 leading-relaxed",children:["We're tracking ",S.jsx("span",{className:"font-bold text-indigo-700",children:"120+ new jobs"})," in your domain today."]}),S.jsx("div",{className:"flex gap-2",children:S.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-job-market")),className:"flex-1 bg-white hover:bg-indigo-50 text-indigo-600 text-xs font-semibold py-2 px-3 rounded-lg border border-indigo-200 transition-colors shadow-sm flex items-center justify-center gap-2",children:"View Opportunities"})})]})]}),S.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 p-4 rounded-xl border border-violet-100 shadow-sm",children:[S.jsxs("h4",{className:"font-semibold text-violet-900 mb-3 flex items-center gap-2",children:[S.jsx(nse,{className:"w-4 h-4"}),"Action Items"]}),S.jsxs("ul",{className:"space-y-2",children:[S.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 mt-1.5 flex-shrink-0"}),S.jsx("span",{children:"Reflect on your core values"})]}),S.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 mt-1.5 flex-shrink-0"}),S.jsx("span",{children:"Complete the skills assessment"})]})]})]}),S.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-100 shadow-sm",children:[S.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[S.jsx(om,{className:"w-4 h-4"}),"Detected Patterns"]}),i.length>0?S.jsx("div",{className:"flex flex-wrap gap-2",children:i.slice(0,6).map((c,u)=>S.jsxs("div",{className:"group relative",children:[S.jsx("span",{className:"cursor-help px-2 py-1 bg-white/60 text-blue-700 rounded-md text-xs font-medium border border-blue-100 hover:bg-white hover:border-blue-300 transition-colors",children:c.replace(/_/g," ")}),S.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-slate-800 text-white text-xs rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50 pointer-events-none",children:[S.jsx("div",{className:"font-semibold mb-1",children:c.replace(/_/g," ")}),S.jsx("div",{className:"text-slate-300",children:"Detected based on your language choices and emotional signals."}),S.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 rotate-45"})]})]},u))}):S.jsx("p",{className:"text-xs text-blue-600/70 italic",children:"Chat more to reveal patterns in your thinking..."})]}),S.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[S.jsxs("h4",{className:"font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[S.jsx(g3,{className:"w-4 h-4"}),"Session Stats"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[S.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:n}),S.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Messages"})]}),S.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[S.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r,"%"]}),S.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Clarity"})]})]})]}),o&&S.jsx(Or,{onClick:o,disabled:l,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white shadow-md transition-all",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating..."]}):S.jsxs(S.Fragment,{children:[S.jsx(Cj,{className:"w-4 h-4"}),"Generate Session Report"]})}),S.jsxs(Or,{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-white hover:bg-slate-50 text-slate-700 border border-slate-200 shadow-sm",children:[S.jsx(d3,{className:"w-4 h-4"}),"Export Journey"]})]})})]}):null,B7e=({isOpen:t,onClose:e,actions:n})=>{const[r,i]=j.useState(""),[a,s]=j.useState(0),o=j.useRef(null),l=n.filter(c=>c.label.toLowerCase().includes(r.toLowerCase()));return j.useEffect(()=>{t&&(i(""),s(0),setTimeout(()=>o.current?.focus(),50))},[t]),j.useEffect(()=>{const c=u=>{t&&(u.key==="ArrowDown"?(u.preventDefault(),s(f=>(f+1)%l.length)):u.key==="ArrowUp"?(u.preventDefault(),s(f=>(f-1+l.length)%l.length)):u.key==="Enter"?(u.preventDefault(),l[a]&&(l[a].action(),e())):u.key==="Escape"&&e())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,l,a,e]),t?S.jsx(fl,{children:t&&S.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] px-4",children:[S.jsx(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),S.jsxs(St.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden relative z-10 flex flex-col max-h-[60vh]",children:[S.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-slate-100 gap-3",children:[S.jsx(C_,{className:"w-5 h-5 text-slate-400"}),S.jsx("input",{ref:o,type:"text",value:r,onChange:c=>{i(c.target.value),s(0)},placeholder:"Type a command...",className:"flex-1 bg-transparent border-none outline-none text-lg text-slate-800 placeholder:text-slate-400"}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs text-slate-500 font-medium",children:"ESC"})})]}),S.jsx("div",{className:"overflow-y-auto p-2",children:l.length===0?S.jsx("div",{className:"p-8 text-center text-slate-500",children:S.jsx("p",{children:"No results found."})}):S.jsx("div",{className:"space-y-1",children:l.map((c,u)=>S.jsxs("button",{onClick:()=>{c.action(),e()},onMouseEnter:()=>s(u),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors ${u===a?"bg-indigo-50 text-indigo-900":"text-slate-700 hover:bg-slate-50"}`,children:[S.jsx("div",{className:`p-2 rounded-md ${u===a?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"}`,children:S.jsx(c.icon,{className:"w-5 h-5"})}),S.jsx("div",{className:"flex-1",children:S.jsx("span",{className:"font-medium",children:c.label})}),c.shortcut&&S.jsx("span",{className:"text-xs text-slate-400 font-mono bg-white px-2 py-1 rounded border border-slate-200",children:c.shortcut}),u===a&&S.jsx(id,{className:"w-4 h-4 text-indigo-400 animate-in slide-in-from-left-2"})]},c.id))})}),S.jsxs("div",{className:"bg-slate-50 px-4 py-2 border-t border-slate-100 flex justify-between items-center text-xs text-slate-500",children:[S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("span",{children:[S.jsx("strong",{className:"font-medium",children:""})," to navigate"]}),S.jsxs("span",{children:[S.jsx("strong",{className:"font-medium",children:""})," to select"]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(q$,{className:"w-3 h-3 text-amber-500"}),S.jsx("span",{children:"Power User Mode"})]})]})]})]})}):null};var l9={};function F7e(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var U7e=Object.defineProperty,z7e=(t,e,n)=>e in t?U7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c9=(t,e,n)=>z7e(t,typeof e!="symbol"?e+"":e,n);let lo=class{constructor(){c9(this,"_locking"),c9(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let e;const n=new Promise(i=>e=()=>{this._locks-=1,i()}),r=this._locking.then(()=>e);return this._locking=this._locking.then(()=>n),r}};function Ui(t,e){if(!t)throw new Error(e)}const $7e=34028234663852886e22,q7e=-34028234663852886e22,H7e=4294967295,W7e=2147483647,V7e=-2147483648;function g2(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>W7e||t<V7e)throw new Error("invalid int 32: "+t)}function EN(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>H7e||t<0)throw new Error("invalid uint 32: "+t)}function wne(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>$7e||t<q7e))throw new Error("invalid float 32: "+t)}const Sne=Symbol("@bufbuild/protobuf/enum-type");function G7e(t){const e=t[Sne];return Ui(e,"missing enum type on enum object"),e}function _ne(t,e,n,r){t[Sne]=kne(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function kne(t,e,n){const r=Object.create(null),i=Object.create(null),a=[];for(const s of e){const o=Cne(s);a.push(o),r[s.name]=o,i[s.no]=o}return{typeName:t,values:a,findName(s){return r[s]},findNumber(s){return i[s]}}}function K7e(t,e,n){const r={};for(const i of e){const a=Cne(i);r[a.localName]=a.no,r[a.no]=a.localName}return _ne(r,t,e),r}function Cne(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class NM{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,a=i.makeReadOptions(n);return i.readMessage(this,a.readerFactory(e),e.byteLength,a),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,a=i.makeReadOptions(n);return i.readMessage(r,e,a,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),a=i.writerFactory();return r.writeMessage(this,a,i),a.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Y7e(t,e,n,r){var i;const a=(i=r?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),s={[a]:function(o){t.util.initFields(this),t.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new NM),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(o,l){return new s().fromBinary(o,l)},fromJson(o,l){return new s().fromJson(o,l)},fromJsonString(o,l){return new s().fromJsonString(o,l)},equals(o,l){return t.util.equals(s,o,l)}}),s}function X7e(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function kA(t,e,n){for(let a=0;a<28;a=a+7){const s=t>>>a,o=!(!(s>>>7)&&e==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const r=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){const s=e>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const v2=4294967296;function u9(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function a(s,o){const l=Number(t.slice(s,o));i*=n,r=r*n+l,r>=v2&&(i=i+(r/v2|0),r=r%v2)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?Ene(r,i):LM(r,i)}function J7e(t,e){let n=LM(t,e);const r=n.hi&2147483648;r&&(n=Ene(n.lo,n.hi));const i=Tne(n.lo,n.hi);return r?"-"+i:i}function Tne(t,e){if({lo:t,hi:e}=Z7e(t,e),e<=2097151)return String(v2*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let a=n+r*6777216+i*6710656,s=r+i*8147497,o=i*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+h9(s)+h9(a)}function Z7e(t,e){return{lo:t>>>0,hi:e>>>0}}function LM(t,e){return{lo:t|0,hi:e|0}}function Ene(t,e){return e=~e,t?t=~t+1:e+=1,LM(t,e)}const h9=t=>{const e=String(t);return"0000000".slice(e.length)+e};function d9(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function Q7e(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function eUe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof l9!="object"||l9.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<i)throw new Error("int64 invalid: ".concat(l));return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<s)throw new Error("uint64 invalid: ".concat(l));return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}const n=i=>Ui(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>Ui(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),u9(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),u9(i)},dec(i,a){return J7e(i,a)},uDec(i,a){return Tne(i,a)}}}const vi=eUe();var at;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(at||(at={}));var Wf;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(Wf||(Wf={}));function ff(t,e,n){if(e===n)return!0;if(t==at.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case at.UINT64:case at.FIXED64:case at.INT64:case at.SFIXED64:case at.SINT64:return e==n}return!1}function av(t,e){switch(t){case at.BOOL:return!1;case at.UINT64:case at.FIXED64:case at.INT64:case at.SFIXED64:case at.SINT64:return e==0?vi.zero:"0";case at.DOUBLE:case at.FLOAT:return 0;case at.BYTES:return new Uint8Array(0);case at.STRING:return"";default:return 0}}function Ane(t,e){switch(t){case at.BOOL:return e===!1;case at.STRING:return e==="";case at.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var Qi;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Qi||(Qi={}));class tUe{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(EN(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return g2(e),d9(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){wne(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){EN(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){g2(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return g2(e),e=(e<<1^e>>31)>>>0,d9(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=vi.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=vi.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=vi.enc(e);return kA(n.lo,n.hi,this.buf),this}sint64(e){let n=vi.enc(e),r=n.hi>>31,i=n.lo<<1^r,a=(n.hi<<1|n.lo>>>31)^r;return kA(i,a,this.buf),this}uint64(e){let n=vi.uEnc(e);return kA(n.lo,n.hi,this.buf),this}}class nUe{constructor(e,n){this.varint64=X7e,this.uint32=Q7e,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case Qi.Varint:for(;this.buf[this.pos++]&128;);break;case Qi.Bit64:this.pos+=4;case Qi.Bit32:this.pos+=4;break;case Qi.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Qi.StartGroup:for(;;){const[a,s]=this.tag();if(s===Qi.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return vi.dec(...this.varint64())}uint64(){return vi.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,vi.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return vi.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return vi.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function rUe(t,e,n,r){let i;return{typeName:e,extendee:n,get field(){if(!i){const a=typeof r=="function"?r():r;a.name=e.split(".").pop(),a.jsonName="[".concat(e,"]"),i=t.util.newFieldList([a]).list()[0]}return i},runtime:t}}function One(t){const e=t.field.localName,n=Object.create(null);return n[e]=iUe(t),[n,()=>n[e]]}function iUe(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return av(e.T,e.L);case"message":const n=e.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function aUe(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let Jh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),oC=[];for(let t=0;t<Jh.length;t++)oC[Jh[t].charCodeAt(0)]=t;oC[45]=Jh.indexOf("+");oC[95]=Jh.indexOf("/");const Pne={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,a,s=0;for(let o=0;o<t.length;o++){if(a=oC[t.charCodeAt(o)],a===void 0)switch(t[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=a,i=1;break;case 1:n[r++]=s<<2|(a&48)>>4,s=a,i=2;break;case 2:n[r++]=(s&15)<<4|(a&60)>>2,s=a,i=3;break;case 3:n[r++]=(s&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let a=0;a<t.length;a++)switch(r=t[a],n){case 0:e+=Jh[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=Jh[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=Jh[i|r>>6],e+=Jh[r&63],n=0;break}return n&&(e+=Jh[i],e+="=",n==1&&(e+="=")),e}};function sUe(t,e,n){Lne(e,t);const r=e.runtime.bin.makeReadOptions(n),i=aUe(t.getType().runtime.bin.listUnknownFields(t),e.field),[a,s]=One(e);for(const o of i)e.runtime.bin.readField(a,r.readerFactory(o.data),e.field,o.wireType,r);return s()}function oUe(t,e,n,r){Lne(e,t);const i=e.runtime.bin.makeReadOptions(r),a=e.runtime.bin.makeWriteOptions(r);if(Nne(t,e)){const c=t.getType().runtime.bin.listUnknownFields(t).filter(u=>u.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const u of c)t.getType().runtime.bin.onUnknownField(t,u.no,u.wireType,u.data)}const s=a.writerFactory();let o=e.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(o,n,s,a);const l=i.readerFactory(s.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),f=l.skip(u,c);t.getType().runtime.bin.onUnknownField(t,c,u,f)}}function Nne(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(r=>r.no==e.field.no)}function Lne(t,e){Ui(t.extendee.typeName==e.getType().typeName,"extension ".concat(t.typeName," can only be applied to message ").concat(t.extendee.typeName))}function Mne(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!Ane(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function f9(t,e){const n=t.localName,r=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=r?t.T.values[0].no:void 0;break;case"scalar":e[n]=r?av(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function Zh(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(NM.prototype).every(r=>r in t&&typeof t[r]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function Rne(t,e){return Zh(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}at.DOUBLE,at.FLOAT,at.INT64,at.UINT64,at.INT32,at.UINT32,at.BOOL,at.STRING,at.BYTES;const p9={ignoreUnknownFields:!1},m9={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function lUe(t){return t?Object.assign(Object.assign({},p9),t):p9}function cUe(t){return t?Object.assign(Object.assign({},m9),t):m9}const l_=Symbol(),y2=Symbol();function uUe(){return{makeReadOptions:lUe,makeWriteOptions:cUe,readMessage(t,e,n,r){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error("cannot decode message ".concat(t.typeName," from JSON: ").concat($u(e)));r=r??new t;const i=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(e)){const l=t.fields.findJsonName(s);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=i.get(l.oneof);if(c!==void 0)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: multiple keys for oneof "').concat(l.oneof.name,'" present: "').concat(c,'", "').concat(s,'"'));i.set(l.oneof,s)}g9(r,o,l,n,t)}else{let c=!1;if(a?.findExtension&&s.startsWith("[")&&s.endsWith("]")){const u=a.findExtension(s.substring(1,s.length-1));if(u&&u.extendee.typeName==t.typeName){c=!0;const[f,m]=One(u);g9(f,o,u.field,n,u),oUe(r,u,m(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: key "').concat(s,'" is unknown'))}}return r},writeMessage(t,e){const n=t.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!Mne(i,t)){if(i.req)throw"required field not set";if(!e.emitDefaultValues||!dUe(i))continue}const s=i.oneof?t[i.oneof.localName].value:t[i.localName],o=v9(i,s,e);o!==void 0&&(r[e.useProtoFieldName?i.name:i.jsonName]=o)}const a=e.typeRegistry;if(a?.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(t)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&Nne(t,o)){const l=sUe(t,o,e),c=v9(o.field,l,e);c!==void 0&&(r[o.field.jsonName]=c)}}}catch(a){const s=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?": ".concat(o):""))}return r},readScalar(t,e,n){return yb(t,e,n??Wf.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||Ane(t,e)))return b2(t,e)},debug:$u}}function $u(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":'"'.concat(t.split('"').join('\\"'),'"');default:return String(t)}}function g9(t,e,n,r,i){let a=n.localName;if(n.repeated){if(Ui(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(e)));const s=t[a];for(const o of e){if(o===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(o)));switch(n.kind){case"message":s.push(n.T.fromJson(o,r));break;case"enum":const l=CA(n.T,o,r.ignoreUnknownFields,!0);l!==y2&&s.push(l);break;case"scalar":try{s.push(yb(n.T,o,n.L,!0))}catch(c){let u="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(o));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(e)));const s=t[a];for(const[o,l]of Object.entries(e)){if(l===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let c;try{c=hUe(n.K,o)}catch(u){let f="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(e));throw u instanceof Error&&u.message.length>0&&(f+=": ".concat(u.message)),new Error(f)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,r);break;case"enum":const u=CA(n.V.T,l,r.ignoreUnknownFields,!0);u!==y2&&(s[c]=u);break;case"scalar":try{s[c]=yb(n.V.T,l,Wf.BIGINT,!0)}catch(f){let m="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(e));throw f instanceof Error&&f.message.length>0&&(m+=": ".concat(f.message)),new Error(m)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(e===null&&s.typeName!="google.protobuf.Value")return;let o=t[a];Zh(o)?o.fromJson(e,r):(t[a]=o=s.fromJson(e,r),s.fieldWrapper&&!n.oneof&&(t[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const l=CA(n.T,e,r.ignoreUnknownFields,!1);switch(l){case l_:f9(n,t);break;case y2:break;default:t[a]=l;break}break;case"scalar":try{const c=yb(n.T,e,n.L,!1);c===l_?f9(n,t):t[a]=c}catch(c){let u="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat($u(e));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}break}}function hUe(t,e){if(t===at.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return yb(t,e,Wf.BIGINT,!0).toString()}function yb(t,e,n,r){if(e===null)return r?av(t,n):l_;switch(t){case at.DOUBLE:case at.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return t==at.FLOAT&&wne(i),i;case at.INT32:case at.FIXED32:case at.SFIXED32:case at.SINT32:case at.UINT32:let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return t==at.UINT32||t==at.FIXED32?EN(a):g2(a),a;case at.INT64:case at.SFIXED64:case at.SINT64:if(typeof e!="number"&&typeof e!="string")break;const s=vi.parse(e);return n?s.toString():s;case at.FIXED64:case at.UINT64:if(typeof e!="number"&&typeof e!="string")break;const o=vi.uParse(e);return n?o.toString():o;case at.BOOL:if(typeof e!="boolean")break;return e;case at.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case at.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return Pne.dec(e)}throw new Error}function CA(t,e,n,r){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:r?t.values[0].no:l_;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=t.findName(e);if(i!==void 0)return i.no;if(n)return y2;break}throw new Error("cannot decode enum ".concat(t.typeName," from JSON: ").concat($u(e)))}function dUe(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function v9(t,e,n){if(t.kind=="map"){Ui(typeof e=="object"&&e!=null);const r={},i=Object.entries(e);switch(t.V.kind){case"scalar":for(const[s,o]of i)r[s.toString()]=b2(t.V.T,o);break;case"message":for(const[s,o]of i)r[s.toString()]=o.toJson(n);break;case"enum":const a=t.V.T;for(const[s,o]of i)r[s.toString()]=TA(a,o,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(t.repeated){Ui(Array.isArray(e));const r=[];switch(t.kind){case"scalar":for(let i=0;i<e.length;i++)r.push(b2(t.T,e[i]));break;case"enum":for(let i=0;i<e.length;i++)r.push(TA(t.T,e[i],n.enumAsInteger));break;case"message":for(let i=0;i<e.length;i++)r.push(e[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(t.kind){case"scalar":return b2(t.T,e);case"enum":return TA(t.T,e,n.enumAsInteger);case"message":return Rne(t.T,e).toJson(n)}}function TA(t,e,n){var r;if(Ui(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const i=t.findNumber(e);return(r=i?.name)!==null&&r!==void 0?r:e}function b2(t,e){switch(t){case at.INT32:case at.SFIXED32:case at.SINT32:case at.FIXED32:case at.UINT32:return Ui(typeof e=="number"),e;case at.FLOAT:case at.DOUBLE:return Ui(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case at.STRING:return Ui(typeof e=="string"),e;case at.BOOL:return Ui(typeof e=="boolean"),e;case at.UINT64:case at.FIXED64:case at.INT64:case at.SFIXED64:case at.SINT64:return Ui(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case at.BYTES:return Ui(e instanceof Uint8Array),Pne.enc(e)}}const $g=Symbol("@bufbuild/protobuf/unknown-fields"),y9={readUnknownFields:!0,readerFactory:t=>new nUe(t)},b9={writeUnknownFields:!0,writerFactory:()=>new tUe};function fUe(t){return t?Object.assign(Object.assign({},y9),t):y9}function pUe(t){return t?Object.assign(Object.assign({},b9),t):b9}function mUe(){return{makeReadOptions:fUe,makeWriteOptions:pUe,listUnknownFields(t){var e;return(e=t[$g])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[$g]},writeUnknownFields(t,e){const r=t[$g];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[$g])||(i[$g]=[]),i[$g].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r,i){const a=t.getType(),s=i?e.len:e.pos+n;let o,l;for(;e.pos<s&&([o,l]=e.tag(),!(i===!0&&l==Qi.EndGroup));){const c=a.fields.find(o);if(!c){const u=e.skip(l,o);r.readUnknownFields&&this.onUnknownField(t,o,l,u);continue}x9(t,e,c,l,r)}if(i&&(l!=Qi.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:x9,writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){if(!Mne(i,t)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const a=i.oneof?t[i.oneof.localName].value:t[i.localName];w9(i,a,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,r){e!==void 0&&w9(t,e,n,r)}}}function x9(t,e,n,r,i){let{repeated:a,localName:s}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=s&&delete t.value,t.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?at.INT32:n.T;let l=c_;if(n.kind=="scalar"&&n.L>0&&(l=vUe),a){let m=t[s];if(r==Qi.LengthDelimited&&o!=at.STRING&&o!=at.BYTES){let v=e.uint32()+e.pos;for(;e.pos<v;)m.push(l(e,o))}else m.push(l(e,o))}else t[s]=l(e,o);break;case"message":const c=n.T;a?t[s].push(x2(e,new c,i,n)):Zh(t[s])?x2(e,t[s],i,n):(t[s]=x2(e,new c,i,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(t[s]=c.fieldWrapper.unwrapField(t[s])));break;case"map":let[u,f]=gUe(n,e,i);t[s][u]=f;break}}function x2(t,e,n,r){const i=e.getType().runtime.bin,a=r?.delimited;return i.readMessage(e,t,a?r.no:t.uint32(),n,a),e}function gUe(t,e,n){const r=e.uint32(),i=e.pos+r;let a,s;for(;e.pos<i;){const[o]=e.tag();switch(o){case 1:a=c_(e,t.K);break;case 2:switch(t.V.kind){case"scalar":s=c_(e,t.V.T);break;case"enum":s=e.int32();break;case"message":s=x2(e,new t.V.T,n,void 0);break}break}}if(a===void 0&&(a=av(t.K,Wf.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(t.V.kind){case"scalar":s=av(t.V.T,Wf.BIGINT);break;case"enum":s=t.V.T.values[0].no;break;case"message":s=new t.V.T;break}return[a,s]}function vUe(t,e){const n=c_(t,e);return typeof n=="bigint"?n.toString():n}function c_(t,e){switch(e){case at.STRING:return t.string();case at.BOOL:return t.bool();case at.DOUBLE:return t.double();case at.FLOAT:return t.float();case at.INT32:return t.int32();case at.INT64:return t.int64();case at.UINT64:return t.uint64();case at.FIXED64:return t.fixed64();case at.BYTES:return t.bytes();case at.FIXED32:return t.fixed32();case at.SFIXED32:return t.sfixed32();case at.SFIXED64:return t.sfixed64();case at.SINT64:return t.sint64();case at.UINT32:return t.uint32();case at.SINT32:return t.sint32()}}function w9(t,e,n,r){Ui(e!==void 0);const i=t.repeated;switch(t.kind){case"scalar":case"enum":let a=t.kind=="enum"?at.INT32:t.T;if(i)if(Ui(Array.isArray(e)),t.packed)bUe(n,a,t.no,e);else for(const s of e)bb(n,a,t.no,s);else bb(n,a,t.no,e);break;case"message":if(i){Ui(Array.isArray(e));for(const s of e)S9(n,r,t,s)}else S9(n,r,t,e);break;case"map":Ui(typeof e=="object"&&e!=null);for(const[s,o]of Object.entries(e))yUe(n,r,t,s,o);break}}function yUe(t,e,n,r,i){t.tag(n.no,Qi.LengthDelimited),t.fork();let a=r;switch(n.K){case at.INT32:case at.FIXED32:case at.UINT32:case at.SFIXED32:case at.SINT32:a=Number.parseInt(r);break;case at.BOOL:Ui(r=="true"||r=="false"),a=r=="true";break}switch(bb(t,n.K,1,a),n.V.kind){case"scalar":bb(t,n.V.T,2,i);break;case"enum":bb(t,at.INT32,2,i);break;case"message":Ui(i!==void 0),t.tag(2,Qi.LengthDelimited).bytes(i.toBinary(e));break}t.join()}function S9(t,e,n,r){const i=Rne(n.T,r);n.delimited?t.tag(n.no,Qi.StartGroup).raw(i.toBinary(e)).tag(n.no,Qi.EndGroup):t.tag(n.no,Qi.LengthDelimited).bytes(i.toBinary(e))}function bb(t,e,n,r){Ui(r!==void 0);let[i,a]=Ine(e);t.tag(n,i)[a](r)}function bUe(t,e,n,r){if(!r.length)return;t.tag(n,Qi.LengthDelimited).fork();let[,i]=Ine(e);for(let a=0;a<r.length;a++)t[i](r[a]);t.join()}function Ine(t){let e=Qi.Varint;switch(t){case at.BYTES:case at.STRING:e=Qi.LengthDelimited;break;case at.DOUBLE:case at.FIXED64:case at.SFIXED64:e=Qi.Bit64;break;case at.FIXED32:case at.SFIXED32:case at.FLOAT:e=Qi.Bit32;break}const n=at[t].toLowerCase();return[e,n]}function xUe(){return{setEnumType:_ne,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,a=e,s=t;if(s[i]!=null)switch(r.kind){case"oneof":const o=s[i].case;if(o===void 0)continue;const l=r.findField(o);let c=s[i].value;l&&l.kind=="message"&&!Zh(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===at.BYTES&&(c=Iy(c)),a[i]={case:o,value:c};break;case"scalar":case"enum":let u=s[i];r.T===at.BYTES&&(u=r.repeated?u.map(Iy):Iy(u)),a[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===at.BYTES)for(const[p,v]of Object.entries(s[i]))a[i][p]=Iy(v);else Object.assign(a[i],s[i]);break;case"message":const m=r.V.T;for(const p of Object.keys(s[i])){let v=s[i][p];m.fieldWrapper||(v=new m(v)),a[i][p]=v}break}break;case"message":const f=r.T;if(r.repeated)a[i]=s[i].map(m=>Zh(m,f)?m:new f(m));else{const m=s[i];f.fieldWrapper?f.typeName==="google.protobuf.BytesValue"?a[i]=Iy(m):a[i]=m:a[i]=Zh(m,f)?m:new f(m)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],a=n[r.localName];if(r.repeated){if(i.length!==a.length)return!1;switch(r.kind){case"message":return i.every((s,o)=>r.T.equals(s,a[o]));case"scalar":return i.every((s,o)=>ff(r.T,s,a[o]));case"enum":return i.every((s,o)=>ff(at.INT32,s,a[o]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let s=i,o=a;return r.T.fieldWrapper&&(s!==void 0&&!Zh(s)&&(s=r.T.fieldWrapper.wrapField(s)),o!==void 0&&!Zh(o)&&(o=r.T.fieldWrapper.wrapField(o))),r.T.equals(s,o);case"enum":return ff(at.INT32,i,a);case"scalar":return ff(r.T,i,a);case"oneof":if(i.case!==a.case)return!1;const l=r.findField(i.case);if(l===void 0)return!0;switch(l.kind){case"message":return l.T.equals(i.value,a.value);case"enum":return ff(at.INT32,i.value,a.value);case"scalar":return ff(l.T,i.value,a.value)}throw new Error("oneof cannot contain ".concat(l.kind));case"map":const c=Object.keys(i).concat(Object.keys(a));switch(r.V.kind){case"message":const u=r.V.T;return c.every(m=>u.equals(i[m],a[m]));case"enum":return c.every(m=>ff(at.INT32,i[m],a[m]));case"scalar":const f=r.V.T;return c.every(m=>ff(f,i[m],a[m]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const a=t[i.localName];let s;if(i.repeated)s=a.map(Rw);else if(i.kind=="map"){s=r[i.localName];for(const[o,l]of Object.entries(a))s[o]=Rw(l)}else i.kind=="oneof"?s=i.findField(a.case)?{case:a.case,value:Rw(a.value)}:{case:void 0}:s=Rw(a);r[i.localName]=s}for(const i of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function Rw(t){if(t===void 0)return t;if(Zh(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function Iy(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function wUe(t,e,n){return{syntax:t,json:uUe(),bin:mUe(),util:Object.assign(Object.assign({},xUe()),{newFieldList:e,initFields:n}),makeMessageType(r,i,a){return Y7e(this,r,i,a)},makeEnum:K7e,makeEnumType:kne,getEnumType:G7e,makeExtension(r,i,a){return rUe(this,r,i,a)}}}class SUe{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function jne(t,e){const n=Dne(t);return e?n:AUe(EUe(n))}function _Ue(t){return jne(t,!1)}const kUe=Dne;function Dne(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const CUe=new Set(["constructor","toString","toJSON","valueOf"]),TUe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Bne=t=>"".concat(t,"$"),EUe=t=>TUe.has(t)?Bne(t):t,AUe=t=>CUe.has(t)?Bne(t):t;class OUe{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=_Ue(e)}addField(e){Ui(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function PUe(t,e){var n,r,i,a,s,o;const l=[];let c;for(const u of typeof t=="function"?t():t){const f=u;if(f.localName=jne(u.name,u.oneof!==void 0),f.jsonName=(n=u.jsonName)!==null&&n!==void 0?n:kUe(u.name),f.repeated=(r=u.repeated)!==null&&r!==void 0?r:!1,u.kind=="scalar"&&(f.L=(i=u.L)!==null&&i!==void 0?i:Wf.BIGINT),f.delimited=(a=u.delimited)!==null&&a!==void 0?a:!1,f.req=(s=u.req)!==null&&s!==void 0?s:!1,f.opt=(o=u.opt)!==null&&o!==void 0?o:!1,u.packed===void 0&&(f.packed=u.kind=="enum"||u.kind=="scalar"&&u.T!=at.BYTES&&u.T!=at.STRING),u.oneof!==void 0){const m=typeof u.oneof=="string"?u.oneof:u.oneof.name;(!c||c.name!=m)&&(c=new OUe(m)),f.oneof=c,c.addField(f)}l.push(f)}return l}const je=wUe("proto3",t=>new SUe(t,e=>PUe(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=av(e.T,e.L);break}}});class jo extends NM{constructor(e){super(),this.seconds=vi.zero,this.nanos=0,je.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(je.json.debug(e)));const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=vi.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return jo.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new jo({seconds:vi.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new jo().fromBinary(e,n)}static fromJson(e,n){return new jo().fromJson(e,n)}static fromJsonString(e,n){return new jo().fromJsonString(e,n)}static equals(e,n){return je.util.equals(jo,e,n)}}jo.runtime=je;jo.typeName="google.protobuf.Timestamp";jo.fields=je.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const NUe=je.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:jo},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:LUe,repeated:!0},{no:5,name:"events",kind:"message",T:RUe,repeated:!0}]),LUe=je.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:MUe,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),MUe=je.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:jo},{no:3,name:"value",kind:"scalar",T:2}]),RUe=je.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:jo},{no:7,name:"normalized_end_timestamp",kind:"message",T:jo,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),Fne=je.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Kc=je.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),ua=je.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),MM=je.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Qy=je.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),r1=je.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Zc=je.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),Up=je.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),IUe=je.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),Xa=je.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),lC=je.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:u_,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:Zne}]),u_=je.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),jUe=je.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:je.getEnumType(ua),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Am=je.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:je.getEnumType(C0)},{no:4,name:"tracks",kind:"message",T:h0,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:jUe},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:je.getEnumType(i1)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:je.getEnumType(Zc)},{no:18,name:"kind_details",kind:"enum",T:je.getEnumType(DUe),repeated:!0}]),C0=je.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),i1=je.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),DUe=je.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),Aa=je.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),BUe=je.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:If,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:je.getEnumType(Une)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),h0=je.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:je.getEnumType(Kc)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:je.getEnumType(ua)},{no:10,name:"layers",kind:"message",T:If,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:BUe,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:je.getEnumType(Aa)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:Zne},{no:19,name:"audio_features",kind:"enum",T:je.getEnumType(Xa),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:je.getEnumType(Fne)}]),If=je.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:je.getEnumType(MM)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),Une=je.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),no=je.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:je.getEnumType(Fn)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:RM,oneof:"value"},{no:3,name:"speaker",kind:"message",T:FUe,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:Hne,oneof:"value"},{no:7,name:"transcription",kind:"message",T:UUe,oneof:"value"},{no:8,name:"metrics",kind:"message",T:NUe,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:h_,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:IM,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:jM,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:DM,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:d_,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:f_,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:p_,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:zne,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),Fn=je.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),zne=je.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:je.getEnumType(Aa)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),$ne=je.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:RM,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:h_,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:IM,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:jM,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:DM,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:d_,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:f_,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:p_,oneof:"value"}]),FUe=je.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:qne,repeated:!0}]),qne=je.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),RM=je.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),Hne=je.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),UUe=je.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:zUe,repeated:!0}]),zUe=je.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),h_=je.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),IM=je.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),jM=je.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),DM=je.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:Wne,oneof:"value"}]),Wne=je.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),Vne=je.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),Gne=je.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:je.getEnumType(Kne)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Kne=je.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Yne=je.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:je.getEnumType(Xne)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Xne=je.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Jne=je.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:_9},{no:2,name:"screen",kind:"message",T:_9},{no:3,name:"resume_connection",kind:"enum",T:je.getEnumType(r1)},{no:4,name:"disabled_codecs",kind:"message",T:$Ue},{no:5,name:"force_relay",kind:"enum",T:je.getEnumType(r1)}]),_9=je.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:je.getEnumType(r1)}]),$Ue=je.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:u_,repeated:!0},{no:2,name:"publish",kind:"message",T:u_,repeated:!0}]),Zne=je.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),AN=je.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),Qne=je.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:je.getEnumType(AN)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),ere=je.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),d_=je.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:je.getEnumType(Aa)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:Qne,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:ere,oneof:"content_header"}],{localName:"DataStream_Header"}),f_=je.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),p_=je.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),qUe=je.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),Yc=je.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),ON=je.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),HUe=je.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),WUe=je.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Vf,oneof:"message"},{no:2,name:"answer",kind:"message",T:Vf,oneof:"message"},{no:3,name:"trickle",kind:"message",T:cC,oneof:"message"},{no:4,name:"add_track",kind:"message",T:a1,oneof:"message"},{no:5,name:"mute",kind:"message",T:uC,oneof:"message"},{no:6,name:"subscription",kind:"message",T:hC,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:tre,oneof:"message"},{no:8,name:"leave",kind:"message",T:dC,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:rre,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:sre,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:$M,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Fu,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:UM,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:cre,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:FM,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:nre,oneof:"message"}]),k9=je.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:VUe,oneof:"message"},{no:2,name:"answer",kind:"message",T:Vf,oneof:"message"},{no:3,name:"offer",kind:"message",T:Vf,oneof:"message"},{no:4,name:"trickle",kind:"message",T:cC,oneof:"message"},{no:5,name:"update",kind:"message",T:YUe,oneof:"message"},{no:6,name:"track_published",kind:"message",T:BM,oneof:"message"},{no:8,name:"leave",kind:"message",T:dC,oneof:"message"},{no:9,name:"mute",kind:"message",T:uC,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:XUe,oneof:"message"},{no:11,name:"room_update",kind:"message",T:JUe,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:QUe,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:tze,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:rze,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:aze,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:KUe,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:GUe,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:oze,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:uze,oneof:"message"},{no:22,name:"request_response",kind:"message",T:hze,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:dze,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:sze,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:gze,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:ize,oneof:"message"}]),PN=je.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:If,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:je.getEnumType(Une)}]),a1=je.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:je.getEnumType(Kc)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:je.getEnumType(ua)},{no:9,name:"layers",kind:"message",T:If,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:PN,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:je.getEnumType(Aa)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:je.getEnumType(Fne)},{no:17,name:"audio_features",kind:"enum",T:je.getEnumType(Xa),repeated:!0}]),cC=je.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:je.getEnumType(Yc)},{no:3,name:"final",kind:"scalar",T:8}]),uC=je.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),VUe=je.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:lC},{no:2,name:"participant",kind:"message",T:Am},{no:3,name:"other_participants",kind:"message",T:Am,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:ire,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Jne},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Gne},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:u_,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),GUe=je.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:ire,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Jne},{no:3,name:"server_info",kind:"message",T:Gne},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),BM=je.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:h0}]),KUe=je.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Vf=je.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),YUe=je.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Am,repeated:!0}]),hC=je.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Vne,repeated:!0}]),tre=je.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:je.getEnumType(MM)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),FM=je.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:je.getEnumType(Xa),repeated:!0}]),nre=je.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),dC=je.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:je.getEnumType(Zc)},{no:3,name:"action",kind:"enum",T:je.getEnumType(T0)},{no:4,name:"regions",kind:"message",T:lze}]),T0=je.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),rre=je.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:If,repeated:!0}]),UM=je.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),ire=je.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),XUe=je.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:qne,repeated:!0}]),JUe=je.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:lC}]),ZUe=je.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:je.getEnumType(Qy)},{no:3,name:"score",kind:"scalar",T:2}]),QUe=je.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:ZUe,repeated:!0}]),eze=je.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:je.getEnumType(ON)}]),tze=je.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:eze,repeated:!0}]),zM=je.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:je.getEnumType(MM)},{no:2,name:"enabled",kind:"scalar",T:8}]),nze=je.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:zM,repeated:!0}]),rze=je.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:zM,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:nze,repeated:!0}]),ize=je.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:qUe,repeated:!0}]),are=je.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),sre=je.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:are,repeated:!0}]),aze=je.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),sze=je.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:lC},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:Am},{no:4,name:"other_participants",kind:"message",T:Am,repeated:!0}]),$M=je.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Vf},{no:2,name:"subscription",kind:"message",T:hC},{no:3,name:"publish_tracks",kind:"message",T:BM,repeated:!0},{no:4,name:"data_channels",kind:"message",T:lre,repeated:!0},{no:5,name:"offer",kind:"message",T:Vf},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:ore,repeated:!0}]),ore=je.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),lre=je.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:je.getEnumType(Yc)}]),Fu=je.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:je.getEnumType(HUe),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),cre=je.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),oze=je.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),lze=je.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:cze,repeated:!0}]),cze=je.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),uze=je.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:je.getEnumType(IUe)}]),hze=je.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:je.getEnumType(qM)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:cC,oneof:"request"},{no:5,name:"add_track",kind:"message",T:a1,oneof:"request"},{no:6,name:"mute",kind:"message",T:uC,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:UM,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:FM,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:nre,oneof:"request"}]),qM=je.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),dze=je.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),ure=je.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),fze=je.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:Yne},{no:2,name:"connection_settings",kind:"message",T:ure},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:a1,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:Vf},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:je.getEnumType(Up)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:$M}]),pze=je.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:je.getEnumType(mze)},{no:2,name:"join_request",kind:"scalar",T:12}]),mze=je.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),gze=je.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function vze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w2={exports:{}},yze=w2.exports,C9;function bze(){return C9||(C9=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(yze,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},s=null;function o(b,x){var w=b[x];if(typeof w.bind=="function")return w.bind(b);try{return Function.prototype.bind.call(w,b)}catch{return function(){return Function.prototype.apply.apply(w,[b,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?l:console[b]!==void 0?o(console,b):console.log!==void 0?o(console,"log"):e}function u(){for(var b=this.getLevel(),x=0;x<i.length;x++){var w=i[x];this[w]=x<b?e:this.methodFactory(w,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function f(b){return function(){typeof console!==n&&(u.call(this),this[b].apply(this,arguments))}}function m(b,x,w){return c(b)||f.apply(this,arguments)}function p(b,x){var w=this,C,E,O,P="loglevel";typeof b=="string"?P+=":"+b:typeof b=="symbol"&&(P=void 0);function L(M){var I=(i[M]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=I;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+I+";"}catch{}}}function B(){var M;if(!(typeof window===n||!P)){try{M=window.localStorage[P]}catch{}if(typeof M===n)try{var I=window.document.cookie,K=encodeURIComponent(P),H=I.indexOf(K+"=");H!==-1&&(M=/^([^;]+)/.exec(I.slice(H+K.length+1))[1])}catch{}return w.levels[M]===void 0&&(M=void 0),M}}function $(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function U(M){var I=M;if(typeof I=="string"&&w.levels[I.toUpperCase()]!==void 0&&(I=w.levels[I.toUpperCase()]),typeof I=="number"&&I>=0&&I<=w.levels.SILENT)return I;throw new TypeError("log.setLevel() called with invalid level: "+M)}w.name=b,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=x||m,w.getLevel=function(){return O??E??C},w.setLevel=function(M,I){return O=U(M),I!==!1&&L(O),u.call(w)},w.setDefaultLevel=function(M){E=U(M),B()||w.setLevel(M,!1)},w.resetLevel=function(){O=null,$(),u.call(w)},w.enableAll=function(M){w.setLevel(w.levels.TRACE,M)},w.disableAll=function(M){w.setLevel(w.levels.SILENT,M)},w.rebuild=function(){if(s!==w&&(C=U(s.getLevel())),u.call(w),s===w)for(var M in a)a[M].rebuild()},C=U(s?s.getLevel():"WARN");var G=B();G!=null&&(O=U(G)),u.call(w)}s=new p,s.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var w=a[x];return w||(w=a[x]=new p(x,s.methodFactory)),w};var v=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=v),s},s.getLoggers=function(){return a},s.default=s,s})})(w2)),w2.exports}var fC=bze(),NN;(function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.silent=5]="silent"})(NN||(NN={}));var su;(function(t){t.Default="livekit",t.Room="livekit-room",t.TokenSource="livekit-token-source",t.Participant="livekit-participant",t.Track="livekit-track",t.Publication="livekit-track-publication",t.Engine="livekit-engine",t.Signal="livekit-signal",t.PCManager="livekit-pc-manager",t.PCTransport="livekit-pc-transport",t.E2EE="lk-e2ee"})(su||(su={}));let Rn=fC.getLogger("livekit");Object.values(su).map(t=>fC.getLogger(t));Rn.setDefaultLevel(NN.info);function yd(t){const e=fC.getLogger(t);return e.setDefaultLevel(Rn.getLevel()),e}const xze=fC.getLogger("lk-e2ee"),jy=7e3,wze=[0,300,4*300,9*300,16*300,jy,jy,jy,jy,jy];class Sze{constructor(e){this._retryDelays=e!==void 0?[...e]:wze}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[e.retryCount];return e.retryCount<=1?n:n+Math.random()*1e3}}function _ze(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function me(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function T9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof T9=="function"?T9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}var Iw={exports:{}},E9;function kze(){if(E9)return Iw.exports;E9=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,L,B){return Function.prototype.apply.call(P,L,B)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:n=function(P){return Object.getOwnPropertyNames(P)};function r(O){console&&console.warn&&console.warn(O)}var i=Number.isNaN||function(P){return P!==P};function a(){a.init.call(this)}Iw.exports=a,Iw.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");s=O}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function l(O){return O._maxListeners===void 0?a.defaultMaxListeners:O._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(P){for(var L=[],B=1;B<arguments.length;B++)L.push(arguments[B]);var $=P==="error",U=this._events;if(U!==void 0)$=$&&U.error===void 0;else if(!$)return!1;if($){var G;if(L.length>0&&(G=L[0]),G instanceof Error)throw G;var M=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw M.context=G,M}var I=U[P];if(I===void 0)return!1;if(typeof I=="function")e(I,this,L);else for(var K=I.length,H=v(I,K),B=0;B<K;++B)e(H[B],this,L);return!0};function c(O,P,L,B){var $,U,G;if(o(L),U=O._events,U===void 0?(U=O._events=Object.create(null),O._eventsCount=0):(U.newListener!==void 0&&(O.emit("newListener",P,L.listener?L.listener:L),U=O._events),G=U[P]),G===void 0)G=U[P]=L,++O._eventsCount;else if(typeof G=="function"?G=U[P]=B?[L,G]:[G,L]:B?G.unshift(L):G.push(L),$=l(O),$>0&&G.length>$&&!G.warned){G.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=O,M.type=P,M.count=G.length,r(M)}return O}a.prototype.addListener=function(P,L){return c(this,P,L,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(P,L){return c(this,P,L,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(O,P,L){var B={fired:!1,wrapFn:void 0,target:O,type:P,listener:L},$=u.bind(B);return $.listener=L,B.wrapFn=$,$}a.prototype.once=function(P,L){return o(L),this.on(P,f(this,P,L)),this},a.prototype.prependOnceListener=function(P,L){return o(L),this.prependListener(P,f(this,P,L)),this},a.prototype.removeListener=function(P,L){var B,$,U,G,M;if(o(L),$=this._events,$===void 0)return this;if(B=$[P],B===void 0)return this;if(B===L||B.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete $[P],$.removeListener&&this.emit("removeListener",P,B.listener||L));else if(typeof B!="function"){for(U=-1,G=B.length-1;G>=0;G--)if(B[G]===L||B[G].listener===L){M=B[G].listener,U=G;break}if(U<0)return this;U===0?B.shift():b(B,U),B.length===1&&($[P]=B[0]),$.removeListener!==void 0&&this.emit("removeListener",P,M||L)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(P){var L,B,$;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[P]),this;if(arguments.length===0){var U=Object.keys(B),G;for($=0;$<U.length;++$)G=U[$],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=B[P],typeof L=="function")this.removeListener(P,L);else if(L!==void 0)for($=L.length-1;$>=0;$--)this.removeListener(P,L[$]);return this};function m(O,P,L){var B=O._events;if(B===void 0)return[];var $=B[P];return $===void 0?[]:typeof $=="function"?L?[$.listener||$]:[$]:L?x($):v($,$.length)}a.prototype.listeners=function(P){return m(this,P,!0)},a.prototype.rawListeners=function(P){return m(this,P,!1)},a.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):p.call(O,P)},a.prototype.listenerCount=p;function p(O){var P=this._events;if(P!==void 0){var L=P[O];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(O,P){for(var L=new Array(P),B=0;B<P;++B)L[B]=O[B];return L}function b(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function x(O){for(var P=new Array(O.length),L=0;L<P.length;++L)P[L]=O[L].listener||O[L];return P}function w(O,P){return new Promise(function(L,B){function $(G){O.removeListener(P,U),B(G)}function U(){typeof O.removeListener=="function"&&O.removeListener("error",$),L([].slice.call(arguments))}E(O,P,U,{once:!0}),P!=="error"&&C(O,$,{once:!0})})}function C(O,P,L){typeof O.on=="function"&&E(O,"error",P,L)}function E(O,P,L,B){if(typeof O.on=="function")B.once?O.once(P,L):O.on(P,L);else if(typeof O.addEventListener=="function")O.addEventListener(P,function $(U){B.once&&O.removeEventListener(P,$),L(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}return Iw.exports}var lh=kze();let hre=!0,dre=!0;function eb(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function $m(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,o){if(s!==e)return i.apply(this,arguments);const l=c=>{const u=n(c);u&&(o.handleEvent?o.handleEvent(u):o(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,l),i.apply(this,[s,l])};const a=r.removeEventListener;r.removeEventListener=function(s,o){if(s!==e||!this._eventMap||!this._eventMap[e])return a.apply(this,arguments);if(!this._eventMap[e].has(o))return a.apply(this,arguments);const l=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[s,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function Cze(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(hre=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Tze(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(dre=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function fre(){if(typeof window=="object"){if(hre)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function HM(t,e){dre&&console.warn(t+" is deprecated, please use "+e+" instead.")}function Eze(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(eb(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(eb(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(eb(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=eb(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function A9(t){return Object.prototype.toString.call(t)==="[object Object]"}function pre(t){return A9(t)?Object.keys(t).reduce(function(e,n){const r=A9(t[n]),i=r?pre(t[n]):t[n],a=r&&!Object.keys(i).length;return i===void 0||a?e:Object.assign(e,{[n]:i})},{}):t}function LN(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?LN(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{LN(t,t.get(i),n)})}))}function O9(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const a=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&a.push(s)}),a.forEach(s=>{t.forEach(o=>{o.type===r&&o.trackId===s.id&&LN(t,o,i)})}),i}const P9=fre;function mre(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const l={};return Object.keys(o).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof o[c]=="object"?o[c]:{ideal:o[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(m,p){return m?m+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(u.ideal!==void 0){l.optional=l.optional||[];let m={};typeof u.ideal=="number"?(m[f("min",c)]=u.ideal,l.optional.push(m),m={},m[f("max",c)]=u.ideal,l.optional.push(m)):(m[f("",c)]=u.ideal,l.optional.push(m))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=u.exact):["min","max"].forEach(m=>{u[m]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(m,c)]=u[m])})}),o.advanced&&(l.optional=(l.optional||[]).concat(o.advanced)),l},i=function(o,l){if(e.version>=61)return l(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const c=function(u,f,m){f in u&&!(m in u)&&(u[m]=u[f],delete u[f])};o=JSON.parse(JSON.stringify(o)),c(o.audio,"autoGainControl","googAutoGainControl"),c(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=r(o.audio)}if(o&&typeof o.video=="object"){let c=o.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete o.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(m=>{m=m.filter(v=>v.kind==="videoinput");let p=m.find(v=>f.some(b=>v.label.toLowerCase().includes(b)));return!p&&m.length&&f.includes("back")&&(p=m[m.length-1]),p&&(o.video.deviceId=c.exact?{exact:p.deviceId}:{ideal:p.deviceId}),o.video=r(o.video),P9("chrome: "+JSON.stringify(o)),l(o)})}o.video=r(o.video)}return P9("chrome: "+JSON.stringify(o)),l(o)},a=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(o,l,c){i(o,u=>{n.webkitGetUserMedia(u,l,f=>{c&&c(a(f))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>o(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(a(u))))}}}function gre(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function vre(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.track.id):a={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=a,s.transceiver={receiver:a},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.id):a={track:i};const s=new Event("track");s.track=i,s.receiver=a,s.transceiver={receiver:a},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else $m(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function yre(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,l){let c=i.apply(this,arguments);return c||(c=e(this,o),this._senders.push(c)),c};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){a.apply(this,arguments);const l=this._senders.indexOf(o);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(s=>{const o=this._senders.find(l=>l.track===s);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function bre(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(s=>s._pc=this),a});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(s=>O9(s,a.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i}),$m(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>O9(a,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,a,s;return this.getSenders().forEach(o=>{o.track===r&&(i?s=!0:i=o)}),this.getReceivers().forEach(o=>(o.track===r&&(a?s=!0:a=o),o.track===r)),s||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function xre(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(l)===-1&&this._shimmedLocalStreams[o.id].push(l):this._shimmedLocalStreams[o.id]=[o,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>o.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const l=this._shimmedLocalStreams[o].indexOf(s);l!==-1&&this._shimmedLocalStreams[o].splice(l,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),i.apply(this,arguments)}}function wre(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return xre(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(p=>p.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new t.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const m=[].slice.call(arguments,1);if(m.length!==1||!m[0].getTracks().find(b=>b===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(b=>b.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const v=this._streams[f.id];if(v)v.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const b=new t.MediaStream([u]);this._streams[f.id]=b,this._reverseStreams[b.id]=f,this.addStream(b)}return this.getSenders().find(b=>b.track===u)};function a(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(m=>{const p=c._reverseStreams[m],v=c._streams[p.id];f=f.replace(new RegExp(v.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function s(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(m=>{const p=c._reverseStreams[m],v=c._streams[p.id];f=f.replace(new RegExp(p.id,"g"),v.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const u=t.RTCPeerConnection.prototype[c],f={[c](){const m=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[v=>{const b=a(this,v);m[0].apply(null,[b])},v=>{m[1]&&m[1].apply(null,v)},arguments[2]]):u.apply(this,arguments).then(v=>a(this,v))}};t.RTCPeerConnection.prototype[c]=f[c]});const o=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=s(this,arguments[0]),o.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:a(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let m;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(b=>u.track===b)&&(m=this._streams[p])}),m&&(m.getTracks().length===1?this.removeStream(this._reverseStreams[m.id]):m.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function MN(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Sre(t,e){$m(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var N9=Object.freeze({__proto__:null,fixNegotiationNeeded:Sre,shimAddTrackRemoveTrack:wre,shimAddTrackRemoveTrackWithNative:xre,shimGetSendersWithDtmf:yre,shimGetUserMedia:mre,shimMediaStream:gre,shimOnTrack:vre,shimPeerConnection:MN,shimSenderReceiverGetStats:bre});function _re(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,a,s){HM("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(a,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,o,l){o in s&&!(l in s)&&(s[l]=s[o],delete s[o])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),a(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const o=s.apply(this,arguments);return i(o,"mozAutoGainControl","autoGainControl"),i(o,"mozNoiseSuppression","noiseSuppression"),o}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o,"autoGainControl","mozAutoGainControl"),i(o,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[o])}}}}function Aze(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function kre(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function RN(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[a,s,o]=arguments;return r.apply(this,[a||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,f)=>{l.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(s,o)}}function Cre(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Tre(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),$m(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ere(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){HM("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Are(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Ore(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=e.apply(this,arguments);if(i){const{sender:s}=a,o=s.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(o).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return a})}function Pre(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Nre(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Lre(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var L9=Object.freeze({__proto__:null,shimAddTransceiver:Ore,shimCreateAnswer:Lre,shimCreateOffer:Nre,shimGetDisplayMedia:Aze,shimGetParameters:Pre,shimGetUserMedia:_re,shimOnTrack:kre,shimPeerConnection:RN,shimRTCDataChannel:Are,shimReceiverGetStats:Tre,shimRemoveStream:Ere,shimSenderGetStats:Cre});function Mre(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return a&&a.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function Rre(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const s=new Event("addstream");s.stream=a,r.dispatchEvent(s)})}),e.apply(r,arguments)}}}function Ire(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,a=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[f]);return u?(m.then(c,u),Promise.resolve()):m},e.createAnswer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],m=r.apply(this,[f]);return u?(m.then(c,u),Promise.resolve()):m};let o=function(l,c,u){const f=i.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f};e.setLocalDescription=o,o=function(l,c,u){const f=a.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},e.setRemoteDescription=o,o=function(l,c,u){const f=s.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},e.addIceCandidate=o}function jre(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(Dre(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,a){e.mediaDevices.getUserMedia(r).then(i,a)}).bind(e))}function Dre(t){return t&&t.video!==void 0?Object.assign({},t,{video:pre(t.video)}):t}function Bre(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const a=[];for(let s=0;s<r.iceServers.length;s++){let o=r.iceServers[s];o.urls===void 0&&o.url?(HM("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,a.push(o)):a.push(r.iceServers[s])}r.iceServers=a}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Fre(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ure(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function zre(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var M9=Object.freeze({__proto__:null,shimAudioContext:zre,shimCallbacksAPI:Ire,shimConstraints:Dre,shimCreateOfferLegacy:Ure,shimGetUserMedia:jre,shimLocalStreamsAPI:Mre,shimRTCIceServerUrls:Bre,shimRemoteStreamsAPI:Rre,shimTrackEventTransceiver:Fre}),EA={exports:{}},R9;function Oze(){return R9||(R9=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":i.relatedAddress=r[a+1];break;case"rport":i.relatedPort=parseInt(r[a+1],10);break;case"tcptype":i.tcpType=r[a+1];break;case"ufrag":i.ufrag=r[a+1],i.usernameFragment=r[a+1];break;default:i[r[a]]===void 0&&(i[r[a]]=r[a+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const a=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<a.length;s++)i=a[s].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?a.push(s+"="+n.parameters[s]):a.push(s)}),r+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(i.attribute=n.substring(r+1,a),i.value=n.substring(a+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],a=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=e.splitLines(n)[0].split(" ");r.profile=a[2];for(let o=3;o<a.length;o++){const l=a[o],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=f.length?e.parseFmtp(f[0]):{},u.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(o=>{r.headerExtensions.push(e.parseExtmap(o))});const s=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(o=>{s.forEach(l=>{o.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||o.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=e.writeRtpMap(s),i+=e.writeFmtp(s),i+=e.writeRtcpFb(s)});let a=0;return r.codecs.forEach(s=>{s.maxptime>a&&(a=s.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=e.writeExtmap(s)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),a=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(n,"a=ssrc:").map(m=>e.parseSsrcMedia(m)).filter(m=>m.attribute==="cname"),l=o.length>0&&o[0].ssrc;let c;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(m=>m.substring(17).split(" ").map(v=>parseInt(v,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(m=>{if(m.name.toUpperCase()==="RTX"&&m.parameters.apt){let p={ssrc:l,codecPayloadType:parseInt(m.parameters.apt,10)};l&&c&&(p.rtx={ssrc:c}),r.push(p),a&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(p))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-2e3*8:f=void 0,r.forEach(m=>{m.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const a=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const s=e.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=e.matchPrefix(n,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const s=e.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const o=e.matchPrefix(n,"a=sctpmap:");if(o.length>0){const l=o[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:a}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let a;const s=r!==void 0?r:2;return n?a=n:a=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(EA)),EA.exports}var $re=Oze(),E0=vze($re),Pze=F7e({__proto__:null,default:E0},[$re]);function S2(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),a=E0.parseCandidate(r.candidate);for(const s in a)s in i||Object.defineProperty(i,s,{value:a[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,$m(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function IN(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||$m(t,"icecandidate",e=>{if(e.candidate){const n=E0.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function _2(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(o){if(!o||!o.sdp)return!1;const l=E0.splitSections(o.sdp);return l.shift(),l.some(c=>{const u=E0.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(o){const l=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(o){let l=65536;return e.browser==="firefox"&&(e.version<57?o===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},a=function(o,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=E0.matchPrefix(o.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),u=a(arguments[0],l);let f;c===0&&u===0?f=Number.POSITIVE_INFINITY:c===0||u===0?f=Math.max(c,u):f=Math.min(c,u);const m={};Object.defineProperty(m,"maxMessageSize",{get(){return f}}),this._sctp=m}return s.apply(this,arguments)}}function k2(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const a=r.send;r.send=function(){const o=arguments[0],l=o.length||o.size||o.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},$m(t,"datachannel",r=>(e(r.channel,r.target),r))}function jN(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const s=new Event("connectionstatechange",i);a.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function DN(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return n.apply(this,arguments)}}function C2(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function T2(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var Nze=Object.freeze({__proto__:null,removeExtmapAllowMixed:DN,shimAddIceCandidateNullOrEmpty:C2,shimConnectionState:jN,shimMaxMessageSize:_2,shimParameterlessSetLocalDescription:T2,shimRTCIceCandidate:S2,shimRTCIceCandidateRelayProtocol:IN,shimSendThrowTypeError:k2});function Lze(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=fre,r=Eze(t),i={browserDetails:r,commonShim:Nze,extractVersion:eb,disableLog:Cze,disableWarnings:Tze,sdp:Pze};switch(r.browser){case"chrome":if(!N9||!MN||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=N9,C2(t,r),T2(t),mre(t,r),gre(t),MN(t,r),vre(t),wre(t,r),yre(t),bre(t),Sre(t,r),S2(t),IN(t),jN(t),_2(t,r),k2(t),DN(t,r);break;case"firefox":if(!L9||!RN||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=L9,C2(t,r),T2(t),_re(t,r),RN(t,r),kre(t),Ere(t),Cre(t),Tre(t),Are(t),Ore(t),Pre(t),Nre(t),Lre(t),S2(t),jN(t),_2(t,r),k2(t);break;case"safari":if(!M9||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=M9,C2(t,r),T2(t),Bre(t),Ure(t),Ire(t),Mre(t),Rre(t),Fre(t),jre(t),zre(t),S2(t),IN(t),_2(t,r),k2(t),DN(t,r);break;default:n("Unsupported browser!");break}return i}Lze({window:typeof window>"u"?void 0:window});class Fo extends Promise{constructor(e){super(e)}catch(e){return super.catch(e)}static reject(e){return super.reject(e)}static all(e){return super.all(e)}static race(e){return super.race(e)}}const Mze=/version\/(\d+(\.?_?\d+)+)/i;let AA;function $o(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(AA===void 0||e){const r=Rze.find(i=>{let{test:a}=i;return a.test(n)});AA=r?.describe(n)}return AA}const Rze=[{test:/firefox|iceweasel|fxios/i,describe(t){return{name:"Firefox",version:E2(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:OA(t)}}},{test:/chrom|crios|crmo/i,describe(t){return{name:"Chrome",version:E2(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("crios")?"iOS":void 0,osVersion:OA(t)}}},{test:/safari|applewebkit/i,describe(t){return{name:"Safari",version:E2(Mze,t),os:t.includes("mobile/")?"iOS":"macOS",osVersion:OA(t)}}}];function E2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=e.match(t);return r&&r.length>=n&&r[n]||""}function OA(t){return t.includes("mac os")?E2(/\(.+?(\d+_\d+(:?_\d+)?)/,t,1).replace(/_/g,"."):void 0}var Ize="2.17.0";const jze=Ize,Dze=16;class ch extends Error{constructor(e,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=e}}var Wr;(function(t){t[t.NotAllowed=0]="NotAllowed",t[t.ServerUnreachable=1]="ServerUnreachable",t[t.InternalError=2]="InternalError",t[t.Cancelled=3]="Cancelled",t[t.LeaveRequest=4]="LeaveRequest",t[t.Timeout=5]="Timeout",t[t.WebSocket=6]="WebSocket",t[t.ServiceNotFound=7]="ServiceNotFound"})(Wr||(Wr={}));class pn extends ch{constructor(e,n,r,i){super(1,e),this.name="ConnectionError",this.status=r,this.reason=n,this.context=i,this.reasonName=Wr[n]}static notAllowed(e,n,r){return new pn(e,Wr.NotAllowed,n,r)}static timeout(e){return new pn(e,Wr.Timeout)}static leaveRequest(e,n){return new pn(e,Wr.LeaveRequest,void 0,n)}static internal(e,n){return new pn(e,Wr.InternalError,void 0,n)}static cancelled(e){return new pn(e,Wr.Cancelled)}static serverUnreachable(e,n){return new pn(e,Wr.ServerUnreachable,n)}static websocket(e,n,r){return new pn(e,Wr.WebSocket,n,r)}static serviceNotFound(e,n){return new pn(e,Wr.ServiceNotFound,void 0,n)}}class WM extends ch{constructor(e){super(21,e??"device is unsupported"),this.name="DeviceUnsupportedError"}}class ed extends ch{constructor(e){super(20,e??"track is invalid"),this.name="TrackInvalidError"}}class Bze extends ch{constructor(e){super(10,e??"unsupported server"),this.name="UnsupportedServer"}}class Yi extends ch{constructor(e){super(12,e??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class A0 extends ch{constructor(e){super(13,e??"unable to negotiate"),this.name="NegotiationError"}}class I9 extends ch{constructor(e,n){super(15,e),this.name="PublishTrackError",this.status=n}}class j9 extends ch{constructor(e,n){super(15,e),this.name="SignalRequestError",this.reason=n,this.reasonName=typeof n=="string"?n:qM[n]}}var to;(function(t){t[t.AlreadyOpened=0]="AlreadyOpened",t[t.AbnormalEnd=1]="AbnormalEnd",t[t.DecodeFailed=2]="DecodeFailed",t[t.LengthExceeded=3]="LengthExceeded",t[t.Incomplete=4]="Incomplete",t[t.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",t[t.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"})(to||(to={}));class Gl extends ch{constructor(e,n){super(16,e),this.name="DataStreamError",this.reason=n,this.reasonName=to[n]}}class qg extends ch{constructor(e){super(18,e),this.name="SignalReconnectError"}}var m_;(function(t){t.PermissionDenied="PermissionDenied",t.NotFound="NotFound",t.DeviceInUse="DeviceInUse",t.Other="Other"})(m_||(m_={}));(function(t){function e(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?t.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?t.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?t.DeviceInUse:t.Other}t.getFailure=e})(m_||(m_={}));class vs{}vs.setTimeout=function(){return setTimeout(...arguments)};vs.setInterval=function(){return setInterval(...arguments)};vs.clearTimeout=function(){return clearTimeout(...arguments)};vs.clearInterval=function(){return clearInterval(...arguments)};var ut;(function(t){t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting",t.Reconnected="reconnected",t.Disconnected="disconnected",t.ConnectionStateChanged="connectionStateChanged",t.Moved="moved",t.MediaDevicesChanged="mediaDevicesChanged",t.ParticipantConnected="participantConnected",t.ParticipantDisconnected="participantDisconnected",t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalAudioSilenceDetected="localAudioSilenceDetected",t.ActiveSpeakersChanged="activeSpeakersChanged",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.ParticipantAttributesChanged="participantAttributesChanged",t.ParticipantActive="participantActive",t.RoomMetadataChanged="roomMetadataChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.AudioPlaybackStatusChanged="audioPlaybackChanged",t.VideoPlaybackStatusChanged="videoPlaybackChanged",t.MediaDevicesError="mediaDevicesError",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.SignalConnected="signalConnected",t.RecordingStatusChanged="recordingStatusChanged",t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ActiveDeviceChanged="activeDeviceChanged",t.ChatMessage="chatMessage",t.LocalTrackSubscribed="localTrackSubscribed",t.MetricsReceived="metricsReceived"})(ut||(ut={}));var yt;(function(t){t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackCpuConstrained="localTrackCpuConstrained",t.LocalSenderCreated="localSenderCreated",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.IsSpeakingChanged="isSpeakingChanged",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.TrackCpuConstrained="trackCpuConstrained",t.MediaDevicesError="mediaDevicesError",t.AudioStreamAcquired="audioStreamAcquired",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.PCTrackAdded="pcTrackAdded",t.AttributesChanged="attributesChanged",t.LocalTrackSubscribed="localTrackSubscribed",t.ChatMessage="chatMessage",t.Active="active"})(yt||(yt={}));var vt;(function(t){t.TransportsCreated="transportsCreated",t.Connected="connected",t.Disconnected="disconnected",t.Resuming="resuming",t.Resumed="resumed",t.Restarting="restarting",t.Restarted="restarted",t.SignalResumed="signalResumed",t.SignalRestarted="signalRestarted",t.Closing="closing",t.MediaTrackAdded="mediaTrackAdded",t.ActiveSpeakersUpdate="activeSpeakersUpdate",t.DataPacketReceived="dataPacketReceived",t.RTPVideoMapUpdate="rtpVideoMapUpdate",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ParticipantUpdate="participantUpdate",t.RoomUpdate="roomUpdate",t.SpeakersChanged="speakersChanged",t.StreamStateChanged="streamStateChanged",t.ConnectionQualityUpdate="connectionQualityUpdate",t.SubscriptionError="subscriptionError",t.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",t.RemoteMute="remoteMute",t.SubscribedQualityUpdate="subscribedQualityUpdate",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackSubscribed="localTrackSubscribed",t.Offline="offline",t.SignalRequestResponse="signalRequestResponse",t.SignalConnected="signalConnected",t.RoomMoved="roomMoved"})(vt||(vt={}));var ft;(function(t){t.Message="message",t.Muted="muted",t.Unmuted="unmuted",t.Restarted="restarted",t.Ended="ended",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",t.CpuConstrained="cpuConstrained",t.UpdateSettings="updateSettings",t.UpdateSubscription="updateSubscription",t.AudioPlaybackStarted="audioPlaybackStarted",t.AudioPlaybackFailed="audioPlaybackFailed",t.AudioSilenceDetected="audioSilenceDetected",t.VisibilityChanged="visibilityChanged",t.VideoDimensionsChanged="videoDimensionsChanged",t.VideoPlaybackStarted="videoPlaybackStarted",t.VideoPlaybackFailed="videoPlaybackFailed",t.ElementAttached="elementAttached",t.ElementDetached="elementDetached",t.UpstreamPaused="upstreamPaused",t.UpstreamResumed="upstreamResumed",t.SubscriptionPermissionChanged="subscriptionPermissionChanged",t.SubscriptionStatusChanged="subscriptionStatusChanged",t.SubscriptionFailed="subscriptionFailed",t.TrackProcessorUpdate="trackProcessorUpdate",t.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",t.TranscriptionReceived="transcriptionReceived",t.TimeSyncUpdate="timeSyncUpdate",t.PreConnectBufferFlushed="preConnectBufferFlushed"})(ft||(ft={}));function Fze(t){return typeof t>"u"?t:typeof structuredClone=="function"?typeof t=="object"&&t!==null?structuredClone(Object.assign({},t)):structuredClone(t):JSON.parse(JSON.stringify(t))}class Br{constructor(e,n,r,i,a){if(typeof e=="object")this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else if(n!==void 0&&r!==void 0)this.width=e,this.height=n,this.aspectRatio=e/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:a};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const Uze=["vp8","h264"],zze=["vp8","h264","vp9","av1","h265"];function $ze(t){return!!Uze.find(e=>e===t)}const qze=$ze;var D9;(function(t){t[t.PREFER_REGRESSION=0]="PREFER_REGRESSION",t[t.SIMULCAST=1]="SIMULCAST",t[t.REGRESSION=2]="REGRESSION"})(D9||(D9={}));var BN;(function(t){t.telephone={maxBitrate:12e3},t.speech={maxBitrate:24e3},t.music={maxBitrate:48e3},t.musicStereo={maxBitrate:64e3},t.musicHighQuality={maxBitrate:96e3},t.musicHighQualityStereo={maxBitrate:128e3}})(BN||(BN={}));const s1={h90:new Br(160,90,9e4,20),h180:new Br(320,180,16e4,20),h216:new Br(384,216,18e4,20),h360:new Br(640,360,45e4,20),h540:new Br(960,540,8e5,25),h720:new Br(1280,720,17e5,30),h1080:new Br(1920,1080,3e6,30),h1440:new Br(2560,1440,5e6,30),h2160:new Br(3840,2160,8e6,30)},FN={h120:new Br(160,120,7e4,20),h180:new Br(240,180,125e3,20),h240:new Br(320,240,14e4,20),h360:new Br(480,360,33e4,20),h480:new Br(640,480,5e5,20),h540:new Br(720,540,6e5,25),h720:new Br(960,720,13e5,30),h1080:new Br(1440,1080,23e5,30),h1440:new Br(1920,1440,38e5,30)},VM={h360fps3:new Br(640,360,2e5,3,"medium"),h360fps15:new Br(640,360,4e5,15,"medium"),h720fps5:new Br(1280,720,8e5,5,"medium"),h720fps15:new Br(1280,720,15e5,15,"medium"),h720fps30:new Br(1280,720,2e6,30,"medium"),h1080fps15:new Br(1920,1080,25e5,15,"medium"),h1080fps30:new Br(1920,1080,5e6,30,"medium"),original:new Br(0,0,7e6,30,"medium")};function qre(t,e,n){var r,i,a,s;const{optionsWithoutProcessor:o,audioProcessor:l,videoProcessor:c}=Vre(t??{}),u=e?.processor,f=n?.processor,m=o??{};return m.audio===!0&&(m.audio={}),m.video===!0&&(m.video={}),m.audio&&(UN(m.audio,e),(r=(a=m.audio).deviceId)!==null&&r!==void 0||(a.deviceId={ideal:"default"}),(l||u)&&(m.audio.processor=l??u)),m.video&&(UN(m.video,n),(i=(s=m.video).deviceId)!==null&&i!==void 0||(s.deviceId={ideal:"default"}),(c||f)&&(m.video.processor=c??f)),m}function UN(t,e){return Object.keys(e).forEach(n=>{t[n]===void 0&&(t[n]=e[n])}),t}function GM(t){var e,n,r,i;const a={};if(t.video)if(typeof t.video=="object"){const s={},o=s,l=t.video;Object.keys(l).forEach(c=>{c==="resolution"?UN(o,l.resolution):o[c]=l[c]}),a.video=s,(e=(r=a.video).deviceId)!==null&&e!==void 0||(r.deviceId={ideal:"default"})}else a.video=t.video?{deviceId:{ideal:"default"}}:!1;else a.video=!1;return t.audio?typeof t.audio=="object"?(a.audio=t.audio,(n=(i=a.audio).deviceId)!==null&&n!==void 0||(i.deviceId={ideal:"default"})):a.audio={deviceId:{ideal:"default"}}:a.audio=!1,a}function Hre(t){return me(this,arguments,void 0,function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return(function*(){const r=Wre();if(r){const i=r.createAnalyser();i.fftSize=2048;const a=i.frequencyBinCount,s=new Uint8Array(a);r.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(i),yield ys(n),i.getByteTimeDomainData(s);const l=s.some(c=>c!==128&&c!==0);return r.close(),!l}return!1})()})}function Wre(){var t;const e=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(e){const n=new e({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((t=window.document)===null||t===void 0)&&t.body)){const r=()=>me(this,void 0,void 0,function*(){var i;try{n.state==="suspended"&&(yield n.resume())}catch(a){console.warn("Error trying to auto-resume audio context",a)}finally{(i=window.document.body)===null||i===void 0||i.removeEventListener("click",r)}});n.addEventListener("statechange",()=>{var i;n.state==="closed"&&((i=window.document.body)===null||i===void 0||i.removeEventListener("click",r))}),window.document.body.addEventListener("click",r)}return n}}function Hze(t){return t==="audioinput"?Ze.Source.Microphone:t==="videoinput"?Ze.Source.Camera:Ze.Source.Unknown}function zN(t){return t===Ze.Source.Microphone?"audioinput":t===Ze.Source.Camera?"videoinput":void 0}function Wze(t){var e,n;let r=(e=t.video)!==null&&e!==void 0?e:!0;return t.resolution&&t.resolution.width>0&&t.resolution.height>0&&(r=typeof r=="boolean"?{}:r,Pm()?r=Object.assign(Object.assign({},r),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:(n=t.audio)!==null&&n!==void 0?n:!1,video:r,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio,preferCurrentTab:t.preferCurrentTab}}function xb(t){return t.split("/")[1].toLowerCase()}function Vze(t){const e=[];return t.forEach(n=>{n.track!==void 0&&e.push(new BM({cid:n.track.mediaStreamID,track:n.trackInfo}))}),e}function Wn(t){return"mediaStreamTrack"in t?{trackID:t.sid,source:t.source,muted:t.isMuted,enabled:t.mediaStreamTrack.enabled,kind:t.kind,streamID:t.mediaStreamID,streamTrackID:t.mediaStreamTrack.id}:{trackID:t.trackSid,enabled:t.isEnabled,muted:t.isMuted,trackInfo:Object.assign({mimeType:t.mimeType,name:t.trackName,encrypted:t.isEncrypted,kind:t.kind,source:t.source},t.track?Wn(t.track):{})}}function Gze(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function Kze(t,e){var n;t===void 0&&(t={}),e===void 0&&(e={});const r=[...Object.keys(e),...Object.keys(t)],i={};for(const a of r)t[a]!==e[a]&&(i[a]=(n=e[a])!==null&&n!==void 0?n:"");return i}function Vre(t){const e=Object.assign({},t);let n,r;return typeof e.audio=="object"&&e.audio.processor&&(n=e.audio.processor,e.audio=Object.assign(Object.assign({},e.audio),{processor:void 0})),typeof e.video=="object"&&e.video.processor&&(r=e.video.processor,e.video=Object.assign(Object.assign({},e.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:Fze(e)}}function Yze(t){switch(t){case ua.CAMERA:return Ze.Source.Camera;case ua.MICROPHONE:return Ze.Source.Microphone;case ua.SCREEN_SHARE:return Ze.Source.ScreenShare;case ua.SCREEN_SHARE_AUDIO:return Ze.Source.ScreenShareAudio;default:return Ze.Source.Unknown}}function B9(t,e){return t.width*t.height<e.width*e.height}function Xze(t,e){var n;return(n=t.layers)===null||n===void 0?void 0:n.find(r=>r.quality===e)}const Jze=5e3,Dy=[];var xl;(function(t){t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH"})(xl||(xl={}));class Ze extends lh.EventEmitter{get streamState(){return this._streamState}setStreamState(e){this._streamState=e}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=Ze.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=Rn,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),Jze):this.handleAppVisibilityChanged()},this.log=yd((i=r.loggerName)!==null&&i!==void 0?i:su.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=Ze.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),Wn(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let n="audio";this.kind===Ze.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===Ze.Kind.Video&&this.addAppVisibilityListener(),e||(n==="audio"&&(Dy.forEach(a=>{a.parentElement===null&&!e&&(e=a)}),e&&Dy.splice(Dy.indexOf(e),1)),e||(e=document.createElement(n))),this.attachedElements.includes(e)||this.attachedElements.push(e),d0(this.mediaStreamTrack,e);const r=e.srcObject.getTracks(),i=r.some(a=>a.kind==="audio");return e.play().then(()=>{this.emit(i?ft.AudioPlaybackStarted:ft.VideoPlaybackStarted)}).catch(a=>{a.name==="NotAllowedError"?this.emit(i?ft.AudioPlaybackFailed:ft.VideoPlaybackFailed,a):a.name==="AbortError"?Rn.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):Rn.warn("could not playback ".concat(i?"audio":"video"),a),i&&e&&r.some(s=>s.kind==="video")&&a.name==="NotAllowedError"&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(ft.ElementAttached,e),e}detach(e){try{if(e){O0(this.mediaStreamTrack,e);const r=this.attachedElements.indexOf(e);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(e),this.emit(ft.ElementDetached,e)),e}const n=[];return this.attachedElements.forEach(r=>{O0(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(ft.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=yd(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let n=!0;e.pause(),Dy.forEach(r=>{r.parentElement||(n=!1)}),n&&Dy.push(e)}}handleAppVisibilityChanged(){return me(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===Ze.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(e=>e.play().catch(()=>{})),0)})}addAppVisibilityListener(){Uo()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Uo()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function d0(t,e){let n;e.srcObject instanceof MediaStream?n=e.srcObject:n=new MediaStream;let r;t.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(t)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(t)),(!Pm()||!(e instanceof HTMLVideoElement))&&(e.autoplay=!0),e.muted=n.getAudioTracks().length===0,e instanceof HTMLVideoElement&&(e.playsInline=!0),e.srcObject!==n&&(e.srcObject=n,(Pm()||Om())&&e instanceof HTMLVideoElement&&setTimeout(()=>{e.srcObject=n,e.play().catch(()=>{})},0))}function O0(t,e){if(e.srcObject instanceof MediaStream){const n=e.srcObject;n.removeTrack(t),n.getTracks().length>0?e.srcObject=n:e.srcObject=null}}(function(t){let e;(function(c){c.Audio="audio",c.Video="video",c.Unknown="unknown"})(e=t.Kind||(t.Kind={}));let n;(function(c){c.Camera="camera",c.Microphone="microphone",c.ScreenShare="screen_share",c.ScreenShareAudio="screen_share_audio",c.Unknown="unknown"})(n=t.Source||(t.Source={}));let r;(function(c){c.Active="active",c.Paused="paused",c.Unknown="unknown"})(r=t.StreamState||(t.StreamState={}));function i(c){switch(c){case e.Audio:return Kc.AUDIO;case e.Video:return Kc.VIDEO;default:return Kc.DATA}}t.kindToProto=i;function a(c){switch(c){case Kc.AUDIO:return e.Audio;case Kc.VIDEO:return e.Video;default:return e.Unknown}}t.kindFromProto=a;function s(c){switch(c){case n.Camera:return ua.CAMERA;case n.Microphone:return ua.MICROPHONE;case n.ScreenShare:return ua.SCREEN_SHARE;case n.ScreenShareAudio:return ua.SCREEN_SHARE_AUDIO;default:return ua.UNKNOWN}}t.sourceToProto=s;function o(c){switch(c){case ua.CAMERA:return n.Camera;case ua.MICROPHONE:return n.Microphone;case ua.SCREEN_SHARE:return n.ScreenShare;case ua.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}t.sourceFromProto=o;function l(c){switch(c){case ON.ACTIVE:return r.Active;case ON.PAUSED:return r.Paused;default:return r.Unknown}}t.streamStateFromProto=l})(Ze||(Ze={}));const Zze="|",F9="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function Qze(t){const e=t.split(Zze);return e.length>1?[e[0],t.substr(e[0].length+1)]:[t,""]}function ys(t){return new Fo(e=>vs.setTimeout(e,t))}function $N(){return"addTransceiver"in RTCPeerConnection.prototype}function qN(){return"addTrack"in RTCPeerConnection.prototype}function e9e(){if(!("getCapabilities"in RTCRtpSender)||Pm()||Om())return!1;const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType.toLowerCase()==="video/av1"){e=!0;break}}return e}function t9e(){if(!("getCapabilities"in RTCRtpSender)||Om())return!1;if(Pm()){const n=$o();if(n?.version&&nh(n.version,"16")<0||n?.os==="iOS"&&n?.osVersion&&nh(n.osVersion,"16")<0)return!1}const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType.toLowerCase()==="video/vp9"){e=!0;break}}return e}function Xc(t){return t==="av1"||t==="vp9"}function HN(t){return!document||o1()?!1:(t||(t=document.createElement("audio")),"setSinkId"in t)}function n9e(){return typeof RTCPeerConnection>"u"?!1:$N()||qN()}function Om(){var t;return((t=$o())===null||t===void 0?void 0:t.name)==="Firefox"}function U9(){const t=$o();return!!t&&t.name==="Chrome"&&t.os!=="iOS"}function Pm(){var t;return((t=$o())===null||t===void 0?void 0:t.name)==="Safari"}function o1(){const t=$o();return t?.name==="Safari"||t?.os==="iOS"}function r9e(){const t=$o();return t?.name==="Safari"&&t.version.startsWith("17.")||t?.os==="iOS"&&!!t?.osVersion&&nh(t.osVersion,"17")>=0}function i9e(t){return t||(t=$o()),t?.name==="Safari"&&nh(t.version,"18.3")>0||t?.os==="iOS"&&!!t?.osVersion&&nh(t.osVersion,"18.3")>0}function Gre(){var t,e;return Uo()?(e=(t=navigator.userAgentData)===null||t===void 0?void 0:t.mobile)!==null&&e!==void 0?e:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function a9e(){const t=$o(),e="17.2";if(t)return t.name!=="Safari"&&t.os!=="iOS"||t.os==="iOS"&&t.osVersion&&nh(t.osVersion,e)>=0?!0:t.name==="Safari"&&nh(t.version,e)>=0}function Uo(){return typeof document<"u"}function th(){return navigator.product=="ReactNative"}function sv(t){return t.hostname.endsWith(".livekit.cloud")||t.hostname.endsWith(".livekit.run")}function PA(t){return sv(t)?t.hostname.split(".")[0]:null}function Kre(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function Yre(){if(!th())return;let t=Kre();if(t)return t.platform}function z9(){if(Uo())return window.devicePixelRatio;if(th()){let t=Kre();if(t)return t.devicePixelRatio}return 1}function nh(t,e){const n=t.split("."),r=e.split("."),i=Math.min(n.length,r.length);for(let a=0;a<i;++a){const s=parseInt(n[a],10),o=parseInt(r[a],10);if(s>o)return 1;if(s<o)return-1;if(a===i-1&&s===o)return 0}return t===""&&e!==""?-1:e===""?1:n.length==r.length?0:n.length<r.length?-1:1}function s9e(t){for(const e of t)e.target.handleResize(e)}function o9e(t){for(const e of t)e.target.handleVisibilityChanged(e)}let NA=null;const $9=()=>(NA||(NA=new ResizeObserver(s9e)),NA);let LA=null;const q9=()=>(LA||(LA=new IntersectionObserver(o9e,{root:null,rootMargin:"0px"})),LA);function l9e(){var t;const e=new Yne({sdk:Xne.JS,protocol:Dze,version:jze});return th()&&(e.os=(t=Yre())!==null&&t!==void 0?t:""),e}function H9(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=t,i.height=e;const a=i.getContext("2d");a?.fillRect(0,0,i.width,i.height),r&&a&&(a.beginPath(),a.arc(t/2,e/2,50,0,Math.PI*2,!0),a.closePath(),a.fillStyle="grey",a.fill());const s=i.captureStream(),[o]=s.getTracks();if(!o)throw Error("Could not get empty media stream video track");return o.enabled=n,o}let By;function MA(){if(!By){const t=new AudioContext,e=t.createOscillator(),n=t.createGain();n.gain.setValueAtTime(0,0);const r=t.createMediaStreamDestination();if(e.connect(n),n.connect(r),e.start(),[By]=r.stream.getAudioTracks(),!By)throw Error("Could not get empty media stream audio track");By.enabled=!1}return By.clone()}class Jl{get isResolved(){return this._isResolved}constructor(e,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,i)=>me(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,e&&(yield e(r,i))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function c9e(t){return zze.includes(t)}function jf(t){if(typeof t=="string"||typeof t=="number")return t;if(Array.isArray(t))return t[0];if(t.exact!==void 0)return Array.isArray(t.exact)?t.exact[0]:t.exact;if(t.ideal!==void 0)return Array.isArray(t.ideal)?t.ideal[0]:t.ideal;throw Error("could not unwrap constraint")}function u9e(t){return t.startsWith("http")?t.replace(/^(http)/,"ws"):t}function l1(t){return t.startsWith("ws")?t.replace(/^(ws)/,"http"):t}function h9e(t,e){return t.segments.map(n=>{let{id:r,text:i,language:a,startTime:s,endTime:o,final:l}=n;var c;const u=(c=e.get(r))!==null&&c!==void 0?c:Date.now(),f=Date.now();return l?e.delete(r):e.set(r,u),{id:r,text:i,startTime:Number.parseInt(s.toString()),endTime:Number.parseInt(o.toString()),final:l,language:a,firstReceivedTime:u,lastReceivedTime:f}})}function d9e(t){const{id:e,timestamp:n,message:r,editTimestamp:i}=t;return{id:e,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}function W9(t){switch(t.reason){case Wr.LeaveRequest:return t.context;case Wr.Cancelled:return Zc.CLIENT_INITIATED;case Wr.NotAllowed:return Zc.USER_REJECTED;case Wr.ServerUnreachable:return Zc.JOIN_FAILURE;default:return Zc.UNKNOWN_REASON}}function A2(t){return t!==void 0?Number(t):void 0}function zp(t){return t!==void 0?BigInt(t):void 0}function P0(t){return!!t&&!(t instanceof MediaStreamTrack)&&t.isLocal}function Ku(t){return!!t&&t.kind==Ze.Kind.Audio}function ep(t){return!!t&&t.kind==Ze.Kind.Video}function pf(t){return P0(t)&&ep(t)}function qh(t){return P0(t)&&Ku(t)}function WN(t){return!!t&&!t.isLocal}function f9e(t){return!!t&&!t.isLocal}function RA(t){return WN(t)&&ep(t)}function p9e(t){return t.isLocal}function m9e(t,e){const n=[];let r=new TextEncoder().encode(t);for(;r.length>e;){let i=e;for(;i>0;){const a=r[i];if(a!==void 0&&(a&192)!==128)break;i--}n.push(r.slice(0,i)),r=r.slice(i)}return r.length>0&&n.push(r),n}function g9e(t){var e;const n=t.get("Cache-Control");if(n){const r=(e=n.match(/(?:^|[,\s])max-age=(\d+)/))===null||e===void 0?void 0:e[1];if(r)return parseInt(r,10)}}function v9e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=y9e(t,e);return n?r:KM(r,"v1")}function y9e(t,e){const n=new URL(u9e(t));return e.forEach((r,i)=>{n.searchParams.set(i,r)}),KM(n,"rtc")}function b9e(t){const e=new URL(l1(t));return KM(e,"validate")}function Xre(t){return t.endsWith("/")?t:"".concat(t,"/")}function KM(t,e){return t.pathname="".concat(Xre(t.pathname)).concat(e),t}function V9(t){if(typeof t=="string")return k9.fromJson(JSON.parse(t),{ignoreUnknownFields:!0});if(t instanceof ArrayBuffer)return k9.fromBinary(new Uint8Array(t));throw new Error("could not decode websocket message: ".concat(typeof t))}function x9e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unknown reason";if(!(t instanceof AbortSignal))return e;const n=t.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:e;default:return"toString"in n?n.toString():e}}const w9e=10,Fy="lk_e2ee",S9e="LKFrameEncryptionKey",_9e={sharedKey:!1,ratchetSalt:S9e,ratchetWindowSize:8,failureTolerance:w9e,keyringSize:16};var Df;(function(t){t.SetKey="setKey",t.RatchetRequest="ratchetRequest",t.KeyRatcheted="keyRatcheted"})(Df||(Df={}));var G9;(function(t){t.KeyRatcheted="keyRatcheted"})(G9||(G9={}));var Lf;(function(t){t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError"})(Lf||(Lf={}));var K9;(function(t){t.Error="cryptorError"})(K9||(K9={}));function k9e(){return C9e()||VN()}function VN(){return typeof window.RTCRtpScriptTransform<"u"}function C9e(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}function T9e(t){var e,n,r,i,a;if(((e=t.value)===null||e===void 0?void 0:e.case)!=="sipDtmf"&&((n=t.value)===null||n===void 0?void 0:n.case)!=="metrics"&&((r=t.value)===null||r===void 0?void 0:r.case)!=="speaker"&&((i=t.value)===null||i===void 0?void 0:i.case)!=="transcription"&&((a=t.value)===null||a===void 0?void 0:a.case)!=="encryptedPacket")return new $ne({value:t.value})}class pGe extends lh.EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r,i)=>{Rn.debug("key ratcheted event received",{ratchetResult:n,participantId:r,keyIndex:i})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},_9e),e),this.on(Df.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,n,r){const i={key:e,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(Df.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,n){this.emit(Df.RatchetRequest,e,n)}}var Y9;(function(t){t[t.InvalidKey=0]="InvalidKey",t[t.MissingKey=1]="MissingKey",t[t.InternalError=2]="InternalError"})(Y9||(Y9={}));class E9e extends lh.EventEmitter{constructor(e,n){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=r=>{var i,a;const{kind:s,data:o}=r.data;switch(s){case"error":if(Rn.error(o.error.message),o.uuid){const u=this.decryptDataRequests.get(o.uuid);if(u?.reject){u.reject(o.error);break}const f=this.encryptDataRequests.get(o.uuid);if(f?.reject){f.reject(o.error);break}}this.emit(Lf.EncryptionError,o.error,o.participantIdentity);break;case"initAck":o.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)});break;case"enable":if(o.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)}),this.encryptionEnabled!==o.enabled&&o.participantIdentity===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity))this.emit(Lf.ParticipantEncryptionStatusChanged,o.enabled,this.room.localParticipant),this.encryptionEnabled=o.enabled;else if(o.participantIdentity){const u=(a=this.room)===null||a===void 0?void 0:a.getParticipantByIdentity(o.participantIdentity);if(!u)throw TypeError("couldn't set encryption status, participant not found".concat(o.participantIdentity));this.emit(Lf.ParticipantEncryptionStatusChanged,o.enabled,u)}break;case"ratchetKey":this.keyProvider.emit(Df.KeyRatcheted,o.ratchetResult,o.participantIdentity,o.keyIndex);break;case"decryptDataResponse":const l=this.decryptDataRequests.get(o.uuid);l?.resolve&&l.resolve(o);break;case"encryptDataResponse":const c=this.encryptDataRequests.get(o.uuid);c?.resolve&&c.resolve(o);break}},this.onWorkerError=r=>{Rn.error("e2ee worker encountered an error:",{error:r.error}),this.emit(Lf.EncryptionError,r.error,void 0)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=n}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(e){if(!k9e())throw new WM("tried to setup end-to-end encryption on an unsupported browser");if(Rn.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:xze.getLevel()}};this.worker&&(Rn.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(e,n){Rn.debug("set e2ee to ".concat(e," for participant ").concat(n)),this.postEnable(e,n)}setSifTrailer(e){!e||e.length===0?Rn.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(e)}setupEngine(e){e.on(vt.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(e,n){e.on(ut.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Aa.NONE,i.identity)),e.on(ut.ConnectionStateChanged,r=>{r===pr.Connected&&e.remoteParticipants.forEach(i=>{i.trackPublications.forEach(a=>{this.setParticipantCryptorEnabled(a.trackInfo.encryption!==Aa.NONE,i.identity)})})}).on(ut.TrackUnsubscribed,(r,i,a)=>{var s;const o={kind:"removeTransform",data:{participantIdentity:a.identity,trackId:r.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(o)}).on(ut.TrackSubscribed,(r,i,a)=>{this.setupE2EEReceiver(r,a.identity,i.trackInfo)}).on(ut.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),e.localParticipant.on(yt.LocalSenderCreated,(r,i)=>me(this,void 0,void 0,function*(){this.setupE2EESender(i,r)})),e.localParticipant.on(yt.LocalTrackPublished,r=>{if(!ep(r.track)||!o1())return;const i={kind:"updateCodec",data:{trackId:r.track.mediaStreamID,codec:xb(r.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}),n.on(Df.SetKey,r=>this.postKey(r)).on(Df.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}encryptData(e){return me(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const n=crypto.randomUUID(),r={kind:"encryptDataRequest",data:{uuid:n,payload:e,participantIdentity:this.room.localParticipant.identity}},i=new Jl;return i.onFinally=()=>{this.encryptDataRequests.delete(n)},this.encryptDataRequests.set(n,i),this.worker.postMessage(r),i.promise})}handleEncryptedData(e,n,r,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const a=crypto.randomUUID(),s={kind:"decryptDataRequest",data:{uuid:a,payload:e,iv:n,participantIdentity:r,keyIndex:i}},o=new Jl;return o.onFinally=()=>{this.decryptDataRequests.delete(a)},this.decryptDataRequests.set(a,o),this.worker.postMessage(s),o.promise}postRatchetRequest(e,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:n}};this.worker.postMessage(r)}postKey(e){let{key:n,participantIdentity:r,keyIndex:i}=e;var a;if(!this.worker)throw Error("could not set key, worker is missing");const s={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((a=this.room)===null||a===void 0?void 0:a.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(s)}postEnable(e,n){if(this.worker){const r={kind:"enable",data:{enabled:e,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(n)}setupE2EEReceiver(e,n,r){if(e.receiver){if(!r?.mimeType||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,n,e.kind==="video"?xb(r.mimeType):void 0)}}setupE2EESender(e,n){if(!P0(e)||!n){n||Rn.warn("early return because sender is not ready");return}this.handleSender(n,e.mediaStreamID,void 0)}handleReceiver(e,n,r,i){return me(this,void 0,void 0,function*(){if(this.worker){if(VN()&&!U9()){const a={kind:"decode",participantIdentity:r,trackId:n,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,a)}else{if(Fy in e&&i){const l={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(l);return}let a=e.writableStream,s=e.readableStream;if(!a||!s){const l=e.createEncodedStreams();e.writableStream=l.writable,a=l.writable,e.readableStream=l.readable,s=l.readable}const o={kind:"decode",data:{readableStream:s,writableStream:a,trackId:n,codec:i,participantIdentity:r,isReuse:Fy in e}};this.worker.postMessage(o,[s,a])}e[Fy]=!0}})}handleSender(e,n,r){var i;if(!(Fy in e||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(VN()&&!U9()){Rn.info("initialize script transform");const a={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,a)}else{Rn.info("initialize encoded streams");const a=e.createEncodedStreams(),s={kind:"encode",data:{readableStream:a.readable,writableStream:a.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(s,[a.readable,a.writable])}e[Fy]=!0}}}const A9e=500,O9e=15e3;class N0{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new N0),this._instance}addFailedConnectionAttempt(e){var n;const r=new URL(e),i=PA(r);if(!i)return;let a=(n=this.failedConnectionAttempts.get(i))!==null&&n!==void 0?n:0;this.failedConnectionAttempts.set(i,a+1),this.backOffPromises.set(i,ys(Math.min(A9e*Math.pow(2,a),O9e)))}getBackOffPromise(e){const n=new URL(e),r=n&&PA(n);return r&&this.backOffPromises.get(r)||Promise.resolve()}resetFailedConnectionAttempts(e){const n=new URL(e),r=n&&PA(n);r&&(this.failedConnectionAttempts.set(r,0),this.backOffPromises.set(r,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}N0._instance=null;const IA="default";class Ja{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new Ja),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var a;if(((a=Ja.userMediaPromiseMap)===null||a===void 0?void 0:a.size)>0){Rn.debug("awaiting getUserMedia promise");try{n?yield Ja.userMediaPromiseMap.get(n):yield Promise.all(Ja.userMediaPromiseMap.values())}catch{Rn.warn("error waiting for media permissons")}}let s=yield navigator.mediaDevices.enumerateDevices();if(i&&!(Pm()&&r.hasDeviceInUse(n))&&(s.filter(l=>l.kind===n).length===0||s.some(l=>{const c=l.label==="",u=n?l.kind===n:!0;return c&&u}))){const l={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},c=yield navigator.mediaDevices.getUserMedia(l);s=yield navigator.mediaDevices.enumerateDevices(),c.getTracks().forEach(u=>{u.stop()})}return r._previousDevices=s,n&&(s=s.filter(o=>o.kind===n)),s})()})}normalizeDeviceId(e,n,r){return me(this,void 0,void 0,function*(){if(n!==IA)return n;const i=yield this.getDevices(e),a=i.find(o=>o.deviceId===IA);if(!a){Rn.warn("could not reliably determine default device");return}const s=i.find(o=>o.deviceId!==IA&&o.groupId===(r??a.groupId));if(!s){Rn.warn("could not reliably determine default device");return}return s?.deviceId})}hasDeviceInUse(e){return e?Ja.userMediaPromiseMap.has(e):Ja.userMediaPromiseMap.size>0}}Ja.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];Ja.userMediaPromiseMap=new Map;var wb;(function(t){t[t.WAITING=0]="WAITING",t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED"})(wb||(wb={}));class P9e{constructor(){this.pendingTasks=new Map,this.taskMutex=new lo,this.nextTaskIndex=0}run(e){return me(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:wb.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=wb.RUNNING,yield e()}finally{n.status=wb.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return me(this,void 0,void 0,function*(){return this.run(()=>me(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class N9e{get readyState(){return this.ws.readyState}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r,i;if(!((r=n.signal)===null||r===void 0)&&r.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=e;const a=new WebSocket(e,(i=n.protocols)!==null&&i!==void 0?i:[]);a.binaryType="arraybuffer",this.ws=a;const s=function(){let{closeCode:o,reason:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.close(o,l)};this.opened=new Fo((o,l)=>{const c=()=>{l(pn.websocket("Encountered websocket error during connection establishment"))};a.onopen=()=>{o({readable:new ReadableStream({start(u){a.onmessage=f=>{let{data:m}=f;return u.enqueue(m)},a.onerror=f=>u.error(f)},cancel:s}),writable:new WritableStream({write(u){a.send(u)},abort(){a.close()},close:s}),protocol:a.protocol,extensions:a.extensions}),a.removeEventListener("error",c)},a.addEventListener("error",c)}),this.closed=new Fo((o,l)=>{const c=()=>me(this,void 0,void 0,function*(){const u=new Fo(m=>{a.readyState!==WebSocket.CLOSED&&a.addEventListener("close",p=>{m(p)},{once:!0})}),f=yield Fo.race([ys(250),u]);f?o(f):l(pn.websocket("Encountered unspecified websocket error without a timely close event"))});a.onclose=u=>{let{code:f,reason:m}=u;o({closeCode:f,reason:m}),a.removeEventListener("error",c)},a.addEventListener("error",c)}),n.signal&&(n.signal.onabort=()=>a.close()),this.close=s}}const L9e=["syncState","trickle","offer","answer","simulate","leave"];function M9e(t){const e=L9e.indexOf(t.case)>=0;return Rn.trace("request allowed to bypass queue:",{canPass:e,req:t}),e}var Hr;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.RECONNECTING=2]="RECONNECTING",t[t.DISCONNECTING=3]="DISCONNECTING",t[t.DISCONNECTED=4]="DISCONNECTED"})(Hr||(Hr={}));const R9e=250;class YM{get currentState(){return this.state}get isDisconnected(){return this.state===Hr.DISCONNECTING||this.state===Hr.DISCONNECTED}get isEstablishingConnection(){return this.state===Hr.CONNECTING||this.state===Hr.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Hr.DISCONNECTED,this.log=Rn,this._requestId=0,this.useV0SignalPath=!1,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=yd((r=n.loggerName)!==null&&r!==void 0?r:su.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=e,this.requestQueue=new P9e,this.queuedRequests=[],this.closingLock=new lo,this.connectionLock=new lo,this.state=Hr.DISCONNECTED}get logContext(){var e,n;return(n=(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:{}}join(e,n,r,i){return me(this,arguments,void 0,function(a,s,o,l){var c=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(function*(){return c.state=Hr.CONNECTING,c.options=o,yield c.connect(a,s,o,l,u)})()})}reconnect(e,n,r,i){return me(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Hr.RECONNECTING,this.clearPingInterval(),yield this.connect(e,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}),void 0,this.useV0SignalPath)})}connect(e,n,r,i){return me(this,arguments,void 0,function(a,s,o,l){var c=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(function*(){const f=yield c.connectionLock.lock();c.connectOptions=o,c.useV0SignalPath=u;const m=l9e(),p=u?I9e(s,m,o):j9e(s,m,o),v=v9e(a,p,u).toString(),b=b9e(v).toString();return new Promise((x,w)=>me(c,void 0,void 0,function*(){var C,E;try{let O=!1;const P=G=>me(this,void 0,void 0,function*(){if(O)return;O=!0;const M=G instanceof Event?G.currentTarget:G,I=x9e(M,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(I)).catch(K=>{this.log.error(K),this.close()}):this.close(),L(),w(pn.cancelled(I))});l?.addEventListener("abort",P);const L=()=>{clearTimeout(B),l?.removeEventListener("abort",P)},B=setTimeout(()=>{P(pn.timeout("room connection has timed out (signal)"))},o.websocketTimeout),$=(G,M)=>{this.handleSignalConnected(G,B,M)},U=new URL(v);U.searchParams.has("access_token")&&U.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(U),Object.assign({reconnect:o.reconnect,reconnectReason:o.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new N9e(v);try{this.ws.closed.then(W=>{var Q;this.isEstablishingConnection&&w(pn.internal("Websocket got closed during a (re)connection attempt: ".concat(W.reason))),W.closeCode!==1e3&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:W.reason,code:W.closeCode,wasClean:W.closeCode===1e3,state:this.state})),this.state===Hr.CONNECTED&&this.handleOnClose((Q=W.reason)!==null&&Q!==void 0?Q:"Unexpected WS error"))}).catch(W=>{this.isEstablishingConnection&&w(pn.internal("Websocket error during a (re)connection attempt: ".concat(W)))});const G=yield this.ws.opened.catch(W=>me(this,void 0,void 0,function*(){if(this.state!==Hr.CONNECTED){this.state=Hr.DISCONNECTED,clearTimeout(B);const Q=yield this.handleConnectionError(W,b);w(Q);return}this.handleWSError(W),w(W)}));if(clearTimeout(B),!G)return;const M=G.readable.getReader();this.streamWriter=G.writable.getWriter();const I=yield M.read();if(M.releaseLock(),!I.value)throw pn.internal("no message received as first message");const K=V9(I.value),H=this.validateFirstMessage(K,(C=o.reconnect)!==null&&C!==void 0?C:!1);if(!H.isValid){w(H.error);return}((E=K.message)===null||E===void 0?void 0:E.case)==="join"&&(this.pingTimeoutDuration=K.message.value.pingTimeout,this.pingIntervalDuration=K.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})));const J=H.shouldProcessFirstMessage?K:void 0;$(G,J),x(H.response)}catch(G){w(G)}finally{L()}}finally{f()}}))})()})}startReadingLoop(e,n){return me(this,void 0,void 0,function*(){for(n&&this.handleSignalResponse(n);;){this.signalLatency&&(yield ys(this.signalLatency));const{done:r,value:i}=yield e.read();if(r)break;const a=V9(i);this.handleSignalResponse(a)}})}close(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Close method called on signal client";return(function*(){if([Hr.DISCONNECTING||Hr.DISCONNECTED].includes(e.state)){e.log.debug("ignoring signal close as it's already in disconnecting state");return}const i=yield e.closingLock.lock();try{if(e.clearPingInterval(),n&&(e.state=Hr.DISCONNECTING),e.ws){e.ws.close({closeCode:1e3,reason:r});const a=e.ws.closed;e.ws=void 0,e.streamWriter=void 0,yield Promise.race([a,ys(R9e)])}}catch(a){e.log.debug("websocket error while closing",Object.assign(Object.assign({},e.logContext),{error:a}))}finally{n&&(e.state=Hr.DISCONNECTED),i()}})()})}sendOffer(e,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:f0(e,n)})}sendAnswer(e,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:f0(e,n)})}sendIceCandidate(e,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new cC({candidateInit:JSON.stringify(e),target:n})})}sendMuteTrack(e,n){return this.sendRequest({case:"mute",value:new uC({sid:e,muted:n})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,n){return me(this,arguments,void 0,function(r,i){var a=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function*(){const o=a.getNextRequestId();return yield a.sendRequest({case:"updateMetadata",value:new UM({requestId:o,metadata:r,name:i,attributes:s})}),o})()})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,n){return this.sendRequest({case:"updateLayers",value:new rre({trackSid:e,layers:n})})}sendUpdateSubscriptionPermissions(e,n){return this.sendRequest({case:"subscriptionPermission",value:new sre({allParticipants:e,trackPermissions:n})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:vi.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new cre({timestamp:vi.parse(Date.now()),rtt:vi.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,n){return this.sendRequest({case:"updateAudioTrack",value:new FM({trackSid:e,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new dC({reason:Zc.CLIENT_INITIATED,action:T0.DISCONNECT})})}sendRequest(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(function*(){if(!i&&!M9e(n)&&r.state===Hr.RECONNECTING){r.queuedRequests.push(()=>me(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield ys(r.signalLatency)),r.isDisconnected){r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!r.streamWriter){r.log.error("cannot send signal request before connected, type: ".concat(n?.case),r.logContext);return}const s=new WUe({message:n});try{r.useJSON?yield r.streamWriter.write(s.toJsonString()):yield r.streamWriter.write(s.toBinary())}catch(o){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:o}))}})()})}handleSignalResponse(e){var n,r;const i=e.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let a=!1;if(i.case==="answer"){const s=X9(i.value);this.onAnswer&&this.onAnswer(s,i.value.id,i.value.midToTrackId)}else if(i.case==="offer"){const s=X9(i.value);this.onOffer&&this.onOffer(s,i.value.id,i.value.midToTrackId)}else if(i.case==="trickle"){const s=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(s,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),a=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):i.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):i.case==="mediaSectionsRequirement"?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));a||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return me(this,void 0,void 0,function*(){if(this.state===Hr.DISCONNECTED)return;const n=this.onClose;yield this.close(void 0,e),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),n&&n(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=vs.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&vs.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=vs.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&vs.clearInterval(this.pingInterval)}handleSignalConnected(e,n,r){this.state=Hr.CONNECTED,clearTimeout(n),this.startPingInterval(),this.startReadingLoop(e.readable.getReader(),r)}validateFirstMessage(e,n){var r,i,a,s,o;return((r=e.message)===null||r===void 0?void 0:r.case)==="join"?{isValid:!0,response:e.message.value}:this.state===Hr.RECONNECTING&&((i=e.message)===null||i===void 0?void 0:i.case)!=="leave"?((a=e.message)===null||a===void 0?void 0:a.case)==="reconnect"?{isValid:!0,response:e.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&((s=e.message)===null||s===void 0?void 0:s.case)==="leave"?{isValid:!1,error:pn.leaveRequest("Received leave request while trying to (re)connect",e.message.value.reason)}:n?{isValid:!1,error:pn.internal("Unexpected first message")}:{isValid:!1,error:pn.internal("did not receive join response, got ".concat((o=e.message)===null||o===void 0?void 0:o.case," instead"))}}handleConnectionError(e,n){return me(this,void 0,void 0,function*(){try{const r=yield fetch(n);switch(r.status){case 404:return pn.serviceNotFound("v1 RTC path not found. Consider upgrading your LiveKit server version","v0-rtc");case 401:case 403:const i=yield r.text();return pn.notAllowed(i,r.status);default:break}return e instanceof pn?e:pn.internal("Encountered unknown websocket error during connection: ".concat(e),{status:r.status,statusText:r.statusText})}catch(r){return r instanceof pn?r:pn.serverUnreachable(r instanceof Error?r.message:"server was not reachable")}})}}function X9(t){const e={type:"offer",sdp:t.sdp};switch(t.type){case"answer":case"offer":case"pranswer":case"rollback":e.type=t.type;break}return e}function f0(t,e){return new Vf({sdp:t.sdp,type:t.type,id:e})}function I9e(t,e,n){var r;const i=new URLSearchParams;return i.set("access_token",t),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",th()?"reactnative":"js"),i.set("version",e.version),i.set("protocol",e.protocol.toString()),e.deviceModel&&i.set("device_model",e.deviceModel),e.os&&i.set("os",e.os),e.osVersion&&i.set("os_version",e.osVersion),e.browser&&i.set("browser",e.browser),e.browserVersion&&i.set("browser_version",e.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),i}function j9e(t,e,n){const r=new URLSearchParams;r.set("access_token",t);const i=new fze({clientInfo:e,connectionSettings:new ure({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(i.reconnectReason=n.reconnectReason);const a=new pze({joinRequest:i.toBinary()});return r.set("join_request",btoa(new TextDecoder("utf-8").decode(a.toBinary()))),r}class J9{constructor(){this.buffer=[],this._totalSize=0}push(e){this.buffer.push(e),this._totalSize+=e.data.byteLength}pop(){const e=this.buffer.shift();return e&&(this._totalSize-=e.data.byteLength),e}getAll(){return this.buffer.slice()}popToSequence(e){for(;this.buffer.length>0&&this.buffer[0].sequence<=e;)this.pop()}alignBufferedAmount(e){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=e)break;this.pop()}}get length(){return this.buffer.length}}class D9e{constructor(e){this._map=new Map,this._lastCleanup=0,this.ttl=e}set(e,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const i=r+this.ttl;return this._map.set(e,{value:n,expiresAt:i}),this}get(e){const n=this._map.get(e);if(n){if(n.expiresAt<Date.now()){this._map.delete(e);return}return n.value}}has(e){const n=this._map.get(e);return n?n.expiresAt<Date.now()?(this._map.delete(e),!1):!0:!1}delete(e){return this._map.delete(e)}clear(){this._map.clear()}cleanup(){const e=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<e&&this._map.delete(n);this._lastCleanup=e}get size(){return this.cleanup(),this._map.size}forEach(e){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&e(r.value,n,this.asValueMap())}map(e){this.cleanup();const n=[],r=this.asValueMap();for(const[i,a]of r.entries())n.push(e(a,i,r));return n}asValueMap(){const e=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&e.set(n,r.value);return e}}var Ic={},jA={},DA={exports:{}},Z9;function XM(){if(Z9)return DA.exports;Z9=1;var t=DA.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=e.raddr!=null?" raddr %s rport %d":"%v%v",n+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(n+=" generation %d"),n+=e["network-id"]!=null?" network-id %d":"%v",n+=e["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var n="ssrc:%d";return e.attribute!=null&&(n+=" %s",e.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var n="mediaclk:";return n+=e.id!=null?"id=%s %s":"%v%s",n+=e.mediaClockValue!=null?"=%s":"",n+=e.rateNumerator!=null?" rate=%s":"",n+=e.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(t).forEach(function(e){var n=t[e];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),DA.exports}var Q9;function B9e(){return Q9||(Q9=1,(function(t){var e=function(o){return String(Number(o))===o?Number(o):o},n=function(o,l,c,u){if(u&&!c)l[u]=e(o[1]);else for(var f=0;f<c.length;f+=1)o[f+1]!=null&&(l[c[f]]=e(o[f+1]))},r=function(o,l,c){var u=o.name&&o.names;o.push&&!l[o.push]?l[o.push]=[]:u&&!l[o.name]&&(l[o.name]={});var f=o.push?{}:u?l[o.name]:l;n(c.match(o.reg),f,o.names,o.name),o.push&&l[o.push].push(f)},i=XM(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(o){var l={},c=[],u=l;return o.split(/(\r\n|\r|\n)/).filter(a).forEach(function(f){var m=f[0],p=f.slice(2);m==="m"&&(c.push({rtp:[],fmtp:[]}),u=c[c.length-1]);for(var v=0;v<(i[m]||[]).length;v+=1){var b=i[m][v];if(b.reg.test(p))return r(b,u,p)}}),l.media=c,l};var s=function(o,l){var c=l.split(/=(.+)/,2);return c.length===2?o[c[0]]=e(c[1]):c.length===1&&l.length>1&&(o[c[0]]=void 0),o};t.parseParams=function(o){return o.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(o){return o.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(o){for(var l=[],c=o.split(" ").map(e),u=0;u<c.length;u+=3)l.push({component:c[u],ip:c[u+1],port:c[u+2]});return l},t.parseImageAttributes=function(o){return o.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(o){return o.split(";").map(function(l){return l.split(",").map(function(c){var u,f=!1;return c[0]!=="~"?u=e(c):(u=e(c.substring(1,c.length)),f=!0),{scid:u,paused:f}})})}})(jA)),jA}var BA,e$;function F9e(){if(e$)return BA;e$=1;var t=XM(),e=/%[sdv%]/g,n=function(s){var o=1,l=arguments,c=l.length;return s.replace(e,function(u){if(o>=c)return u;var f=l[o];switch(o+=1,u){case"%%":return"%";case"%s":return String(f);case"%d":return Number(f);case"%v":return""}})},r=function(s,o,l){var c=o.format instanceof Function?o.format(o.push?l:l[o.name]):o.format,u=[s+"="+c];if(o.names)for(var f=0;f<o.names.length;f+=1){var m=o.names[f];o.name?u.push(l[o.name][m]):u.push(l[o.names[f]])}else u.push(l[o.name]);return n.apply(null,u)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return BA=function(s,o){o=o||{},s.version==null&&(s.version=0),s.name==null&&(s.name=" "),s.media.forEach(function(f){f.payloads==null&&(f.payloads="")});var l=o.outerOrder||i,c=o.innerOrder||a,u=[];return l.forEach(function(f){t[f].forEach(function(m){m.name in s&&s[m.name]!=null?u.push(r(f,m,s)):m.push in s&&s[m.push]!=null&&s[m.push].forEach(function(p){u.push(r(f,m,p))})})}),s.media.forEach(function(f){u.push(r("m",t.m[0],f)),c.forEach(function(m){t[m].forEach(function(p){p.name in f&&f[p.name]!=null?u.push(r(m,p,f)):p.push in f&&f[p.push]!=null&&f[p.push].forEach(function(v){u.push(r(m,p,v))})})})}),u.join(`\r
`)+`\r
`},BA}var t$;function U9e(){if(t$)return Ic;t$=1;var t=B9e(),e=F9e(),n=XM();return Ic.grammar=n,Ic.write=e,Ic.parse=t.parse,Ic.parseParams=t.parseParams,Ic.parseFmtpConfig=t.parseFmtpConfig,Ic.parsePayloads=t.parsePayloads,Ic.parseRemoteCandidates=t.parseRemoteCandidates,Ic.parseImageAttributes=t.parseImageAttributes,Ic.parseSimulcastStreamList=t.parseSimulcastStreamList,Ic}var yf=U9e();function JM(t,e,n){var r,i,a;e===void 0&&(e=50),n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,o=(i=n.callback)!=null&&i,l=n.maxWait,c=Date.now(),u=[];function f(){if(l!==void 0){var p=Date.now()-c;if(p+e>=l)return l-p}return e}var m=function(){var p=[].slice.call(arguments),v=this;return new Promise(function(b,x){var w=s&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,c=Date.now(),!s){var E=t.apply(v,p);o&&o(E),u.forEach(function(O){return(0,O.resolve)(E)}),u=[]}},f()),w){var C=t.apply(v,p);return o&&o(C),b(C)}u.push({resolve:b,reject:x})})};return m.cancel=function(p){a!==void 0&&clearTimeout(a),u.forEach(function(v){return(0,v.reject)(p)}),u=[]},m}const z9e=.7,$9e=20,L0={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class n$ extends lh.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=Rn,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=JM(i=>me(this,void 0,void 0,function*(){this.emit(L0.NegotiationStarted);try{yield this.createAndSendOffer()}catch(a){if(i)i(a);else throw a}}),$9e),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=yd((r=n.loggerName)!==null&&r!==void 0?r:su.PCTransport),this.loggerOptions=n,this.config=e,this._pc=this.createPC(),this.offerLock=new lo}createPC(){const e=new RTCPeerConnection(this.config);return e.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},e.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},e.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,e.connectionState)},e.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},e.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},e}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(e){return me(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e,n){return me(this,void 0,void 0,function*(){var r;if(e.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let i;if(e.type==="offer"){let{stereoMids:a,nackMids:s}=q9e(e);this.remoteStereoMids=a,this.remoteNackMids=s}else if(e.type==="answer"){const a=yf.parse((r=e.sdp)!==null&&r!==void 0?r:"");a.media.forEach(s=>{const o=ZM(s.mid);s.type==="audio"&&this.trackBitrates.some(l=>{if(!l.transceiver||o!=l.transceiver.mid)return!1;let c=0;if(s.rtp.some(f=>f.codec.toUpperCase()===l.codec.toUpperCase()?(c=f.payload,!0):!1),c===0)return!0;let u=!1;for(const f of s.fmtp)if(f.payload===c){f.config=f.config.split(";").filter(m=>!m.includes("maxaveragebitrate")).join(";"),l.maxbr>0&&(f.config+=";maxaveragebitrate=".concat(l.maxbr*1e3)),u=!0;break}return u||l.maxbr>0&&s.fmtp.push({payload:c,config:"maxaveragebitrate=".concat(l.maxbr*1e3)}),!0})}),i=yf.write(a)}return yield this.setMungedSDP(e,i,!0),this.pendingCandidates.forEach(a=>{this.pc.addIceCandidate(a)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):e.type==="answer"&&(this.emit(L0.NegotiationComplete),e.sdp&&yf.parse(e.sdp).media.forEach(s=>{s.type==="video"&&this.emit(L0.RTPVideoPayloadTypes,s.rtp)})),!0})}createAndSendOffer(e){return me(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(e?.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this._pc.remoteDescription;if(e?.iceRestart&&o)yield this._pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const i=this.latestOfferId+1;this.latestOfferId=i;const a=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:a.sdp},this.logContext));const s=yf.parse((n=a.sdp)!==null&&n!==void 0?n:"");if(s.media.forEach(o=>{i$(o),o.type==="audio"?r$(o,["all"],[]):o.type==="video"&&this.trackBitrates.some(l=>{if(!o.msid||!l.cid||!o.msid.includes(l.cid))return!1;let c=0;if(o.rtp.some(f=>f.codec.toUpperCase()===l.codec.toUpperCase()?(c=f.payload,!0):!1),c===0||(Xc(l.codec)&&!Pm()&&this.ensureVideoDDExtensionForSVC(o,s),!Xc(l.codec)))return!0;const u=Math.round(l.maxbr*z9e);for(const f of o.fmtp)if(f.payload===c){f.config.includes("x-google-start-bitrate")||(f.config+=";x-google-start-bitrate=".concat(u));break}return!0})}),this.latestOfferId>i){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:i}));return}yield this.setMungedSDP(a,yf.write(s)),this.onOffer(a,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return me(this,void 0,void 0,function*(){var e;const n=yield this.pc.createAnswer(),r=yf.parse((e=n.sdp)!==null&&e!==void 0?e:"");return r.media.forEach(i=>{i$(i),i.type==="audio"&&r$(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,yf.write(r)),n})}createDataChannel(e,n){return this.pc.createDataChannel(e,n)}addTransceiver(e,n){return this.pc.addTransceiver(e,n)}addTransceiverOfKind(e,n){return this.pc.addTransceiver(e,n)}addTrack(e){if(!this._pc)throw new Yi("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var n;if(!this._pc)throw new Yi("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(e)}canRemoveTrack(){var e;return!!(!((e=this._pc)===null||e===void 0)&&e.removeTrack)}removeTrack(e){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(e)}getConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var e;return(e=this._pc)===null||e===void 0?void 0:e.localDescription}getRemoteDescription(){var e;return(e=this.pc)===null||e===void 0?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return me(this,void 0,void 0,function*(){var e;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(o=>{switch(o.type){case"transport":n=o.selectedCandidatePairId;break;case"candidate-pair":n===""&&o.selected&&(n=o.id),r.set(o.id,o);break;case"remote-candidate":i.set(o.id,"".concat(o.address,":").concat(o.port));break}}),n==="")return;const s=(e=r.get(n))===null||e===void 0?void 0:e.remoteCandidateId;if(s!==void 0)return i.get(s)})}setMungedSDP(e,n,r){return me(this,void 0,void 0,function*(){if(n){const i=e.sdp;e.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(a){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:a,sdp:n})),e.sdp=i}}try{r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(i){let a="unknown error";i instanceof Error?a=i.message:typeof i=="string"&&(a=i);const s={error:a,sdp:e.sdp};throw!r&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:s})),new A0(a)}})}ensureVideoDDExtensionForSVC(e,n){var r,i;if(!((r=e.ext)===null||r===void 0?void 0:r.some(s=>s.uri===F9))){if(this.ddExtID===0){let s=0;n.media.forEach(o=>{var l;o.type==="video"&&((l=o.ext)===null||l===void 0||l.forEach(c=>{c.value>s&&(s=c.value)}))}),this.ddExtID=s+1}(i=e.ext)===null||i===void 0||i.push({value:this.ddExtID,uri:F9})}}}function r$(t,e,n){const r=ZM(t.mid);let i=0;t.rtp.some(a=>a.codec==="opus"?(i=a.payload,!0):!1),i>0&&(t.rtcpFb||(t.rtcpFb=[]),n.includes(r)&&!t.rtcpFb.some(a=>a.payload===i&&a.type==="nack")&&t.rtcpFb.push({payload:i,type:"nack"}),(e.includes(r)||e.length===1&&e[0]==="all")&&t.fmtp.some(a=>a.payload===i?(a.config.includes("stereo=1")||(a.config+=";stereo=1"),!0):!1))}function q9e(t){var e;const n=[],r=[],i=yf.parse((e=t.sdp)!==null&&e!==void 0?e:"");let a=0;return i.media.forEach(s=>{var o;const l=ZM(s.mid);s.type==="audio"&&(s.rtp.some(c=>c.codec==="opus"?(a=c.payload,!0):!1),!((o=s.rtcpFb)===null||o===void 0)&&o.some(c=>c.payload===a&&c.type==="nack")&&r.push(l),s.fmtp.some(c=>c.payload===a?(c.config.includes("sprop-stereo=1")&&n.push(l),!0):!1))}),{stereoMids:n,nackMids:r}}function i$(t){if(t.connection){const e=t.connection.ip.indexOf(":")>=0;(t.connection.version===4&&e||t.connection.version===6&&!e)&&(t.connection.ip="0.0.0.0",t.connection.version=4)}}function ZM(t){return typeof t=="number"?t.toFixed(0):t}const GN="vp8",H9e={audioPreset:BN.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:VM.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:GN,backupCodec:!0,preConnectBuffer:!1},Jre={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},Zre={deviceId:{ideal:"default"},resolution:s1.h720.resolution},W9e={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new Sze,disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!0},QM={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Fi;(function(t){t[t.NEW=0]="NEW",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.FAILED=3]="FAILED",t[t.CLOSING=4]="CLOSING",t[t.CLOSED=5]="CLOSED"})(Fi||(Fi={}));class V9e{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}get mode(){return this._mode}constructor(e,n,r){var i;this.peerConnectionTimeout=QM.peerConnectionTimeout,this.log=Rn,this.updateState=()=>{var a,s;const o=this.state,l=this.requiredTransports.map(c=>c.getConnectionState());l.every(c=>c==="connected")?this.state=Fi.CONNECTED:l.some(c=>c==="failed")?this.state=Fi.FAILED:l.some(c=>c==="connecting")?this.state=Fi.CONNECTING:l.every(c=>c==="closed")?this.state=Fi.CLOSED:l.some(c=>c==="closed")?this.state=Fi.CLOSING:l.every(c=>c==="new")&&(this.state=Fi.NEW),o!==this.state&&(this.log.debug("pc state change: from ".concat(Fi[o]," to ").concat(Fi[this.state]),this.logContext),(a=this.onStateChange)===null||a===void 0||a.call(this,this.state,this.publisher.getConnectionState(),(s=this.subscriber)===null||s===void 0?void 0:s.getConnectionState()))},this.log=yd((i=r.loggerName)!==null&&i!==void 0?i:su.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=n!=="subscriber-primary",this.isSubscriberConnectionRequired=n==="subscriber-primary",this.publisher=new n$(e,r),this._mode=n,n!=="publisher-only"&&(this.subscriber=new n$(e,r),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=a=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,a,Yc.SUBSCRIBER)},this.subscriber.onDataChannel=a=>{var s;(s=this.onDataChannel)===null||s===void 0||s.call(this,a)},this.subscriber.onTrack=a=>{var s;(s=this.onTrack)===null||s===void 0||s.call(this,a)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=a=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,a,Yc.PUBLISHER)},this.publisher.onTrack=a=>{var s;(s=this.onTrack)===null||s===void 0||s.call(this,a)},this.publisher.onOffer=(a,s)=>{var o;(o=this.onPublisherOffer)===null||o===void 0||o.call(this,a,s)},this.state=Fi.NEW,this.connectionLock=new lo,this.remoteOfferLock=new lo}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}requirePublisher(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e,n){return this.publisher.setRemoteDescription(e,n)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return me(this,void 0,void 0,function*(){var e;if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const n=this.publisher;for(const r of n.getSenders())try{n.canRemoveTrack()&&n.removeTrack(r)}catch(i){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:i}))}}yield Promise.all([this.publisher.close(),(e=this.subscriber)===null||e===void 0?void 0:e.close()]),this.updateState()})}triggerIceRestart(){return me(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,n){return me(this,void 0,void 0,function*(){var r;n===Yc.PUBLISHER?yield this.publisher.addIceCandidate(e):yield(r=this.subscriber)===null||r===void 0?void 0:r.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e,n){return me(this,void 0,void 0,function*(){var r,i,a;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:(r=this.subscriber)===null||r===void 0?void 0:r.getSignallingState().toString()}));const s=yield this.remoteOfferLock.lock();try{return(yield(i=this.subscriber)===null||i===void 0?void 0:i.setRemoteDescription(e,n))?yield(a=this.subscriber)===null||a===void 0?void 0:a.createAndSetAnswer():void 0}finally{s()}})}updateConfiguration(e,n){var r;this.publisher.setConfiguration(e),(r=this.subscriber)===null||r===void 0||r.setConfiguration(e),n&&this.triggerIceRestart()}ensurePCTransportConnection(e,n){return me(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(a=>this.ensureTransportConnected(a,e,n)))}finally{i()}})}negotiate(e){return me(this,void 0,void 0,function*(){return new Fo((n,r)=>me(this,void 0,void 0,function*(){const i=setTimeout(()=>{r(new A0("negotiation timed out"))},this.peerConnectionTimeout),a=()=>{clearTimeout(i),r(new A0("negotiation aborted"))};e.signal.addEventListener("abort",a),this.publisher.once(L0.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(L0.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(s=>{clearTimeout(i),s instanceof Error?r(s):r(new Error(String(s)))})}))})}addPublisherTransceiver(e,n){return this.publisher.addTransceiver(e,n)}addPublisherTransceiverOfKind(e,n){return this.publisher.addTransceiverOfKind(e,n)}getMidForReceiver(e){const r=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(i=>i.receiver===e);return r?.mid}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,n){return this.publisher.createDataChannel(e,n)}getConnectedAddress(e){return e===Yc.PUBLISHER?this.publisher.getConnectedAddress():e===Yc.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&e.push(this.subscriber),e}ensureTransportConnected(e,n){return me(this,arguments,void 0,function(r,i){var a=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return(function*(){if(r.getConnectionState()!=="connected")return new Promise((l,c)=>me(a,void 0,void 0,function*(){const u=()=>{this.log.warn("abort transport connection",this.logContext),vs.clearTimeout(f),c(pn.cancelled("room connection has been cancelled"))};i?.signal.aborted&&u(),i?.signal.addEventListener("abort",u);const f=vs.setTimeout(()=>{i?.signal.removeEventListener("abort",u),c(pn.internal("could not establish pc connection"))},s);for(;this.state!==Fi.CONNECTED;)if(yield ys(50),i?.signal.aborted){c(pn.cancelled("room connection has been cancelled"));return}vs.clearTimeout(f),i?.signal.removeEventListener("abort",u),l()}))})()})}}const Qre=5e3,G9e=3e4;class cr{static fetchRegionSettings(e,n,r){return me(this,void 0,void 0,function*(){const i=yield cr.fetchLock.lock();try{const a=yield fetch("".concat(K9e(e),"/regions"),{headers:{authorization:"Bearer ".concat(n)},signal:r});if(a.ok){const s=g9e(a.headers),o=s?s*1e3:Qre;return{regionSettings:yield a.json(),updatedAtInMs:Date.now(),maxAgeInMs:o}}else throw a.status===401?pn.notAllowed("Could not fetch region settings: ".concat(a.statusText),a.status):pn.internal("Could not fetch region settings: ".concat(a.statusText))}catch(a){throw a instanceof pn?a:r?.aborted?pn.cancelled("Region fetching was aborted"):pn.serverUnreachable("Could not fetch region settings, ".concat(a instanceof Error?"".concat(a.name,": ").concat(a.message):a))}finally{i()}})}static scheduleRefetch(e,n,r){return me(this,void 0,void 0,function*(){const i=cr.settingsTimeouts.get(e.hostname);clearTimeout(i),cr.settingsTimeouts.set(e.hostname,setTimeout(()=>me(this,void 0,void 0,function*(){try{const a=yield cr.fetchRegionSettings(e,n);cr.updateCachedRegionSettings(e,n,a)}catch(a){if(a instanceof pn&&a.reason===Wr.NotAllowed){Rn.debug("token is not valid, cancelling auto region refresh");return}Rn.debug("auto refetching of region settings failed",{error:a}),cr.scheduleRefetch(e,n,r)}}),r))})}static updateCachedRegionSettings(e,n,r){cr.cache.set(e.hostname,r),cr.scheduleRefetch(e,n,r.maxAgeInMs)}static stopRefetch(e){const n=cr.settingsTimeouts.get(e);n&&(clearTimeout(n),cr.settingsTimeouts.delete(e))}static scheduleCleanup(e){let n=cr.connectionTrackers.get(e);n&&(n.cleanupTimeout&&clearTimeout(n.cleanupTimeout),n.cleanupTimeout=setTimeout(()=>{const r=cr.connectionTrackers.get(e);r&&r.connectionCount===0&&(Rn.debug("stopping region refetch after disconnect delay",{hostname:e}),cr.stopRefetch(e)),r&&(r.cleanupTimeout=void 0)},G9e))}static cancelCleanup(e){const n=cr.connectionTrackers.get(e);n?.cleanupTimeout&&(clearTimeout(n.cleanupTimeout),n.cleanupTimeout=void 0)}notifyConnected(){const e=this.serverUrl.hostname;let n=cr.connectionTrackers.get(e);n||(n={connectionCount:0},cr.connectionTrackers.set(e,n)),n.connectionCount++,cr.cancelCleanup(e)}notifyDisconnected(){const e=this.serverUrl.hostname,n=cr.connectionTrackers.get(e);n&&(n.connectionCount=Math.max(0,n.connectionCount-1),n.connectionCount===0&&cr.scheduleCleanup(e))}constructor(e,n){this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=n}updateToken(e){this.token=e}isCloud(){return sv(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(e){return me(this,void 0,void 0,function*(){return cr.fetchRegionSettings(this.serverUrl,this.token,e)})}getNextBestRegionUrl(e){return me(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let n=cr.cache.get(this.serverUrl.hostname);(!n||Date.now()-n.updatedAtInMs>n.maxAgeInMs)&&(n=yield this.fetchRegionSettings(e),cr.updateCachedRegionSettings(this.serverUrl,this.token,n));const r=n.regionSettings.regions.filter(i=>!this.attemptedRegions.find(a=>a.url===i.url));if(r.length>0){const i=r[0];return this.attemptedRegions.push(i),Rn.debug("next region: ".concat(i.region)),i.url}else return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(e){cr.updateCachedRegionSettings(this.serverUrl,this.token,e)}}cr.cache=new Map;cr.settingsTimeouts=new Map;cr.connectionTrackers=new Map;cr.fetchLock=new lo;function K9e(t){return"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")}class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.message=a$(n,zi.MAX_MESSAGE_BYTES),this.data=r?a$(r,zi.MAX_DATA_BYTES):void 0}static fromProto(e){return new zi(e.code,e.message,e.data)}toProto(){return new Wne({code:this.code,message:this.message,data:this.data})}static builtIn(e,n){return new zi(zi.ErrorCode[e],zi.ErrorMessage[e],n)}}zi.MAX_MESSAGE_BYTES=256;zi.MAX_DATA_BYTES=15360;zi.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404};zi.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const eie=15360;function eR(t){return new TextEncoder().encode(t).length}function a$(t,e){if(eR(t)<=e)return t;let n=0,r=t.length;const i=new TextEncoder;for(;n<r;){const a=Math.floor((n+r+1)/2);i.encode(t.slice(0,a)).length<=e?n=a:r=a-1}return t.slice(0,n)}const tR=2e3;function pC(t,e){if(!e)return 0;let n,r;return"bytesReceived"in t?(n=t.bytesReceived,r=e.bytesReceived):"bytesSent"in t&&(n=t.bytesSent,r=e.bytesSent),n===void 0||r===void 0||t.timestamp===void 0||e.timestamp===void 0?0:(n-r)*8*1e3/(t.timestamp-e.timestamp)}const nR=typeof MediaRecorder<"u";class Y9e{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const X9e=nR?MediaRecorder:Y9e;class J9e extends X9e{constructor(e,n){if(!nR)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([e.mediaStreamTrack]),n);let r,i;const a=()=>i===void 0,s=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",s),this.removeEventListener("error",o),i?.close(),i=void 0},o=l=>{i?.error(l),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",s),this.removeEventListener("error",o),i=void 0};this.byteStream=new ReadableStream({start:l=>{i=l,r=c=>me(this,void 0,void 0,function*(){let u;if(c.data.arrayBuffer){const f=yield c.data.arrayBuffer();u=new Uint8Array(f)}else if(c.data.byteArray)u=c.data.byteArray;else throw new Error("no data available!");a()||l.enqueue(u)}),this.addEventListener("dataavailable",r)},cancel:()=>{s()}}),this.addEventListener("stop",s),this.addEventListener("error",o)}}function Z9e(){return nR}const Q9e=1e3,e$e=1e4;class tie extends Ze{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;super(e,n,a),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=JM(()=>me(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>me(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(ft.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new lo,this.pauseUpstreamLock=new lo,this.trackChangeLock=new lo,this.trackChangeLock.lock().then(s=>me(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(e,!0)}finally{s()}})),this._constraints=e.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==Ze.Kind.Video)return;const{width:e,height:n}=this._mediaStreamTrack.getSettings();if(e&&n)return{width:e,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,n;return(n=(e=this.processor)===null||e===void 0?void 0:e.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,n){return me(this,void 0,void 0,function*(){var r;if(e===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(a=>{O0(this._mediaStreamTrack,a)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints());let i;if(this.processor&&e){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(d0(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(i??e)),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(a=>{d0(i??e,a)}))})}waitForDimensions(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q9e;return(function*(){var r;if(e.kind===Ze.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=$o())===null||r===void 0?void 0:r.os)==="iOS"&&(yield ys(10));const i=Date.now();for(;Date.now()-i<n;){const a=e.dimensions;if(a)return a;yield ys(50)}throw new ed("unable to get track dimensions after timeout")})()})}setDeviceId(e){return me(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===jf(e)||(this._constraints.deviceId=e,this.isMuted)?!0:(yield this.restartTrack(),jf(e)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){if(e.source===Ze.Source.ScreenShare)return;const{deviceId:r,groupId:i}=e._mediaStreamTrack.getSettings(),a=e.kind===Ze.Kind.Audio?"audioinput":"videoinput";return n?Ja.getInstance().normalizeDeviceId(a,r,i):r})()})}mute(){return me(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return me(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,n){return me(this,void 0,void 0,function*(){const r=yield this.trackChangeLock.lock();try{if(!this.sender)throw new ed("unable to replace an unpublished track");let i,a;return typeof n=="boolean"?i=n:n!==void 0&&(i=n.userProvidedTrack,a=n.stopProcessor),this.providedByUser=i??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),a&&this.processor&&(yield this.internalStopProcessor()),this}finally{r()}})}restart(e){return me(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.trackChangeLock.lock();try{e||(e=this._constraints);const{deviceId:r,facingMode:i}=e,a=_ze(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const s={audio:!1,video:!1};this.kind===Ze.Kind.Video?s.video=r||i?{deviceId:r,facingMode:i}:!0:s.audio=r?Object.assign({deviceId:r},a):!0,this.attachedElements.forEach(c=>{O0(this.mediaStreamTrack,c)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const l=(yield navigator.mediaDevices.getUserMedia(s)).getTracks()[0];return this.kind===Ze.Kind.Video&&(yield l.applyConstraints(a)),l.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(l),this._constraints=e,this.emit(ft.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),!(this.isMuted===e&&this._mediaStreamTrack.enabled!==e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ft.Muted:ft.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return me(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Gre()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(e=this.processor)===null||e===void 0||e.destroy(),this.processor=void 0}pauseUpstream(){return me(this,void 0,void 0,function*(){var e;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(ft.UpstreamPaused,this);const r=$o();if(r?.name==="Safari"&&nh(r.version,"12.0")<0)throw new WM("pauseUpstream is not supported on Safari < 12.");((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return me(this,void 0,void 0,function*(){var e;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(ft.UpstreamResumed,this),((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return me(this,void 0,void 0,function*(){var e;return!((e=this.sender)===null||e===void 0)&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var a;const s=yield r.trackChangeLock.lock();try{r.log.debug("setting up processor",r.logContext);const o=document.createElement(r.kind),l={kind:r.kind,track:r._mediaStreamTrack,element:o,audioContext:r.audioContext};if(yield n.init(l),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.internalStopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(d0(r._mediaStreamTrack,o),o.muted=!0,o.play().catch(c=>{c instanceof DOMException&&c.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:c})),setTimeout(()=>{o.play().catch(u=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:u}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:c}))}),r.processor=n,r.processorElement=o,r.processor.processedTrack){for(const c of r.attachedElements)c!==r.processorElement&&i&&(O0(r._mediaStreamTrack,c),d0(r.processor.processedTrack,c));yield(a=r.sender)===null||a===void 0?void 0:a.replaceTrack(r.processor.processedTrack)}r.emit(ft.TrackProcessorUpdate,r.processor)}finally{s()}})()})}getProcessor(){return this.processor}stopProcessor(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){const r=yield e.trackChangeLock.lock();try{yield e.internalStopProcessor(n)}finally{r()}})()})}internalStopProcessor(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){var r,i;e.processor&&(e.log.debug("stopping processor",e.logContext),(r=e.processor.processedTrack)===null||r===void 0||r.stop(),yield e.processor.destroy(),e.processor=void 0,n||((i=e.processorElement)===null||i===void 0||i.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(ft.TrackProcessorUpdate))})()})}startPreConnectBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!Z9e()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new J9e(this,{mimeType:n})}this.localTrackRecorder.start(e),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},e$e)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.byteStream}getPreConnectBufferMimeType(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.mimeType}}class g_ extends tie{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;super(e,Ze.Kind.Audio,n,r,a),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>me(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let s;try{s=yield this.getSenderStats()}catch(o){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:o}));return}s&&this.prevStats&&(this._currentBitrate=pC(s,this.prevStats)),this.prevStats=s}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(ft.AudioTrackFeatureUpdate,this,Xa.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(ft.AudioTrackFeatureUpdate,this,Xa.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return me(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Ze.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return me(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==jf(this._constraints.deviceId);return this.source===Ze.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}restartTrack(e){return me(this,void 0,void 0,function*(){let n;if(e){const r=GM({audio:e});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(e){const n=Object.create(null,{restart:{get:()=>super.restart}});return me(this,void 0,void 0,function*(){const r=yield n.restart.call(this,e);return this.checkForSilence(),r})}startMonitor(){Uo()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},tR)))}setProcessor(e){return me(this,void 0,void 0,function*(){var n;const r=yield this.trackChangeLock.lock();try{if(!th()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(i),this.processor=e,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(ft.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){return me(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return me(this,void 0,void 0,function*(){const e=yield Hre(this);return e&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(ft.AudioSilenceDetected)),e})}}function t$e(t,e,n){switch(t.kind){case"audio":return new g_(t,e,!1,void 0,n);case"video":return new v_(t,e,!1,n);default:throw new ed("unsupported track type: ".concat(t.kind))}}const n$e=Object.values(s1),r$e=Object.values(FN),i$e=Object.values(VM),a$e=[s1.h180,s1.h360],s$e=[FN.h180,FN.h360],o$e=t=>[{scaleResolutionDownBy:2,fps:t.encoding.maxFramerate}].map(n=>{var r,i;return new Br(Math.floor(t.width/n.scaleResolutionDownBy),Math.floor(t.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(t.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=t.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,t.encoding.priority)}),KN=["q","h","f"];function YN(t,e,n,r){var i,a;let s=r?.videoEncoding;t&&(s=r?.screenShareEncoding);const o=r?.simulcast,l=r?.scalabilityMode,c=r?.videoCodec;if(!s&&!o&&!l||!e||!n)return[{}];s||(s=c$e(t,e,n,c),Rn.debug("using video encoding",s));const u=s.maxFramerate,f=new Br(e,n,s.maxBitrate,s.maxFramerate,s.priority);if(l&&Xc(c)){const v=new nie(l),b=[];if(v.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));const x=$o();if(o1()||th()||x?.name==="Chrome"&&nh(x?.version,"113")<0){const w=v.suffix=="h"?2:3,C=i9e(x);for(let E=0;E<v.spatial;E+=1)b.push({rid:KN[2-E],maxBitrate:s.maxBitrate/Math.pow(w,E),maxFramerate:f.encoding.maxFramerate,scaleResolutionDownBy:C?Math.pow(2,E):void 0});b[0].scalabilityMode=l}else b.push({maxBitrate:s.maxBitrate,maxFramerate:f.encoding.maxFramerate,scalabilityMode:l});return f.encoding.priority&&(b[0].priority=f.encoding.priority,b[0].networkPriority=f.encoding.priority),Rn.debug("using svc encoding",{encodings:b}),b}if(!o)return[s];let m=[];t?m=(i=o$(r?.screenShareSimulcastLayers))!==null&&i!==void 0?i:s$(t,f):m=(a=o$(r?.videoSimulcastLayers))!==null&&a!==void 0?a:s$(t,f);let p;if(m.length>0){const v=m[0];m.length>1&&([,p]=m);const b=Math.max(e,n);if(b>=960&&p)return FA(e,n,[v,p,f],u);if(b>=480)return FA(e,n,[v,f],u)}return FA(e,n,[f])}function l$e(t,e,n){var r,i,a,s;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;e!==n.backupCodec.codec&&Rn.warn("requested a different codec than specified as backup",{serverRequested:e,backup:n.backupCodec.codec}),n.videoCodec=e,n.videoEncoding=n.backupCodec.encoding;const o=t.mediaStreamTrack.getSettings(),l=(r=o.width)!==null&&r!==void 0?r:(i=t.dimensions)===null||i===void 0?void 0:i.width,c=(a=o.height)!==null&&a!==void 0?a:(s=t.dimensions)===null||s===void 0?void 0:s.height;return t.source===Ze.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),YN(t.source===Ze.Source.ScreenShare,l,c,n)}function c$e(t,e,n,r){const i=u$e(t,e,n);let{encoding:a}=i[0];const s=Math.max(e,n);for(let o=0;o<i.length;o+=1){const l=i[o];if(a=l.encoding,l.width>=s)break}if(r)switch(r){case"av1":case"h265":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.7;break;case"vp9":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.85;break}return a}function u$e(t,e,n){if(t)return i$e;const r=e>n?e/n:n/e;return Math.abs(r-16/9)<Math.abs(r-4/3)?n$e:r$e}function s$(t,e){if(t)return o$e(e);const{width:n,height:r}=e,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?a$e:s$e}function FA(t,e,n,r){const i=[];if(n.forEach((a,s)=>{if(s>=KN.length)return;const o=Math.min(t,e),c={rid:KN[s],scaleResolutionDownBy:Math.max(1,o/Math.min(a.width,a.height)),maxBitrate:a.encoding.maxBitrate},u=r&&a.encoding.maxFramerate?Math.min(r,a.encoding.maxFramerate):a.encoding.maxFramerate;u&&(c.maxFramerate=u);const f=Om()||s===0;a.encoding.priority&&f&&(c.priority=a.encoding.priority,c.networkPriority=a.encoding.priority),i.push(c)}),th()&&Yre()==="ios"){let a;i.forEach(o=>{a?o.maxFramerate&&o.maxFramerate>a&&(a=o.maxFramerate):a=o.maxFramerate});let s=!0;i.forEach(o=>{var l;o.maxFramerate!=a&&(s&&(s=!1,Rn.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),Rn.info('Setting framerate of encoding "'.concat((l=o.rid)!==null&&l!==void 0?l:"",'" to ').concat(a)),o.maxFramerate=a)})}return i}function o$(t){if(t)return t.sort((e,n)=>{const{encoding:r}=e,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class nie{constructor(e){const n=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat((e=this.suffix)!==null&&e!==void 0?e:"")}}function h$e(t){return t.source===Ze.Source.ScreenShare||t.constraints.height&&jf(t.constraints.height)>=1080?"maintain-resolution":"balanced"}const d$e=5e3;class v_ extends tie{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(e,Ze.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>me(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let a;try{a=yield this.getSenderStats()}catch(l){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}const s=new Map(a.map(l=>[l.rid,l])),o=a.some(l=>l.qualityLimitationReason==="cpu");if(o!==this.isCpuConstrained&&(this.isCpuConstrained=o,this.isCpuConstrained&&this.emit(ft.CpuConstrained)),this.prevStats){let l=0;s.forEach((c,u)=>{var f;const m=(f=this.prevStats)===null||f===void 0?void 0:f.get(u);l+=pC(c,m)}),this._currentBitrate=l}this.prevStats=s}),this.senderLock=new lo}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var n;if(this.signalClient=e,!Uo())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},tR))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return me(this,void 0,void 0,function*(){var n,r,i,a,s;yield e.pauseUpstream.call(this);try{for(var o=!0,l=Qh(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;o=!0)a=c.value,o=!1,yield(s=a.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(u){r={error:u}}finally{try{!o&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return me(this,void 0,void 0,function*(){var n,r,i,a,s;yield e.resumeUpstream.call(this);try{for(var o=!0,l=Qh(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;o=!0){a=c.value,o=!1;const u=a;yield(s=u.sender)===null||s===void 0?void 0:s.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!o&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return me(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Ze.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return me(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===Ze.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(e){super.setTrackMuted(e);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!e}getSenderStats(){return me(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var a;if(i.type==="outbound-rtp"){const s={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(a=i.rid)!==null&&a!==void 0?a:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},o=r.get(i.remoteId);o&&(s.jitter=o.jitter,s.packetsLost=o.packetsLost,s.roundTripTime=o.roundTripTime),n.push(s)}}),n.sort((i,a)=>{var s,o;return((s=a.frameWidth)!==null&&s!==void 0?s:0)-((o=i.frameWidth)!==null&&o!==void 0?o:0)}),n})}setPublishingQuality(e){const n=[];for(let r=xl.LOW;r<=xl.HIGH;r+=1)n.push(new zM({quality:r,enabled:r<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(Xc(this.codec),n)}restartTrack(e){return me(this,void 0,void 0,function*(){var n,r,i,a,s;let o;if(e){const f=GM({video:e});typeof f.video!="boolean"&&(o=f.video)}yield this.restart(o),this.isCpuConstrained=!1;try{for(var l=!0,c=Qh(this.simulcastCodecs.values()),u;u=yield c.next(),n=u.done,!n;l=!0){a=u.value,l=!1;const f=a;f.sender&&((s=f.sender.transport)===null||s===void 0?void 0:s.state)!=="closed"&&(f.mediaStreamTrack=this.mediaStreamTrack.clone(),yield f.sender.replaceTrack(f.mediaStreamTrack))}}catch(f){r={error:f}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}setProcessor(e){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return me(this,arguments,void 0,function(r){var i=this;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var s,o,l,c,u,f;if(yield n.setProcessor.call(i,r,a),!((u=i.processor)===null||u===void 0)&&u.processedTrack)try{for(var m=!0,p=Qh(i.simulcastCodecs.values()),v;v=yield p.next(),s=v.done,!s;m=!0)c=v.value,m=!1,yield(f=c.sender)===null||f===void 0?void 0:f.replaceTrack(i.processor.processedTrack)}catch(b){o={error:b}}finally{try{!m&&!s&&(l=p.return)&&(yield l.call(p))}finally{if(o)throw o.error}}})()})}setDegradationPreference(e){return me(this,void 0,void 0,function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);const n=this.sender.getParameters();n.degradationPreference=e,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(e,n){if(this.simulcastCodecs.has(e)){this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,n){const r=this.simulcastCodecs.get(e);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},d$e))}setPublishingCodecs(e){return me(this,void 0,void 0,function*(){var n,r,i,a,s,o,l;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(Xc(e[0].codec),e[0].qualities),[];this.subscribedCodecs=e;const c=[];try{for(n=!0,r=Qh(e);i=yield r.next(),a=i.done,!a;n=!0){l=i.value,n=!1;const u=l;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(Xc(u.codec),u.qualities);else{const f=this.simulcastCodecs.get(u.codec);if(this.log.debug("try setPublishingCodec for ".concat(u.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:f})),!f||!f.sender){for(const m of u.qualities)if(m.enabled){c.push(u.codec);break}}else f.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(u.codec),this.logContext),yield l$(f.sender,f.encodings,u.qualities,this.senderLock,Xc(u.codec),this.log,this.logContext))}}}catch(u){s={error:u}}finally{try{!n&&!a&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s.error}}return c})}setPublishingLayers(e,n){return me(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield l$(this.sender,this.encodings,n,this.senderLock,e,this.log,this.logContext))})}prioritizePerformance(){return me(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const e=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,i)=>{var a;return Object.assign(Object.assign({},r),{active:i===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((a=this.mediaStreamTrack.getSettings().height)!==null&&a!==void 0?a:360)/360)),scalabilityMode:i===0&&Xc(this.codec)?"L1T3":void 0,maxFramerate:i===0?15:0,maxBitrate:i===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{e()}})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return me(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Gre()&&this.isInBackground&&this.source===Ze.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function l$(t,e,n,r,i,a,s){return me(this,void 0,void 0,function*(){const o=yield r.lock();a.debug("setPublishingLayersForSender",Object.assign(Object.assign({},s),{sender:t,qualities:n,senderEncodings:e}));try{const l=t.getParameters(),{encodings:c}=l;if(!c)return;if(c.length!==e.length){a.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},s),{encodings:c,senderEncodings:e}));return}let u=!1;!1&&c[0].scalabilityMode||(i&&n.some(p=>p.enabled)&&n.forEach(p=>p.enabled=!0),c.forEach((m,p)=>{var v;let b=(v=m.rid)!==null&&v!==void 0?v:"";b===""&&(b="q");const x=rie(b),w=n.find(C=>C.quality===x);w&&m.active!==w.enabled&&(u=!0,m.active=w.enabled,a.debug("setting layer ".concat(w.quality," to ").concat(m.active?"enabled":"disabled"),s),Om()&&(w.enabled?(m.scaleResolutionDownBy=e[p].scaleResolutionDownBy,m.maxBitrate=e[p].maxBitrate,m.maxFrameRate=e[p].maxFrameRate):(m.scaleResolutionDownBy=4,m.maxBitrate=10,m.maxFrameRate=2)))})),u&&(l.encodings=c,a.debug("setting encodings",Object.assign(Object.assign({},s),{encodings:l.encodings})),yield t.setParameters(l))}finally{o()}})}function rie(t){switch(t){case"f":return xl.HIGH;case"h":return xl.MEDIUM;case"q":return xl.LOW;default:return xl.HIGH}}function c$(t,e,n,r){if(!n)return[new If({quality:xl.HIGH,width:t,height:e,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,a=new nie(i),s=[],o=a.suffix=="h"?1.5:2,l=a.suffix=="h"?2:3;for(let c=0;c<a.spatial;c+=1)s.push(new If({quality:Math.min(xl.HIGH,a.spatial-1)-c,width:Math.ceil(t/Math.pow(o,c)),height:Math.ceil(e/Math.pow(o,c)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(l,c)):0,ssrc:0}));return s}return n.map(i=>{var a,s,o;const l=(a=i.scaleResolutionDownBy)!==null&&a!==void 0?a:1;let c=rie((s=i.rid)!==null&&s!==void 0?s:"");return new If({quality:c,width:Math.ceil(t/l),height:Math.ceil(e/l),bitrate:(o=i.maxBitrate)!==null&&o!==void 0?o:0,ssrc:0})})}const u$="_lossy",h$="_reliable",f$e=2*1e3,UA="leave-reconnect",p$e=3e4,m$e=8*1024,g$e=256*1024;var Vl;(function(t){t[t.New=0]="New",t[t.Connected=1]="Connected",t[t.Disconnected=2]="Disconnected",t[t.Reconnecting=3]="Reconnecting",t[t.Closed=4]="Closed"})(Vl||(Vl={}));class v$e extends lh.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var n;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=QM.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Vl.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=Rn,this.reliableDataSequence=1,this.reliableMessageBuffer=new J9,this.reliableReceivedState=new D9e(p$e),this.lossyDataStatCurrentBytes=0,this.lossyDataStatByterate=0,this.lossyDataDropCount=0,this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=r=>me(this,[r],void 0,function(i){var a=this;let{channel:s}=i;return(function*(){if(s){if(s.label===h$)a.reliableDCSub=s;else if(s.label===u$)a.lossyDCSub=s;else return;a.log.debug("on data channel ".concat(s.id,", ").concat(s.label),a.logContext),s.onmessage=a.handleDataMessage}})()}),this.handleDataMessage=r=>me(this,void 0,void 0,function*(){var i,a,s,o,l;const c=yield this.dataProcessLock.lock();try{let u;if(r.data instanceof ArrayBuffer)u=r.data;else if(r.data instanceof Blob)u=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const f=no.fromBinary(new Uint8Array(u));if(f.sequence>0&&f.participantSid!==""){const m=this.reliableReceivedState.get(f.participantSid);if(m&&f.sequence<=m)return;this.reliableReceivedState.set(f.participantSid,f.sequence)}if(((i=f.value)===null||i===void 0?void 0:i.case)==="speaker")this.emit(vt.ActiveSpeakersUpdate,f.value.value.speakers);else if(((a=f.value)===null||a===void 0?void 0:a.case)==="encryptedPacket"){if(!this.e2eeManager){this.log.error("Received encrypted packet but E2EE not set up",this.logContext);return}const m=yield(s=this.e2eeManager)===null||s===void 0?void 0:s.handleEncryptedData(f.value.value.encryptedValue,f.value.value.iv,f.participantIdentity,f.value.value.keyIndex),p=$ne.fromBinary(m.payload),v=new no({value:p.value,participantIdentity:f.participantIdentity,participantSid:f.participantSid});((o=v.value)===null||o===void 0?void 0:o.case)==="user"&&d$(v,v.value.value),this.emit(vt.DataPacketReceived,v,f.value.value.encryptionType)}else((l=f.value)===null||l===void 0?void 0:l.case)==="user"&&d$(f,f.value.value),this.emit(vt.DataPacketReceived,f,Aa.NONE)}finally{c()}}),this.handleDataError=r=>{const a=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:s}=r.error;this.log.error("DataChannel error on ".concat(a,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:s}))}else this.log.error("Unknown DataChannel error on ".concat(a),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const a=r.currentTarget.maxRetransmits===0?Fn.LOSSY:Fn.RELIABLE;this.updateAndEmitDCBufferStatus(a)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const a=l=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(l,"ms. giving up"),this.logContext),this.emit(vt.Disconnected),this.close()},s=Date.now()-this.reconnectStart;let o=this.getNextRetryDelay({elapsedMs:s,retryCount:this.reconnectAttempts});if(o===null){a(s);return}r===UA&&(o=0),this.log.debug("reconnecting in ".concat(o,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=vs.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),o)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===Vl.Connected&&r();const a=()=>{this.off(vt.Disconnected,s),r()},s=()=>{this.off(vt.Restarted,a),i()};this.once(vt.Restarted,a),this.once(vt.Disconnected,s)}),this.updateAndEmitDCBufferStatus=r=>{if(r===Fn.RELIABLE){const a=this.dataChannelForKind(r);a&&this.reliableMessageBuffer.alignBufferedAmount(a.bufferedAmount)}const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(vt.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>me(this,void 0,void 0,function*(){!this.url||!(yield fetch(l1(this.url),{method:"HEAD"}).then(i=>i.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===Hr.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===Hr.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(Up.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>me(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch(l1(this.url),{method:"HEAD"}),ys(4e3).then(()=>Promise.reject())])}catch{window.navigator.onLine===!1&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=yd((n=e.loggerName)!==null&&n!==void 0?n:su.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new YM(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new lo,this.dataProcessLock=new lo,this.dcBufferStatus=new Map([[Fn.LOSSY,!0],[Fn.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(vt.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(vt.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(vt.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(vt.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(vt.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(vt.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(vt.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(vt.SignalRequestResponse,r)}get logContext(){var e,n,r,i,a,s;return{room:(n=(e=this.latestJoinResponse)===null||e===void 0?void 0:e.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(s=(a=this.latestJoinResponse)===null||a===void 0?void 0:a.participant)===null||s===void 0?void 0:s.identity,pID:this.participantSid}}join(e,n,r,i){return me(this,arguments,void 0,function(a,s,o,l){var c=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(function*(){c.url=a,c.token=s,c.signalOpts=o,c.maxJoinAttempts=o.maxRetries;try{c.joinAttempts+=1,c.setupSignalClientCallbacks();const f=yield c.client.join(a,s,o,l,u);return c._isClosed=!1,c.latestJoinResponse=f,c.subscriberPrimary=f.subscriberPrimary,c.pcManager||(yield c.configure(f,!u)),(!c.subscriberPrimary||f.fastPublish)&&c.negotiate().catch(m=>{Rn.error(m,c.logContext)}),c.registerOnLineListener(),c.clientConfiguration=f.clientConfiguration,c.emit(vt.SignalConnected,f),f}catch(f){if(f instanceof pn){if(f.reason===Wr.ServerUnreachable){if(c.log.warn("Couldn't connect to server, attempt ".concat(c.joinAttempts," of ").concat(c.maxJoinAttempts),c.logContext),c.joinAttempts<c.maxJoinAttempts)return c.join(a,s,o,l,u)}else if(f.reason===Wr.ServiceNotFound)return c.log.warn("Initial connection failed: ".concat(f.message,"  Retrying")),c.join(a,s,o,l,!0)}throw f}})()})}close(){return me(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(vt.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),this.cleanupLossyDataStats(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){return me(this,void 0,void 0,function*(){var e;yield(e=this.pcManager)===null||e===void 0?void 0:e.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new J9,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupLossyDataStats(){this.lossyDataStatByterate=0,this.lossyDataStatCurrentBytes=0,this.lossyDataStatInterval&&(clearInterval(this.lossyDataStatInterval),this.lossyDataStatInterval=void 0),this.lossyDataDropCount=0}cleanupClient(){return me(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new ed("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],r(pn.timeout("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[e.cid]={resolve:a=>{clearTimeout(i),n(a)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:n}=this.pendingTrackResolvers[e.track.id];n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(e,n){this.client.sendMuteTrack(e,n)}get dataSubscriberReadyState(){var e;return(e=this.reliableDCSub)===null||e===void 0?void 0:e.readyState}getConnectedServerAddress(){return me(this,void 0,void 0,function*(){var e;return(e=this.pcManager)===null||e===void 0?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e,n){return me(this,void 0,void 0,function*(){var r,i;if(this.pcManager&&this.pcManager.currentState!==Fi.NEW)return;this.participantSid=(r=e.participant)===null||r===void 0?void 0:r.sid;const a=this.makeRTCConfiguration(e);this.pcManager=new V9e(a,n?"publisher-only":e.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(vt.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(s,o)=>{this.client.sendIceCandidate(s,o)},this.pcManager.onPublisherOffer=(s,o)=>{this.client.sendOffer(s,o)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(s,o,l)=>me(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(s),this.logContext),["closed","disconnected","failed"].includes(o)&&(this.publisherConnectionPromise=void 0),s===Fi.CONNECTED){const f=this.pcState===Vl.New;this.pcState=Vl.Connected,f&&this.emit(vt.Connected,e)}else s===Fi.FAILED&&(this.pcState===Vl.Connected||this.pcState===Vl.Reconnecting)&&(this.pcState=Vl.Disconnected,this.handleDisconnect("peerconnection failed",l==="failed"?Up.RR_SUBSCRIBER_FAILED:Up.RR_PUBLISHER_FAILED));const c=this.client.isDisconnected||this.client.currentState===Hr.RECONNECTING,u=[Fi.FAILED,Fi.CLOSING,Fi.CLOSED].includes(s);c&&u&&!this._isClosed&&this.emit(vt.Offline)}),this.pcManager.onTrack=s=>{s.streams.length!==0&&this.emit(vt.MediaTrackAdded,s.track,s.streams[0],s.receiver)},y$e((i=e.serverInfo)===null||i===void 0?void 0:i.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(e,n,r)=>me(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,midToTrackId:r})),this.midToTrackId=r,yield this.pcManager.setPublisherAnswer(e,n))}),this.client.onTrickle=(e,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:n})),this.pcManager.addIceCandidate(e,n))},this.client.onOffer=(e,n,r)=>me(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;this.midToTrackId=r;const i=yield this.pcManager.createSubscriberAnswerFromOffer(e,n);i&&this.client.sendAnswer(i,n)}),this.client.onLocalTrackPublished=e=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:(n=e.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[e.cid]){this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));return}const{resolve:r}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],r(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(vt.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(vt.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{var n;this.token=e,(n=this.regionUrlProvider)===null||n===void 0||n.updateToken(e)},this.client.onRemoteMuteChanged=(e,n)=>{this.emit(vt.RemoteMute,e,n)},this.client.onSubscribedQualityUpdate=e=>{this.emit(vt.SubscribedQualityUpdate,e)},this.client.onRoomMoved=e=>{var n;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=e.room),this.emit(vt.RoomMoved,e)},this.client.onMediaSectionsRequirement=e=>{var n,r;const i={direction:"recvonly"};for(let a=0;a<e.numAudios;a++)(n=this.pcManager)===null||n===void 0||n.addPublisherTransceiverOfKind("audio",i);for(let a=0;a<e.numVideos;a++)(r=this.pcManager)===null||r===void 0||r.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",Up.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:e?.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:Qre,regionSettings:e.regions})),e.action){case T0.DISCONNECT:this.emit(vt.Disconnected,e?.reason),this.close();break;case T0.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(UA);break;case T0.RESUME:this.handleDisconnect(UA)}}}makeRTCConfiguration(e){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),e.iceServers&&!r.iceServers){const i=[];e.iceServers.forEach(a=>{const s={urls:a.urls};a.username&&(s.username=a.username),a.credential&&(s.credential=a.credential),i.push(s)}),r.iceServers=i}return e.clientConfiguration&&e.clientConfiguration.forceRelay===r1.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(u$,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(h$,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow,this.cleanupLossyDataStats(),this.lossyDataStatInterval=setInterval(()=>{this.lossyDataStatByterate=this.lossyDataStatCurrentBytes,this.lossyDataStatCurrentBytes=0;const e=this.dataChannelForKind(Fn.LOSSY);if(e){const n=this.lossyDataStatByterate/10;e.bufferedAmountLowThreshold=Math.min(Math.max(n,m$e),g$e)}},1e3))}createSender(e,n,r){return me(this,void 0,void 0,function*(){if($N())return yield this.createTransceiverRTCRtpSender(e,n,r);if(qN())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new Yi("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,n,r,i){return me(this,void 0,void 0,function*(){if($N())return this.createSimulcastTransceiverSender(e,n,r,i);if(qN())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new Yi("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,n,r){return me(this,void 0,void 0,function*(){if(!this.pcManager)throw new Yi("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream),ep(e)&&(e.codec=n.videoCodec);const a={direction:"sendonly",streams:i};return r&&(a.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,a)).sender})}createSimulcastTransceiverSender(e,n,r,i){return me(this,void 0,void 0,function*(){if(!this.pcManager)throw new Yi("publisher is closed");const a={direction:"sendonly"};i&&(a.sendEncodings=i);const s=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,a);if(r.videoCodec)return e.setSimulcastTrackSender(r.videoCodec,s.sender),s.sender})}createRTCRtpSender(e){return me(this,void 0,void 0,function*(){if(!this.pcManager)throw new Yi("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){return me(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){Rn.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===r1.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:Fi.NEW)===Fi.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(a){this.reconnectAttempts+=1;let s=!0;a instanceof Yi?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:a})),s=!1):a instanceof qg||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Up.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(vt.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(e){return me(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new Yi("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(vt.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let a;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new qg;a=yield this.join(e??this.url,this.token,this.signalOpts,void 0,!this.options.singlePeerConnection)}catch(s){throw s instanceof pn&&s.reason===Wr.NotAllowed?new Yi("could not reconnect, token might be expired"):new qg}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(vt.SignalRestarted,a),yield this.waitForPCReconnected(),this.client.currentState!==Hr.CONNECTED)throw new qg("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(vt.Restarted)}catch(a){const s=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),a}})}resumeConnection(e){return me(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new Yi("could not reconnect, url or token not saved");if(!this.pcManager)throw new Yi("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(vt.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(i){let a="";throw i instanceof Error&&(a=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof pn&&i.reason===Wr.NotAllowed?new Yi("could not reconnect, token might be expired"):i instanceof pn&&i.reason===Wr.LeaveRequest?i:new qg(a)}if(this.emit(vt.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Hr.CONNECTED)throw new qg("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r?.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(vt.Resumed)})}waitForPCInitialConnection(e,n){return me(this,void 0,void 0,function*(){if(!this.pcManager)throw new Yi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,e)})}waitForPCReconnected(){return me(this,void 0,void 0,function*(){this.pcState=Vl.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield ys(f$e),!this.pcManager)throw new Yi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Vl.Connected}catch(e){throw this.pcState=Vl.Disconnected,pn.internal("could not establish PC connection, ".concat(e.message))}})}publishRpcResponse(e,n,r,i){return me(this,void 0,void 0,function*(){const a=new no({destinationIdentities:[e],kind:Fn.RELIABLE,value:{case:"rpcResponse",value:new DM({requestId:n,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(a,Fn.RELIABLE)})}publishRpcAck(e,n){return me(this,void 0,void 0,function*(){const r=new no({destinationIdentities:[e],kind:Fn.RELIABLE,value:{case:"rpcAck",value:new jM({requestId:n})}});yield this.sendDataPacket(r,Fn.RELIABLE)})}sendDataPacket(e,n){return me(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(n),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const a=T9e(e);if(a){const s=yield this.e2eeManager.encryptData(a.toBinary());e.value={case:"encryptedPacket",value:new zne({encryptedValue:s.payload,iv:s.iv,keyIndex:s.keyIndex})}}}n===Fn.RELIABLE&&(e.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=e.toBinary(),i=this.dataChannelForKind(n);if(i){if(n===Fn.RELIABLE)yield this.waitForBufferStatusLow(n),this.reliableMessageBuffer.push({data:r,sequence:e.sequence});else{if(!this.isBufferStatusLow(n)){this.lossyDataDropCount+=1,this.lossyDataDropCount%100===0&&this.log.warn("dropping lossy data channel messages, total dropped: ".concat(this.lossyDataDropCount),this.logContext);return}this.lossyDataStatCurrentBytes+=r.byteLength}if(this.attemptingReconnect)return;i.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(e){return me(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(Fn.RELIABLE);const n=this.dataChannelForKind(Fn.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(e),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus(Fn.RELIABLE)})}waitForBufferStatusLow(e){return new Fo((n,r)=>me(this,void 0,void 0,function*(){if(this.isBufferStatusLow(e))n();else{const i=()=>r(new Yi("engine closed"));for(this.once(vt.Closing,i);!this.dcBufferStatus.get(e);)yield ys(10);this.off(vt.Closing,i),n()}}))}ensureDataTransportConnected(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return(function*(){var a;if(!r.pcManager)throw new Yi("PC manager is closed");const s=i?r.pcManager.subscriber:r.pcManager.publisher,o=i?"Subscriber":"Publisher";if(!s)throw pn.internal("".concat(o," connection not set"));let l=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),l=!0),!l&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(l=!0),l&&r.negotiate().catch(f=>{Rn.error(f,r.logContext)});const c=r.dataChannelForKind(n,i);if(c?.readyState==="open")return;const u=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<u;){if(s.isICEConnected&&((a=r.dataChannelForKind(n,i))===null||a===void 0?void 0:a.readyState)==="open")return;yield ys(50)}throw pn.internal("could not establish ".concat(o," connection, state: ").concat(s.getICEConnectionState()))})()})}ensurePublisherConnected(e){return me(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==Fi.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return me(this,void 0,void 0,function*(){return new Fo((e,n)=>me(this,void 0,void 0,function*(){if(!this.pcManager){n(new A0("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&n(new A0("cannot negotiate on closed engine")),this.on(vt.Closing,i),this.pcManager.publisher.once(L0.RTPVideoPayloadTypes,a=>{const s=new Map;a.forEach(o=>{const l=o.codec.toLowerCase();c9e(l)&&s.set(o.payload,l)}),this.emit(vt.RTPVideoMapUpdate,s)});try{yield this.pcManager.negotiate(r),e()}catch(a){a instanceof A0&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Up.RR_UNKNOWN),a instanceof Error?n(a):n(new Error(String(a)))}finally{this.off(vt.Closing,i)}}))})}dataChannelForKind(e,n){if(n){if(e===Fn.LOSSY)return this.lossyDCSub;if(e===Fn.RELIABLE)return this.reliableDCSub}else{if(e===Fn.LOSSY)return this.lossyDC;if(e===Fn.RELIABLE)return this.reliableDC}}sendSyncState(e,n){var r,i,a,s;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const o=this.pcManager.publisher.getLocalDescription(),l=this.pcManager.publisher.getRemoteDescription(),c=(r=this.pcManager.subscriber)===null||r===void 0?void 0:r.getRemoteDescription(),u=(i=this.pcManager.subscriber)===null||i===void 0?void 0:i.getLocalDescription(),f=(s=(a=this.signalOpts)===null||a===void 0?void 0:a.autoSubscribe)!==null&&s!==void 0?s:!0,m=new Array,p=new Array;e.forEach(v=>{v.isDesired!==f&&m.push(v.trackSid),v.isEnabled||p.push(v.trackSid)}),this.client.sendSyncState(new $M({answer:this.pcManager.mode==="publisher-only"?l?f0({sdp:l.sdp,type:l.type}):void 0:u?f0({sdp:u.sdp,type:u.type}):void 0,offer:this.pcManager.mode==="publisher-only"?o?f0({sdp:o.sdp,type:o.type}):void 0:c?f0({sdp:c.sdp,type:c.type}):void 0,subscription:new hC({trackSids:m,subscribe:!f,participantTracks:[]}),publishTracks:Vze(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:p,datachannelReceiveStates:this.reliableReceivedState.map((v,b)=>new ore({publisherSid:b,lastSeq:v}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],n=(r,i)=>{r?.id!==void 0&&r.id!==null&&e.push(new lre({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(Fn.LOSSY),Yc.PUBLISHER),n(this.dataChannelForKind(Fn.RELIABLE),Yc.PUBLISHER),n(this.dataChannelForKind(Fn.LOSSY,!0),Yc.SUBSCRIBER),n(this.dataChannelForKind(Fn.RELIABLE,!0),Yc.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&vs.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Uo()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){Uo()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(e){var n;const r=(n=this.pcManager)===null||n===void 0?void 0:n.getMidForReceiver(e);if(r){const i=Object.entries(this.midToTrackId).find(a=>{let[s]=a;return s===r});if(i)return i[1]}}}function y$e(t){return t!==void 0&&t>13}function d$(t,e){const n=t.participantIdentity?t.participantIdentity:e.participantIdentity;t.participantIdentity=n,e.participantIdentity=n;const r=t.destinationIdentities.length!==0?t.destinationIdentities:e.destinationIdentities;t.destinationIdentities=r,e.destinationIdentities=r}class iie{get info(){return this._info}validateBytesReceived(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(e&&this.bytesReceived<this.totalByteSize)throw new Gl("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),to.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Gl("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),to.LengthExceeded)}}constructor(e,n,r,i){this.reader=n,this.totalByteSize=r,this._info=e,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class b$e extends iie{handleChunkReceived(e){var n;this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const e=this.reader.getReader();let n=new Jl,r=null,i=null;if(this.signal){const s=this.signal;i=()=>{var o;(o=n.reject)===null||o===void 0||o.call(n,s.reason)},s.addEventListener("abort",i),r=s}const a=()=>{e.releaseLock(),r&&i&&r.removeEventListener("abort",i),this.signal=void 0};return{next:()=>me(this,void 0,void 0,function*(){var s,o;try{const{done:l,value:c}=yield Promise.race([e.read(),n.promise,(o=(s=this.outOfBandFailureRejectingFuture)===null||s===void 0?void 0:s.promise)!==null&&o!==void 0?o:new Promise(()=>{})]);return l?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(c),{done:!1,value:c.content})}catch(l){throw a(),l}}),return(){return me(this,void 0,void 0,function*(){return a(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(function*(){var r,i,a,s;let o=new Set;const l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,u=Qh(l),f;f=yield u.next(),r=f.done,!r;c=!0){s=f.value,c=!1;const m=s;o.add(m)}}catch(m){i={error:m}}finally{try{!c&&!r&&(a=u.return)&&(yield a.call(u))}finally{if(i)throw i.error}}return Array.from(o)})()})}}class x$e extends iie{constructor(e,n,r,i){super(e,n,r,i),this.receivedChunks=new Map}handleChunkReceived(e){var n;const r=A2(e.chunkIndex),i=this.receivedChunks.get(r);if(i&&i.version>e.version)return;this.receivedChunks.set(r,e),this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const a=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,a)}[Symbol.asyncIterator](){const e=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0});let r=new Jl,i=null,a=null;if(this.signal){const o=this.signal;a=()=>{var l;(l=r.reject)===null||l===void 0||l.call(r,o.reason)},o.addEventListener("abort",a),i=o}const s=()=>{e.releaseLock(),i&&a&&i.removeEventListener("abort",a),this.signal=void 0};return{next:()=>me(this,void 0,void 0,function*(){var o,l;try{const{done:c,value:u}=yield Promise.race([e.read(),r.promise,(l=(o=this.outOfBandFailureRejectingFuture)===null||o===void 0?void 0:o.promise)!==null&&l!==void 0?l:new Promise(()=>{})]);if(c)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(u);let f;try{f=n.decode(u.content)}catch(m){throw new Gl("Cannot decode datastream chunk ".concat(u.chunkIndex," as text: ").concat(m),to.DecodeFailed)}return{done:!1,value:f}}}catch(c){throw s(),c}}),return(){return me(this,void 0,void 0,function*(){return s(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return me(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(function*(){var r,i,a,s;let o="";const l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,u=Qh(l),f;f=yield u.next(),r=f.done,!r;c=!0)s=f.value,c=!1,o+=s}catch(m){i={error:m}}finally{try{!c&&!r&&(a=u.return)&&(yield a.call(u))}finally{if(i)throw i.error}}return o})()})}}class w$e{constructor(){this.log=Rn,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(e,n){if(this.textStreamHandlers.has(e))throw new Gl('A text stream handler for topic "'.concat(e,'" has already been set.'),to.HandlerAlreadyRegistered);this.textStreamHandlers.set(e,n)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,n){if(this.byteStreamHandlers.has(e))throw new Gl('A byte stream handler for topic "'.concat(e,'" has already been set.'),to.HandlerAlreadyRegistered);this.byteStreamHandlers.set(e,n)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(e){var n,r,i,a;const s=Array.from(this.textStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e),o=Array.from(this.byteStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e);if(s.length>0||o.length>0){const l=new Gl("Participant ".concat(e," unexpectedly disconnected in the middle of sending data"),to.AbnormalEnd);for(const[c,u]of o)(r=(n=u.outOfBandFailureRejectingFuture).reject)===null||r===void 0||r.call(n,l),this.byteStreamControllers.delete(c);for(const[c,u]of s)(a=(i=u.outOfBandFailureRejectingFuture).reject)===null||a===void 0||a.call(i,l),this.textStreamControllers.delete(c)}}handleDataStreamPacket(e,n){return me(this,void 0,void 0,function*(){switch(e.value.case){case"streamHeader":return this.handleStreamHeader(e.value.value,e.participantIdentity,n);case"streamChunk":return this.handleStreamChunk(e.value.value,n);case"streamTrailer":return this.handleStreamTrailer(e.value.value,n);default:throw new Error('DataPacket of value "'.concat(e.value.case,'" is not data stream related!'))}})}handleStreamHeader(e,n,r){return me(this,void 0,void 0,function*(){var i;if(e.contentHeader.case==="byteHeader"){const a=this.byteStreamHandlers.get(e.topic);if(!a){this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);return}let s;const o=new Jl;o.promise.catch(u=>{this.log.error(u)});const l={id:e.streamId,name:(i=e.contentHeader.value.name)!==null&&i!==void 0?i:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:A2(e.timestamp),attributes:e.attributes,encryptionType:r},c=new ReadableStream({start:u=>{if(s=u,this.textStreamControllers.has(e.streamId))throw new Gl("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),to.AlreadyOpened);this.byteStreamControllers.set(e.streamId,{info:l,controller:s,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:o})}});a(new b$e(l,c,A2(e.totalLength),o),{identity:n})}else if(e.contentHeader.case==="textHeader"){const a=this.textStreamHandlers.get(e.topic);if(!a){this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);return}let s;const o=new Jl;o.promise.catch(u=>{this.log.error(u)});const l={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes,encryptionType:r},c=new ReadableStream({start:u=>{if(s=u,this.textStreamControllers.has(e.streamId))throw new Gl("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),to.AlreadyOpened);this.textStreamControllers.set(e.streamId,{info:l,controller:s,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:o})}});a(new x$e(l,c,A2(e.totalLength),o),{identity:n})}})}handleStreamChunk(e,n){const r=this.byteStreamControllers.get(e.streamId);r&&(r.info.encryptionType!==n?(r.controller.error(new Gl("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),to.EncryptionTypeMismatch)),this.byteStreamControllers.delete(e.streamId)):e.content.length>0&&r.controller.enqueue(e));const i=this.textStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==n?(i.controller.error(new Gl("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),to.EncryptionTypeMismatch)),this.textStreamControllers.delete(e.streamId)):e.content.length>0&&i.controller.enqueue(e))}handleStreamTrailer(e,n){const r=this.textStreamControllers.get(e.streamId);r&&(r.info.encryptionType!==n?r.controller.error(new Gl("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),to.EncryptionTypeMismatch)):(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),e.attributes),r.controller.close(),this.textStreamControllers.delete(e.streamId)));const i=this.byteStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==n?i.controller.error(new Gl("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),to.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),e.attributes),i.controller.close()),this.byteStreamControllers.delete(e.streamId))}}class aie{constructor(e,n,r){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=r,this.info=n}write(e){return this.defaultWriter.write(e)}close(){return me(this,void 0,void 0,function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(e=this.onClose)===null||e===void 0||e.call(this)})}}class S$e extends aie{}class _$e extends aie{}const f$=15e3;class k$e{constructor(e,n){this.engine=e,this.log=n}setupEngine(e){this.engine=e}sendText(e,n){return me(this,void 0,void 0,function*(){var r;const i=crypto.randomUUID(),s=new TextEncoder().encode(e).byteLength,o=(r=n?.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),l=new Array(o?o.length+1:1).fill(0),c=(f,m)=>{var p;l[m]=f;const v=l.reduce((b,x)=>b+x,0);(p=n?.onProgress)===null||p===void 0||p.call(n,v)},u=yield this.streamText({streamId:i,totalSize:s,destinationIdentities:n?.destinationIdentities,topic:n?.topic,attachedStreamIds:o,attributes:n?.attributes});return yield u.write(e),c(1,0),yield u.close(),n?.attachments&&o&&(yield Promise.all(n.attachments.map((f,m)=>me(this,void 0,void 0,function*(){return this._sendFile(o[m],f,{topic:n.topic,mimeType:f.type,onProgress:p=>{c(p,m+1)}})})))),u.info})}streamText(e){return me(this,void 0,void 0,function*(){var n,r,i;const a=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),s={id:a,mimeType:"text/plain",timestamp:Date.now(),topic:(r=e?.topic)!==null&&r!==void 0?r:"",size:e?.totalSize,attributes:e?.attributes,encryptionType:!((i=this.engine.e2eeManager)===null||i===void 0)&&i.isDataChannelEncryptionEnabled?Aa.GCM:Aa.NONE},o=new d_({streamId:a,mimeType:s.mimeType,topic:s.topic,timestamp:zp(s.timestamp),totalLength:zp(e?.totalSize),attributes:s.attributes,contentHeader:{case:"textHeader",value:new Qne({version:e?.version,attachedStreamIds:e?.attachedStreamIds,replyToStreamId:e?.replyToStreamId,operationType:e?.type==="update"?AN.UPDATE:AN.CREATE})}}),l=e?.destinationIdentities,c=new no({destinationIdentities:l,value:{case:"streamHeader",value:o}});yield this.engine.sendDataPacket(c,Fn.RELIABLE);let u=0;const f=this.engine,m=new WritableStream({write(b){return me(this,void 0,void 0,function*(){for(const x of m9e(b,f$)){const w=new f_({content:x,streamId:a,chunkIndex:zp(u)}),C=new no({destinationIdentities:l,value:{case:"streamChunk",value:w}});yield f.sendDataPacket(C,Fn.RELIABLE),u+=1}})},close(){return me(this,void 0,void 0,function*(){const b=new p_({streamId:a}),x=new no({destinationIdentities:l,value:{case:"streamTrailer",value:b}});yield f.sendDataPacket(x,Fn.RELIABLE)})},abort(b){console.log("Sink error:",b)}});let p=()=>me(this,void 0,void 0,function*(){yield v.close()});f.once(vt.Closing,p);const v=new S$e(m,s,()=>this.engine.off(vt.Closing,p));return v})}sendFile(e,n){return me(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,e,n),{id:r}})}_sendFile(e,n,r){return me(this,void 0,void 0,function*(){var i;const a=yield this.streamBytes({streamId:e,totalSize:n.size,name:n.name,mimeType:(i=r?.mimeType)!==null&&i!==void 0?i:n.type,topic:r?.topic,destinationIdentities:r?.destinationIdentities}),s=n.stream().getReader();for(;;){const{done:o,value:l}=yield s.read();if(o)break;yield a.write(l)}return yield a.close(),a.info})}streamBytes(e){return me(this,void 0,void 0,function*(){var n,r,i,a,s,o;const l=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),c=e?.destinationIdentities,u={id:l,mimeType:(r=e?.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(i=e?.topic)!==null&&i!==void 0?i:"",timestamp:Date.now(),attributes:e?.attributes,size:e?.totalSize,name:(a=e?.name)!==null&&a!==void 0?a:"unknown",encryptionType:!((s=this.engine.e2eeManager)===null||s===void 0)&&s.isDataChannelEncryptionEnabled?Aa.GCM:Aa.NONE},f=new d_({totalLength:zp((o=u.size)!==null&&o!==void 0?o:0),mimeType:u.mimeType,streamId:l,topic:u.topic,timestamp:zp(Date.now()),attributes:u.attributes,contentHeader:{case:"byteHeader",value:new ere({name:u.name})}}),m=new no({destinationIdentities:c,value:{case:"streamHeader",value:f}});yield this.engine.sendDataPacket(m,Fn.RELIABLE);let p=0;const v=new lo,b=this.engine,x=this.log,w=new WritableStream({write(E){return me(this,void 0,void 0,function*(){const O=yield v.lock();let P=0;try{for(;P<E.byteLength;){const L=E.slice(P,P+f$),B=new no({destinationIdentities:c,value:{case:"streamChunk",value:new f_({content:L,streamId:l,chunkIndex:zp(p)})}});yield b.sendDataPacket(B,Fn.RELIABLE),p+=1,P+=L.byteLength}}finally{O()}})},close(){return me(this,void 0,void 0,function*(){const E=new p_({streamId:l}),O=new no({destinationIdentities:c,value:{case:"streamTrailer",value:E}});yield b.sendDataPacket(O,Fn.RELIABLE)})},abort(E){x.error("Sink error:",E)}});return new _$e(w,u)})}}class sie extends Ze{constructor(e,n,r,i,a){super(e,r,a),this.sid=n,this.receiver=i}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ft.Muted:ft.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const n=r=>{r.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(ft.Ended,this))};e.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return me(this,void 0,void 0,function*(){var e;return!((e=this.receiver)===null||e===void 0)&&e.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),tR)),Gze()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const e=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>e());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:a}=r;a&&this.rtpTimestamp!==a&&(this.emit(ft.TimeSyncUpdate,{timestamp:i,rtpTimestamp:a}),this.rtpTimestamp=a)}};e()}}class C$e extends sie{constructor(e,n,r,i,a,s){super(e,n,Ze.Kind.Audio,r,s),this.monitorReceiver=()=>me(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=pC(o,this.prevStats)),this.prevStats=o}),this.audioContext=i,this.webAudioPluginNodes=[],a&&(this.sinkId=a.deviceId)}setVolume(e){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(e,0,.1):r.volume=e;th()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(th())return 1;let e=0;return this.attachedElements.forEach(n=>{n.volume>e&&(e=n.volume)}),e}setSinkId(e){return me(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(n=>{if(HN(n))return n.setSinkId(e)}))})}attach(e){const n=this.attachedElements.length===0;return e?super.attach(e):e=super.attach(),this.sinkId&&HN(e)&&e.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let n;return e?(n=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,n){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),e.state!=="running"&&e.resume().then(()=>{e.state!=="running"&&this.emit(ft.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(ft.AudioPlaybackFailed,i)})}disconnectWebAudio(){var e,n;(e=this.gainNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return me(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",streamId:r.id,timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const zA=100;class T$e extends sie{constructor(e,n,r,i,a){super(e,n,Ze.Kind.Video,r,a),this.elementInfos=[],this.monitorReceiver=()=>me(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=pC(s,this.prevStats)),this.prevStats=s}),this.debouncedHandleResize=JM(()=>{this.updateDimensions()},zA),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}setStreamState(e){super.setStreamState(e),this.log.debug("setStreamState",e),this.isAdaptiveStream&&e===Ze.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(n=>{e?O0(this._mediaStreamTrack,n):d0(this._mediaStreamTrack,n)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===e)===void 0){const n=new E$e(e);this.observeElementInfo(n)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===e)===void 0?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===e);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let n=[];if(e)return this.stopObservingElement(e),super.detach(e);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var e;return(e=this.prevStats)===null||e===void 0?void 0:e.decoderImplementation}getReceiverStats(){return me(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n,r="",i=new Map;return e.forEach(a=>{a.type==="inbound-rtp"?(r=a.codecId,n={type:"video",streamId:a.id,framesDecoded:a.framesDecoded,framesDropped:a.framesDropped,framesReceived:a.framesReceived,packetsReceived:a.packetsReceived,packetsLost:a.packetsLost,frameWidth:a.frameWidth,frameHeight:a.frameHeight,pliCount:a.pliCount,firCount:a.firCount,nackCount:a.nackCount,jitter:a.jitter,timestamp:a.timestamp,bytesReceived:a.bytesReceived,decoderImplementation:a.decoderImplementation}):a.type==="codec"&&i.set(a.id,a)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(e){const n=this.elementInfos.filter(r=>r.element===e);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return me(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(e){var n,r;const i=this.elementInfos.reduce((l,c)=>Math.max(l,c.visibilityChangedAt||0),0),a=!((r=(n=this.adaptiveStreamSettings)===null||n===void 0?void 0:n.pauseVideoInBackground)!==null&&r!==void 0)||r?this.isInBackground:!1,s=this.elementInfos.some(l=>l.pictureInPicture),o=this.elementInfos.some(l=>l.visible)&&!a||s;if(!(this.lastVisible===o&&!e)){if(!o&&Date.now()-i<zA){vs.setTimeout(()=>{this.updateVisibility()},zA);return}this.lastVisible=o,this.emit(ft.VisibilityChanged,o,this)}}updateDimensions(){var e,n;let r=0,i=0;const a=this.getPixelDensity();for(const s of this.elementInfos){const o=s.width()*a,l=s.height()*a;o+l>r+i&&(r=o,i=l)}((e=this.lastDimensions)===null||e===void 0?void 0:e.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(ft.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pixelDensity;return n==="screen"?z9():n||(z9()>2?2:1)}}class E$e{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,n){this.onVisibilityChanged=r=>{var i;const{target:a,isIntersecting:s}=r;a===this.element&&(this.isIntersecting=s,this.isPiP=Uy(this.element),this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r,i,a;(i=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Uy(this.element),(a=this.handleVisibilityChanged)===null||a===void 0||a.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Uy(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=e,this.isIntersecting=n??XN(e),this.isPiP=Uo()&&Uy(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,n,r;this.isIntersecting=XN(this.element),this.isPiP=Uy(this.element),this.element.handleResize=()=>{var i;(i=this.handleResize)===null||i===void 0||i.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,q9().observe(this.element),$9().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(e=window.documentPictureInPicture)===null||e===void 0||e.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,n,r,i,a;(e=q9())===null||e===void 0||e.unobserve(this.element),(n=$9())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(a=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||a===void 0||a.removeEventListener("pagehide",this.onLeavePiP)}}function Uy(t){var e,n;return document.pictureInPictureElement===t?!0:!((e=window.documentPictureInPicture)===null||e===void 0)&&e.window?XN(t,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function XN(t,e){const n=e||window;let r=t.offsetTop,i=t.offsetLeft;const a=t.offsetWidth,s=t.offsetHeight,{hidden:o}=t,{display:l}=getComputedStyle(t);for(;t.offsetParent;)t=t.offsetParent,r+=t.offsetTop,i+=t.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+s>n.pageYOffset&&i+a>n.pageXOffset&&!o&&l!=="none"}class Gh extends lh.EventEmitter{constructor(e,n,r,i){var a;super(),this.metadataMuted=!1,this.encryption=Aa.NONE,this.log=Rn,this.handleMuted=()=>{this.emit(ft.Muted)},this.handleUnmuted=()=>{this.emit(ft.Unmuted)},this.log=yd((a=i?.loggerName)!==null&&a!==void 0?a:su.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=n,this.trackName=r,this.source=Ze.Source.Unknown}setTrack(e){this.track&&(this.track.off(ft.Muted,this.handleMuted),this.track.off(ft.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(ft.Muted,this.handleMuted),e.on(ft.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),Wn(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Aa.NONE}get audioTrack(){if(Ku(this.track))return this.track}get videoTrack(){if(ep(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=Ze.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===Ze.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}(function(t){(function(e){e.Desired="desired",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed"})(t.SubscriptionStatus||(t.SubscriptionStatus={})),(function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"})(t.PermissionStatus||(t.PermissionStatus={}))})(Gh||(Gh={}));class JN extends Gh{get isUpstreamPaused(){var e;return(e=this.track)===null||e===void 0?void 0:e.isUpstreamPaused}constructor(e,n,r,i){super(e,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(ft.Ended)},this.handleCpuConstrained=()=>{this.track&&ep(this.track)&&this.emit(ft.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(e){this.track&&(this.track.off(ft.Ended,this.handleTrackEnded),this.track.off(ft.CpuConstrained,this.handleCpuConstrained)),super.setTrack(e),e&&(e.on(ft.Ended,this.handleTrackEnded),e.on(ft.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return me(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.mute()})}unmute(){return me(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.unmute()})}pauseUpstream(){return me(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.pauseUpstream()})}resumeUpstream(){return me(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.resumeUpstream()})}getTrackFeatures(){var e;if(Ku(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(Xa.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(Xa.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(Xa.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(Xa.TF_STEREO),!((e=this.options)===null||e===void 0)&&e.dtx||r.add(Xa.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(Xa.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function mC(t,e){return me(this,void 0,void 0,function*(){t??(t={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:a}=Vre(t);let s=a.audio,o=a.video;if(r&&typeof a.audio=="object"&&(a.audio.processor=r),i&&typeof a.video=="object"&&(a.video.processor=i),t.audio&&typeof a.audio=="object"&&typeof a.audio.deviceId=="string"){const f=a.audio.deviceId;a.audio.deviceId={exact:f},n=!0,s=Object.assign(Object.assign({},a.audio),{deviceId:{ideal:f}})}if(a.video&&typeof a.video=="object"&&typeof a.video.deviceId=="string"){const f=a.video.deviceId;a.video.deviceId={exact:f},n=!0,o=Object.assign(Object.assign({},a.video),{deviceId:{ideal:f}})}a.audio===!0?a.audio={deviceId:"default"}:typeof a.audio=="object"&&a.audio!==null&&(a.audio=Object.assign(Object.assign({},a.audio),{deviceId:a.audio.deviceId||"default"})),a.video===!0?a.video={deviceId:"default"}:typeof a.video=="object"&&!a.video.deviceId&&(a.video.deviceId="default");const l=qre(a,Jre,Zre),c=GM(l),u=navigator.mediaDevices.getUserMedia(c);a.audio&&(Ja.userMediaPromiseMap.set("audioinput",u),u.catch(()=>Ja.userMediaPromiseMap.delete("audioinput"))),a.video&&(Ja.userMediaPromiseMap.set("videoinput",u),u.catch(()=>Ja.userMediaPromiseMap.delete("videoinput")));try{const f=yield u;return yield Promise.all(f.getTracks().map(m=>me(this,void 0,void 0,function*(){const p=m.kind==="audio";let v=p?l.audio:l.video;(typeof v=="boolean"||!v)&&(v={});let b;const x=p?c.audio:c.video;typeof x!="boolean"&&(b=x);const w=m.getSettings().deviceId;b?.deviceId&&jf(b.deviceId)!==w?b.deviceId=w:b||(b={deviceId:w});const C=t$e(m,b,e);return C.kind===Ze.Kind.Video?C.source=Ze.Source.Camera:C.kind===Ze.Kind.Audio&&(C.source=Ze.Source.Microphone),C.mediaStream=f,Ku(C)&&r?yield C.setProcessor(r):ep(C)&&i&&(yield C.setProcessor(i)),C})))}catch(f){if(!n)throw f;return mC(Object.assign(Object.assign({},t),{audio:s,video:o}),e)}})}function A$e(t){return me(this,void 0,void 0,function*(){return(yield mC({audio:!1,video:!0}))[0]})}function oie(t){return me(this,void 0,void 0,function*(){return(yield mC({audio:t??!0,video:!1}))[0]})}var Tf;(function(t){t.Excellent="excellent",t.Good="good",t.Poor="poor",t.Lost="lost",t.Unknown="unknown"})(Tf||(Tf={}));function O$e(t){switch(t){case Qy.EXCELLENT:return Tf.Excellent;case Qy.GOOD:return Tf.Good;case Qy.POOR:return Tf.Poor;case Qy.LOST:return Tf.Lost;default:return Tf.Unknown}}class lie extends lh.EventEmitter{get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions)===null||e===void 0?void 0:e.loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e;return((e=this.permissions)===null||e===void 0?void 0:e.agent)||this.kind===i1.AGENT}get isActive(){var e;return((e=this.participantInfo)===null||e===void 0?void 0:e.state)===C0.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,n,r,i,a,s){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:i1.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Tf.Unknown,this.log=Rn,this.log=yd((l=s?.loggerName)!==null&&l!==void 0?l:su.Participant),this.loggerOptions=s,this.setMaxListeners(100),this.sid=e,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=o,this._attributes=a??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(const[,n]of this.trackPublications)if(n.source===e)return n}getTrackPublicationByName(e){for(const[,n]of this.trackPublications)if(n.trackName===e)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new Jl,this.once(yt.Active,()=>{var e,n;(n=(e=this.activeFuture)===null||e===void 0?void 0:e.resolve)===null||n===void 0||n.call(e),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const n=this.getTrackPublication(Ze.Source.Camera);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isMicrophoneEnabled(){var e;const n=this.getTrackPublication(Ze.Source.Microphone);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(Ze.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(e){var n;return this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version?!1:(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.state===C0.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==C0.ACTIVE&&this.emit(yt.Active),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,!0)}_setMetadata(e){const n=this.metadata!==e,r=this.metadata;this.metadata=e,n&&this.emit(yt.ParticipantMetadataChanged,r)}_setName(e){const n=this.name!==e;this.name=e,n&&this.emit(yt.ParticipantNameChanged,e)}_setAttributes(e){const n=Kze(this.attributes,e);this._attributes=e,Object.keys(n).length>0&&this.emit(yt.AttributesChanged,n)}setPermissions(e){var n,r,i,a,s,o;const l=this.permissions,c=e.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||e.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||e.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||e.hidden!==((a=this.permissions)===null||a===void 0?void 0:a.hidden)||e.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((u,f)=>{var m;return u!==((m=this.permissions)===null||m===void 0?void 0:m.canPublishSources[f])})||e.canSubscribeMetrics!==((o=this.permissions)===null||o===void 0?void 0:o.canSubscribeMetrics);return this.permissions=e,c&&this.emit(yt.ParticipantPermissionsChanged,l),c}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(yt.IsSpeakingChanged,e))}setConnectionQuality(e){const n=this._connectionQuality;this._connectionQuality=O$e(e),n!==this._connectionQuality&&this.emit(yt.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var e,n;this.activeFuture&&((n=(e=this.activeFuture).reject)===null||n===void 0||n.call(e,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(n=>Ku(n.track)&&n.track.setAudioContext(e))}addTrackPublication(e){e.on(ft.Muted,()=>{this.emit(yt.TrackMuted,e)}),e.on(ft.Unmuted,()=>{this.emit(yt.TrackUnmuted,e)});const n=e;switch(n.track&&(n.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case Ze.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case Ze.Kind.Video:this.videoTrackPublications.set(e.trackSid,e);break}}}function P$e(t){var e,n,r;if(!t.participantSid&&!t.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new are({participantIdentity:(e=t.participantIdentity)!==null&&e!==void 0?e:"",participantSid:(n=t.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=t.allowAll)!==null&&r!==void 0?r:!1,trackSids:t.allowedTrackSids||[]})}class N$e extends lie{constructor(e,n,r,i,a,s){super(e,n,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Aa.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Jl)},this.handleReconnected=()=>{var o,l;(l=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||l===void 0||l.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var o,l,c,u,f,m;this.reconnectFuture&&(this.reconnectFuture.promise.catch(p=>this.log.warn(p.message,this.logContext)),(l=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||l===void 0||l.call(o,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&((u=(c=this.signalConnectedFuture).reject)===null||u===void 0||u.call(c,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),(m=(f=this.activeAgentFuture)===null||f===void 0?void 0:f.reject)===null||m===void 0||m.call(f,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=o=>{var l,c;o.participant&&this.updateInfo(o.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new Jl),(c=(l=this.signalConnectedFuture).resolve)===null||c===void 0||c.call(l)},this.handleSignalRequestResponse=o=>{const{requestId:l,reason:c,message:u}=o,f=this.pendingSignalRequests.get(l);f&&(c!==qM.OK&&f.reject(new j9(u,c)),this.pendingSignalRequests.delete(l))},this.handleDataPacket=o=>{switch(o.value.case){case"rpcResponse":let l=o.value.value,c=null,u=null;l.value.case==="payload"?c=l.value.value:l.value.case==="error"&&(u=zi.fromProto(l.value.value)),this.handleIncomingRpcResponse(l.requestId,c,u);break;case"rpcAck":let f=o.value.value;this.handleIncomingRpcAck(f.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>P$e(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,l)=>{if(l===void 0&&(l=!0),!o.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Wn(o)));return}this.engine.updateMuteStatus(o.sid,l)},this.onTrackUpstreamPaused=o=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Wn(o))),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Wn(o))),this.onTrackMuted(o,o.isMuted)},this.onTrackFeatureUpdate=o=>{const l=this.audioTrackPublications.get(o.sid);if(!l){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(o.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(l.trackSid,l.getTrackFeatures())},this.onTrackCpuConstrained=(o,l)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Wn(l))),this.emit(yt.LocalTrackCpuConstrained,o,l)},this.handleSubscribedQualityUpdate=o=>me(this,void 0,void 0,function*(){var l,c,u,f,m;if(!(!((m=this.roomOptions)===null||m===void 0)&&m.dynacast))return;const p=this.videoTrackPublications.get(o.trackSid);if(!p){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}if(!p.videoTrack)return;const v=yield p.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var b=!0,x=Qh(v),w;w=yield x.next(),l=w.done,!l;b=!0){f=w.value,b=!1;const C=f;qze(C)&&(this.log.debug("publish ".concat(C," for ").concat(p.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Wn(p))),yield this.publishAdditionalCodecForTrack(p.videoTrack,C,p.options))}}catch(C){c={error:C}}finally{try{!b&&!l&&(u=x.return)&&(yield u.call(x))}finally{if(c)throw c.error}}}),this.handleLocalTrackUnpublished=o=>{const l=this.trackPublications.get(o.trackSid);if(!l){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}this.unpublishTrack(l.track)},this.handleTrackEnded=o=>me(this,void 0,void 0,function*(){if(o.source===Ze.Source.ScreenShare||o.source===Ze.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Wn(o))),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(qh(o)||pf(o))try{if(Uo())try{const l=yield navigator?.permissions.query({name:o.source===Ze.Source.Camera?"camera":"microphone"});if(l&&l.state==="denied")throw this.log.warn("user has revoked access to ".concat(o.source),Object.assign(Object.assign({},this.logContext),Wn(o))),l.onchange=()=>{l.state!=="denied"&&(o.isMuted||o.restartTrack(),l.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Wn(o))),qh(o)?yield o.restartTrack({deviceId:"default"}):yield o.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Wn(o))),yield o.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=a,this.roomOutgoingDataStreamManager=s}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Aa.NONE}getTrackPublication(e){const n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){const n=super.getTrackPublicationByName(e);if(n)return n}setupEngine(e){var n;this.engine=e,this.engine.on(vt.RemoteMute,(r,i)=>{const a=this.trackPublications.get(r);!a||!a.track||(i?a.mute():a.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(vt.Connected,this.handleReconnected).on(vt.SignalConnected,this.handleSignalConnected).on(vt.SignalRestarted,this.handleReconnected).on(vt.SignalResumed,this.handleReconnected).on(vt.Restarting,this.handleReconnecting).on(vt.Resuming,this.handleReconnecting).on(vt.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(vt.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(vt.Closing,this.handleClosing).on(vt.SignalRequestResponse,this.handleSignalRequestResponse).on(vt.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return me(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:e})})}setName(e){return me(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:e})})}setAttributes(e){return me(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:e})})}requestMetadataUpdate(e){return me(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:a,attributes:s}=n;return(function*(){return new Fo((o,l)=>me(r,void 0,void 0,function*(){var c,u;try{let f=!1;const m=yield this.engine.client.sendUpdateLocalMetadata((c=i??this.metadata)!==null&&c!==void 0?c:"",(u=a??this.name)!==null&&u!==void 0?u:"",s),p=performance.now();for(this.pendingSignalRequests.set(m,{resolve:o,reject:v=>{l(v),f=!0},values:{name:a,metadata:i,attributes:s}});performance.now()-p<5e3&&!f;){if((!a||this.name===a)&&(!i||this.metadata===i)&&(!s||Object.entries(s).every(v=>{let[b,x]=v;return this.attributes[b]===x||x===""&&!this.attributes[b]}))){this.pendingSignalRequests.delete(m),o();return}yield ys(50)}l(new j9("Request to update local metadata timed out","TimeoutError"))}catch(f){f instanceof Error?l(f):l(new Error(String(f)))}}))})()})}setCameraEnabled(e,n,r){return this.setTrackEnabled(Ze.Source.Camera,e,n,r)}setMicrophoneEnabled(e,n,r){return this.setTrackEnabled(Ze.Source.Microphone,e,n,r)}setScreenShareEnabled(e,n,r){return this.setTrackEnabled(Ze.Source.ScreenShare,e,n,r)}setE2EEEnabled(e){return me(this,void 0,void 0,function*(){this.encryptionType=e?Aa.GCM:Aa.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,n,r,i){return me(this,void 0,void 0,function*(){var a,s;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:n})),this.republishPromise&&(yield this.republishPromise);let o=this.getTrackPublication(e);if(n)if(o)yield o.unmute();else{let l;if(this.pendingPublishing.has(e)){const c=yield this.waitForPendingPublicationOfSource(e);return c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield c?.unmute(),c}this.pendingPublishing.add(e);try{switch(e){case Ze.Source.Camera:l=yield this.createTracks({video:(a=r)!==null&&a!==void 0?a:!0});break;case Ze.Source.Microphone:l=yield this.createTracks({audio:(s=r)!==null&&s!==void 0?s:!0});break;case Ze.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new ed(e)}}catch(c){throw l?.forEach(u=>{u.stop()}),c instanceof Error&&this.emit(yt.MediaDevicesError,c,zN(e)),this.pendingPublishing.delete(e),c}for(const c of l){const u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);e===Ze.Source.Microphone&&Ku(c)&&u.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),c.startPreConnectBuffer())}try{const c=[];for(const f of l)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Wn(f))),c.push(this.publishTrack(f,i));[o]=yield Promise.all(c)}catch(c){throw l?.forEach(u=>{u.stop()}),c}finally{this.pendingPublishing.delete(e)}}else if(!o?.track&&this.pendingPublishing.has(e)&&(o=yield this.waitForPendingPublicationOfSource(e),o||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),o&&o.track)if(e===Ze.Source.ScreenShare){o=yield this.unpublishTrack(o.track);const l=this.getTrackPublication(Ze.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield o.mute();return o})}enableCameraAndMicrophone(){return me(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(Ze.Source.Camera)||this.pendingPublishing.has(Ze.Source.Microphone))){this.pendingPublishing.add(Ze.Source.Camera),this.pendingPublishing.add(Ze.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(Ze.Source.Camera),this.pendingPublishing.delete(Ze.Source.Microphone)}}})}createTracks(e){return me(this,void 0,void 0,function*(){var n,r;e??(e={});const i=qre(e,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield mC(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(o=>(Ku(o)&&(this.microphoneError=void 0,o.setAudioContext(this.audioContext),o.source=Ze.Source.Microphone,this.emit(yt.AudioStreamAcquired)),ep(o)&&(this.cameraError=void 0,o.source=Ze.Source.Camera),o))}catch(a){throw a instanceof Error&&(e.audio&&(this.microphoneError=a),e.video&&(this.cameraError=a)),a}})}createScreenTracks(e){return me(this,void 0,void 0,function*(){if(e===void 0&&(e={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new WM("getDisplayMedia not supported");e.resolution===void 0&&!r9e()&&(e.resolution=VM.h1080fps30.resolution);const n=Wze(e),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new ed("no video track found");const a=new v_(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});a.source=Ze.Source.ScreenShare,e.contentHint&&(a.mediaStreamTrack.contentHint=e.contentHint);const s=[a];if(r.getAudioTracks().length>0){this.emit(yt.AudioStreamAcquired);const o=new g_(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=Ze.Source.ScreenShareAudio,s.push(o)}return s})}publishTrack(e,n){return me(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(e,n)})}publishOrRepublishTrack(e,n){return me(this,arguments,void 0,function(r,i){var a=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return(function*(){var o,l,c,u;qh(r)&&r.setAudioContext(a.audioContext),yield(o=a.reconnectFuture)===null||o===void 0?void 0:o.promise,a.republishPromise&&!s&&(yield a.republishPromise),P0(r)&&a.pendingPublishPromises.has(r)&&(yield a.pendingPublishPromises.get(r));let f;if(r instanceof MediaStreamTrack)f=r.getConstraints();else{f=r.constraints;let w;switch(r.source){case Ze.Source.Microphone:w="audioinput";break;case Ze.Source.Camera:w="videoinput"}w&&a.activeDeviceMap.has(w)&&(f=Object.assign(Object.assign({},f),{deviceId:a.activeDeviceMap.get(w)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new g_(r,f,!0,a.audioContext,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;case"video":r=new v_(r,f,!0,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;default:throw new ed("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});let m;if(a.trackPublications.forEach(w=>{w.track&&w.track===r&&(m=w)}),m)return a.log.warn("track has already been published, skipping",Object.assign(Object.assign({},a.logContext),Wn(m))),m;const p=Object.assign(Object.assign({},a.roomOptions.publishDefaults),i),v="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,b=(l=p.forceStereo)!==null&&l!==void 0?l:v;b&&(p.dtx===void 0&&a.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},a.logContext),Wn(r))),p.red===void 0&&a.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(c=p.dtx)!==null&&c!==void 0||(p.dtx=!1),(u=p.red)!==null&&u!==void 0||(p.red=!1)),!a9e()&&a.roomOptions.e2ee&&(a.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},a.logContext)),p.simulcast=!1),p.source&&(r.source=p.source);const x=new Promise((w,C)=>me(a,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Hr.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Wn(r)}));let E=!1;const O=setTimeout(()=>{E=!0,r.stop(),C(new I9("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(O),E)return;const P=yield this.publish(r,p,b);w(P)}else try{const E=yield this.publish(r,p,b);w(E)}catch(E){C(E)}}catch(E){C(E)}}));a.pendingPublishPromises.set(r,x);try{return yield x}catch(w){throw w}finally{a.pendingPublishPromises.delete(r)}})()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new Jl),this.signalConnectedFuture.promise}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Wn(e))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return n&&(r.length===0||r.map(i=>Yze(i)).includes(e.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Wn(e))),!1)}publish(e,n,r){return me(this,void 0,void 0,function*(){var i,a,s,o,l,c,u,f,m,p;if(!this.hasPermissionsToPublish(e))throw new I9("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(U=>P0(e)&&U.source===e.source)&&e.source!==Ze.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),Wn(e))),n.stopMicTrackOnMute&&Ku(e)&&(e.stopOnMute=!0),e.source===Ze.Source.ScreenShare&&Om()&&(n.simulcast=!1),n.videoCodec==="av1"&&!e9e()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!t9e()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=GN),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(U=>n.videoCodec===xb(U.mime))||(n.videoCodec=xb(this.enabledPublishVideoCodecs[0].mime)));const b=n.videoCodec;e.on(ft.Muted,this.onTrackMuted),e.on(ft.Unmuted,this.onTrackUnmuted),e.on(ft.Ended,this.handleTrackEnded),e.on(ft.UpstreamPaused,this.onTrackUpstreamPaused),e.on(ft.UpstreamResumed,this.onTrackUpstreamResumed),e.on(ft.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const x=[],w=!(!((i=n.dtx)!==null&&i!==void 0)||i),C=e.getSourceTrackSettings();C.autoGainControl&&x.push(Xa.TF_AUTO_GAIN_CONTROL),C.echoCancellation&&x.push(Xa.TF_ECHO_CANCELLATION),C.noiseSuppression&&x.push(Xa.TF_NOISE_SUPPRESSION),C.channelCount&&C.channelCount>1&&x.push(Xa.TF_STEREO),w&&x.push(Xa.TF_NO_DTX),qh(e)&&e.hasPreConnectBuffer&&x.push(Xa.TF_PRECONNECT_BUFFER);const E=new a1({cid:e.mediaStreamTrack.id,name:n.name,type:Ze.kindToProto(e.kind),muted:e.isMuted,source:Ze.sourceToProto(e.source),disableDtx:w,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((a=n.red)!==null&&a!==void 0)||a),stream:n?.stream,backupCodecPolicy:n?.backupCodecPolicy,audioFeatures:x});let O;if(e.kind===Ze.Kind.Video){let U={width:0,height:0};try{U=yield e.waitForDimensions()}catch{const M=(o=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&o!==void 0?o:s1.h720.resolution;U={width:M.width,height:M.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(e)),{dims:U}))}E.width=U.width,E.height=U.height,pf(e)&&(Xc(b)&&(e.source===Ze.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Wn(e))))),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),E.simulcastCodecs=[new PN({codec:b,cid:e.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:GN}),n.backupCodec&&b!==n.backupCodec.codec&&E.encryption===Aa.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),E.simulcastCodecs.push(new PN({codec:n.backupCodec.codec,cid:""})))),O=YN(e.source===Ze.Source.ScreenShare,E.width,E.height,n),E.layers=c$(E.width,E.height,O,Xc(n.videoCodec))}else e.kind===Ze.Kind.Audio&&(O=[{maxBitrate:(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate,priority:(f=(u=n.audioPreset)===null||u===void 0?void 0:u.priority)!==null&&f!==void 0?f:"high",networkPriority:(p=(m=n.audioPreset)===null||m===void 0?void 0:m.priority)!==null&&p!==void 0?p:"high"}]);if(!this.engine||this.engine.isClosed)throw new Yi("cannot publish track when not connected");const P=()=>me(this,void 0,void 0,function*(){var U,G,M;if(!this.engine.pcManager)throw new Yi("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,n,O),this.emit(yt.LocalSenderCreated,e.sender,e),pf(e)&&((U=n.degradationPreference)!==null&&U!==void 0||(n.degradationPreference=h$e(e)),e.setDegradationPreference(n.degradationPreference)),O)if(Om()&&e.kind===Ze.Kind.Audio){let I;for(const K of this.engine.pcManager.publisher.getTransceivers())if(K.sender===e.sender){I=K;break}I&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:I,codec:"opus",maxbr:!((G=O[0])===null||G===void 0)&&G.maxBitrate?O[0].maxBitrate/1e3:0})}else e.codec&&Xc(e.codec)&&(!((M=O[0])===null||M===void 0)&&M.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:E.cid,codec:e.codec,maxbr:O[0].maxBitrate/1e3});yield this.engine.negotiate()});let L;const B=new Promise((U,G)=>me(this,void 0,void 0,function*(){var M;try{L=yield this.engine.addTrack(E),U(L)}catch(I){e.sender&&(!((M=this.engine.pcManager)===null||M===void 0)&&M.publisher)&&(this.engine.pcManager.publisher.removeTrack(e.sender),yield this.engine.negotiate().catch(K=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(e)),{error:K}))})),G(I)}}));if(this.enabledPublishVideoCodecs.length>0)L=(yield Promise.all([B,P()]))[0];else{L=yield B;let U;if(L.codecs.forEach(G=>{U===void 0&&(U=G.mimeType)}),U&&e.kind===Ze.Kind.Video){const G=xb(U);G!==b&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(e)),{codec:G})),n.videoCodec=G,O=YN(e.source===Ze.Source.ScreenShare,E.width,E.height,n))}yield P()}const $=new JN(e.kind,L,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if($.on(ft.CpuConstrained,U=>this.onTrackCpuConstrained(U,$)),$.options=n,e.sid=L.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:O,trackInfo:L})),pf(e)?e.startMonitor(this.engine.client):qh(e)&&e.startMonitor(),this.addTrackPublication($),this.emit(yt.LocalTrackPublished,$),qh(e)&&L.audioFeatures.includes(Xa.TF_PRECONNECT_BUFFER)){const U=e.getPreConnectBuffer(),G=e.getPreConnectBufferMimeType();this.on(yt.LocalTrackSubscribed,M=>{if(M.trackSid===L.sid){if(!e.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Wn(e))),e.stopPreConnectBuffer()}}),U&&new Promise((I,K)=>me(this,void 0,void 0,function*(){var H,J,W,Q,ee,he;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Wn(e)));const F=setTimeout(()=>{K(new Error("agent not active within 10 seconds"))},1e4),ae=yield this.waitUntilActiveAgentPresent();clearTimeout(F),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Wn(e)));const le=yield this.streamBytes({name:"preconnect-buffer",mimeType:G,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[ae.identity],attributes:{trackId:$.trackSid,sampleRate:String((ee=C.sampleRate)!==null&&ee!==void 0?ee:"48000"),channels:String((he=C.channelCount)!==null&&he!==void 0?he:"1")}});try{for(var Y=!0,ye=Qh(U),V;V=yield ye.next(),H=V.done,!H;Y=!0){Q=V.value,Y=!1;const pe=Q;yield le.write(pe)}}catch(pe){J={error:pe}}finally{try{!Y&&!H&&(W=ye.return)&&(yield W.call(ye))}finally{if(J)throw J.error}}yield le.close(),I()}catch(F){K(F)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Wn(e)))}).catch(I=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(e)),{error:I}))})}return $})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,n,r){return me(this,void 0,void 0,function*(){var i;if(this.encryptionType!==Aa.NONE)return;let a;if(this.trackPublications.forEach(p=>{p.track&&p.track===e&&(a=p)}),!a)throw new ed("track is not published");if(!pf(e))throw new ed("track is not a video track");const s=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),o=l$e(e,n,s);if(!o){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Wn(e)));return}const l=e.addSimulcastTrack(n,o);if(!l)return;const c=new a1({cid:l.mediaStreamTrack.id,type:Ze.kindToProto(e.kind),muted:e.isMuted,source:Ze.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:s.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=c$(c.width,c.height,o),!this.engine||this.engine.isClosed)throw new Yi("cannot publish track when not connected");const u=()=>me(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(e,l,s,o),yield this.engine.negotiate()}),m=(yield Promise.all([this.engine.addTrack(c),u()]))[0];this.log.debug("published ".concat(n," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:o,trackInfo:m}))})}unpublishTrack(e,n){return me(this,void 0,void 0,function*(){var r,i;if(P0(e)){const c=this.pendingPublishPromises.get(e);c&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Wn(e))),yield c)}const a=this.getPublicationForTrack(e),s=a?Wn(a):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),s)),!a||!a.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),s));return}e=a.track,e.off(ft.Muted,this.onTrackMuted),e.off(ft.Unmuted,this.onTrackUnmuted),e.off(ft.Ended,this.handleTrackEnded),e.off(ft.UpstreamPaused,this.onTrackUpstreamPaused),e.off(ft.UpstreamResumed,this.onTrackUpstreamResumed),e.off(ft.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n?e.stop():e.stopMonitor();let o=!1;const l=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Fi.FAILED&&l)try{for(const c of this.engine.pcManager.publisher.getTransceivers())c.sender===l&&(c.direction="inactive",o=!0);if(this.engine.removeTrack(l)&&(o=!0),pf(e)){for(const[,c]of e.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(o=!0),c.sender=void 0);e.simulcastCodecs.clear()}}catch(c){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),s),{error:c}))}switch(this.trackPublications.delete(a.trackSid),a.kind){case Ze.Kind.Audio:this.audioTrackPublications.delete(a.trackSid);break;case Ze.Kind.Video:this.videoTrackPublications.delete(a.trackSid);break}return this.emit(yt.LocalTrackUnpublished,a),a.setTrack(void 0),o&&(yield this.engine.negotiate()),a})}unpublishTracks(e){return me(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>this.unpublishTrack(r)))).filter(r=>!!r)})}republishAllTracks(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Fo((a,s)=>me(r,void 0,void 0,function*(){try{const o=[];this.trackPublications.forEach(l=>{l.track&&(n&&(l.options=Object.assign(Object.assign({},l.options),n)),o.push(l))}),yield Promise.all(o.map(l=>me(this,void 0,void 0,function*(){const c=l.track;yield this.unpublishTrack(c,!1),i&&!c.isMuted&&c.source!==Ze.Source.ScreenShare&&c.source!==Ze.Source.ScreenShareAudio&&(qh(c)||pf(c))&&!c.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:l.trackSid})),yield c.restartTrack()),yield this.publishOrRepublishTrack(c,l.options,!0)}))),a()}catch(o){o instanceof Error?s(o):s(new Error(String(o)))}finally{this.republishPromise=void 0}})),yield r.republishPromise})()})}publishData(e){return me(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){const a=i.reliable?Fn.RELIABLE:Fn.LOSSY,s=i.destinationIdentities,o=i.topic;let l=new RM({participantIdentity:r.identity,payload:n,destinationIdentities:s,topic:o});const c=new no({kind:a,value:{case:"user",value:l}});yield r.engine.sendDataPacket(c,a)})()})}publishDtmf(e,n){return me(this,void 0,void 0,function*(){const r=new no({kind:Fn.RELIABLE,value:{case:"sipDtmf",value:new Hne({code:e,digit:n})}});yield this.engine.sendDataPacket(r,Fn.RELIABLE)})}sendChatMessage(e,n){return me(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:n?.attachments},i=new no({value:{case:"chatMessage",value:new h_(Object.assign(Object.assign({},r),{timestamp:vi.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(i,Fn.RELIABLE),this.emit(yt.ChatMessage,r),r})}editChatMessage(e,n){return me(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:e,editTimestamp:Date.now()}),i=new no({value:{case:"chatMessage",value:new h_(Object.assign(Object.assign({},r),{timestamp:vi.parse(r.timestamp),editTimestamp:vi.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,Fn.RELIABLE),this.emit(yt.ChatMessage,r),r})}sendText(e,n){return me(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(e,n)})}streamText(e){return me(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(e)})}sendFile(e,n){return me(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(e,n)})}streamBytes(e){return me(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(e)})}performRpc(e){let{destinationIdentity:n,method:r,payload:i,responseTimeout:a=15e3}=e;const s=7e3,o=s+1e3;return new Fo((l,c)=>me(this,void 0,void 0,function*(){var u,f,m,p;if(eR(i)>eie){c(zi.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((f=(u=this.engine.latestJoinResponse)===null||u===void 0?void 0:u.serverInfo)===null||f===void 0)&&f.version&&nh((p=(m=this.engine.latestJoinResponse)===null||m===void 0?void 0:m.serverInfo)===null||p===void 0?void 0:p.version,"1.8.0")<0){c(zi.builtIn("UNSUPPORTED_SERVER"));return}const v=Math.max(a,o),b=crypto.randomUUID();yield this.publishRpcRequest(n,b,r,i,v);const x=setTimeout(()=>{this.pendingAcks.delete(b),c(zi.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(b),clearTimeout(w)},s);this.pendingAcks.set(b,{resolve:()=>{clearTimeout(x)},participantIdentity:n});const w=setTimeout(()=>{this.pendingResponses.delete(b),c(zi.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(b,{resolve:(C,E)=>{clearTimeout(w),this.pendingAcks.has(b)&&(this.log.warn("RPC response received before ack",b),this.pendingAcks.delete(b),clearTimeout(x)),E?c(E):l(C??"")},participantIdentity:n})}))}registerRpcMethod(e,n){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){const n=this.pendingAcks.get(e);n?(n.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,n,r){const i=this.pendingResponses.get(e);i?(i.resolve(n,r),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,n,r,i,a){return me(this,void 0,void 0,function*(){const s=new no({destinationIdentities:[e],kind:Fn.RELIABLE,value:{case:"rpcRequest",value:new IM({id:n,method:r,payload:i,responseTimeoutMs:a,version:1})}});yield this.engine.sendDataPacket(s,Fn.RELIABLE)})}handleParticipantDisconnected(e){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===e&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:i}]of this.pendingResponses)r===e&&(i(null,zi.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(e){return super.updateInfo(e)?(e.tracks.forEach(n=>{var r,i;const a=this.trackPublications.get(n.sid);if(a){const s=a.isMuted||((i=(r=a.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);s!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(a)),{mutedOnServer:s})),this.engine.client.sendMuteTrack(n.sid,s))}}),!0):!1}setActiveAgent(e){var n,r,i,a;this.firstActiveAgent=e,e&&!this.firstActiveAgent&&(this.firstActiveAgent=e),e?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,e):(a=(i=this.activeAgentFuture)===null||i===void 0?void 0:i.reject)===null||a===void 0||a.call(i,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new Jl),this.activeAgentFuture.promise)}getPublicationForTrack(e){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(e instanceof MediaStreamTrack?(qh(i)||pf(i))&&i.mediaStreamTrack===e&&(n=r):e===i&&(n=r))}),n}waitForPendingPublicationOfSource(e){return me(this,void 0,void 0,function*(){const r=Date.now();for(;Date.now()<r+1e4;){const i=Array.from(this.pendingPublishPromises.entries()).find(a=>{let[s]=a;return s.source===e});if(i)return i[1];yield ys(20)}})}}class L$e extends Gh{constructor(e,n,r,i){super(e,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=a=>{this.setTrack(void 0),this.emit(ft.Ended,a)},this.handleVisibilityChange=a=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(a),this.logContext),this.visible=a,this.emitTrackUpdate()},this.handleVideoDimensionsChange=a=>{this.log.debug("adaptivestream video dimensions ".concat(a.width,"x").concat(a.height),this.logContext),this.videoDimensionsAdaptiveStream=a,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new hC({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Vne({participantSid:"",trackSids:[this.trackSid]})]});this.emit(ft.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Gh.SubscriptionStatus.Unsubscribed:super.isSubscribed?Gh.SubscriptionStatus.Subscribed:Gh.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Gh.PermissionStatus.Allowed:Gh.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(e){!this.isManualOperationAllowed()||this.requestedDisabled===!e||(this.requestedDisabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.requestedMaxQuality===e||(this.requestedMaxQuality=e,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===e.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===e.height||(RA(this.track)&&(this.requestedVideoDimensions=e),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&RA(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){var e;return(e=this.requestedMaxQuality)!==null&&e!==void 0?e:xl.HIGH}setTrack(e){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(ft.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(ft.VisibilityChanged,this.handleVisibilityChange),i.off(ft.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(ft.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(ft.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(ft.VisibilityChanged,this.handleVisibilityChange),e.on(ft.Ended,this.handleEnded),this.emit(ft.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(e){this.emit(ft.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const n=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):n!==e.muted&&this.emit(e.muted?ft.Muted:ft.Unmuted)}emitSubscriptionUpdateIfChanged(e){const n=this.subscriptionStatus;e!==n&&this.emit(ft.SubscriptionStatusChanged,n,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(ft.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return RA(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new tre({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===Ze.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)B9(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=Xze(this.trackInfo,this.requestedMaxQuality);r&&B9(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(e.width=Math.ceil(n.width),e.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),e.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:xl.HIGH})),e.quality=xl.HIGH)}this.emit(ft.UpdateSettings,e)}}class y_ extends lie{static fromParticipantInfo(e,n,r){return new y_(e,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,n,r,i,a,s,o){let l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:i1.STANDARD;super(n,r||"",i,a,s,o,l),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(ft.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Wn(e)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),e.on(ft.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),e.on(ft.SubscriptionPermissionChanged,n=>{this.emit(yt.TrackSubscriptionPermissionChanged,e,n)}),e.on(ft.SubscriptionStatusChanged,n=>{this.emit(yt.TrackSubscriptionStatusChanged,e,n)}),e.on(ft.Subscribed,n=>{this.emit(yt.TrackSubscribed,n,e)}),e.on(ft.Unsubscribed,n=>{this.emit(yt.TrackUnsubscribed,n,e)}),e.on(ft.SubscriptionFailed,n=>{this.emit(yt.TrackSubscriptionFailed,e.trackSid,n)})}getTrackPublication(e){const n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){const n=super.getTrackPublicationByName(e);if(n)return n}setVolume(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze.Source.Microphone;this.volumeMap.set(n,e);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(e)}getVolume(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze.Source.Microphone;const n=this.getTrackPublication(e);return n&&n.track?n.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,n,r,i,a,s){let o=this.getTrackPublicationBySid(n);if(o||n.startsWith("TR")||this.trackPublications.forEach(u=>{!o&&e.kind===u.kind.toString()&&(o=u)}),!o){if(s===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(yt.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,n,r,i,a,s-1)},150);return}if(e.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Wn(o))),this.emit(yt.TrackSubscriptionFailed,n);return}const l=e.kind==="video";let c;return l?c=new T$e(e,n,i,a):c=new C$e(e,n,i,this.audioContext,this.audioOutput),c.source=o.source,c.isMuted=o.isMuted,c.setMediaStream(r),c.start(),o.setTrack(c),this.volumeMap.has(o.source)&&WN(c)&&Ku(c)&&c.setVolume(this.volumeMap.get(o.source)),o}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const n=new Map,r=new Map;return e.tracks.forEach(i=>{var a,s;let o=this.getTrackPublicationBySid(i.sid);if(o)o.updateInfo(i);else{const l=Ze.kindFromProto(i.type);if(!l)return;o=new L$e(l,i,(a=this.signalClient.connectOptions)===null||a===void 0?void 0:a.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(s=this.loggerOptions)===null||s===void 0?void 0:s.loggerName}),o.updateInfo(i),r.set(i.sid,o);const c=Array.from(this.trackPublications.values()).find(u=>u.source===o?.source);c&&o.source!==Ze.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(o.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Wn(c),newTrack:Wn(o)})),this.addTrackPublication(o)}n.set(i.sid,o)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Wn(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(yt.TrackPublished,i)}),!0}unpublishTrack(e,n){const r=this.trackPublications.get(e);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(e),r.kind){case Ze.Kind.Audio:this.audioTrackPublications.delete(e);break;case Ze.Kind.Video:this.videoTrackPublications.delete(e);break}n&&this.emit(yt.TrackUnpublished,r)}setAudioOutput(e){return me(this,void 0,void 0,function*(){this.audioOutput=e;const n=[];this.audioTrackPublications.forEach(r=>{var i;Ku(r.track)&&WN(r.track)&&n.push(r.track.setSinkId((i=e.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:r})),super.emit(e,...r)}}var pr;(function(t){t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting"})(pr||(pr={}));const M$e=4*1e3;class ov extends lh.EventEmitter{get hasE2EESetup(){return this.e2eeManager!==void 0}constructor(e){var n,r,i,a,s;if(super(),n=this,this.state=pr.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=Rn,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(o,l,c)=>me(this,void 0,void 0,function*(){var u;if(!n9e())throw th()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const f=yield this.disconnectLock.lock();if(this.state===pr.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),f(),Promise.resolve();if(this.connectFuture)return f(),this.connectFuture.promise;this.setAndEmitConnectionState(pr.Connecting),((u=this.regionUrlProvider)===null||u===void 0?void 0:u.getServerUrl().toString())!==Xre(o)&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),sv(new URL(o))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new cr(o,l):this.regionUrlProvider.updateToken(l),this.regionUrlProvider.fetchRegionSettings().then(v=>{var b;(b=this.regionUrlProvider)===null||b===void 0||b.setServerReportedRegions(v)}).catch(v=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:v}))}));const m=(v,b,x)=>me(this,void 0,void 0,function*(){var w,C;this.abortController&&this.abortController.abort();const E=new AbortController;this.abortController=E,f?.();try{if(yield N0.getInstance().getBackOffPromise(o),E.signal.aborted)throw pn.cancelled("Connection attempt aborted");yield this.attemptConnection(x??o,l,c,E),this.abortController=void 0,v()}catch(O){if(this.regionUrlProvider&&O instanceof pn&&O.reason!==Wr.Cancelled&&O.reason!==Wr.NotAllowed){let P=null;try{this.log.debug("Fetching next region"),P=yield this.regionUrlProvider.getNextBestRegionUrl((w=this.abortController)===null||w===void 0?void 0:w.signal)}catch(L){if(L instanceof pn&&(L.status===401||L.reason===Wr.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),b(L);return}}[Wr.InternalError,Wr.ServerUnreachable,Wr.Timeout].includes(O.reason)&&(this.log.debug("Adding failed connection attempt to back off"),N0.getInstance().addFailedConnectionAttempt(o)),P&&!(!((C=this.abortController)===null||C===void 0)&&C.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(O.message,". Retrying with another region: ").concat(P),this.logContext),this.recreateEngine(),yield m(v,b,P)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,W9(O)),b(O))}else{let P=Zc.UNKNOWN_REASON;O instanceof pn&&(P=W9(O)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,P),b(O)}}}),p=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Jl((v,b)=>{m(v,b,p)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(o,l,c,u,f,m)=>me(this,void 0,void 0,function*(){var p,v,b;const x=yield c.join(o,l,{autoSubscribe:u.autoSubscribe,adaptiveStream:typeof f.adaptiveStream=="object"?!0:f.adaptiveStream,maxRetries:u.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:u.websocketTimeout},m.signal,!f.singlePeerConnection);let w=x.serverInfo;if(w||(w={version:x.serverVersion,region:x.serverRegion}),this.serverInfo=w,this.log.debug("connected to Livekit Server ".concat(Object.entries(w).map(C=>{let[E,O]=C;return"".concat(E,": ").concat(O)}).join(", ")),{room:(p=x.room)===null||p===void 0?void 0:p.name,roomSid:(v=x.room)===null||v===void 0?void 0:v.sid,identity:(b=x.participant)===null||b===void 0?void 0:b.identity}),!w.version)throw new Bze("unknown server version");return w.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),f.dynacast=!1),x}),this.applyJoinResponse=o=>{const l=o.participant;if(this.localParticipant.sid=l.sid,this.localParticipant.identity=l.identity,this.localParticipant.setEnabledPublishCodecs(o.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(o.sifTrailer)}catch(c){this.log.error(c instanceof Error?c.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:c}))}this.handleParticipantUpdates([l,...o.otherParticipants]),o.room&&this.handleRoomUpdate(o.room)},this.attemptConnection=(o,l,c,u)=>me(this,void 0,void 0,function*(){var f,m;this.state===pr.Reconnecting||this.isResuming||!((f=this.engine)===null||f===void 0)&&f.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((m=this.regionUrlProvider)===null||m===void 0)&&m.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},QM),c),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const p=yield this.connectSignal(o,l,this.engine,this.connOptions,this.options,u);this.applyJoinResponse(p),this.setupLocalParticipantEvents(),this.emit(ut.SignalConnected)}catch(p){yield this.engine.close(),this.recreateEngine();const v=u.signal.aborted?pn.cancelled("Signal connection aborted"):pn.serverUnreachable("could not establish signal connection");throw p instanceof Error&&(v.message="".concat(v.message,": ").concat(p.message)),p instanceof pn&&(v.reason=p.reason,v.status=p.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:p})),v}if(u.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),pn.cancelled("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,u)}catch(p){throw yield this.engine.close(),this.recreateEngine(),p}Uo()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Uo()&&window.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(pr.Connected),this.emit(ut.Connected),N0.getInstance().resetFailedConnectionAttempts(o),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return me(n,[...l],void 0,function(){var u=this;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){var m,p,v;const b=yield u.disconnectLock.lock();try{if(u.state===pr.Disconnected){u.log.debug("already disconnected",u.logContext);return}if(u.log.info("disconnect from room",Object.assign({},u.logContext)),u.state===pr.Connecting||u.state===pr.Reconnecting||u.isResuming){const x="Abort connection attempt due to user initiated disconnect";u.log.warn(x,u.logContext),(m=u.abortController)===null||m===void 0||m.abort(x),(v=(p=u.connectFuture)===null||p===void 0?void 0:p.reject)===null||v===void 0||v.call(p,pn.cancelled("Client initiated disconnect")),u.connectFuture=void 0}u.engine&&(u.engine.client.isDisconnected||(yield u.engine.client.sendLeave()),yield u.engine.close()),u.handleDisconnect(f,Zc.CLIENT_INITIATED),u.engine=void 0}finally{b()}})()})},this.onPageLeave=()=>me(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>me(this,void 0,void 0,function*(){const o=[],l=$o();if(l&&l.os==="iOS"){const c="livekit-dummy-audio-el";let u=document.getElementById(c);if(!u){u=document.createElement("audio"),u.id=c,u.autoplay=!0,u.hidden=!0;const f=MA();f.enabled=!0;const m=new MediaStream([f]);u.srcObject=m,document.addEventListener("visibilitychange",()=>{u&&(u.srcObject=document.hidden?null:m,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(u),this.once(ut.Disconnected,()=>{u?.remove(),u=null})}o.push(u)}this.remoteParticipants.forEach(c=>{c.audioTrackPublications.forEach(u=>{u.track&&u.track.attachedElements.forEach(f=>{o.push(f)})})});try{yield Promise.all([this.acquireAudioContext(),...o.map(c=>(c.muted=!1,c.play()))]),this.handleAudioPlaybackStarted()}catch(c){throw this.handleAudioPlaybackFailed(c),c}}),this.startVideo=()=>me(this,void 0,void 0,function*(){const o=[];for(const l of this.remoteParticipants.values())l.videoTrackPublications.forEach(c=>{var u;(u=c.track)===null||u===void 0||u.attachedElements.forEach(f=>{o.includes(f)||o.push(f)})});yield Promise.all(o.map(l=>l.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(l=>{l.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const o of this.remoteParticipants.values())this.handleParticipantDisconnected(o.identity,o);this.setAndEmitConnectionState(pr.Reconnecting)&&this.emit(ut.Reconnecting)},this.handleSignalRestarted=o=>me(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(o.serverRegion),Object.assign(Object.assign({},this.logContext),{region:o.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(o);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(l){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:l}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:o.serverRegion}))}catch{return}this.setAndEmitConnectionState(pr.Connected),this.emit(ut.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=o=>{o.forEach(l=>{var c;if(l.identity===this.localParticipant.identity){this.localParticipant.updateInfo(l);return}l.identity===""&&(l.identity=(c=this.sidToIdentity.get(l.sid))!==null&&c!==void 0?c:"");let u=this.remoteParticipants.get(l.identity);l.state===C0.DISCONNECTED?this.handleParticipantDisconnected(l.identity,u):u=this.getOrCreateParticipant(l.identity,l)})},this.handleActiveSpeakersUpdate=o=>{const l=[],c={};o.forEach(u=>{if(c[u.sid]=!0,u.sid===this.localParticipant.sid)this.localParticipant.audioLevel=u.level,this.localParticipant.setIsSpeaking(!0),l.push(this.localParticipant);else{const f=this.getRemoteParticipantBySid(u.sid);f&&(f.audioLevel=u.level,f.setIsSpeaking(!0),l.push(f))}}),c[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(u=>{c[u.sid]||(u.audioLevel=0,u.setIsSpeaking(!1))}),this.activeSpeakers=l,this.emitWhenConnected(ut.ActiveSpeakersChanged,l)},this.handleSpeakersChanged=o=>{const l=new Map;this.activeSpeakers.forEach(u=>{const f=this.remoteParticipants.get(u.identity);f&&f.sid!==u.sid||l.set(u.sid,u)}),o.forEach(u=>{let f=this.getRemoteParticipantBySid(u.sid);u.sid===this.localParticipant.sid&&(f=this.localParticipant),f&&(f.audioLevel=u.level,f.setIsSpeaking(u.active),u.active?l.set(u.sid,f):l.delete(u.sid))});const c=Array.from(l.values());c.sort((u,f)=>f.audioLevel-u.audioLevel),this.activeSpeakers=c,this.emitWhenConnected(ut.ActiveSpeakersChanged,c)},this.handleStreamStateUpdate=o=>{o.streamStates.forEach(l=>{const c=this.getRemoteParticipantBySid(l.participantSid);if(!c)return;const u=c.getTrackPublicationBySid(l.trackSid);if(!u||!u.track)return;const f=Ze.streamStateFromProto(l.state);u.track.setStreamState(f),f!==u.track.streamState&&(c.emit(yt.TrackStreamStateChanged,u,u.track.streamState),this.emitWhenConnected(ut.TrackStreamStateChanged,u,u.track.streamState,c))})},this.handleSubscriptionPermissionUpdate=o=>{const l=this.getRemoteParticipantBySid(o.participantSid);if(!l)return;const c=l.getTrackPublicationBySid(o.trackSid);c&&c.setAllowed(o.allowed)},this.handleSubscriptionError=o=>{const l=Array.from(this.remoteParticipants.values()).find(u=>u.trackPublications.has(o.trackSid));if(!l)return;const c=l.getTrackPublicationBySid(o.trackSid);c&&c.setSubscriptionError(o.err)},this.handleDataPacket=(o,l)=>{const c=this.remoteParticipants.get(o.participantIdentity);if(o.value.case==="user")this.handleUserPacket(c,o.value.value,o.kind,l);else if(o.value.case==="transcription")this.handleTranscription(c,o.value.value);else if(o.value.case==="sipDtmf")this.handleSipDtmf(c,o.value.value);else if(o.value.case==="chatMessage")this.handleChatMessage(c,o.value.value);else if(o.value.case==="metrics")this.handleMetrics(o.value.value,c);else if(o.value.case==="streamHeader"||o.value.case==="streamChunk"||o.value.case==="streamTrailer")this.handleDataStream(o,l);else if(o.value.case==="rpcRequest"){const u=o.value.value;this.handleIncomingRpcRequest(o.participantIdentity,u.id,u.method,u.payload,u.responseTimeoutMs,u.version)}},this.handleUserPacket=(o,l,c,u)=>{this.emit(ut.DataReceived,l.payload,o,c,l.topic,u),o?.emit(yt.DataReceived,l.payload,c,u)},this.handleSipDtmf=(o,l)=>{this.emit(ut.SipDTMFReceived,l,o),o?.emit(yt.SipDTMFReceived,l)},this.handleTranscription=(o,l)=>{const c=l.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(l.transcribedParticipantIdentity),u=c?.trackPublications.get(l.trackId),f=h9e(l,this.transcriptionReceivedTimes);u?.emit(ft.TranscriptionReceived,f),c?.emit(yt.TranscriptionReceived,f,u),this.emit(ut.TranscriptionReceived,f,c,u)},this.handleChatMessage=(o,l)=>{const c=d9e(l);this.emit(ut.ChatMessage,c,o)},this.handleMetrics=(o,l)=>{this.emit(ut.MetricsReceived,o,l)},this.handleDataStream=(o,l)=>{this.incomingDataStreamManager.handleDataStreamPacket(o,l)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(ut.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=o=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:o})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(ut.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(ut.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(ut.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>me(this,void 0,void 0,function*(){var o;((o=$o())===null||o===void 0?void 0:o.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(ut.MediaDevicesChanged)}),this.handleRoomUpdate=o=>{const l=this.roomInfo;this.roomInfo=o,l&&l.metadata!==o.metadata&&this.emitWhenConnected(ut.RoomMetadataChanged,o.metadata),l?.activeRecording!==o.activeRecording&&this.emitWhenConnected(ut.RecordingStatusChanged,o.activeRecording)},this.handleConnectionQualityUpdate=o=>{o.updates.forEach(l=>{if(l.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(l.quality);return}const c=this.getRemoteParticipantBySid(l.participantSid);c&&c.setConnectionQuality(l.quality)})},this.onLocalParticipantMetadataChanged=o=>{this.emit(ut.ParticipantMetadataChanged,o,this.localParticipant)},this.onLocalParticipantNameChanged=o=>{this.emit(ut.ParticipantNameChanged,o,this.localParticipant)},this.onLocalAttributesChanged=o=>{this.emit(ut.ParticipantAttributesChanged,o,this.localParticipant)},this.onLocalTrackMuted=o=>{this.emit(ut.TrackMuted,o,this.localParticipant)},this.onLocalTrackUnmuted=o=>{this.emit(ut.TrackUnmuted,o,this.localParticipant)},this.onTrackProcessorUpdate=o=>{var l;(l=o?.onPublish)===null||l===void 0||l.call(o,this)},this.onLocalTrackPublished=o=>me(this,void 0,void 0,function*(){var l,c,u,f,m,p;(l=o.track)===null||l===void 0||l.on(ft.TrackProcessorUpdate,this.onTrackProcessorUpdate),(c=o.track)===null||c===void 0||c.on(ft.Restarted,this.onLocalTrackRestarted),(m=(f=(u=o.track)===null||u===void 0?void 0:u.getProcessor())===null||f===void 0?void 0:f.onPublish)===null||m===void 0||m.call(f,this),this.emit(ut.LocalTrackPublished,o,this.localParticipant),qh(o.track)&&(yield o.track.checkForSilence())&&this.emit(ut.LocalAudioSilenceDetected,o);const v=yield(p=o.track)===null||p===void 0?void 0:p.getDeviceId(!1),b=zN(o.source);b&&v&&v!==this.localParticipant.activeDeviceMap.get(b)&&(this.localParticipant.activeDeviceMap.set(b,v),this.emit(ut.ActiveDeviceChanged,b,v))}),this.onLocalTrackUnpublished=o=>{var l,c;(l=o.track)===null||l===void 0||l.off(ft.TrackProcessorUpdate,this.onTrackProcessorUpdate),(c=o.track)===null||c===void 0||c.off(ft.Restarted,this.onLocalTrackRestarted),this.emit(ut.LocalTrackUnpublished,o,this.localParticipant)},this.onLocalTrackRestarted=o=>me(this,void 0,void 0,function*(){const l=yield o.getDeviceId(!1),c=zN(o.source);c&&l&&l!==this.localParticipant.activeDeviceMap.get(c)&&(this.log.debug("local track restarted, setting ".concat(c," ").concat(l," active"),this.logContext),this.localParticipant.activeDeviceMap.set(c,l),this.emit(ut.ActiveDeviceChanged,c,l))}),this.onLocalConnectionQualityChanged=o=>{this.emit(ut.ConnectionQualityChanged,o,this.localParticipant)},this.onMediaDevicesError=(o,l)=>{this.emit(ut.MediaDevicesError,o,l)},this.onLocalParticipantPermissionsChanged=o=>{this.emit(ut.ParticipantPermissionsChanged,o,this.localParticipant)},this.onLocalChatMessageSent=o=>{this.emit(ut.ChatMessage,o,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},W9e),e),this.log=yd((r=this.options.loggerName)!==null&&r!==void 0?r:su.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},Jre),e?.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},Zre),e?.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},H9e),e?.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new w$e,this.outgoingDataStreamManager=new k$e(this.engine,this.log),this.disconnectLock=new lo,this.localParticipant=new N$e("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",jf(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",jf(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",jf(this.options.audioOutput.deviceId)).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),Uo()){const o=new AbortController;(s=(a=navigator.mediaDevices)===null||a===void 0?void 0:a.addEventListener)===null||s===void 0||s.call(a,"devicechange",this.handleDeviceChange,{signal:o.signal}),ov.cleanupRegistry&&ov.cleanupRegistry.register(this,()=>{o.abort()})}}registerTextStreamHandler(e,n){return this.incomingDataStreamManager.registerTextStreamHandler(e,n)}unregisterTextStreamHandler(e){return this.incomingDataStreamManager.unregisterTextStreamHandler(e)}registerByteStreamHandler(e,n){return this.incomingDataStreamManager.registerByteStreamHandler(e,n)}unregisterByteStreamHandler(e){return this.incomingDataStreamManager.unregisterByteStreamHandler(e)}registerRpcMethod(e,n){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setE2EEEnabled(e){return me(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;const n=!!this.options.encryption,r=this.options.encryption||this.options.e2ee;r&&("e2eeManager"in r?(this.e2eeManager=r.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=n):this.e2eeManager=new E9e(r,n),this.e2eeManager.on(Lf.ParticipantEncryptionStatusChanged,(i,a)=>{p9e(a)&&(this.isE2EEEnabled=i),this.emit(ut.ParticipantEncryptionStatusChanged,i,a)}),this.e2eeManager.on(Lf.EncryptionError,(i,a)=>{const s=a?this.getParticipantByIdentity(a):void 0;this.emit(ut.EncryptionError,i,s)}),(e=this.e2eeManager)===null||e===void 0||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:(e=this.roomInfo)===null||e===void 0?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return this.state===pr.Disconnected?Fo.resolve(""):this.roomInfo&&this.roomInfo.sid!==""?Fo.resolve(this.roomInfo.sid):new Fo((e,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(vt.RoomUpdate,r),e(i.sid))};this.engine.on(vt.RoomUpdate,r),this.once(ut.Disconnected,()=>{this.engine.off(vt.RoomUpdate,r),n(new Yi("Room disconnected before room server id was available"))})})}get name(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:""}get metadata(){var e;return(e=this.roomInfo)===null||e===void 0?void 0:e.metadata}get numParticipants(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new v$e(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(vt.ParticipantUpdate,this.handleParticipantUpdates).on(vt.RoomUpdate,this.handleRoomUpdate).on(vt.SpeakersChanged,this.handleSpeakersChanged).on(vt.StreamStateChanged,this.handleStreamStateUpdate).on(vt.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(vt.SubscriptionError,this.handleSubscriptionError).on(vt.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(vt.MediaTrackAdded,(e,n,r)=>{this.onTrackAdded(e,n,r)}).on(vt.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(vt.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(vt.DataPacketReceived,this.handleDataPacket).on(vt.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(pr.SignalReconnecting)&&this.emit(ut.SignalReconnecting)}).on(vt.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(pr.Connected)&&this.emit(ut.Reconnected)}).on(vt.SignalResumed,()=>{this.bufferedEvents=[],(this.state===pr.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(vt.Restarting,this.handleRestarting).on(vt.SignalRestarted,this.handleSignalRestarted).on(vt.Offline,()=>{this.setAndEmitConnectionState(pr.Reconnecting)&&this.emit(ut.Reconnecting)}).on(vt.DCBufferStatusChanged,(e,n)=>{this.emit(ut.DCBufferStatusChanged,e,n)}).on(vt.LocalTrackSubscribed,e=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===e});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(yt.LocalTrackSubscribed,n),this.emitWhenConnected(ut.LocalTrackSubscribed,n,this.localParticipant)}).on(vt.RoomMoved,e=>{this.log.debug("room moved",e),e.room&&this.handleRoomUpdate(e.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(ut.Moved,e.room.name),e.participant?this.handleParticipantUpdates([e.participant,...e.otherParticipants]):this.handleParticipantUpdates(e.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ja.getInstance().getDevices(e,n)}prepareConnection(e,n){return me(this,void 0,void 0,function*(){if(this.state===pr.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(sv(new URL(e))&&n){this.regionUrlProvider=new cr(e,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===pr.Disconnected&&(this.regionUrl=r,yield fetch(l1(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(l1(e),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,n){return me(this,void 0,void 0,function*(){let r=()=>me(this,void 0,void 0,function*(){}),i;switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new Fu({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new Fu({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new Fu({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new Fu({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>me(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Fu({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>me(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Fu({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new Fu({scenario:{case:"switchCandidateProtocol",value:e==="force-tls"?2:1}}),r=()=>me(this,void 0,void 0,function*(){const a=this.engine.client.onLeave;a&&a(new dC({reason:Zc.CLIENT_INITIATED,action:T0.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new Fu({scenario:{case:"subscriberBandwidth",value:zp(n)}});break;case"leave-full-reconnect":i=new Fu({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,n){return me(this,arguments,void 0,function(r,i){var a=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(function*(){var o,l,c,u,f,m,p;let v=!0,b=!1;const x=s?{exact:i}:i;if(r==="audioinput"){b=a.localParticipant.audioTrackPublications.size===0;const w=(o=a.getActiveDevice(r))!==null&&o!==void 0?o:a.options.audioCaptureDefaults.deviceId;a.options.audioCaptureDefaults.deviceId=x;const C=Array.from(a.localParticipant.audioTrackPublications.values()).filter(O=>O.source===Ze.Source.Microphone);try{v=(yield Promise.all(C.map(O=>{var P;return(P=O.audioTrack)===null||P===void 0?void 0:P.setDeviceId(x)}))).every(O=>O===!0)}catch(O){throw a.options.audioCaptureDefaults.deviceId=w,O}const E=C.some(O=>{var P,L;return(L=(P=O.track)===null||P===void 0?void 0:P.isMuted)!==null&&L!==void 0?L:!1});v&&E&&(b=!0)}else if(r==="videoinput"){b=a.localParticipant.videoTrackPublications.size===0;const w=(l=a.getActiveDevice(r))!==null&&l!==void 0?l:a.options.videoCaptureDefaults.deviceId;a.options.videoCaptureDefaults.deviceId=x;const C=Array.from(a.localParticipant.videoTrackPublications.values()).filter(O=>O.source===Ze.Source.Camera);try{v=(yield Promise.all(C.map(O=>{var P;return(P=O.videoTrack)===null||P===void 0?void 0:P.setDeviceId(x)}))).every(O=>O===!0)}catch(O){throw a.options.videoCaptureDefaults.deviceId=w,O}const E=C.some(O=>{var P,L;return(L=(P=O.track)===null||P===void 0?void 0:P.isMuted)!==null&&L!==void 0?L:!1});v&&E&&(b=!0)}else if(r==="audiooutput"){if(b=!0,!HN()&&!a.options.webAudioMix||a.options.webAudioMix&&a.audioContext&&!("setSinkId"in a.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");a.options.webAudioMix&&(i=(c=yield Ja.getInstance().normalizeDeviceId("audiooutput",i))!==null&&c!==void 0?c:""),(u=(p=a.options).audioOutput)!==null&&u!==void 0||(p.audioOutput={});const w=(f=a.getActiveDevice(r))!==null&&f!==void 0?f:a.options.audioOutput.deviceId;a.options.audioOutput.deviceId=i;try{a.options.webAudioMix&&((m=a.audioContext)===null||m===void 0||m.setSinkId(i)),yield Promise.all(Array.from(a.remoteParticipants.values()).map(C=>C.setAudioOutput({deviceId:i})))}catch(C){throw a.options.audioOutput.deviceId=w,C}}return b&&(a.localParticipant.activeDeviceMap.set(r,i),a.emit(ut.ActiveDeviceChanged,r,i)),v})()})}setupLocalParticipantEvents(){this.localParticipant.on(yt.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(yt.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(yt.AttributesChanged,this.onLocalAttributesChanged).on(yt.TrackMuted,this.onLocalTrackMuted).on(yt.TrackUnmuted,this.onLocalTrackUnmuted).on(yt.LocalTrackPublished,this.onLocalTrackPublished).on(yt.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(yt.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(yt.MediaDevicesError,this.onMediaDevicesError).on(yt.AudioStreamAcquired,this.startAudio).on(yt.ChatMessage,this.onLocalChatMessageSent).on(yt.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;(e=this.engine)===null||e===void 0||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,n,r){if(this.state===pr.Connecting||this.state===pr.Reconnecting){const f=()=>{this.log.debug("deferring on track for later",{mediaTrackId:e.id,mediaStreamId:n.id,tracksInStream:n.getTracks().map(p=>p.id)}),this.onTrackAdded(e,n,r),m()},m=()=>{this.off(ut.Reconnected,f),this.off(ut.Connected,f),this.off(ut.Disconnected,m)};this.once(ut.Reconnected,f),this.once(ut.Connected,f),this.once(ut.Disconnected,m);return}if(this.state===pr.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(e.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const i=Qze(n.id),a=i[0];let s=i[1],o=e.id;if(s&&s.startsWith("TR")&&(o=s),a===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const l=Array.from(this.remoteParticipants.values()).find(f=>f.sid===a);if(!l){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(a),this.logContext);return}if(!o.startsWith("TR")){const f=this.engine.getTrackIdForReceiver(r);if(!f){this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(a),this.logContext);return}o=f}o.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(a,", streamId: ").concat(s,", trackId: ").concat(o),Object.assign(Object.assign({},this.logContext),{rpID:a,streamId:s,trackId:o}));let c;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?c=this.options.adaptiveStream:c={});const u=l.addSubscribedMediaTrack(e,o,n,r,c);u?.isEncrypted&&!this.e2eeManager&&this.emit(ut.EncryptionError,new Error("Encrypted ".concat(u.source," track received from participant ").concat(l.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r,i;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==pr.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(a=>{a.trackPublications.forEach(s=>{a.unpublishTrack(s.trackSid)})}),this.localParticipant.trackPublications.forEach(a=>{var s,o,l;a.track&&this.localParticipant.unpublishTrack(a.track,e),e?((s=a.track)===null||s===void 0||s.detach(),(o=a.track)===null||o===void 0||o.stop()):(l=a.track)===null||l===void 0||l.stopMonitor()}),this.localParticipant.off(yt.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(yt.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(yt.AttributesChanged,this.onLocalAttributesChanged).off(yt.TrackMuted,this.onLocalTrackMuted).off(yt.TrackUnmuted,this.onLocalTrackUnmuted).off(yt.LocalTrackPublished,this.onLocalTrackPublished).off(yt.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(yt.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(yt.MediaDevicesError,this.onMediaDevicesError).off(yt.AudioStreamAcquired,this.startAudio).off(yt.ChatMessage,this.onLocalChatMessageSent).off(yt.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Uo()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(i=(r=navigator.mediaDevices)===null||r===void 0?void 0:r.removeEventListener)===null||i===void 0||i.call(r,"devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(pr.Disconnected),this.emit(ut.Disconnected,n)}}}handleParticipantDisconnected(e,n){var r;this.remoteParticipants.delete(e),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(e),n.trackPublications.forEach(i=>{n.unpublishTrack(i.trackSid,!0)}),this.emit(ut.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(e,n,r,i,a,s){return me(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(e,n),s!==1){yield this.engine.publishRpcResponse(e,n,null,zi.builtIn("UNSUPPORTED_VERSION"));return}const o=this.rpcHandlers.get(r);if(!o){yield this.engine.publishRpcResponse(e,n,null,zi.builtIn("UNSUPPORTED_METHOD"));return}let l=null,c=null;try{const u=yield o({requestId:n,callerIdentity:e,payload:i,responseTimeout:a});eR(u)>eie?(l=zi.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),this.log.warn("RPC Response payload too large for ".concat(r))):c=u}catch(u){u instanceof zi?l=u:(this.log.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),u),l=zi.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,n,c,l)})}selectDefaultDevices(){return me(this,void 0,void 0,function*(){var e,n,r;const i=Ja.getInstance().previousDevices,a=yield Ja.getInstance().getDevices(void 0,!1),s=$o();if(s?.name==="Chrome"&&s.os!=="iOS")for(let l of a){const c=i.find(u=>u.deviceId===l.deviceId);c&&c.label!==""&&c.kind===l.kind&&c.label!==l.label&&this.getActiveDevice(l.kind)==="default"&&this.emit(ut.ActiveDeviceChanged,l.kind,l.deviceId)}const o=["audiooutput","audioinput","videoinput"];for(let l of o){const c=Hze(l),u=this.localParticipant.getTrackPublication(c);if(u&&(!((e=u.track)===null||e===void 0)&&e.isUserProvided))continue;const f=a.filter(p=>p.kind===l),m=this.getActiveDevice(l);if(m===((n=i.filter(p=>p.kind===l)[0])===null||n===void 0?void 0:n.deviceId)&&f.length>0&&((r=f[0])===null||r===void 0?void 0:r.deviceId)!==m){yield this.switchActiveDevice(l,f[0].deviceId);continue}l==="audioinput"&&!o1()||l==="videoinput"||f.length>0&&!f.find(p=>p.deviceId===this.getActiveDevice(l))&&(l!=="audiooutput"||!o1())&&(yield this.switchActiveDevice(l,f[0].deviceId))}})}acquireAudioContext(){return me(this,void 0,void 0,function*(){var e,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(e=Wre())!==null&&e!==void 0?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),ys(200)])}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(ut.AudioPlaybackStatusChanged,r))})}createParticipant(e,n){var r;let i;return n?i=y_.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new y_(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),i}getOrCreateParticipant(e,n){if(this.remoteParticipants.has(e)){const i=this.remoteParticipants.get(e);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(e,n);return this.remoteParticipants.set(e,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(ut.ParticipantConnected,r),r.on(yt.TrackPublished,i=>{this.emitWhenConnected(ut.TrackPublished,i,r)}).on(yt.TrackSubscribed,(i,a)=>{i.kind===Ze.Kind.Audio?(i.on(ft.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(ft.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===Ze.Kind.Video&&(i.on(ft.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(ft.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(ut.TrackSubscribed,i,a,r)}).on(yt.TrackUnpublished,i=>{this.emit(ut.TrackUnpublished,i,r)}).on(yt.TrackUnsubscribed,(i,a)=>{this.emit(ut.TrackUnsubscribed,i,a,r)}).on(yt.TrackMuted,i=>{this.emitWhenConnected(ut.TrackMuted,i,r)}).on(yt.TrackUnmuted,i=>{this.emitWhenConnected(ut.TrackUnmuted,i,r)}).on(yt.ParticipantMetadataChanged,i=>{this.emitWhenConnected(ut.ParticipantMetadataChanged,i,r)}).on(yt.ParticipantNameChanged,i=>{this.emitWhenConnected(ut.ParticipantNameChanged,i,r)}).on(yt.AttributesChanged,i=>{this.emitWhenConnected(ut.ParticipantAttributesChanged,i,r)}).on(yt.ConnectionQualityChanged,i=>{this.emitWhenConnected(ut.ConnectionQualityChanged,i,r)}).on(yt.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(ut.ParticipantPermissionsChanged,i,r)}).on(yt.TrackSubscriptionStatusChanged,(i,a)=>{this.emitWhenConnected(ut.TrackSubscriptionStatusChanged,i,a,r)}).on(yt.TrackSubscriptionFailed,(i,a)=>{this.emit(ut.TrackSubscriptionFailed,i,r,a)}).on(yt.TrackSubscriptionPermissionChanged,(i,a)=>{this.emitWhenConnected(ut.TrackSubscriptionPermissionChanged,i,a,r)}).on(yt.Active,()=>{this.emitWhenConnected(ut.ParticipantActive,r),r.kind===i1.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const e=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,n)}updateSubscriptions(){for(const e of this.remoteParticipants.values())for(const n of e.videoTrackPublications.values())n.isSubscribed&&f9e(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(e){const n=this.sidToIdentity.get(e);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=vs.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Zc.STATE_MISMATCH))):e=0},M$e)}clearConnectionReconcile(){this.connectionReconcileInterval&&vs.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e===this.state?!1:(this.state=e,this.emit(ut.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[n,r]=e;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===pr.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,r]);else if(this.state===pr.Connected)return this.emit(e,...r);return!1}simulateParticipants(e){return me(this,void 0,void 0,function*(){var n,r,i,a;const s=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new lC({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:vi.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Am({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(ut.SignalConnected),this.emit(ut.Connected),this.setAndEmitConnectionState(pr.Connected),s.video){const l=new JN(Ze.Kind.Video,new h0({source:ua.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Kc.AUDIO,name:"video-dummy"}),new v_(s.useRealTracks&&(!((n=window.navigator.mediaDevices)===null||n===void 0)&&n.getUserMedia)?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:H9(160*((r=o.aspectRatios[0])!==null&&r!==void 0?r:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(l),this.localParticipant.emit(yt.LocalTrackPublished,l)}if(s.audio){const l=new JN(Ze.Kind.Audio,new h0({source:ua.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Kc.AUDIO}),new g_(s.useRealTracks&&(!((i=navigator.mediaDevices)===null||i===void 0)&&i.getUserMedia)?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:MA(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(l),this.localParticipant.emit(yt.LocalTrackPublished,l)}for(let l=0;l<o.count-1;l+=1){let c=new Am({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(l),state:C0.ACTIVE,tracks:[],joinedAt:vi.parse(Date.now())});const u=this.getOrCreateParticipant(c.identity,c);if(o.video){const f=H9(160*((a=o.aspectRatios[l%o.aspectRatios.length])!==null&&a!==void 0?a:1),160,!1,!0),m=new h0({source:ua.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Kc.AUDIO});u.addSubscribedMediaTrack(f,m.sid,new MediaStream([f]),new RTCRtpReceiver),c.tracks=[...c.tracks,m]}if(o.audio){const f=MA(),m=new h0({source:ua.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Kc.AUDIO});u.addSubscribedMediaTrack(f,m.sid,new MediaStream([f]),new RTCRtpReceiver),c.tracks=[...c.tracks,m]}u.updateInfo(c)}})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e!==ut.ActiveSpeakersChanged&&e!==ut.TranscriptionReceived){const a=cie(r).filter(s=>s!==void 0);(e===ut.TrackSubscribed||e===ut.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:a})),this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:a}))}return super.emit(e,...r)}}ov.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(t=>{t()});function cie(t){return t.map(e=>{if(e)return Array.isArray(e)?cie(e):typeof e=="object"?"logContext"in e?e.logContext:void 0:e})}var Fc;(function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.SKIPPED=2]="SKIPPED",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED"})(Fc||(Fc={}));class tp extends lh.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Fc.IDLE,this.logs=[],this.options={},this.url=e,this.token=n,this.name=this.constructor.name,this.room=new ov(r.roomOptions),this.connectOptions=r.connectOptions,this.options=r}run(e){return me(this,void 0,void 0,function*(){if(this.status!==Fc.IDLE)throw Error("check is running already");this.setStatus(Fc.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Fc.SKIPPED&&this.setStatus(this.isSuccess()?Fc.SUCCESS:Fc.FAILED),e&&e(),this.getInfo()})}isSuccess(){return!this.logs.some(e=>e.level==="error")}connect(e){return me(this,void 0,void 0,function*(){return this.room.state===pr.Connected?this.room:(e||(e=this.url),yield this.room.connect(e,this.token,this.connectOptions),this.room)})}disconnect(){return me(this,void 0,void 0,function*(){this.room&&this.room.state!==pr.Disconnected&&(yield this.room.disconnect(),yield new Promise(e=>setTimeout(e,500)))})}skip(){this.setStatus(Fc.SKIPPED)}switchProtocol(e){return me(this,void 0,void 0,function*(){let n=!1,r=!1;if(this.room.on(ut.Reconnecting,()=>{n=!0}),this.room.once(ut.Reconnected,()=>{r=!0}),this.room.simulateScenario("force-".concat(e)),yield new Promise(a=>setTimeout(a,1e3)),!n)return;const i=Date.now()+1e4;for(;Date.now()<i;){if(r)return;yield ys(100)}throw new Error("Could not reconnect using ".concat(e," protocol after 10 seconds"))})}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return(e=this.room)===null||e===void 0?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class R$e extends tp{get description(){return"Cloud regions"}perform(){return me(this,void 0,void 0,function*(){const e=new cr(this.url,this.token);if(!e.isCloud()){this.skip();return}const n=[],r=new Set;for(let a=0;a<3;a++){const s=yield e.getNextBestRegionUrl();if(!s)break;if(r.has(s))continue;r.add(s);const o=yield this.checkCloudRegion(s);this.appendMessage("".concat(o.region," RTT: ").concat(o.rtt,"ms, duration: ").concat(o.duration,"ms")),n.push(o)}n.sort((a,s)=>(a.duration-s.duration)*.5+(a.rtt-s.rtt)*.5);const i=n[0];this.bestStats=i,this.appendMessage("best Cloud region: ".concat(i.region))})}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkCloudRegion(e){return me(this,void 0,void 0,function*(){var n,r;yield this.connect(e),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const i=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!i)throw new Error("Region not found");const a=yield this.room.localParticipant.streamText({topic:"test"}),s=1e3,l=1e6/s,c="A".repeat(s),u=Date.now();for(let v=0;v<l;v++)yield a.write(c);yield a.close();const f=Date.now(),m=yield(r=this.room.engine.pcManager)===null||r===void 0?void 0:r.publisher.getStats(),p={region:i,rtt:1e4,duration:f-u};return m?.forEach(v=>{v.type==="candidate-pair"&&v.nominated&&(p.rtt=v.currentRoundTripTime*1e3)}),yield this.disconnect(),p})}}const $A=1e4;class I$e extends tp{get description(){return"Connection via UDP vs TCP"}perform(){return me(this,void 0,void 0,function*(){const e=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=e,e.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(e.packetsLost-n.packetsLost)/e.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const r=this.bestStats;this.appendMessage("upstream bitrate: ".concat((r.bitrateTotal/r.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((r.rttTotal/r.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((r.jitterTotal/r.count*1e3).toFixed(2)," ms")),r.packetsLost>0&&this.appendWarning("packets lost: ".concat((r.packetsLost/r.packetsSent*100).toFixed(2),"%")),r.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((r.qualityLimitationDurations.bandwidth/($A/1e3)*100).toFixed(2),"%")),r.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((r.qualityLimitationDurations.cpu/($A/1e3)*100).toFixed(2),"%"))})}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkConnectionProtocol(e){return me(this,void 0,void 0,function*(){yield this.connect(),e==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");let i=0;const a=()=>{i=(i+1)%360,r.fillStyle="hsl(".concat(i,", 100%, 50%)"),r.fillRect(0,0,n.width,n.height),requestAnimationFrame(a)};a();const o=n.captureStream(30).getVideoTracks()[0],c=(yield this.room.localParticipant.publishTrack(o,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,u={protocol:e,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},f=setInterval(()=>me(this,void 0,void 0,function*(){const m=yield c.getRTCStatsReport();m?.forEach(p=>{p.type==="outbound-rtp"?(u.packetsSent=p.packetsSent,u.qualityLimitationDurations=p.qualityLimitationDurations,u.bitrateTotal+=p.targetBitrate,u.count++):p.type==="remote-inbound-rtp"&&(u.packetsLost=p.packetsLost,u.rttTotal+=p.roundTripTime,u.jitterTotal+=p.jitter)})}),1e3);return yield new Promise(m=>setTimeout(m,$A)),clearInterval(f),o.stop(),n.remove(),yield this.disconnect(),u})}}class j$e extends tp{get description(){return"Can publish audio"}perform(){return me(this,void 0,void 0,function*(){var e;const n=yield this.connect(),r=yield oie();if(yield Hre(r,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(r),yield new Promise(o=>setTimeout(o,3e3));const a=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!a)throw new Error("Could not get RTCStats");let s=0;if(a.forEach(o=>{o.type==="outbound-rtp"&&(o.kind==="audio"||!o.kind&&o.mediaType==="audio")&&(s=o.packetsSent)}),s===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(s," audio packets"))})}}class D$e extends tp{get description(){return"Can publish video"}perform(){return me(this,void 0,void 0,function*(){var e;const n=yield this.connect(),r=yield A$e();yield this.checkForVideo(r.mediaStreamTrack),n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,5e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let a=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&(s.kind==="video"||!s.kind&&s.mediaType==="video")&&(a+=s.packetsSent)}),a===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(a," video packets"))})}checkForVideo(e){return me(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(e.clone());const r=document.createElement("video");r.srcObject=n,r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.setAttribute("playsinline","true"),document.body.appendChild(r),yield new Promise(i=>{r.onplay=()=>{setTimeout(()=>{var a,s,o,l;const c=document.createElement("canvas"),u=e.getSettings(),f=(s=(a=u.width)!==null&&a!==void 0?a:r.videoWidth)!==null&&s!==void 0?s:1280,m=(l=(o=u.height)!==null&&o!==void 0?o:r.videoHeight)!==null&&l!==void 0?l:720;c.width=f,c.height=m;const p=c.getContext("2d");p.drawImage(r,0,0);const b=p.getImageData(0,0,c.width,c.height).data;let x=!0;for(let w=0;w<b.length;w+=4)if(b[w]!==0||b[w+1]!==0||b[w+2]!==0){x=!1;break}x?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),i()},1e3)},r.play()}),n.getTracks().forEach(i=>i.stop()),r.remove()})}}class B$e extends tp{get description(){return"Resuming connection after interruption"}perform(){return me(this,void 0,void 0,function*(){var e;const n=yield this.connect();let r=!1,i=!1,a;const s=new Promise(c=>{setTimeout(c,5e3),a=c}),o=()=>{r=!0};n.on(ut.SignalReconnecting,o).on(ut.Reconnecting,o).on(ut.Reconnected,()=>{i=!0,a(!0)}),(e=n.engine.client.ws)===null||e===void 0||e.close();const l=n.engine.client.onClose;if(l&&l(""),yield s,r){if(!i||n.state!==pr.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class F$e extends tp{get description(){return"Can connect via TURN"}perform(){return me(this,void 0,void 0,function*(){var e,n,r;sv(new URL(this.url))&&(this.appendMessage("Using region specific url"),this.url=(e=yield new cr(this.url,this.token).getNextBestRegionUrl())!==null&&e!==void 0?e:this.url);const i=new YM,a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0);let s=!1,o=!1,l=!1;for(let c of a.iceServers)for(let u of c.urls)u.startsWith("turn:")?(o=!0,l=!0):u.startsWith("turns:")&&(o=!0,l=!0,s=!0),u.startsWith("stun:")&&(l=!0);l?o&&!s&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield i.close(),!((r=(n=this.connectOptions)===null||n===void 0?void 0:n.rtcConfig)===null||r===void 0)&&r.iceServers||o?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(c=>setTimeout(c,0)))})}}class U$e extends tp{get description(){return"Establishing WebRTC connection"}perform(){return me(this,void 0,void 0,function*(){let e=!1,n=!1;this.room.on(ut.SignalConnected,()=>{var r;const i=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(a,s)=>{if(a.candidate){const o=new RTCIceCandidate(a);let l="".concat(o.protocol," ").concat(o.address,":").concat(o.port," ").concat(o.type);o.address&&(z$e(o.address)?l+=" (private)":o.protocol==="tcp"&&o.tcpType==="passive"?(e=!0,l+=" (passive)"):o.protocol==="udp"&&(n=!0)),this.appendMessage(l)}i&&i(a,s)},!((r=this.room.engine.pcManager)===null||r===void 0)&&r.subscriber&&(this.room.engine.pcManager.subscriber.onIceCandidateError=a=>{a instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(a.errorCode," ").concat(a.errorText," ").concat(a.url))})});try{yield this.connect(),Rn.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}e||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function z$e(t){const e=t.split(".");if(e.length===4){if(e[0]==="10")return!0;if(e[0]==="192"&&e[1]==="168")return!0;if(e[0]==="172"){const n=parseInt(e[1],10);if(n>=16&&n<=31)return!0}}return!1}class $$e extends tp{get description(){return"Connecting to signal connection via WebSocket"}perform(){return me(this,void 0,void 0,function*(){var e,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new YM,a;try{a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0)}catch(s){if(sv(new URL(this.url))){this.appendMessage("Initial connection failed with error ".concat(s.message,". Retrying with region fallback"));const l=yield new cr(this.url,this.token).getNextBestRegionUrl();l&&(a=yield i.join(l,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0),this.appendMessage("Fallback to region worked. To avoid initial connections failing, ensure you're calling room.prepareConnection() ahead of time"))}}a?(this.appendMessage("Connected to server, version ".concat(a.serverVersion,".")),((e=a.serverInfo)===null||e===void 0?void 0:e.edition)===Kne.Cloud&&(!((n=a.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=a.serverInfo)===null||r===void 0?void 0:r.region))):this.appendError("Websocket connection could not be established"),yield i.close()})}}class mGe extends lh.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=e,this.token=n,this.options=r}getNextCheckId(){const e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:Fc.IDLE,name:"",description:""}),e}updateCheck(e,n){this.checkResults.set(e,n),this.emit("checkUpdate",e,n)}isSuccess(){return Array.from(this.checkResults.values()).every(e=>e.status!==Fc.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return me(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new e(this.url,this.token,this.options),i=s=>{this.updateCheck(n,s)};r.on("update",i);const a=yield r.run();return r.off("update",i),a})}checkWebsocket(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck($$e)})}checkWebRTC(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(U$e)})}checkTURN(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(F$e)})}checkReconnect(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(B$e)})}checkPublishAudio(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(j$e)})}checkPublishVideo(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(D$e)})}checkConnectionProtocol(){return me(this,void 0,void 0,function*(){const e=yield this.createAndRunCheck(I$e);if(e.data&&"protocol"in e.data){const n=e.data;this.options.protocol=n.protocol}return e})}checkCloudRegion(){return me(this,void 0,void 0,function*(){return this.createAndRunCheck(R$e)})}}function Vn(t,e,n){return(e=H$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H$e(t){var e=q$e(t,"string");return typeof e=="symbol"?e:e+""}new TextEncoder;new TextDecoder;class mo extends Error{constructor(e,n){var r;super(e,n),Vn(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}Vn(mo,"code","ERR_JOSE_GENERIC");class W$e extends mo{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(e,{cause:{claim:r,reason:i,payload:n}}),Vn(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Vn(this,"claim",void 0),Vn(this,"reason",void 0),Vn(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}Vn(W$e,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class V$e extends mo{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(e,{cause:{claim:r,reason:i,payload:n}}),Vn(this,"code","ERR_JWT_EXPIRED"),Vn(this,"claim",void 0),Vn(this,"reason",void 0),Vn(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}Vn(V$e,"code","ERR_JWT_EXPIRED");class G$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}Vn(G$e,"code","ERR_JOSE_ALG_NOT_ALLOWED");class K$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Vn(K$e,"code","ERR_JOSE_NOT_SUPPORTED");class Y$e extends mo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"decryption operation failed",n=arguments.length>1?arguments[1]:void 0;super(e,n),Vn(this,"code","ERR_JWE_DECRYPTION_FAILED")}}Vn(Y$e,"code","ERR_JWE_DECRYPTION_FAILED");class X$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JWE_INVALID")}}Vn(X$e,"code","ERR_JWE_INVALID");class J$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JWS_INVALID")}}Vn(J$e,"code","ERR_JWS_INVALID");class Z$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JWT_INVALID")}}Vn(Z$e,"code","ERR_JWT_INVALID");class Q$e extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JWK_INVALID")}}Vn(Q$e,"code","ERR_JWK_INVALID");class eqe extends mo{constructor(){super(...arguments),Vn(this,"code","ERR_JWKS_INVALID")}}Vn(eqe,"code","ERR_JWKS_INVALID");class tqe extends mo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"no applicable key found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(e,n),Vn(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}Vn(tqe,"code","ERR_JWKS_NO_MATCHING_KEY");class nqe extends mo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"multiple matching keys found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(e,n),Vn(this,Symbol.asyncIterator,void 0),Vn(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}Vn(nqe,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class rqe extends mo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"request timed out",n=arguments.length>1?arguments[1]:void 0;super(e,n),Vn(this,"code","ERR_JWKS_TIMEOUT")}}Vn(rqe,"code","ERR_JWKS_TIMEOUT");class iqe extends mo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"signature verification failed",n=arguments.length>1?arguments[1]:void 0;super(e,n),Vn(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Vn(iqe,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(null,arguments)}const p$=new Uint8Array(0);class c1{static getFullOptions(e){return rd({clientTools:{},onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{},onInterruption:()=>{}},e)}constructor(e,n){var r=this;this.options=void 0,this.connection=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=0,this.canSendFeedback=!1,this.endSessionWithDetails=async function(i){r.status!=="connected"&&r.status!=="connecting"||(r.updateStatus("disconnecting"),await r.handleEndSession(),r.updateStatus("disconnected"),r.options.onDisconnect&&r.options.onDisconnect(i))},this.onMessage=async function(i){switch(i.type){case"interruption":return void r.handleInterruption(i);case"agent_response":return void r.handleAgentResponse(i);case"user_transcript":return void r.handleUserTranscript(i);case"internal_tentative_agent_response":return void r.handleTentativeAgentResponse(i);case"client_tool_call":try{await r.handleClientToolCall(i)}catch(a){r.onError(`Unexpected error in client tool call handling: ${a instanceof Error?a.message:String(a)}`,{clientToolName:i.client_tool_call.tool_name,toolCallId:i.client_tool_call.tool_call_id})}return;case"audio":return void r.handleAudio(i);case"vad_score":return void r.handleVadScore(i);case"ping":return void r.connection.sendMessage({type:"pong",event_id:i.ping_event.event_id});case"mcp_tool_call":return void r.handleMCPToolCall(i);case"mcp_connection_status":return void r.handleMCPConnectionStatus(i);case"agent_tool_request":return void r.handleAgentToolRequest(i);case"agent_tool_response":return void r.handleAgentToolResponse(i);case"conversation_initiation_metadata":return void r.handleConversationMetadata(i);case"asr_initiation_metadata":return void r.handleAsrInitiationMetadata(i);case"agent_chat_response_part":return void r.handleAgentChatResponsePart(i);case"error":return void r.handleErrorEvent(i);default:return void(r.options.onDebug&&r.options.onDebug(i))}},this.setVolume=({volume:i})=>{this.volume=i},this.options=e,this.connection=n,this.options.onConnect&&this.options.onConnect({conversationId:n.conversationId}),this.connection.onMessage(this.onMessage),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onModeChange(i=>this.updateMode(i)),this.updateStatus("connected")}endSession(){return this.endSessionWithDetails({reason:"user"})}async handleEndSession(){this.connection.close()}updateMode(e){e!==this.mode&&(this.mode=e,this.options.onModeChange&&this.options.onModeChange({mode:e}))}updateStatus(e){e!==this.status&&(this.status=e,this.options.onStatusChange&&this.options.onStatusChange({status:e}))}updateCanSendFeedback(){const e=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==e&&(this.canSendFeedback=e,this.options.onCanSendFeedbackChange&&this.options.onCanSendFeedbackChange({canSendFeedback:e}))}handleInterruption(e){e.interruption_event&&(this.lastInterruptTimestamp=e.interruption_event.event_id,this.options.onInterruption&&this.options.onInterruption({event_id:e.interruption_event.event_id}))}handleAgentResponse(e){this.options.onMessage&&this.options.onMessage({source:"ai",role:"agent",message:e.agent_response_event.agent_response})}handleUserTranscript(e){this.options.onMessage&&this.options.onMessage({source:"user",role:"user",message:e.user_transcription_event.user_transcript})}handleTentativeAgentResponse(e){this.options.onDebug&&this.options.onDebug({type:"tentative_agent_response",response:e.tentative_agent_response_internal_event.tentative_agent_response})}handleVadScore(e){this.options.onVadScore&&this.options.onVadScore({vadScore:e.vad_score_event.vad_score})}async handleClientToolCall(e){if(Object.prototype.hasOwnProperty.call(this.options.clientTools,e.client_tool_call.tool_name))try{var n;const r=(n=await this.options.clientTools[e.client_tool_call.tool_name](e.client_tool_call.parameters))!=null?n:"Client tool execution successful.",i=typeof r=="object"?JSON.stringify(r):String(r);this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:i,is_error:!1})}catch(r){this.onError(`Client tool execution failed with following error: ${r?.message}`,{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:`Client tool execution failed: ${r?.message}`,is_error:!0})}else{if(this.options.onUnhandledClientToolCall)return void this.options.onUnhandledClientToolCall(e.client_tool_call);this.onError(`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,{clientToolName:e.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:e.client_tool_call.tool_call_id,result:`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,is_error:!0})}}handleAudio(e){}handleMCPToolCall(e){this.options.onMCPToolCall&&this.options.onMCPToolCall(e.mcp_tool_call)}handleMCPConnectionStatus(e){this.options.onMCPConnectionStatus&&this.options.onMCPConnectionStatus(e.mcp_connection_status)}handleAgentToolRequest(e){this.options.onAgentToolRequest&&this.options.onAgentToolRequest(e.agent_tool_request)}handleAgentToolResponse(e){e.agent_tool_response.tool_name==="end_call"&&this.endSessionWithDetails({reason:"agent",context:new CloseEvent("end_call",{reason:"Agent ended the call"})}),this.options.onAgentToolResponse&&this.options.onAgentToolResponse(e.agent_tool_response)}handleConversationMetadata(e){this.options.onConversationMetadata&&this.options.onConversationMetadata(e.conversation_initiation_metadata_event)}handleAsrInitiationMetadata(e){this.options.onAsrInitiationMetadata&&this.options.onAsrInitiationMetadata(e.asr_initiation_metadata_event)}handleAgentChatResponsePart(e){this.options.onAgentChatResponsePart&&this.options.onAgentChatResponsePart(e.text_response_part)}handleErrorEvent(e){const n=e.error_event.error_type,r=e.error_event.message||e.error_event.reason||"Unknown error";n!=="max_duration_exceeded"?this.onError(`Server error: ${r}`,{errorType:n,code:e.error_event.code,debugMessage:e.error_event.debug_message,details:e.error_event.details}):this.endSessionWithDetails({reason:"error",message:r,context:new Event("max_duration_exceeded")})}onError(e,n){console.error(e,n),this.options.onError&&this.options.onError(e,n)}getId(){return this.connection.conversationId}isOpen(){return this.status==="connected"}setMicMuted(e){this.connection.setMicMuted(e)}getInputByteFrequencyData(){return p$}getOutputByteFrequencyData(){return p$}getInputVolume(){return 0}getOutputVolume(){return 0}sendFeedback(e){this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:e?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")}sendContextualUpdate(e){this.connection.sendMessage({type:"contextual_update",text:e})}sendUserMessage(e){this.connection.sendMessage({type:"user_message",text:e})}sendUserActivity(){this.connection.sendMessage({type:"user_activity"})}sendMCPToolApprovalResult(e,n){this.connection.sendMessage({type:"mcp_tool_approval_result",tool_call_id:e,is_approved:n})}}class uie{constructor(e={}){this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.onModeChangeCallback=null,this.onDebug=void 0,this.onDebug=e.onDebug}debug(e){this.onDebug&&this.onDebug(e)}onMessage(e){this.onMessageCallback=e;const n=this.queue;this.queue=[],n.length>0&&queueMicrotask(()=>{n.forEach(e)})}onDisconnect(e){this.onDisconnectCallback=e;const n=this.disconnectionDetails;n&&queueMicrotask(()=>{e(n)})}onModeChange(e){this.onModeChangeCallback=e}updateMode(e){var n;(n=this.onModeChangeCallback)==null||n.call(this,e)}disconnect(e){var n;this.disconnectionDetails||(this.disconnectionDetails=e,(n=this.onDisconnectCallback)==null||n.call(this,e))}handleMessage(e){this.onMessageCallback?this.onMessageCallback(e):this.queue.push(e)}}function b_(t){const[e,n]=t.split("_");if(!["pcm","ulaw"].includes(e))throw new Error(`Invalid format: ${t}`);const r=Number.parseInt(n);if(Number.isNaN(r))throw new Error(`Invalid sample rate: ${n}`);return{format:e,sampleRate:r}}const hie="0.13.0";function ZN(t){return!!t.type}const die="conversation_initiation_client_data";function fie(t){var e;const n={type:die};var r,i,a,s,o,l,c,u;return t.overrides&&(n.conversation_config_override={agent:{prompt:(r=t.overrides.agent)==null?void 0:r.prompt,first_message:(i=t.overrides.agent)==null?void 0:i.firstMessage,language:(a=t.overrides.agent)==null?void 0:a.language},tts:{voice_id:(s=t.overrides.tts)==null?void 0:s.voiceId,speed:(o=t.overrides.tts)==null?void 0:o.speed,stability:(l=t.overrides.tts)==null?void 0:l.stability,similarity_boost:(c=t.overrides.tts)==null?void 0:c.similarityBoost},conversation:{text_only:(u=t.overrides.conversation)==null?void 0:u.textOnly}}),t.customLlmExtraBody&&(n.custom_llm_extra_body=t.customLlmExtraBody),t.dynamicVariables&&(n.dynamic_variables=t.dynamicVariables),t.userId&&(n.user_id=t.userId),(e=t.overrides)!=null&&e.client&&(n.source_info={source:t.overrides.client.source,version:t.overrides.client.version}),n}class m$ extends Error{constructor(e,n){super(e),this.closeCode=void 0,this.closeReason=void 0,this.name="SessionConnectionError",this.closeCode=n?.closeCode,this.closeReason=n?.closeReason}}class u1 extends uie{constructor(e,n,r,i){super(),this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.socket=e,this.conversationId=n,this.inputFormat=r,this.outputFormat=i,this.socket.addEventListener("error",a=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:a}),0)}),this.socket.addEventListener("close",a=>{this.disconnect(a.code===1e3?{reason:"agent",context:a,closeCode:a.code,closeReason:a.reason||void 0}:{reason:"error",message:a.reason||"The connection was closed by the server.",context:a,closeCode:a.code,closeReason:a.reason||void 0})}),this.socket.addEventListener("message",a=>{try{const s=JSON.parse(a.data);if(!ZN(s))return void this.debug({type:"invalid_event",message:"Received invalid socket event",data:a.data});this.handleMessage(s)}catch(s){this.debug({type:"parsing_error",message:"Failed to parse socket message",error:s instanceof Error?s.message:String(s),data:a.data})}})}static async create(e){let n=null;try{var r,i,a;const o=(r=e.origin)!=null?r:"wss://api.elevenlabs.io";let l;const c=((i=e.overrides)==null||(i=i.client)==null?void 0:i.version)||hie,u=((a=e.overrides)==null||(a=a.client)==null?void 0:a.source)||"js_sdk";if(e.signedUrl){const C=e.signedUrl.includes("?")?"&":"?";l=`${e.signedUrl}${C}source=${u}&version=${c}`}else l=`${o}/v1/convai/conversation?agent_id=${e.agentId}&source=${u}&version=${c}`;const f=["convai"];e.authorization&&f.push(`bearer.${e.authorization}`),n=new WebSocket(l,f);const m=await new Promise((C,E)=>{n.addEventListener("open",()=>{var O;const P=fie(e);(O=n)==null||O.send(JSON.stringify(P))},{once:!0}),n.addEventListener("error",O=>{setTimeout(()=>E(new m$("The connection was closed due to a socket error.")),0)}),n.addEventListener("close",O=>{E(new m$(O.reason||(O.code===1e3?"Connection closed normally before session could be established.":"Connection closed unexpectedly before session could be established."),{closeCode:O.code,closeReason:O.reason||void 0}))}),n.addEventListener("message",O=>{const P=JSON.parse(O.data);ZN(P)&&(P.type==="conversation_initiation_metadata"?C(P.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:p,agent_output_audio_format:v,user_input_audio_format:b}=m,x=b_(b??"pcm_16000"),w=b_(v);return new u1(n,p,x,w)}catch(o){var s;throw(s=n)==null||s.close(),o}}close(){this.socket.close(1e3,"User ended conversation")}sendMessage(e){this.socket.send(JSON.stringify(e))}async setMicMuted(e){console.warn(`WebSocket connection setMicMuted called with ${e}, but this is handled by VoiceConversation`)}}function pie(t){const e=new Uint8Array(t);return window.btoa(String.fromCharCode(...e))}function aqe(t){const e=window.atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}const jw=new Map;function mie(t,e){return async(n,r)=>{const i=jw.get(t);if(i)return n.addModule(i);if(r)try{return await n.addModule(r),void jw.set(t,r)}catch(o){throw new Error(`Failed to load the ${t} worklet module from path: ${r}. Error: ${o}`)}const a=new Blob([e],{type:"application/javascript"}),s=URL.createObjectURL(a);try{return await n.addModule(s),void jw.set(t,s)}catch{URL.revokeObjectURL(s)}try{const o=`data:application/javascript;base64,${btoa(e)}`;await n.addModule(o),jw.set(t,o)}catch{throw new Error(`Failed to load the ${t} worklet module. Make sure the browser supports AudioWorklets. If you are using a strict CSP, you may need to self-host the worklet files.`)}}}const gie=mie("rawAudioProcessor",`/*
 * ulaw encoding logic taken from the wavefile library
 * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js
 * USED BY @elevenlabs/client
 */

const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 4;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("rawAudioProcessor", RawAudioProcessor);
`);class Kh extends uie{constructor(e,n,r,i,a={}){super(a),this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.room=void 0,this.isConnected=!1,this.audioEventId=1,this.audioCaptureContext=null,this.audioElements=[],this.outputDeviceId=null,this.outputAnalyser=null,this.outputFrequencyData=null,this.room=e,this.conversationId=n,this.inputFormat=r,this.outputFormat=i,this.setupRoomEventListeners()}static async create(e){let n;if("conversationToken"in e&&e.conversationToken)n=e.conversationToken;else{if(!("agentId"in e)||!e.agentId)throw new Error("Either conversationToken or agentId is required for WebRTC connection");try{var r,i,a;const c=((r=e.overrides)==null||(r=r.client)==null?void 0:r.version)||hie,u=((i=e.overrides)==null||(i=i.client)==null?void 0:i.source)||"js_sdk",f=`${s=(a=e.origin)!=null?a:"https://api.elevenlabs.io",s.replace(/^wss:\/\//,"https://")}/v1/convai/conversation/token?agent_id=${e.agentId}&source=${u}&version=${c}`,m=await fetch(f);if(!m.ok)throw new Error(`ElevenLabs API returned ${m.status} ${m.statusText}`);if(n=(await m.json()).token,!n)throw new Error("No conversation token received from API")}catch(c){let u=c instanceof Error?c.message:String(c);throw c instanceof Error&&c.message.includes("401")&&(u="Your agent has authentication enabled, but no signed URL or conversation token was provided."),new Error(`Failed to fetch conversation token for agent ${e.agentId}: ${u}`)}}var s;const o=new ov;try{const c=`room_${Date.now()}`,u=b_("pcm_48000"),f=b_("pcm_48000"),m=new Kh(o,c,u,f,e),p=e.livekitUrl||"wss://livekit.rtc.elevenlabs.io";var l;await o.connect(p,n),await new Promise(b=>{if(m.isConnected)b();else{const x=()=>{o.off(ut.Connected,x),b()};o.on(ut.Connected,x)}}),o.name&&(m.conversationId=((l=o.name.match(/(conv_[a-zA-Z0-9]+)/))==null?void 0:l[0])||o.name),e.textOnly||await o.localParticipant.setMicrophoneEnabled(!0);const v=fie(e);return m.debug({type:die,message:v}),await m.sendMessage(v),m}catch(c){throw await o.disconnect(),c}}setupRoomEventListeners(){var e=this;this.room.on(ut.Connected,async function(){e.isConnected=!0,console.info("WebRTC room connected")}),this.room.on(ut.Disconnected,n=>{this.isConnected=!1,this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:n?.toString()})})}),this.room.on(ut.ConnectionStateChanged,n=>{n===pr.Disconnected&&(this.isConnected=!1,this.disconnect({reason:"error",message:`LiveKit connection state changed to ${n}`,context:new Event("connection_state_changed")}))}),this.room.on(ut.DataReceived,(n,r)=>{try{const i=JSON.parse(new TextDecoder().decode(n));if(i.type==="audio")return;ZN(i)?this.handleMessage(i):console.warn("Invalid socket event received:",i)}catch(i){console.warn("Failed to parse incoming data message:",i),console.warn("Raw payload:",new TextDecoder().decode(n))}}),this.room.on(ut.TrackSubscribed,async function(n,r,i){if(n.kind===Ze.Kind.Audio&&i.identity.includes("agent")){const a=n,s=a.attach();if(s.autoplay=!0,s.controls=!1,e.outputDeviceId&&s.setSinkId)try{await s.setSinkId(e.outputDeviceId)}catch(o){console.warn("Failed to set output device for new audio element:",o)}s.style.display="none",document.body.appendChild(s),e.audioElements.push(s),e.audioElements.length===1&&(e.onDebug==null||e.onDebug({type:"audio_element_ready"})),await e.setupAudioCapture(a)}}),this.room.on(ut.ActiveSpeakersChanged,async function(n){e.updateMode(n.length>0&&n[0].identity.startsWith("agent")?"speaking":"listening")}),this.room.on(ut.ParticipantDisconnected,n=>{var r;(r=n.identity)!=null&&r.startsWith("agent")&&this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:"agent disconnected"})})})}close(){if(this.isConnected){try{this.room.localParticipant.audioTrackPublications.forEach(e=>{e.track&&e.track.stop()})}catch(e){console.warn("Error stopping local tracks:",e)}this.audioCaptureContext&&(this.audioCaptureContext.close().catch(e=>{console.warn("Error closing audio capture context:",e)}),this.audioCaptureContext=null),this.audioElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.audioElements=[],this.room.disconnect()}}async sendMessage(e){if(this.isConnected&&this.room.localParticipant){if(!("user_audio_chunk"in e))try{const n=new TextEncoder().encode(JSON.stringify(e));await this.room.localParticipant.publishData(n,{reliable:!0})}catch(n){this.debug({type:"send_message_error",message:{message:e,error:n}}),console.error("Failed to send message via WebRTC:",n)}}else console.warn("Cannot send message: room not connected or no local participant")}getRoom(){return this.room}async setMicMuted(e){if(!this.isConnected||!this.room.localParticipant)return void console.warn("Cannot set microphone muted: room not connected or no local participant");const n=this.room.localParticipant.getTrackPublication(Ze.Source.Microphone);if(n!=null&&n.track)try{e?await n.track.mute():await n.track.unmute()}catch{await this.room.localParticipant.setMicrophoneEnabled(!e)}else await this.room.localParticipant.setMicrophoneEnabled(!e)}async setupAudioCapture(e){try{const n=new AudioContext;this.audioCaptureContext=n,this.outputAnalyser=n.createAnalyser(),this.outputAnalyser.fftSize=2048,this.outputAnalyser.smoothingTimeConstant=.8;const r=new MediaStream([e.mediaStreamTrack]),i=n.createMediaStreamSource(r);i.connect(this.outputAnalyser),await gie(n.audioWorklet);const a=new AudioWorkletNode(n,"rawAudioProcessor");this.outputAnalyser.connect(a),a.port.postMessage({type:"setFormat",format:this.outputFormat.format,sampleRate:this.outputFormat.sampleRate}),a.port.onmessage=s=>{const[o,l]=s.data;if(l>.01){const c=pie(o.buffer),u=this.audioEventId++;this.handleMessage({type:"audio",audio_event:{audio_base_64:c,event_id:u}})}},i.connect(a)}catch(n){console.warn("Failed to set up audio capture:",n)}}setAudioVolume(e){this.audioElements.forEach(n=>{n.volume=e})}async setAudioOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");const n=this.audioElements.map(async function(r){try{await r.setSinkId(e)}catch(i){throw console.error("Failed to set sink ID for audio element:",i),i}});await Promise.all(n),this.outputDeviceId=e}async setAudioInputDevice(e){if(!this.isConnected||!this.room.localParticipant)throw new Error("Cannot change input device: room not connected or no local participant");try{const n=this.room.localParticipant.getTrackPublication(Ze.Source.Microphone);n!=null&&n.track&&(await n.track.stop(),await this.room.localParticipant.unpublishTrack(n.track));const r={deviceId:{exact:e},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}},i=await oie(r);await this.room.localParticipant.publishTrack(i,{name:"microphone",source:Ze.Source.Microphone})}catch(n){console.error("Failed to change input device:",n);try{await this.room.localParticipant.setMicrophoneEnabled(!0)}catch(r){console.error("Failed to recover microphone after device switch error:",r)}throw n}}getOutputByteFrequencyData(){return this.outputAnalyser?(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.outputAnalyser.frequencyBinCount)),this.outputAnalyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData):null}}async function vie(t){const e=(function(n){return n.connectionType?n.connectionType:"conversationToken"in n&&n.conversationToken?"webrtc":"websocket"})(t);switch(e){case"websocket":return u1.create(t);case"webrtc":return Kh.create(t);default:throw new Error(`Unknown connection type: ${e}`)}}function QN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}async function yie(t={default:0,android:3e3}){let e=t.default;var n;if(/android/i.test(navigator.userAgent))e=(n=t.android)!=null?n:e;else if(QN()){var r;e=(r=t.ios)!=null?r:e}e>0&&await new Promise(i=>setTimeout(i,e))}class rR extends c1{static async startSession(e){const n=c1.getFullOptions(e);n.onStatusChange&&n.onStatusChange({status:"connecting"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1}),n.onModeChange&&n.onModeChange({mode:"listening"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1});let r=null;try{return await yie(n.connectionDelay),r=await vie(e),new rR(n,r)}catch(a){var i;throw n.onStatusChange&&n.onStatusChange({status:"disconnected"}),(i=r)==null||i.close(),a}}}const g$={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}};class M0{static async create({sampleRate:e,format:n,preferHeadphonesForIosDevices:r,inputDeviceId:i,workletPaths:a,libsampleratePath:s}){let o=null,l=null;try{const f=rd({sampleRate:{ideal:e}},g$);if(QN()&&r){const w=(await window.navigator.mediaDevices.enumerateDevices()).find(C=>C.kind==="audioinput"&&["airpod","headphone","earphone"].find(E=>C.label.toLowerCase().includes(E)));w&&(f.deviceId={ideal:w.deviceId})}i&&(f.deviceId=M0.getDeviceIdConstraint(i));const m=navigator.mediaDevices.getSupportedConstraints().sampleRate;o=new window.AudioContext(m?{sampleRate:e}:{});const p=o.createAnalyser();if(!m){const w=s||"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js";await o.audioWorklet.addModule(w)}await gie(o.audioWorklet,a?.rawAudioProcessor);const v=rd({voiceIsolation:!0},f);l=await navigator.mediaDevices.getUserMedia({audio:v});const b=o.createMediaStreamSource(l),x=new AudioWorkletNode(o,"rawAudioProcessor");return x.port.postMessage({type:"setFormat",format:n,sampleRate:e}),b.connect(p),p.connect(x),await o.resume(),new M0(o,p,x,l,b)}catch(f){var c,u;throw(c=l)==null||c.getTracks().forEach(m=>{m.stop()}),(u=o)==null||u.close(),f}}static getDeviceIdConstraint(e){if(e)return QN()?{ideal:e}:{exact:e}}constructor(e,n,r,i,a){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.mediaStreamSource=void 0,this.context=e,this.analyser=n,this.worklet=r,this.inputStream=i,this.mediaStreamSource=a}async close(){this.inputStream.getTracks().forEach(e=>{e.stop()}),this.mediaStreamSource.disconnect(),await this.context.close()}setMuted(e){this.worklet.port.postMessage({type:"setMuted",isMuted:e})}async setInputDevice(e){try{const n=rd({},g$);e&&(n.deviceId=M0.getDeviceIdConstraint(e));const r=rd({voiceIsolation:!0},n),i=await navigator.mediaDevices.getUserMedia({audio:r});this.inputStream.getTracks().forEach(a=>{a.stop()}),this.mediaStreamSource.disconnect(),this.inputStream=i,this.mediaStreamSource=this.context.createMediaStreamSource(i),this.mediaStreamSource.connect(this.analyser)}catch(n){throw console.error("Failed to switch input device:",n),n}}}const sqe=mie("audioConcatProcessor",`/*
 * ulaw decoding logic taken from the wavefile library
 * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js
 * USED BY @elevenlabs/client
 */

const decodeTable = [0,132,396,924,1980,4092,8316,16764];

function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audioConcatProcessor", AudioConcatProcessor);
`);class x_{static async create({sampleRate:e,format:n,outputDeviceId:r,workletPaths:i}){let a=null,s=null;try{a=new AudioContext({sampleRate:e});const c=a.createAnalyser(),u=a.createGain();s=new Audio,s.src="",s.load(),s.autoplay=!0,s.style.display="none",document.body.appendChild(s);const f=a.createMediaStreamDestination();s.srcObject=f.stream,u.connect(c),c.connect(f),await sqe(a.audioWorklet,i?.audioConcatProcessor);const m=new AudioWorkletNode(a,"audioConcatProcessor");return m.port.postMessage({type:"setFormat",format:n}),m.connect(u),await a.resume(),r&&s.setSinkId&&await s.setSinkId(r),new x_(a,c,u,m,s)}catch(c){var o,l;throw(o=s)!=null&&o.parentNode&&s.parentNode.removeChild(s),(l=s)==null||l.pause(),a&&a.state!=="closed"&&await a.close(),c}}constructor(e,n,r,i,a){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.audioElement=void 0,this.context=e,this.analyser=n,this.gain=r,this.worklet=i,this.audioElement=a}async setOutputDevice(e){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");await this.audioElement.setSinkId(e||"")}async close(){this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement.pause(),await this.context.close()}}class Sb extends c1{static async requestWakeLock(){if("wakeLock"in navigator)try{return await navigator.wakeLock.request("screen")}catch{}return null}static async startSession(e){var n;const r=c1.getFullOptions(e);r.onStatusChange&&r.onStatusChange({status:"connecting"}),r.onCanSendFeedbackChange&&r.onCanSendFeedbackChange({canSendFeedback:!1});let i=null,a=null,s=null,o=null,l=null;((n=e.useWakeLock)==null||n)&&(l=await Sb.requestWakeLock());try{var c;return o=await navigator.mediaDevices.getUserMedia({audio:!0}),await yie(r.connectionDelay),a=await vie(e),[i,s]=await Promise.all([M0.create(rd({},a.inputFormat,{preferHeadphonesForIosDevices:e.preferHeadphonesForIosDevices,inputDeviceId:e.inputDeviceId,workletPaths:e.workletPaths,libsampleratePath:e.libsampleratePath})),x_.create(rd({},a.outputFormat,{outputDeviceId:e.outputDeviceId,workletPaths:e.workletPaths}))]),(c=o)==null||c.getTracks().forEach(b=>{b.stop()}),o=null,new Sb(r,a,i,s,l)}catch(b){var u,f,m,p;r.onStatusChange&&r.onStatusChange({status:"disconnected"}),(u=o)==null||u.getTracks().forEach(x=>{x.stop()}),(f=a)==null||f.close(),await((m=i)==null?void 0:m.close()),await((p=s)==null?void 0:p.close());try{var v;await((v=l)==null?void 0:v.release()),l=null}catch{}throw b}}constructor(e,n,r,i,a){super(e,n),this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.visibilityChangeHandler=null,this.onInputWorkletMessage=s=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:pie(s.data[0].buffer)})},this.onOutputWorkletMessage=({data:s})=>{s.type==="process"&&this.updateMode(s.finished?"listening":"speaking")},this.addAudioBase64Chunk=s=>{this.output.gain.gain.cancelScheduledValues(this.output.context.currentTime),this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:aqe(s)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.calculateVolume=s=>{if(s.length===0)return 0;let o=0;for(let l=0;l<s.length;l++)o+=s[l]/255;return o/=s.length,o<0?0:o>1?1:o},this.setVolume=({volume:s})=>{const o=Number.isFinite(s)?Math.min(1,Math.max(0,s)):1;this.volume=o,this.connection instanceof Kh?this.connection.setAudioVolume(o):this.output.gain.gain.value=o},this.input=r,this.output=i,this.wakeLock=a,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,a&&(this.visibilityChangeHandler=()=>{var s;document.visibilityState==="visible"&&(s=this.wakeLock)!=null&&s.released&&Sb.requestWakeLock().then(o=>{this.wakeLock=o})},document.addEventListener("visibilitychange",this.visibilityChangeHandler))}async handleEndSession(){await super.handleEndSession(),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler);try{var e;await((e=this.wakeLock)==null?void 0:e.release()),this.wakeLock=null}catch{}await this.input.close(),await this.output.close()}handleInterruption(e){super.handleInterruption(e),this.fadeOutAudio()}handleAudio(e){var n,r;super.handleAudio(e),e.audio_event.alignment&&this.options.onAudioAlignment&&this.options.onAudioAlignment(e.audio_event.alignment),this.lastInterruptTimestamp<=e.audio_event.event_id&&(e.audio_event.audio_base_64&&((n=(r=this.options).onAudio)==null||n.call(r,e.audio_event.audio_base_64),this.connection instanceof Kh||this.addAudioBase64Chunk(e.audio_event.audio_base_64)),this.currentEventId=e.audio_event.event_id,this.updateCanSendFeedback(),this.updateMode("speaking"))}setMicMuted(e){this.connection instanceof Kh?this.connection.setMicMuted(e):this.input.setMuted(e)}getInputByteFrequencyData(){return this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData}getOutputByteFrequencyData(){return this.connection instanceof Kh?this.connection.getOutputByteFrequencyData()||new Uint8Array(1024):(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData)}getInputVolume(){return this.calculateVolume(this.getInputByteFrequencyData())}getOutputVolume(){return this.calculateVolume(this.getOutputByteFrequencyData())}async changeInputDevice({sampleRate:e,format:n,preferHeadphonesForIosDevices:r,inputDeviceId:i}){try{if(this.connection instanceof u1)try{return await this.input.setInputDevice(i),this.input}catch(s){console.warn("Failed to change device on existing input, recreating:",s)}this.connection instanceof Kh&&await this.connection.setAudioInputDevice(i||""),await this.input.close();const a=await M0.create({sampleRate:e??this.connection.inputFormat.sampleRate,format:n??this.connection.inputFormat.format,preferHeadphonesForIosDevices:r,inputDeviceId:i,workletPaths:this.options.workletPaths,libsampleratePath:this.options.libsampleratePath});return this.input=a,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.input}catch(a){throw console.error("Error changing input device",a),a}}async changeOutputDevice({sampleRate:e,format:n,outputDeviceId:r}){try{if(this.connection instanceof u1)try{return await this.output.setOutputDevice(r),this.output}catch(a){console.warn("Failed to change device on existing output, recreating:",a)}this.connection instanceof Kh&&await this.connection.setAudioOutputDevice(r||""),await this.output.close();const i=await x_.create({sampleRate:e??this.connection.outputFormat.sampleRate,format:n??this.connection.outputFormat.format,outputDeviceId:r,workletPaths:this.options.workletPaths});return this.output=i,this.output}catch(i){throw console.error("Error changing output device",i),i}}}var v$;(function(t){t.SESSION_STARTED="session_started",t.PARTIAL_TRANSCRIPT="partial_transcript",t.COMMITTED_TRANSCRIPT="committed_transcript",t.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS="committed_transcript_with_timestamps",t.AUTH_ERROR="auth_error",t.ERROR="error",t.OPEN="open",t.CLOSE="close",t.QUOTA_EXCEEDED="quota_exceeded",t.COMMIT_THROTTLED="commit_throttled",t.TRANSCRIBER_ERROR="transcriber_error",t.UNACCEPTED_TERMS="unaccepted_terms",t.RATE_LIMITED="rate_limited",t.INPUT_ERROR="input_error",t.QUEUE_OVERFLOW="queue_overflow",t.RESOURCE_EXHAUSTED="resource_exhausted",t.SESSION_TIME_LIMIT_EXCEEDED="session_time_limit_exceeded",t.CHUNK_SIZE_EXCEEDED="chunk_size_exceeded",t.INSUFFICIENT_AUDIO_ACTIVITY="insufficient_audio_activity"})(v$||(v$={}));var y$,b$;(function(t){t.PCM_8000="pcm_8000",t.PCM_16000="pcm_16000",t.PCM_22050="pcm_22050",t.PCM_24000="pcm_24000",t.PCM_44100="pcm_44100",t.PCM_48000="pcm_48000",t.ULAW_8000="ulaw_8000"})(y$||(y$={})),(function(t){t.MANUAL="manual",t.VAD="vad"})(b$||(b$={}));class oqe extends c1{static startSession(e){return e.textOnly?rR.startSession(e):Sb.startSession(e)}}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(null,arguments)}const lqe=["micMuted","volume","serverLocation"];function cqe(t="us"){switch(t){case"eu-residency":case"in-residency":case"us":case"global":return t;default:return console.warn(`[ConversationalAI] Invalid server-location: ${t}. Defaulting to "us"`),"us"}}function uqe(t){return{us:"wss://api.elevenlabs.io","eu-residency":"wss://api.eu.residency.elevenlabs.io","in-residency":"wss://api.in.residency.elevenlabs.io",global:"wss://api.elevenlabs.io"}[t]}function hqe(t={}){const{micMuted:e,volume:n,serverLocation:r}=t,i=(function(p,v){if(p==null)return{};var b={};for(var x in p)if({}.hasOwnProperty.call(p,x)){if(v.indexOf(x)!==-1)continue;b[x]=p[x]}return b})(t,lqe),a=j.useRef(null),s=j.useRef(null),[o,l]=j.useState("disconnected"),[c,u]=j.useState(!1),[f,m]=j.useState("listening");return j.useEffect(()=>{var p;e!==void 0&&(a==null||(p=a.current)==null||p.setMicMuted(e))},[e]),j.useEffect(()=>{var p;n!==void 0&&(a==null||(p=a.current)==null||p.setVolume({volume:n}))},[n]),j.useEffect(()=>()=>{var p;(p=a.current)==null||p.endSession()},[]),{startSession:async p=>{var v;if((v=a.current)!=null&&v.isOpen())return a.current.getId();if(s.current)return(await s.current).getId();try{var b,x,w,C,E,O,P,L,B,$;const U=uqe(cqe(p?.serverLocation||r));return s.current=oqe.startSession(_b({},i??{},p??{},{origin:U,overrides:_b({},(b=i?.overrides)!=null?b:{},(x=p?.overrides)!=null?x:{},{client:_b({},(w=i==null||(C=i.overrides)==null?void 0:C.client)!=null?w:{},(E=p==null||(O=p.overrides)==null?void 0:O.client)!=null?E:{},{source:(p==null||(P=p.overrides)==null||(P=P.client)==null?void 0:P.source)||(i==null||(L=i.overrides)==null||(L=L.client)==null?void 0:L.source)||"react_sdk",version:(p==null||(B=p.overrides)==null||(B=B.client)==null?void 0:B.version)||(i==null||($=i.overrides)==null||($=$.client)==null?void 0:$.version)||"0.4.3"})}),onConnect:p?.onConnect||i?.onConnect,onDisconnect:p?.onDisconnect||i?.onDisconnect,onError:p?.onError||i?.onError,onMessage:p?.onMessage||i?.onMessage,onAudio:p?.onAudio||i?.onAudio,onDebug:p?.onDebug||i?.onDebug,onUnhandledClientToolCall:p?.onUnhandledClientToolCall||i?.onUnhandledClientToolCall,onModeChange:({mode:G})=>{m(G)},onStatusChange:({status:G})=>{l(G)},onCanSendFeedbackChange:({canSendFeedback:G})=>{u(G)}})),a.current=await s.current,e!==void 0&&a.current.setMicMuted(e),n!==void 0&&a.current.setVolume({volume:n}),a.current.getId()}finally{s.current=null}},endSession:async()=>{const p=a.current;a.current=null,await p?.endSession()},setVolume:({volume:p})=>{var v;(v=a.current)==null||v.setVolume({volume:p})},getInputByteFrequencyData:()=>{var p;return(p=a.current)==null?void 0:p.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var p;return(p=a.current)==null?void 0:p.getOutputByteFrequencyData()},getInputVolume:()=>{var p,v;return(p=(v=a.current)==null?void 0:v.getInputVolume())!=null?p:0},getOutputVolume:()=>{var p,v;return(p=(v=a.current)==null?void 0:v.getOutputVolume())!=null?p:0},sendFeedback:p=>{var v;(v=a.current)==null||v.sendFeedback(p)},getId:()=>{var p;return(p=a.current)==null?void 0:p.getId()},sendContextualUpdate:p=>{var v;(v=a.current)==null||v.sendContextualUpdate(p)},sendUserMessage:p=>{var v;(v=a.current)==null||v.sendUserMessage(p)},sendUserActivity:()=>{var p;(p=a.current)==null||p.sendUserActivity()},sendMCPToolApprovalResult:(p,v)=>{var b;(b=a.current)==null||b.sendMCPToolApprovalResult(p,v)},status:o,canSendFeedback:c,micMuted:e,isSpeaking:f==="speaking"}}const dqe=({isOpen:t,onClose:e,userData:n,initialContext:r})=>{const[i,a]=j.useState(!1),[s,o]=j.useState(null),[l,c]=j.useState(null),{status:u,isSpeaking:f,startSession:m,endSession:p}=hqe({onConnect:()=>{console.log("Connected to ElevenLabs Agent"),o(null)},onDisconnect:()=>{console.log("Disconnected from ElevenLabs Agent"),c(null)},onError:w=>{console.error("ElevenLabs Error:",w),o(w?.message||"Connection failed. Please try again.")},onMessage:w=>{console.log("Agent message:",w)}});j.useEffect(()=>{t&&(o(null),navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>a(!0)).catch(w=>{console.error("Microphone permission denied:",w),a(!1),o("Microphone access denied. Please allow microphone access to use Voice Agent.")}))},[t]),j.useEffect(()=>{(async()=>{if(t&&i&&u==="disconnected"&&!s){const C=r?.interviewMode,E="agent_9601kf4zx2m9f4dtkng4mmc6ppn7",O="agent_8401kfbqemh1f4ht7fwvkw7nfqej",P=C&&O?O:E;if(console.log("Voice Mode Init:",{isInterview:C,agentId:P}),P==="undefined"){o("Voice Agent not configured. Add AGENT_ID to .env.");return}try{console.log("Starting ElevenLabs session with agentId:",P);const L={agentId:P,dynamicVariables:{userName:n?.firstName||n?.fullName||n?.name||"Student",userInterests:n?.interests||"general career exploration",educationLevel:n?.education_level||"unknown",grade:n?.grade_or_year||"unknown",stream:n?.stream_or_branch||"unknown",careerGoals:n?.goals||"undecided",recent_mood:n?.recent_mood||"neutral",interview_mode:r?.interviewMode?"true":"false",target_company:r?.company||"general",target_role:r?.role||"general"}};console.log("Injecting context:",L),await m(L),console.log("Session start initiated")}catch(L){console.error("Failed to start session:",L),o(L?.message||"Failed to connect to Voice Agent. Please try again.")}}})()},[t,i,u,m,s,n]),j.useEffect(()=>{!t&&u==="connected"&&p()},[t,u,p]);const v=()=>{o(null),a(!1),navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>a(!0)).catch(()=>o("Microphone access denied."))},b={idle:{scale:[1,1.08,1],opacity:.6,transition:{repeat:1/0,duration:2.5,ease:"easeInOut"}},listening:{scale:[1,1.15,1],opacity:.9,transition:{repeat:1/0,duration:1.2,ease:"easeInOut"}},speaking:{scale:[1,1.3,.95,1.25,1],opacity:1,transition:{repeat:1/0,duration:.6,ease:"easeInOut"}}},x=()=>u!=="connected"?"idle":f?"speaking":"listening";return t?S.jsx(fl,{children:S.jsxs(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 flex flex-col items-center justify-center p-6",children:[S.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:S.jsx(h3,{className:"w-5 h-5 text-white"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-white font-bold text-xl tracking-tight",children:"Voice Agent"}),S.jsx("p",{className:"text-white/50 text-xs text-emerald-200/70",children:"Powered by OPEC AI"})]})]}),S.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all hover:scale-105",children:S.jsx(lv,{className:"w-6 h-6"})}),s&&S.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-2xl p-6 max-w-md text-center backdrop-blur-md",children:[S.jsx(v3,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),S.jsx("p",{className:"text-white font-medium mb-2",children:"Connection Error"}),S.jsx("p",{className:"text-white/60 text-sm mb-4",children:s}),S.jsx("button",{onClick:v,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white font-medium transition-all",children:"Try Again"})]}),!s&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"relative w-80 h-80 flex items-center justify-center",children:[S.jsx(St.div,{className:"absolute w-72 h-72 rounded-full bg-gradient-to-tr from-emerald-500/20 to-cyan-500/20 blur-3xl",animate:x(),variants:b}),S.jsx(St.div,{className:"absolute w-56 h-56 rounded-full bg-gradient-to-tr from-white/10 to-emerald-400/20 blur-2xl",animate:x(),variants:b}),S.jsx(St.div,{className:"w-40 h-40 rounded-full bg-gradient-to-br from-white via-emerald-100 to-cyan-100 shadow-[0_0_80px_rgba(52,211,153,0.5)] flex items-center justify-center z-10",animate:x(),variants:b,children:u==="connected"?S.jsxs("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-white to-emerald-50 flex items-center justify-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/50 to-transparent animate-shimmer"}),S.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-cyan-400 animate-pulse shadow-inner"})]}):S.jsx("div",{className:"w-10 h-10 border-4 border-emerald-400 border-t-transparent rounded-full animate-spin"})})]}),S.jsxs(St.div,{className:"mt-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[S.jsx("p",{className:"text-white text-3xl font-bold tracking-tight drop-shadow-lg",children:u==="connected"?f?"Speaking...":"Listening...":"Connecting..."}),S.jsx("p",{className:"text-white/60 text-base mt-3 font-medium",children:u==="connected"?`Hey ${n?.name||"there"}! Let's talk about your future.`:"Establishing secure voice channel..."})]}),u==="connected"&&!f&&S.jsx(St.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:1.5}},className:"absolute top-32 px-6 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:S.jsx("p",{className:"text-emerald-200/90 text-sm font-medium",children:' Try: "Review my career plan" or "What jobs suit me?"'})})]}),S.jsx("div",{className:"absolute bottom-16 flex items-center gap-8",children:S.jsxs("button",{onClick:()=>{u==="connected"&&p(),e()},className:"flex flex-col items-center gap-3 group",children:[S.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 transition-all flex items-center justify-center shadow-xl shadow-red-500/30 group-hover:scale-105 group-hover:shadow-red-500/50 border-4 border-red-400/20",children:S.jsx(rse,{className:"w-9 h-9 text-white"})}),S.jsx("span",{className:"text-white/70 font-medium text-sm group-hover:text-white transition-colors",children:"End Session"})]})}),S.jsxs("div",{className:"absolute bottom-4 text-white/20 text-xs font-mono",children:["SESSION ID: ",l||"INIT..."]})]})}):null},fqe=({isOpen:t,onClose:e,onStart:n,onBrowseJobs:r})=>{const[i,a]=j.useState(""),[s,o]=j.useState(""),l=c=>{c.preventDefault(),i&&s&&(n(i,s),e())};return t?S.jsx(fl,{children:S.jsxs(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:[S.jsx("div",{className:"absolute inset-0",onClick:e}),S.jsxs(St.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden border border-white/20",children:[S.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[S.jsx(v1,{className:"w-6 h-6 text-indigo-200"}),"Interview Setup"]}),S.jsx("p",{className:"text-indigo-100/80 mt-1",children:"Configure your AI interviewer persona."})]}),S.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:S.jsx(lv,{className:"w-5 h-5 text-white"})})]}),S.jsxs("div",{className:"p-6",children:[S.jsxs("form",{onSubmit:l,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target Role"}),S.jsxs("div",{className:"relative",children:[S.jsx(X$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),S.jsx("input",{type:"text",value:s,onChange:c=>o(c.target.value),placeholder:"e.g. Senior Product Designer",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",autoFocus:!0,required:!0})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name"}),S.jsxs("div",{className:"relative",children:[S.jsx(ise,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),S.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Google, Startup, etc.",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",required:!0})]})]}),S.jsxs("button",{type:"submit",disabled:!i||!s,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 group",children:[S.jsx("span",{children:"Start Mock Interview"}),S.jsx(id,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),S.jsxs("div",{className:"relative my-6",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t border-slate-200"})}),S.jsx("div",{className:"relative flex justify-center text-sm",children:S.jsx("span",{className:"px-2 bg-white text-slate-500",children:"or"})})]}),S.jsxs("button",{onClick:()=>{e(),r()},className:"w-full py-3 bg-white border-2 border-slate-100 hover:border-blue-200 hover:bg-blue-50 text-slate-600 hover:text-blue-600 rounded-xl font-medium transition-all flex items-center justify-center gap-2 group",children:[S.jsx(C_,{className:"w-5 h-5 text-slate-400 group-hover:text-blue-600"}),S.jsx("span",{children:"Select from Live Job Market"})]})]})]})]})}):null},pqe=({initialQuery:t="Software Engineer",compact:e=!1,onInterviewStart:n})=>{const[r,i]=j.useState(t),[a,s]=j.useState("Bangalore"),[o,l]=j.useState([]),[c,u]=j.useState(!1),[f,m]=j.useState(!1),[p,v]=j.useState({total:0,avgSalary:"6L - 12L"}),b=async()=>{u(!0);try{const E=await(await fetch("http://localhost:5000/api/mcp/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,location:a,max_results:e?3:10})})).json();if(E.status==="success"){const O=E.data;l(O.jobs||[]),m(O.is_live_data),v({total:O.total_available,avgSalary:"8L - 18L"})}}catch(w){console.error("Failed to fetch jobs:",w)}finally{u(!1)}};j.useEffect(()=>{b()},[t]);const x=w=>{w.preventDefault(),b()};return S.jsxs("div",{className:`w-full ${e?"p-0":"p-6 bg-white/50 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl"}`,children:[!e&&S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent flex items-center gap-2",children:[S.jsx(Eb,{className:"w-6 h-6 text-blue-600"}),"Live Job Market"]}),S.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Real-time opportunities from across the web"})]}),f&&S.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium animate-pulse",children:[S.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"LIVE DATA"]})]}),S.jsxs("form",{onSubmit:x,className:"flex gap-2 mb-6",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(C_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Job role (e.g. React Developer)",className:"w-full pl-9 pr-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-sm"})]}),S.jsxs("div",{className:"relative w-1/3",children:[S.jsx(eO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"City",className:"w-full pl-9 pr-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-sm"})]}),S.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:c,children:c?"Searching...":"Search"})]}),!e&&o.length>0&&S.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[S.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[S.jsx("div",{className:"text-blue-500 text-xs font-semibold mb-1 uppercase tracking-wider",children:"Total Openings"}),S.jsx("div",{className:"text-2xl font-bold text-slate-800",children:p.total.toLocaleString()})]}),S.jsxs("div",{className:"p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[S.jsx("div",{className:"text-emerald-500 text-xs font-semibold mb-1 uppercase tracking-wider",children:"Avg Salary"}),S.jsx("div",{className:"text-2xl font-bold text-slate-800",children:p.avgSalary})]}),S.jsxs("div",{className:"p-4 bg-violet-50 rounded-xl border border-violet-100",children:[S.jsx("div",{className:"text-violet-500 text-xs font-semibold mb-1 uppercase tracking-wider",children:"Top Skill"}),S.jsx("div",{className:"text-2xl font-bold text-slate-800",children:"React.js"})]})]}),S.jsx("div",{className:"space-y-3",children:c?[1,2,3].map(w=>S.jsx("div",{className:"h-24 bg-slate-100 rounded-xl animate-pulse"},w)):o.length>0?o.map(w=>S.jsxs("div",{className:"group p-4 bg-white border border-slate-100 hover:border-blue-200 rounded-xl shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-slate-800 group-hover:text-blue-600 transition-colors",children:w.title}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-1",children:[S.jsx("span",{className:"font-medium text-slate-700",children:w.company}),S.jsx("span",{children:""}),S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(eO,{className:"w-3 h-3"})," ",w.location]})]})]}),S.jsx("a",{href:w.url,target:"_blank",rel:"noreferrer",className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:S.jsx(p3,{className:"w-4 h-4"})})]}),S.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs font-medium text-slate-600",children:[S.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md",children:[S.jsx(Y$,{className:"w-3 h-3 text-slate-500"}),w.salary_display]}),S.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md",children:[S.jsx(f3,{className:"w-3 h-3 text-slate-500"}),new Date(w.posted_date).toLocaleDateString()]}),S.jsx("div",{className:"hidden sm:flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md",children:w.contract_type}),n&&S.jsxs("button",{onClick:C=>{C.stopPropagation(),n(w.company,w.title)},className:"ml-auto flex items-center gap-1 text-indigo-600 hover:text-indigo-700 bg-indigo-50 hover:bg-indigo-100 px-2 py-1 rounded-md transition-colors",children:[S.jsx(Eb,{className:"w-3 h-3"}),"Prep for Interview"]})]})]},w.id)):S.jsx("div",{className:"text-center py-10 text-slate-400",children:"No active jobs found. Try a different search."})}),!e&&o.length>0&&S.jsx("div",{className:"mt-4 text-center",children:S.jsxs("button",{className:"text-sm text-blue-600 font-medium hover:underline",children:["View all ",p.total.toLocaleString()," jobs on Adzuna "]})})]})},mqe=()=>{const{user:t}=y1(),[e,n]=j.useState([]),[r,i]=j.useState(""),[a,s]=j.useState(!1),[o,l]=j.useState(!0),[c,u]=j.useState(0),[f,m]=j.useState(null),[p,v]=j.useState(!0),[b,x]=j.useState(320),[w,C]=j.useState(!1),[E,O]=j.useState([]),[P,L]=j.useState([]),[B,$]=j.useState(!1),[U,G]=j.useState(!1),[M,I]=j.useState(!1),[K,H]=j.useState(!1),[J,W]=j.useState(!1),[Q,ee]=j.useState(!1),[he,Y]=j.useState(!1),[ye,V]=j.useState(!1),[F,ae]=j.useState({}),le=(st,mt)=>{ae({interviewMode:!0,company:st,role:mt}),Y(!1),W(!0)},pe=j.useRef(null),xe=j.useRef(null),Oe=j.useRef(null),fe=j.useRef(null);j.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const st=window.SpeechRecognition||window.webkitSpeechRecognition;fe.current=new st,fe.current.continuous=!1,fe.current.interimResults=!1,fe.current.onresult=mt=>{const _e=mt.results[0][0].transcript;i(De=>De?De+" "+_e:_e),H(!1)},fe.current.onerror=mt=>{console.error("Speech recognition error",mt.error),H(!1),rt("Voice input failed. Please try again.","error")},fe.current.onend=()=>{H(!1)}}},[]);const Ce=()=>{K?fe.current?.stop():(fe.current?.start(),H(!0))};j.useEffect(()=>{const st=mt=>{(mt.ctrlKey||mt.metaKey)&&mt.key==="k"&&(mt.preventDefault(),I(_e=>!_e))};return window.addEventListener("keydown",st),()=>window.removeEventListener("keydown",st)},[]);const Fe=j.useCallback(st=>{st.preventDefault(),C(!0)},[]),Te=j.useCallback(()=>{C(!1)},[]),nt=j.useCallback(st=>{if(w){const mt=window.innerWidth-st.clientX;mt>250&&mt<600&&x(mt)}},[w]);j.useEffect(()=>(window.addEventListener("mousemove",nt),window.addEventListener("mouseup",Te),()=>{window.removeEventListener("mousemove",nt),window.removeEventListener("mouseup",Te)}),[nt,Te]);const rt=(st,mt="info")=>{const _e=Date.now();L(De=>[...De,{id:_e,message:st,type:mt}]),setTimeout(()=>{L(De=>De.filter(et=>et.id!==_e))},4e3)},se=(st=!0)=>{pe.current&&pe.current.scrollIntoView({behavior:st?"smooth":"auto",block:"end"})};j.useEffect(()=>{const st=()=>Y(!0);return window.addEventListener("open-job-market",st),()=>window.removeEventListener("open-job-market",st)},[]),j.useEffect(()=>{se()},[e.length,a]);const lt=()=>{confirm("Clear conversation history?")&&(n([{role:"assistant",content:"Let's start fresh. What's on your mind?",signals:{},timestamp:Date.now(),status:"sent"}]),u(0),O([]),localStorage.clear(),rt("Conversation cleared","info"))},Xt=()=>{const st=e.map(et=>`[${new Date(et.timestamp).toLocaleString()}] ${et.role.toUpperCase()}: ${et.content}`).join(`

`),mt=new Blob([st],{type:"text/plain"}),_e=URL.createObjectURL(mt),De=document.createElement("a");De.href=_e,De.download=`opec-conversation-${new Date().toISOString().split("T")[0]}.txt`,De.click(),URL.revokeObjectURL(_e)},Tt=async()=>{G(!0),rt("Generating comprehensive session report... tailored for you.","info");try{const mt=await fetch("http://localhost:5000/api/opec/chat/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clerk_id:t?.id})});if(mt.ok){const De={role:"assistant",content:(await mt.json()).report||`# Session Report

No report generated.`,timestamp:Date.now(),status:"sent",signals:{Analysis:1}};n(et=>[...et,De]),rt("Report generated successfully!","success")}else rt("Failed to generate report.","error")}catch(st){console.error(st),rt("Network error generating report.","error")}finally{G(!1)}},Xe=[{id:"toggle-zen",label:B?"Exit Zen Mode":"Enter Zen Mode",icon:B?ase:sse,shortcut:"+K / Toggle",action:()=>$(st=>!st)},{id:"generate-report",label:"Generate Session Report",icon:W$,action:Tt},{id:"clear-chat",label:"Clear Conversation History",icon:ose,action:lt},{id:"export-chat",label:"Export Conversation",icon:d3,action:Xt},{id:"toggle-sidebar",label:p?"Close Sidebar":"Open Sidebar",icon:g3,action:()=>v(st=>!st)},{id:"open-job-market",label:"Open Live Job Market",icon:Eb,shortcut:"J",action:()=>Y(!0)}];j.useEffect(()=>{(async()=>{if(!t?.id)return;const mt="http://localhost:5000";try{const[_e,De]=await Promise.all([fetch(`${mt}/api/opec/chat/history?clerk_id=${t.id}`),fetch(`${mt}/api/opec/student/profile?clerk_id=${t.id}`)]);if(De.ok&&await De.json(),_e.ok){const et=await _e.json();if(et.messages&&et.messages.length>0){n(et.messages),u(Math.min(et.messages.length*5,100));const tt=new Set;et.messages.forEach(ht=>{ht.signals&&Object.keys(ht.signals).forEach(Pn=>tt.add(Pn))}),O(Array.from(tt));const pt=et.messages[et.messages.length-1];Date.now()-pt.timestamp>36e5&&setTimeout(()=>{n(ht=>[...ht,{role:"assistant",content:`Welcome back! We were discussing **"${pt.content.slice(0,30)}..."**. Ready to pick up where we left off?`,signals:{},timestamp:Date.now(),status:"sent",isSystem:!0}]),se()},500)}else n([{role:"assistant",content:"Hi! I'm OPEC, your career clarity assistant. Unlike a regular chatbot, I analyze emotional signals and behavioral patterns in your responses to help you understand yourself better. Let's start - what's on your mind about your career?",signals:{},timestamp:Date.now(),status:"sent"}])}}catch(_e){console.error("Failed to fetch data:",_e),rt("Failed to load user data","error")}finally{l(!1)}})()},[t?.id]),j.useEffect(()=>{!o&&e.length>0&&(localStorage.setItem("opec_messages",JSON.stringify(e)),localStorage.setItem("opec_clarity_score",c.toString()),localStorage.setItem("opec_patterns",JSON.stringify(E)))},[e,c,E,o]);const Lt=st=>{const _e=Date.now()-st,De=Math.floor(_e/6e4),et=Math.floor(_e/36e5);return De<1?"Just now":De<60?`${De}m ago`:et<24?`${et}h ago`:new Date(st).toLocaleDateString()},xt=async(st,mt)=>{const _e=st||r;if(!_e.trim())return;if(!navigator.onLine){rt("Cannot send message while offline","error");return}const De=Date.now(),et={role:"user",content:_e,signals:{},mood:f,timestamp:De,status:"sending"};mt!==void 0?n(tt=>tt.map((pt,ht)=>ht===mt?{...pt,status:"sending"}:pt)):(n(tt=>[...tt,et]),i(""),m(null),requestAnimationFrame(()=>se(!1))),s(!0),Oe.current=new AbortController;try{const pt=await fetch("http://localhost:5000/api/opec/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clerk_id:t?.id,message:_e,use_search:ye}),signal:Oe.current.signal});if(pt.ok){const ht=await pt.json();n(Wt=>Wt.map(At=>At.timestamp===De?{...At,status:"sent"}:At));const Pn={role:"assistant",content:ht.response,signals:ht.signals||{},timestamp:Date.now(),status:"sent"};n(Wt=>[...Wt,Pn]),ht.signals&&Object.keys(ht.signals).length>0&&O(Wt=>[...new Set([...Wt,...Object.keys(ht.signals).slice(0,2)])]),u(Wt=>Math.min(Wt+Math.floor(Math.random()*3)+1,99))}else n(ht=>ht.map(Pn=>Pn.timestamp===De?{...Pn,status:"error"}:Pn)),rt("Failed to send message.","error")}catch(tt){tt.name!=="AbortError"&&(n(pt=>pt.map(ht=>ht.timestamp===De?{...ht,status:"error"}:ht)),rt("Network error.","error"))}finally{s(!1),Oe.current=null}},Gt=st=>{const mt=e[st];mt.role==="user"&&mt.status==="error"&&xt(mt.content,st)},Ht=st=>{st.key==="Enter"&&!st.shiftKey&&(st.preventDefault(),xt())};return o?S.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-64px)] bg-slate-50",children:S.jsx("div",{className:"text-center",children:S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center animate-pulse",children:S.jsx(Tb,{className:"w-8 h-8 text-white"})})})}):S.jsxs("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden bg-[#F9F8F6] relative font-sans text-slate-800",children:[S.jsx(dqe,{isOpen:J,onClose:()=>{W(!1),ae({})},userData:t,initialContext:F}),S.jsx(fqe,{isOpen:Q,onClose:()=>ee(!1),onStart:le,onBrowseJobs:()=>Y(!0)}),S.jsx(B7e,{isOpen:M,onClose:()=>I(!1),actions:Xe}),S.jsx(fl,{children:B&&S.jsx(St.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>$(!1),className:"fixed top-4 right-4 z-50 bg-white/50 hover:bg-white/80 p-2 rounded-full transition-colors backdrop-blur-sm border border-slate-200/50",title:"Exit Zen Mode",children:S.jsx(lse,{className:"w-5 h-5 text-slate-600"})})}),S.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[S.jsx("div",{className:"absolute top-4 right-6 z-10",children:S.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-white/80 backdrop-blur-sm border border-indigo-100 text-indigo-600 rounded-full shadow-sm hover:shadow-md hover:bg-indigo-50 transition-all text-sm font-medium",children:[S.jsx(P5,{className:"w-4 h-4"}),S.jsx("span",{children:"Interview Mode"})]})}),S.jsx("div",{ref:xe,className:"flex-1 overflow-y-auto px-4 scroll-smooth",children:S.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 py-8",children:[e.length<=1&&!a&&S.jsxs("div",{className:"text-center py-12 space-y-4",children:[S.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-[#d97757] to-[#e89a7d] rounded-2xl flex items-center justify-center shadow-sm",children:S.jsx(Tb,{className:"w-8 h-8 text-white"})}),S.jsx("h2",{className:"font-serif text-3xl text-slate-800",children:"Hi! How can I help you today?"}),S.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"I'm here to help you gain career clarity. We can explore your strengths, options, or just chat."}),S.jsxs(St.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},onClick:()=>ee(!0),className:"mt-6 mx-auto flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 transition-all group",children:[S.jsx("div",{className:"p-1.5 bg-white/20 rounded-full animate-pulse",children:S.jsx(P5,{className:"w-5 h-5"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("p",{className:"text-xs font-semibold text-indigo-100 uppercase tracking-wider",children:"New Feature"}),S.jsx("p",{className:"font-bold",children:"Try AI Interview Mode"})]}),S.jsx(id,{className:"w-4 h-4 opacity-70 group-hover:translate-x-1 transition-transform"})]})]}),S.jsx(fl,{initial:!1,children:e.map((st,mt)=>S.jsx(xne,{msg:st,index:mt,onRetry:Gt,formatTimestamp:Lt},mt))}),a&&S.jsx("div",{className:"flex justify-start py-4 pl-1",children:S.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm flex items-center gap-1.5 w-fit",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d97757] animate-typing-dot",style:{animationDelay:"0s"}}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d97757] animate-typing-dot",style:{animationDelay:"0.2s"}}),S.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d97757] animate-typing-dot",style:{animationDelay:"0.4s"}})]})}),S.jsx("div",{ref:pe,className:"h-4"})]})}),S.jsxs("div",{className:"w-full px-4 pb-8 pt-2 bg-gradient-to-t from-[#F9F8F6] via-[#F9F8F6] to-transparent",children:[S.jsxs("div",{className:`max-w-3xl mx-auto bg-white rounded-3xl border shadow-xl shadow-slate-200/50 transition-all p-2 relative ${K?"border-red-400 ring-2 ring-red-100":"border-slate-200"}`,children:[S.jsx("textarea",{value:r,onChange:st=>i(st.target.value),onKeyDown:Ht,placeholder:K?"Listening...":"Reply...",className:`w-full pl-4 pr-16 py-3 bg-transparent border-0 focus:ring-0 resize-none h-16 max-h-48 text-lg text-slate-800 placeholder:font-normal leading-relaxed scrollbar-hide ${K?"placeholder:text-red-400":"placeholder:text-slate-400"}`,disabled:!navigator.onLine}),S.jsxs("div",{className:"flex items-center justify-between px-2 pb-1",children:[S.jsx("div",{className:"flex items-center gap-1",children:[{mood:"happy",icon:cse},{mood:"neutral",icon:use},{mood:"sad",icon:hse}].map(({mood:st,icon:mt})=>S.jsx("button",{onClick:()=>m(st),className:`p-2 rounded-xl transition-all text-slate-400 hover:text-slate-600 hover:bg-slate-100 ${f===st?"bg-pink-50 text-pink-600":""}`,title:st,children:S.jsx(mt,{className:"w-5 h-5"})},st))}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:Ce,className:`p-2 rounded-xl transition-all ${K?"bg-red-50 text-red-500 animate-pulse":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:K?"Stop Listening":"Voice Input",children:K?S.jsx(Z$,{className:"w-5 h-5 fill-current"}):S.jsx(h3,{className:"w-5 h-5"})}),S.jsx("div",{className:"w-px h-6 bg-slate-200"}),S.jsx("button",{onClick:()=>Y(!0),className:"p-2 rounded-xl transition-all text-blue-500 hover:bg-blue-50",title:"Open Live Job Market",children:S.jsx(Eb,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>V(!ye),className:`p-2 rounded-xl transition-all ${ye?"bg-indigo-100 text-indigo-600 ring-2 ring-indigo-200":"text-slate-400 hover:bg-slate-100"}`,title:ye?"Web Search Active":"Enable Web Search",children:S.jsx(eq,{className:`w-5 h-5 ${ye?"animate-pulse":""}`})}),S.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 rounded-xl shadow-lg shadow-emerald-500/30 transition-all hover:scale-105",title:"Start Voice Agent Conversation",children:[S.jsx(P5,{className:"w-5 h-5 text-white"}),S.jsx("span",{className:"text-white font-semibold text-sm",children:"Voice Agent"})]}),S.jsx(Or,{onClick:()=>xt(),disabled:!r.trim()||a||!navigator.onLine,className:`h-10 w-10 !p-0 rounded-xl flex items-center justify-center transition-all duration-200 ${r.trim()?"bg-pink-600 hover:bg-pink-700 text-white shadow-md transform hover:scale-105":"bg-pink-100 text-pink-300 cursor-not-allowed"}`,children:S.jsx(id,{className:"w-5 h-5"})})]})]})]}),K&&S.jsx("div",{className:"text-center mt-2 text-xs text-red-500 font-medium animate-pulse",children:" Listening... Speak clearly"}),!K&&S.jsx("div",{className:"text-center mt-4 text-xs text-slate-400 font-medium tracking-wide",children:"AI can make mistakes. Please verify important information."})]})]}),S.jsx("div",{className:"fixed top-20 right-4 z-[100] space-y-2 pointer-events-none",children:S.jsx(fl,{children:P.map(st=>S.jsxs(St.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 pointer-events-auto ${st.type==="error"?"bg-red-600 text-white":st.type==="success"?"bg-green-600 text-white":"bg-slate-800 text-white"}`,children:[st.type==="error"&&S.jsx(v3,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm font-medium",children:st.message})]},st.id))})}),S.jsx(fl,{children:!B&&p&&S.jsx("div",{className:`w-1 cursor-col-resize hover:bg-indigo-400/50 active:bg-indigo-600 z-50 flex flex-col justify-center items-center transition-colors ${w?"bg-indigo-600":"bg-slate-100"}`,onMouseDown:Fe,children:S.jsx("div",{className:"w-0.5 h-8 bg-slate-300 rounded-full"})})}),S.jsx(fl,{children:he&&S.jsx(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-white w-full max-w-4xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col relative",children:[S.jsx("button",{onClick:()=>Y(!1),className:"absolute top-4 right-4 p-2 bg-slate-100 hover:bg-slate-200 rounded-full transition-colors z-10",children:S.jsx(Q$,{className:"w-5 h-5 text-slate-600"})}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:S.jsx(pqe,{onInterviewStart:le})})]})})}),!B&&S.jsx(D7e,{show:p,onClose:()=>v(!1),messagesCount:e.length,clarityScore:c,detectedPatterns:E,onExport:Xt,width:b,onGenerateReport:Tt,isGeneratingReport:U})]})};function gC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gqe(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}const vqe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class iR extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class yqe extends iR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class x$ extends iR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w$ extends iR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var e3;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(e3||(e3={}));class bqe{constructor(e,{headers:n={},customFetch:r,region:i=e3.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=vqe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return gqe(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=r;let m={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let b;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(m["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(m["Content-Type"]="application/json",b=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?b=JSON.stringify(c):b=c;let x=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(x=s.signal,u.addEventListener("abort",()=>s.abort())):x=s.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:b,signal:x}).catch(P=>{throw new yqe(P)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new x$(w);if(!w.ok)throw new w$(w);let E=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield w.json():E==="application/octet-stream"||E==="application/pdf"?O=yield w.blob():E==="text/event-stream"?O=w:E==="multipart/form-data"?O=yield w.formData():O=yield w.text(),{data:O,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof w$||o instanceof x$?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var xqe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},wqe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,l=null,c=a.status,u=a.statusText;if(a.ok){var f,m;if(n.method!=="HEAD"){var p;const w=await a.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const b=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");b&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const b=await a.text();try{s=JSON.parse(b),Array.isArray(s)&&a.status===404&&(o=[],s=null,c=200,u="OK")}catch{a.status===404&&b===""?(c=204,u="No Content"):s={message:b}}if(s&&n.isMaybeSingle&&(!(s==null||(v=s.details)===null||v===void 0)&&v.includes("0 rows"))&&(s=null,c=200,u="OK"),s&&n.shouldThrowOnError)throw new xqe(s)}return{error:s,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const l=a?.cause;if(l){var c,u,f,m;const v=(c=l?.message)!==null&&c!==void 0?c:"",b=(u=l?.code)!==null&&u!==void 0?u:"";o=`${(f=a?.name)!==null&&f!==void 0?f:"FetchError"}: ${a?.message}`,o+=`

Caused by: ${(m=l?.name)!==null&&m!==void 0?m:"Error"}: ${v}`,b&&(o+=` (${b})`),l?.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=a?.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Sqe=class extends wqe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const S$=new RegExp("[,()]");var r0=class extends Sqe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&S$.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&S$.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},_qe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",s),r&&l.append("Prefer",`count=${r}`),new r0({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),n||s.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);a.searchParams.set("columns",l.join(","))}}return new r0({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",u.join(","))}}return new r0({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new r0({method:r,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new r0({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},kqe=class bie{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _qe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bie(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),f=r&&Object.values(n).some(u);f?(o="POST",c=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(o="POST",c=n);const m=new Headers(this.headers);return f?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new r0({method:o,url:l,headers:m,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class Cqe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tqe="2.90.1",Eqe=`realtime-js/${Tqe}`,xie="1.0.0",Aqe="2.0.0",_$=xie,t3=1e4,Oqe=1e3,Pqe=100;var Sf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sf||(Sf={}));var Ta;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ta||(Ta={}));var Uc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Uc||(Uc={}));var n3;(function(t){t.websocket="websocket"})(n3||(n3={}));var Hp;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hp||(Hp={}));class Nqe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(a=e.join_ref)!==null&&a!==void 0?a:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(p),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,o.length),v.setUint8(b++,s.length),v.setUint8(b++,c.length),v.setUint8(b++,f.length),v.setUint8(b++,n),Array.from(l,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(s,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(c,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(b++,w.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,o,l]=r;return n({join_ref:i,ref:a,topic:s,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+s));l=l+s;const m=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,v={type:this.BROADCAST_EVENT,event:u,payload:p};return s>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class wie{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gr||(Gr={}));const k$=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=Lqe(s,t,e,i),a),{}):{}},Lqe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i?.type,s=n[t];return a&&!r.includes(a)?Sie(a,s):r3(s)},Sie=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jqe(e,n)}switch(t){case Gr.bool:return Mqe(e);case Gr.float4:case Gr.float8:case Gr.int2:case Gr.int4:case Gr.int8:case Gr.numeric:case Gr.oid:return Rqe(e);case Gr.json:case Gr.jsonb:return Iqe(e);case Gr.timestamp:return Dqe(e);case Gr.abstime:case Gr.date:case Gr.daterange:case Gr.int4range:case Gr.int8range:case Gr.money:case Gr.reltime:case Gr.text:case Gr.time:case Gr.timestamptz:case Gr.timetz:case Gr.tsrange:case Gr.tstzrange:return r3(e);default:return r3(e)}},r3=t=>t,Mqe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Rqe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Iqe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},jqe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Sie(e,o))}return t},Dqe=t=>typeof t=="string"?t.replace(" ","T"):t,_ie=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qA{constructor(e,n,r={},i=t3){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var C$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(C$||(C$={}));class kb{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kb.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=kb.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kb.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const m=u.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=u.filter(x=>p.indexOf(x.presence_ref)<0),b=f.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),b.length>0&&(l[c]=b)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...m)}r(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(T$||(T$={}));var Cb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cb||(Cb={}));var Hh;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hh||(Hh={}));class p0{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ta.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qA(this,Uc.join,this.params,this.timeout),this.rejoinTimer=new wie(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ta.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ta.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ta.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ta.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ta.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Uc.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new kb(this),this.broadcastEndpointURL=_ie(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ta.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Cb.PRESENCE]&&this.bindings[Cb.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Hh.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Hh.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(Hh.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b?.length)!==null&&v!==void 0?v:0,w=[];for(let C=0;C<x;C++){const E=b[C],{filter:{event:O,schema:P,table:L,filter:B}}=E,$=p&&p[C];if($&&$.event===O&&p0.isFilterValueEqual($.schema,P)&&p0.isFilterValueEqual($.table,L)&&p0.isFilterValueEqual($.filter,B))w.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=Ta.errored,e?.(Hh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Hh.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ta.errored,e?.(Hh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Hh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ta.joined&&e===Cb.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ta.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Uc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qA(this,Uc.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ta.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qA(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Pqe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Uc;if(r&&[o,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,b,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(b=p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(m,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,b,x,w,C,E,O,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const L=p.id,B=(v=p.filter)===null||v===void 0?void 0:v.event;return L&&((b=n.ids)===null||b===void 0?void 0:b.includes(L))&&(B==="*"||B?.toLocaleLowerCase()===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((w=p.filter)===null||w===void 0)&&w.table)||p.filter.table===((C=n.data)===null||C===void 0?void 0:C.table))}else{const L=(O=(E=p?.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return L==="*"||L===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:b,table:x,commit_timestamp:w,type:C,errors:E}=v;m=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:w,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(v))}p.callback(m,r)})}_isClosed(){return this.state===Ta.closed}_isJoined(){return this.state===Ta.joined}_isJoining(){return this.state===Ta.joining}_isLeaving(){return this.state===Ta.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&p0.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Uc.close,{},e)}_onError(e){this._on(Uc.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ta.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=k$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=k$(e.columns,e.old_record)),n}}const HA=()=>{},Dw={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bqe=[1e3,2e3,5e3,1e4],Fqe=1e4,Uqe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zqe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t3,this.transport=null,this.heartbeatIntervalMs=Dw.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=HA,this.ref=0,this.reconnectTimer=null,this.vsn=_$,this.logger=HA,this.conn=null,this.sendBuffer=[],this.serializer=new Nqe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${n3.websocket}`,this.httpEndpoint=_ie(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cqe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sf.connecting:return Hp.Connecting;case Sf.open:return Hp.Open;case Sf.closing:return Hp.Closing;default:return Hp.Closed}}isConnected(){return this.connectionState()===Hp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new p0(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Oqe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Dw.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:s}=n,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Sf.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sf.open||this.conn.readyState===Sf.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Uc.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Uqe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:Eqe};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Uc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wie(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dw.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,o,l,c,u,f,m,p;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:t3,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Dw.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:HA,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:_$,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>Bqe[v-1]||Fqe),this.vsn){case xie:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((v,b)=>b(JSON.stringify(v))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((v,b)=>b(JSON.parse(v)));break;case Aqe:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var h1=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $qe(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function qqe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Hqe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const o=$qe(t.baseUrl,r,i),l=await qqe(t.auth),c=await e(o,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...s},body:a?JSON.stringify(a):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),m=f&&u?JSON.parse(u):u;if(!c.ok){const p=f?m:void 0,v=p?.error;throw new h1(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:p})}return{status:c.status,headers:c.headers,data:m}}}}function Bw(t){return t.join("")}var Wqe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Bw(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bw(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bw(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bw(t.namespace)}`}),!0}catch(e){if(e instanceof h1&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof h1&&n.status===409)return;throw n}}};function Hg(t){return t.join("")}var Vqe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hg(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof h1&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof h1&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Gqe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Hqe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Wqe(this.client,e),this.tableOps=new Vqe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},vC=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ti(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Kqe=class extends vC{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},i3=class extends vC{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const aR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yqe=()=>Response,a3=t=>{if(Array.isArray(t))return t.map(n=>a3(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=a3(r)}),e},Xqe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jqe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function d1(t){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(t)}function Zqe(t,e){if(d1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qqe(t){var e=Zqe(t,"string");return d1(e)=="symbol"?e:e+""}function eHe(t,e,n){return(e=Qqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(n),!0).forEach(function(r){eHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const WA=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tHe=async(t,e,n)=>{t instanceof await Yqe()&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,a=r?.statusCode||i+"";e(new Kqe(WA(r),i,a))}).catch(r=>{e(new i3(WA(r),r))}):e(new i3(WA(t),t))},nHe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(Xqe(r)?(i.headers=yn({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),yn(yn({},i),n))};async function Z1(t,e,n,r,i,a){return new Promise((s,o)=>{t(n,nHe(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>tHe(l,o,r))})}async function f1(t,e,n,r){return Z1(t,"GET",e,n,r)}async function Bc(t,e,n,r,i){return Z1(t,"POST",e,r,i,n)}async function s3(t,e,n,r,i){return Z1(t,"PUT",e,r,i,n)}async function rHe(t,e,n,r){return Z1(t,"HEAD",e,yn(yn({},n),{},{noResolveJson:!0}),r)}async function sR(t,e,n,r,i){return Z1(t,"DELETE",e,r,i,n)}var iHe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ti(e))return{data:null,error:e};throw e}}};let kie;kie=Symbol.toStringTag;var aHe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[kie]="BlobDownloadBuilder",this.promise=null}asStream(){return new iHe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ti(e))return{data:null,error:e};throw e}}};const sHe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oHe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=aR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=yn(yn({},A$),r);let o=yn(yn({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(o=yn(yn({},o),r.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),f=await(t=="PUT"?s3:Bc)(i.fetch,`${i.url}/object/${u}`,a,yn({headers:o},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ti(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);o.searchParams.set("token",e);try{let l;const c=yn({upsert:A$.upsert},r),u=yn(yn({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:a,fullPath:(await s3(i.fetch,o.toString(),l,{headers:u})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ti(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=yn({},n.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Bc(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),o=s.searchParams.get("token");if(!o)throw new vC("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ti(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Bc(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ti(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Bc(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ti(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await Bc(r.fetch,`${r.url}/object/sign/${i}`,yn({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ti(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Bc(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>yn(yn({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ti(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>f1(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new aHe(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:a3(await f1(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ti(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await rHe(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ti(r)&&r instanceof i3){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&r.push(s);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await sR(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=yn(yn(yn({},sHe),e),{},{prefix:t||""});return{data:await Bc(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ti(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=yn({},t);return{data:await Bc(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ti(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Cie="2.90.1",Tie={"X-Client-Info":`storage-js/${Cie}`};var lHe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=yn(yn({},Tie),e),this.fetch=aR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await f1(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await f1(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Bc(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ti(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await s3(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ti(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Bc(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await sR(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},cHe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yn(yn({},Tie),e),this.fetch=aR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Bc(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await f1(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await sR(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ti(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!Jqe(t))throw new vC("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Gqe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const oR={"X-Client-Info":`storage-js/${Cie}`,"Content-Type":"application/json"};var Eie=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ml(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var VA=class extends Eie{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uHe=class extends Eie{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const lR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hHe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},O$=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dHe=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=a?.statusCode||a?.code||r+"";e(new VA(O$(a),r,s))}).catch(()=>{const a=r+"";e(new VA(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new VA(i.statusText||`HTTP ${r} error`,r,a))}}else e(new uHe(O$(t),t))},fHe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(hHe(r)?(i.headers=yn({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,yn(yn({},i),n)):i};async function pHe(t,e,n,r,i,a){return new Promise((s,o)=>{t(n,fHe(e,r,i,a)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>dHe(l,o,r))})}async function gl(t,e,n,r,i){return pHe(t,"POST",e,r,i,n)}var mHe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yn(yn({},oR),e),this.fetch=lR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await gl(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ml(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await gl(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ml(r))return{data:null,error:r};throw r}}},gHe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yn(yn({},oR),e),this.fetch=lR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gl(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await gl(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gl(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}},vHe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yn(yn({},oR),e),this.fetch=lR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await gl(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ml(n))return{data:null,error:n};throw n}}},yHe=class extends vHe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bHe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},bHe=class extends mHe{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new xHe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},xHe=class extends gHe{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,yn(yn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},wHe=class extends lHe{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new oHe(this.url,this.headers,t,this.fetch)}get vectors(){return new yHe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cHe(this.url+"/iceberg",this.headers,this.fetch)}};const Aie="2.90.1",i0=30*1e3,o3=3,GA=o3*i0,SHe="http://localhost:9999",_He="supabase.auth.token",kHe={"X-Client-Info":`gotrue-js/${Aie}`},l3="X-Supabase-Api-Version",Oie={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CHe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,THe=600*1e3;class p1 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Qt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EHe extends p1{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AHe(t){return Qt(t)&&t.name==="AuthApiError"}class Wp extends p1{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ad extends p1{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class cl extends Ad{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OHe(t){return Qt(t)&&t.name==="AuthSessionMissingError"}class Wg extends Ad{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fw extends Ad{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uw extends Ad{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PHe(t){return Qt(t)&&t.name==="AuthImplicitGrantRedirectError"}class P$ extends Ad{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NHe extends Ad{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class c3 extends Ad{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function KA(t){return Qt(t)&&t.name==="AuthRetryableFetchError"}class N$ extends Ad{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class u3 extends Ad{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const w_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L$=` 	
\r=`.split(""),LHe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<L$.length;e+=1)t[L$[e].charCodeAt(0)]=-2;for(let e=0;e<w_.length;e+=1)t[w_[e].charCodeAt(0)]=e;return t})();function M$(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(w_[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(w_[r]),e.queuedBits-=6}}function Pie(t,e,n){const r=LHe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function R$(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{IHe(s,r,n)};for(let s=0;s<t.length;s+=1)Pie(t.charCodeAt(s),i,a);return e.join("")}function MHe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function RHe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}MHe(r,e)}}function IHe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function R0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Pie(t.charCodeAt(i),n,r);return new Uint8Array(e)}function jHe(t){const e=[];return RHe(t,n=>e.push(n)),new Uint8Array(e)}function em(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>M$(i,n,r)),M$(null,n,r),e.join("")}function DHe(t){return Math.round(Date.now()/1e3)+t}function BHe(){return Symbol("auth-callback")}const ds=()=>typeof window<"u"&&typeof document<"u",Lp={tested:!1,writable:!1},Nie=()=>{if(!ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lp.tested)return Lp.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Lp.tested=!0,Lp.writable=!0}catch{Lp.tested=!0,Lp.writable=!1}return Lp.writable};function FHe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Lie=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UHe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",a0=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Mp=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},us=async(t,e)=>{await t.removeItem(e)};class yC{constructor(){this.promise=new yC.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}yC.promiseConstructor=Promise;function YA(t){const e=t.split(".");if(e.length!==3)throw new u3("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!CHe.test(e[r]))throw new u3("JWT not in base64url format");return{header:JSON.parse(R$(e[0])),payload:JSON.parse(R$(e[1])),signature:R0(e[2]),raw:{header:e[0],payload:e[1]}}}async function zHe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $He(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function qHe(t){return("0"+t.toString(16)).substr(-2)}function HHe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,qHe).join("")}async function WHe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function VHe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WHe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vg(t,e,n=!1){const r=HHe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await a0(t,`${e}-code-verifier`,i);const a=await VHe(r);return[a,r===a?"plain":"s256"]}const GHe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KHe(t){const e=t.headers.get(l3);if(!e||!e.match(GHe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YHe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function XHe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JHe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gg(t){if(!JHe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function XA(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZHe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function I$(t){return JSON.parse(JSON.stringify(t))}const $p=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QHe=[502,503,504];async function j$(t){var e;if(!UHe(t))throw new c3($p(t),0);if(QHe.includes(t.status))throw new c3($p(t),t.status);let n;try{n=await t.json()}catch(a){throw new Wp($p(a),a)}let r;const i=KHe(t);if(i&&i.getTime()>=Oie["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new N$($p(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new cl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new N$($p(n),t.status,n.weak_password.reasons);throw new EHe($p(n),t.status||500,r)}const eWe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function vn(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[l3]||(a[l3]=Oie["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await tWe(t,e,n+o,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function tWe(t,e,n,r,i,a){const s=eWe(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new c3($p(l),0)}if(o.ok||await j$(o),r?.noResolveJson)return o;try{return await o.json()}catch(l){await j$(l)}}function jc(t){var e;let n=null;iWe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=DHe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function D$(t){const e=jc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ef(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nWe(t){return{data:t,error:null}}function rWe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=gC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function B$(t){return t}function iWe(t){return t.access_token&&t.refresh_token&&t.expires_in}const JA=["global","local","others"];class aWe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Lie(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=JA[0]){if(JA.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${JA.join(", ")}`);try{return await vn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await vn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ef})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gC(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await vn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rWe,redirectTo:n?.redirectTo})}catch(n){if(Qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await vn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ef})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:B$});if(u.error)throw u.error;const f=await u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Qt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Gg(e);try{return await vn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ef})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Gg(e);try{return await vn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ef})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Gg(e);try{return await vn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ef})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Gg(e.userId);try{const{data:n,error:r}=await vn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Gg(e.userId),Gg(e.id);try{return{data:await vn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:B$});if(u.error)throw u.error;const f=await u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Qt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await vn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await vn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await vn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await vn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}}function F$(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Kg={debug:!!(globalThis&&Nie()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mie extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sWe extends Mie{}async function oWe(t,e,n){Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sWe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kg.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lWe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rie(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cWe(t){return parseInt(t,16)}function uWe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function hWe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Rie(t.address),v=u?`${u}://${r}`:r,b=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${b}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let C=`
Resources:`;for(const E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}w+=C}return`${x}
${w}`}class la extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class S_ extends la{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dWe({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new la({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new la({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new la({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new la({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new la({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new la({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new la({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new la({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Iie(s)){if(a.rp.id!==s)return new la({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new la({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new la({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new la({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new la({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fWe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new la({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new la({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Iie(r)){if(n.rpId!==r)return new la({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new la({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new la({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new la({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pWe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mWe=new pWe;function gWe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=gC(t,["challenge","user","excludeCredentials"]),a=R0(e).buffer,s=Object.assign(Object.assign({},n),{id:R0(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:R0(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function vWe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=gC(t,["challenge","allowCredentials"]),i=R0(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const o=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:R0(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function yWe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:em(new Uint8Array(t.response.attestationObject)),clientDataJSON:em(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bWe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:em(new Uint8Array(i.authenticatorData)),clientDataJSON:em(new Uint8Array(i.clientDataJSON)),signature:em(new Uint8Array(i.signature)),userHandle:i.userHandle?em(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Iie(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function U$(){var t,e;return!!(ds()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xWe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new S_("Browser returned unexpected credential type",e)}:{data:null,error:new S_("Empty credential response",e)}}catch(e){return{data:null,error:dWe({error:e,options:t})}}}async function wWe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new S_("Browser returned unexpected credential type",e)}:{data:null,error:new S_("Empty credential response",e)}}catch(e){return{data:null,error:fWe({error:e,options:t})}}}const SWe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_We={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function __(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const o=r[a];e(o)?r[a]=__(o,s):r[a]=__(s)}else r[a]=s}return r}function kWe(t,e){return __(SWe,t,e||{})}function CWe(t,e){return __(_We,t,e||{})}class TWe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:o};const l=i??mWe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=kWe(s.webauthn.credential_options.publicKey,a?.create),{data:u,error:f}=await xWe({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=CWe(s.webauthn.credential_options.publicKey,a?.request),{data:u,error:f}=await wWe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return Qt(s)?{data:null,error:s}:{data:null,error:new Wp("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new p1("rpId is required for WebAuthn authentication")};try{if(!U$())return{data:null,error:new Wp("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(s){return Qt(s)?{data:null,error:s}:{data:null,error:new Wp("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new p1("rpId is required for WebAuthn registration")};try{if(!U$())return{data:null,error:new Wp("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return Qt(s)?{data:null,error:s}:{data:null,error:new Wp("Unexpected error in register",s)}}}}lWe();const EWe={url:SHe,storageKey:_He,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kHe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function z$(t,e,n){return await n()}const Yg={};class m1{get jwks(){var e,n;return(n=(e=Yg[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Yg[this.storageKey]=Object.assign(Object.assign({},Yg[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Yg[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yg[this.storageKey]=Object.assign(Object.assign({},Yg[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},EWe),e);if(this.storageKey=a.storageKey,this.instanceID=(n=m1.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,m1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ds()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aWe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Lie(a.fetch),this.lock=a.lock||z$,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ds()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=oWe:this.lock=z$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TWe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Nie()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F$(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=F$(this.memoryStorage)),ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aie}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ds()&&(n=FHe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ds()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),PHe(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qt(n)?this._returnResult({error:n}):this._returnResult({error:new Wp("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:jc}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Qt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:u,password:f,options:m}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Vg(this.storage,this.storageKey)),a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},xform:jc})}else if("phone"in e){const{phone:u,password:f,options:m}=e;a=await vn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:jc})}else throw new Fw("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await us(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await vn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:D$})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await vn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:D$})}else throw new Fw("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Wg;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,o,l,c,u,f,m;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:b,wallet:x,statement:w,options:C}=e;let E;if(ds())if(typeof x=="object")E=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")E=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const O=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),P=await E.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=Rie(P[0]);let B=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const U=await E.request({method:"eth_chainId"});B=cWe(U)}const $={domain:O.host,address:L,statement:w,uri:O.href,version:"1",chainId:B,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=hWe($),v=await E.request({method:"personal_sign",params:[uWe(p),L]})}try{const{data:b,error:x}=await vn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:jc});if(x)throw x;if(!b||!b.session||!b.user){const w=new Wg;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(Qt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,r,i,a,s,o,l,c,u,f,m,p;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:x,wallet:w,statement:C,options:E}=e;let O;if(ds())if(typeof w=="object")O=w;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))O=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const P=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const L=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let B;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")B=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)B=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)v=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),b=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=E?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((f=(u=E?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...E.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const L=await O.signMessage(new TextEncoder().encode(v),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=L}}try{const{data:x,error:w}=await vn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:em(b)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:jc});if(w)throw w;if(!x||!x.session||!x.user){const C=new Wg;return this._returnResult({data:{user:null,session:null},error:C})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(Qt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Mp(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new NHe;const{data:a,error:s}=await vn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:jc});if(await us(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new Wg;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await vn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:jc}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Wg;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(Qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vg(this.storage,this.storageKey));const{error:f}=await vn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Fw("You must provide either an email or phone number.")}catch(o){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await vn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:jc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Vg(this.storage,this.storageKey));const c=await vn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:nWe});return!((a=c.data)===null||a===void 0)&&a.url&&ds()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new cl;const{error:i}=await vn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Qt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await vn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await vn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:o})}throw new Fw("You must provide either an email or phone number and a type")}catch(n){if(Qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Mp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<GA:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await Mp(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=XA()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=ZHe(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await vn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ef}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cl}:await vn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ef})})}catch(n){if(Qt(n))return OHe(n)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new cl;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Vg(this.storage,this.storageKey));const{data:c,error:u}=await vn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ef});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cl;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=YA(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new cl;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ds())throw new Uw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new P$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uw("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new P$("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Uw("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let m=u+f;l&&(m=parseInt(l));const p=m-u;p*1e3<=i0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=m-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,u);const{data:b,error:x}=await this._getUser(a);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:s,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(Qt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Mp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(AHe(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=BHe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Vg(this.storage,this.storageKey,!0));try{return await vn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vn(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ds()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Qt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,f=await vn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:jc}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Wg}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(i){if(await us(this.storage,`${this.storageKey}-code-verifier`),Qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await vn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $He(async i=>(i>0&&await zHe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await vn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jc})),(i,a)=>{const s=200*Math.pow(2,i);return a&&KA(a)&&Date.now()+s-r<i0})}catch(r){if(this._debug(n,"error",r),Qt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ds()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Mp(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Mp(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await a0(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:XA()}else if(i&&!i.user&&!i.user){const s=await Mp(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await us(this.storage,this.storageKey+"-user"),await a0(this.storage,this.storageKey,i)):i.user=XA()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<GA;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${GA}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),KA(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new cl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yC;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new cl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Qt(a)){const s={data:null,error:a};return KA(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await us(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await a0(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=I$(i);await a0(this.storage,this.storageKey,a)}else{const i=I$(n);await a0(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await us(this.storage,this.storageKey),await us(this.storage,this.storageKey+"-code-verifier"),await us(this.storage,this.storageKey+"-user"),this.userStorage&&await us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ds()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),i0);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/i0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${i0}ms, refresh threshold is ${o3} ticks`),i<=o3&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mie)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ds()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Vg(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await vn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yWe(e.webauthn.credential_response):bWe(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await vn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:gWe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:vWe(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=YA(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await vn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new cl})})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new cl});const s=await vn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ds()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new cl});const s=await vn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ds()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await vn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new cl})})}catch(e){if(Qt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await vn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cl})})}catch(n){if(Qt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+THe>i)return r;const{data:a,error:s}=await vn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=YA(r);n?.allowExpired||YHe(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const u=XHe(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,jHe(`${o}.${l}`)))throw new u3("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qt(r))return this._returnResult({data:null,error:r});throw r}}}m1.nextInstanceID={};const AWe=m1,OWe="2.90.1";let tb="";typeof Deno<"u"?tb="deno":typeof document<"u"?tb="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tb="react-native":tb="node";const PWe={"X-Client-Info":`supabase-js-${tb}/${OWe}`},NWe={headers:PWe},LWe={schema:"public"},MWe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RWe={};function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function IWe(t,e){if(g1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jWe(t){var e=IWe(t,"string");return g1(e)=="symbol"?e:e+""}function DWe(t,e,n){return(e=jWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(n),!0).forEach(function(r){DWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const BWe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FWe=()=>Headers,UWe=(t,e,n)=>{const r=BWe(n),i=FWe();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Di(Di({},s),{},{headers:c}))}};function zWe(t){return t.endsWith("/")?t:t+"/"}function $We(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,m={db:Di(Di({},l),i),auth:Di(Di({},c),a),realtime:Di(Di({},u),s),storage:{},global:Di(Di(Di({},f),o),{},{headers:Di(Di({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function qWe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zWe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var HWe=class extends AWe{constructor(t){super(t)}},WWe=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=qWe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:LWe,realtime:RWe,auth:Di(Di({},MWe),{},{storageKey:s}),global:NWe},l=$We(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=UWe(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Di({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new kqe(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new wHe(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bqe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:o,debug:l,throwOnError:c},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HWe({url:this.authUrl.href,headers:Di(Di({},m),u),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zqe(this.realtimeUrl.href,Di(Di({},t),{},{params:Di(Di({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const VWe=(t,e,n)=>new WWe(t,e,n);function GWe(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}GWe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KWe="https://yebniqkhfubwclvawlqf.supabase.co",YWe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InllYm5pcWtoZnVid2NsdmF3bHFmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NzI2NjUsImV4cCI6MjA1MjM0ODY2NX0.HlX32u081QZKyW1YJkCg3tQW2vX8yZ0xMgQ6k",XWe=VWe(KWe,YWe),JWe=({college:t})=>{const[e,n]=j.useState(!1);return S.jsx(St.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},whileHover:{y:-5},className:`bg-white rounded-2xl border transition-all duration-300 overflow-hidden ${e?"shadow-xl border-indigo-200 ring-1 ring-indigo-100":"shadow-sm border-gray-100 hover:shadow-md"}`,children:S.jsxs("div",{className:"p-5",children:[S.jsx("div",{className:"flex justify-between items-start gap-4",children:S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${t.type==="government"?"bg-green-100 text-green-700":t.type==="aided"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:t.type.charAt(0).toUpperCase()+t.type.slice(1)}),t.autonomous&&S.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-700 flex items-center gap-1",children:[S.jsx(m3,{size:12})," Autonomous"]}),S.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["Code: ",t.code]})]}),S.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight mb-1",children:t.name}),S.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-1 mb-3",children:[S.jsx(eO,{size:14,className:"text-gray-400"}),S.jsxs("span",{children:[t.city,", ",t.region," Region"]})]})]})}),!e&&S.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-50 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[S.jsx(QA,{size:14}),S.jsxs("span",{children:[t.courses?.length||0," Courses"]})]}),S.jsxs("button",{onClick:()=>n(!0),className:"text-sm font-medium text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:["View Details ",S.jsx(dse,{size:14})]})]}),S.jsx(fl,{children:e&&S.jsx(St.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:S.jsxs("div",{className:"pt-4 mt-2 border-t border-dashed border-gray-200 space-y-4",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[S.jsx(QA,{size:14})," Available Courses"]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:t.courses?.map((r,i)=>S.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-xs rounded border border-gray-100",children:r},i))||S.jsx("span",{className:"text-sm text-gray-400",children:"No course data available"})})]}),S.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-2 text-sm",children:[t.website&&S.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[S.jsx(eq,{size:14,className:"text-indigo-500"}),S.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline flex items-center gap-1",children:[t.website.replace(/^https?:\/\//,"")," ",S.jsx(p3,{size:10})]})]}),t.contact_info?.email&&S.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[S.jsx(G$,{size:14,className:"text-red-400"}),S.jsx("a",{href:`mailto:${t.contact_info.email}`,className:"hover:underline",children:t.contact_info.email})]}),t.contact_info?.phone&&S.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[S.jsx(fse,{size:14,className:"text-green-500"}),S.jsx("span",{children:t.contact_info.phone})]})]}),S.jsx("div",{className:"flex justify-end pt-2",children:S.jsxs("button",{onClick:()=>n(!1),className:"text-xs font-medium text-gray-400 hover:text-gray-600 flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:["Show Less ",S.jsx(pse,{size:12})]})})]})})})]})})},ZWe=({filters:t,setFilters:e,onReset:n})=>{const r=["Bangalore","Mysore","Belgaum","Gulbarga"],i=["Private","Government","Aided"],a=l=>{e(c=>({...c,region:c.region===l?"":l}))},s=l=>{const c=l.toLowerCase();e(u=>({...u,type:u.type===c?"":c}))},o=()=>{e(l=>({...l,autonomous:!l.autonomous}))};return S.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 sticky top-24",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[S.jsx(mse,{size:18})," Filters"]}),(t.region||t.type||t.autonomous)&&S.jsxs("button",{onClick:n,className:"text-xs text-red-500 hover:text-red-600 font-medium flex items-center gap-1",children:[S.jsx(lv,{size:12})," Reset"]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Region"}),S.jsx("div",{className:"space-y-2",children:r.map(l=>S.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[S.jsx("input",{type:"radio",name:"region",checked:t.region===l,onChange:()=>a(l),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),S.jsxs("span",{className:`text-sm group-hover:text-indigo-600 transition-colors ${t.region===l?"text-gray-900 font-medium":"text-gray-600"}`,children:[l," Region"]})]},l))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Institution Type"}),S.jsx("div",{className:"space-y-2",children:i.map(l=>S.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[S.jsx("input",{type:"checkbox",checked:t.type===l.toLowerCase(),onChange:()=>s(l),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),S.jsx("span",{className:`text-sm group-hover:text-indigo-600 transition-colors ${t.type===l.toLowerCase()?"text-gray-900 font-medium":"text-gray-600"}`,children:l})]},l))})]}),S.jsx("div",{className:"pt-4 border-t border-gray-100",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Only Autonomous"}),S.jsx("button",{onClick:o,className:`w-11 h-6 flex items-center rounded-full p-1 transition-colors duration-300 cursor-pointer ${t.autonomous?"bg-indigo-600":"bg-gray-200"}`,children:S.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${t.autonomous?"translate-x-5":"translate-x-0"}`})})]})})]})]})},QWe=({stats:t})=>{if(!t)return null;const e=[{label:"Total Colleges",value:t.total_colleges||0,icon:gse,color:"bg-indigo-100 text-indigo-600"},{label:"Autonomous",value:t.autonomous_count||0,icon:m3,color:"bg-purple-100 text-purple-600"},{label:"Private",value:t.by_type?.private||0,icon:vse,color:"bg-orange-100 text-orange-600"},{label:"Bangalore Region",value:t.by_region?.Bangalore||0,icon:V$,color:"bg-blue-100 text-blue-600"}];return S.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:e.map((n,r)=>S.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 flex items-center gap-4",children:[S.jsx("div",{className:`p-3 rounded-lg ${n.color}`,children:S.jsx(n.icon,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.value}),S.jsx("p",{className:"text-xs text-gray-500 font-medium",children:n.label})]})]},r))})},eVe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(""),[s,o]=j.useState(""),[l,c]=j.useState({region:"",type:"",autonomous:!1}),[u,f]=j.useState(null);j.useEffect(()=>{const v=setTimeout(()=>{o(i)},500);return()=>clearTimeout(v)},[i]);const m=async()=>{r(!0);try{let v=XWe.from("colleges").select("*");s&&(v=v.ilike("name",`%${s}%`)),l.region&&(v=v.eq("region",l.region)),l.type&&(v=v.eq("type",l.type)),l.autonomous&&(v=v.eq("autonomous",!0));const{data:b,error:x}=await v.order("name");if(x)throw x;e(b||[]),!u&&b&&p(b)}catch(v){console.error("Error fetching colleges:",v)}finally{r(!1)}},p=v=>{const b={total_colleges:v.length,autonomous_count:v.filter(x=>x.autonomous).length,by_type:{private:v.filter(x=>x.type==="private").length},by_region:{Bangalore:v.filter(x=>x.region==="Bangalore").length}};f(b)};return j.useEffect(()=>{m()},[s,l]),S.jsx(Uq,{children:S.jsx("div",{className:"min-h-screen bg-gray-50/50 py-8",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"VTU College Directory"}),S.jsx("p",{className:"text-gray-600",children:"Discover engineering colleges across Karnataka affiliated with Visvesvaraya Technological University."})]}),S.jsx(QWe,{stats:u}),S.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[S.jsx("div",{className:"w-full lg:w-64 flex-shrink-0",children:S.jsx(ZWe,{filters:l,setFilters:c,onReset:()=>c({region:"",type:"",autonomous:!1})})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"relative mb-6",children:[S.jsx(C_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),S.jsx("input",{type:"text",placeholder:"Search by college name...",value:i,onChange:v=>a(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all shadow-sm"})]}),n?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(yse,{className:"animate-spin text-indigo-600",size:32})}):t.length>0?S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(v=>S.jsx(JWe,{college:v},v.id))}):S.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-200",children:[S.jsx("p",{className:"text-gray-500",children:"No colleges found matching your criteria."}),S.jsx("button",{onClick:()=>{a(""),c({region:"",type:"",autonomous:!1})},className:"mt-2 text-indigo-600 hover:underline text-sm font-medium",children:"Clear filters"})]})]})]})]})})})};class tVe extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}handleReset=()=>{this.setState({hasError:!1,error:null}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:S.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:S.jsx(K$,{className:"w-8 h-8 text-red-600"})}),S.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Oops! Something went wrong"}),S.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),this.state.error&&S.jsxs("details",{className:"mb-6 text-left",children:[S.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Technical details"}),S.jsx("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-700 overflow-auto",children:this.state.error.toString()})]}),S.jsxs(Or,{onClick:this.handleReset,className:"w-full",children:[S.jsx(J$,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]})}):this.props.children}}const nVe=t=>()=>{},rVe=()=>{const[t,e]=j.useState([]);j.useEffect(()=>nVe(),[]);const n=r=>{e(i=>i.filter(a=>a.id!==r))};return S.jsx("div",{className:"fixed top-4 right-4 z-[200] space-y-2 pointer-events-none",children:S.jsx(fl,{children:t.map(r=>S.jsx(iVe,{toast:r,onRemove:()=>n(r.id)},r.id))})})},iVe=({toast:t,onRemove:e})=>{const n={success:S.jsx(k_,{className:"w-5 h-5"}),error:S.jsx(v3,{className:"w-5 h-5"}),info:S.jsx(bse,{className:"w-5 h-5"})},r={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"};return S.jsxs(St.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.9},className:`${r[t.type]} px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] pointer-events-auto`,children:[n[t.type],S.jsx("span",{className:"flex-1 text-sm font-medium",children:t.message}),t.action&&S.jsx("button",{onClick:()=>{t.action.onClick(),e()},className:"text-sm font-semibold underline hover:no-underline",children:t.action.label}),S.jsx("button",{onClick:e,className:"hover:bg-white/20 rounded p-1 transition",children:S.jsx(lv,{className:"w-4 h-4"})})]})};function aVe(){return S.jsx(tVe,{children:S.jsxs(_se,{children:[S.jsx(Uq,{children:S.jsxs(kse,{children:[S.jsx(jh,{path:"/",element:S.jsx(fce,{})}),S.jsx(jh,{path:"/simulate",element:S.jsx(oD,{})}),S.jsx(jh,{path:"/results",element:S.jsx(p6e,{})}),S.jsx(jh,{path:"/colleges",element:S.jsx(eVe,{})}),S.jsx(jh,{path:"/opec/onboarding",element:S.jsx(m6e,{})}),S.jsx(jh,{path:"/opec/dashboard",element:S.jsx(g6e,{})}),S.jsx(jh,{path:"/opec/chat",element:S.jsx(mqe,{})}),S.jsx(jh,{path:"/opec/simulate",element:S.jsx(oD,{})}),S.jsx(jh,{path:"/login",element:S.jsx("div",{className:"text-center pt-20",children:"Login Page Coming Soon"})})]})}),S.jsx(rVe,{})]})})}const sVe="pk_test_cG93ZXJmdWwta29hbGEtNjEuY2xlcmsuYWNjb3VudHMuZGV2JA";Pse.createRoot(document.getElementById("root")).render(S.jsx(Ue.StrictMode,{children:S.jsx(Fq,{publishableKey:sVe,afterSignOutUrl:"/",children:S.jsx(aVe,{})})}));export{w1 as $,ab as A,Sce as B,Hue as C,jL as D,Rs as E,eH as F,Ube as G,$ge as H,cD as I,K0e as J,aue as K,HH as L,z3 as M,exe as N,aL as O,H0 as P,uVe as Q,ok as R,kue as S,k3 as T,wD as U,lb as V,Fbe as W,S1 as X,Lue as Y,Nbe as Z,D as _,Bue as a,nme as a$,Ft as a0,sn as a1,cH as a2,rL as a3,p6 as a4,f6 as a5,J_ as a6,pW as a7,Z2 as a8,vVe as a9,Zxe as aA,Gxe as aB,Vxe as aC,iL as aD,U3 as aE,cVe as aF,sk as aG,hS as aH,NG as aI,L1 as aJ,Z1e as aK,J1e as aL,Bo as aM,Jde as aN,M3 as aO,TH as aP,C1 as aQ,OH as aR,fVe as aS,mge as aT,ED as aU,TD as aV,wce as aW,aW as aX,Z3 as aY,G_ as aZ,rme as a_,pVe as aa,Yr as ab,X0 as ac,lu as ad,mVe as ae,bVe as af,yVe as ag,gVe as ah,Cxe as ai,FY as aj,FVe as ak,X0e as al,Ma as am,Xf as an,TL as ao,hK as ap,jm as aq,DG as ar,Sn as as,Yu as at,gwe as au,BVe as av,UVe as aw,jVe as ax,Vt as ay,DVe as az,Due as b,K0 as b0,tme as b1,eme as b2,X2 as b3,E1 as b4,X3 as b5,K3 as b6,Kp as b7,Y2 as b8,abe as b9,Abe as bA,nk as bB,sye as bC,AL as bD,AG as bE,Pbe as bF,dv as bG,hbe as bH,Fwe as bI,O1 as bJ,uS as bK,Yf as bL,O6 as bM,PL as bN,kG as bO,pP as bP,Pr as bQ,ur as bR,OG as ba,SG as bb,cye as bc,lS as bd,uye as be,P1 as bf,jp as bg,ebe as bh,R6 as bi,Mm as bj,hye as bk,OL as bl,lye as bm,pye as bn,fv as bo,ibe as bp,Ebe as bq,bye as br,xbe as bs,EL as bt,f8 as bu,F3 as bv,qt as bw,vG as bx,Tbe as by,bbe as bz,Sr as c,ar as d,lH as e,Oa as f,Uue as g,fd as h,Ql as i,nve as j,cv as k,Qe as l,FG as m,hVe as n,$Ve as o,zue as p,$ue as q,zVe as r,Fue as s,Y0e as t,Wc as u,qxe as v,qbe as w,xVe as x,jue as y,dVe as z};
